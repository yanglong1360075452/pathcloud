function rdLoading(){var t={restrict:"AE",template:'<div class="loading-bg"><div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div></div>'};return t}function Draw(t,e){this.obj=t,this.type=e.type||"stroke",this.color=e.color||"#000",this.width=e.width||"1",this.font="18px serif"}function needCLodop(){try{var t=navigator.userAgent;if(null!=t.match(/Windows\sPhone/i))return!0;if(null!=t.match(/iPhone|iPod/i))return!0;if(null!=t.match(/Android/i))return!0;if(null!=t.match(/Edge\D?\d+/i))return!0;if(null!=t.match(/QQBrowser/i))return!1;var e=t.match(/Trident\D?\d+/i),a=t.match(/MSIE\D?\d+/i),n=t.match(/OPR\D?\d+/i),i=t.match(/Firefox\D?\d+/i),o=t.match(/x64/i);if(null==e&&null==a&&null!==o)return!0;if(null!==i){if(i=i[0].match(/\d+/),i[0]>=42)return!0}else if(null!==n){if(n=n[0].match(/\d+/),n[0]>=32)return!0}else if(null==e&&null==a){var r=t.match(/Chrome\D?\d+/i);if(null!==r&&(r=r[0].match(/\d+/),r[0]>=42))return!0}return!1}catch(s){return!0}}function getLodop(t,e){var a;try{var n=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(needCLodop()){try{a=getCLodop()}catch(i){}if(!a&&"complete"!==document.readyState)return void alert("打印插件没准备好，请稍后再试！");if(!a)return void(n?alert("请联系管理员安装打印插件"):alert("请联系管理员安装打印插件"));CLODOP.CVERSION<"2.0.6.8"&&(n?alert("请联系管理员升级打印插件"):alert("请联系管理员升级打印插件")),e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)}else{n&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=e?a=n?t:e:null==CreatedOKLodop7766?(a=document.createElement("object"),a.setAttribute("width",0),a.setAttribute("height",0),a.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),n?a.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):a.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(a),CreatedOKLodop7766=a):a=CreatedOKLodop7766,null==a||"undefined"==typeof a.VERSION)return alert("请联系管理员安装打印插件"),a={}}return a.VERSION<"6.2.0.8"?(needCLodop()&&alert("请联系管理员升级打印插件"),a):(a.SET_LICENSES("赛默飞世尔（上海）仪器有限公司","842368F109358B1DC9F723EB184D04F2","賽默飛世爾（上海）儀器有限公司","DFA394F42178BEED14E4DA6440820DD6"),a.SET_LICENSES("THIRD LICENSE","","Thermo Fisher Scientific (Shanghai) Instruments Co. Ltd,.","B2D58689C049F40C101C36B19C1AFA28"),a)}catch(i){console.warn(i),alert("请联系管理员安装打印插件")}}!function(){"use strict";angular.module("pathcloud",["ngAnimate","ngCookies","ui.router","ui.bootstrap","toastr","monospaced.qrcode","ngSanitize","ng-echarts","pascalprecht.translate"])}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.diagnoseResult=i.diagnoseResult,o.frozenResult="",i.frozenResults.length&&angular.forEach(i.frozenResults,function(t){o.frozenResult+="<div>"+t+"</div>"}),o.rate=1,o.ok=function(){t.close(o.rate)},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$state","toastr","DiagnosisService","resolveData"],angular.module("pathcloud").controller("CoincidenceModalController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){t.getRoleAuthList().then(function(t){o.rolesList=t.data}),t.getAuthList().then(function(t){o.authList=t})}var o=this;i(),o.tableHeaders=[{name:"用户名",order:1},{name:"姓名",order:2},{name:"联系电话",order:3},{name:"电子邮箱",order:4},{name:"角色",order:5},{name:"创建时间",order:6},{name:"状态",order:7},{name:"编辑","class":"text-center"}],o.searchData={filter:null,sort:null,order:null,page:1,length:10},o.status=[{value:!1,name:"禁用"},{value:!0,name:"正常"}],o.getUserList=function(){o.searchData.length=10,t.getUserList(o.searchData).then(function(t){o.usersList=t.data,o.total=t.total})},o.getUserList(),o.getSortList=function(t){"asc"===t.sort?t.sort="desc":t.sort="asc",o.searchData.sort=t.sort,o.searchData.order=t.order,o.getUserList()},o.search=function(){o.searchData={filter:o.searchStr},o.getUserList()},o.query=function(){delete o.searchData.filter,o.getUserList()},o.filterAuth=function(t){if(t)for(var e=[],a=0;a<t.length;a++)e.push(t[a].name);return e},o.setAuthorize=function(){var t=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/authorize.html",controller:"AuthorizeController",controllerAs:"authorize",size:"lg"});t.result.then(function(){o.getUserList()},function(){a.info("Modal dismissed at: "+new Date)})},o.addUser=function(){var t=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/user.html",controller:"UserModalController",controllerAs:"userMod",size:"lg",resolve:{modalTitle:function(){return n.T("新增用户")},method:function(){return"post"},userData:function(){return""}}});t.result.then(function(){o.getUserList()},function(){a.info("Modal dismissed at: "+new Date)})},o.editUser=function(t){var n=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/user.html",controller:"UserModalController",controllerAs:"userMod",size:"lg",resolve:{modalTitle:function(){return"编辑用户"},method:function(){return"put"},userData:function(){return angular.copy(t)}}});n.result.then(function(t){o.getUserList()},function(){a.info("Modal dismissed at: "+new Date)})}}t.$inject=["UserService","$uibModal","$log","T"],angular.module("pathcloud").controller("userModuleController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.tableHeaders=[{name:"角色名",order:1},{name:"描述"},{name:"权限",style:{"min-width":"40%"}},{name:"创建时间",order:2},{name:"操作",style:{"text-align":"center"}}],o.totalItems=0,o.searchData={filter:null,sort:null,order:null,page:1,length:10},o.getUserList=function(){e.getRoleAuthList(o.searchData).then(function(t){o.permissionModuleList=t.data,o.totalItems=t.total})},o.getUserList(),o.getFilterList=function(t){var e=window.event?t.keyCode:t.which;13==e&&o.getUserList()},o.remove=function(t){n.getModalResult({modalTitle:"删除提示",modalContent:"确认删除角色？"}).then(function(){e.deleteRole(t).then(function(){a.success("删除成功"),o.getUserList()})})},o.getSortList=function(t){"asc"===t.sort?t.sort="desc":t.sort="asc",o.searchData.sort=t.sort,o.searchData.order=t.order,o.getUserList()},o.openPermissionModal=function(e){var a=t.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/permission.html",controller:"PermissionController",controllerAs:"permission",resolve:{role:function(){return angular.copy(e)}}});a.result.then(function(){o.getUserList()},function(){i.info("Modal dismissed at: "+new Date)})}}t.$inject=["$uibModal","UserService","toastr","toolService","$log"],angular.module("pathcloud").controller("permissionModuleController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){n.getAlarmTime("queryTimeRange").then(function(t){r.timeRangeList=t||[],angular.forEach(t,function(t,e,a){t.checked&&(r.checkedTime=t.code)})}),r.operatioinList=[{label:"待取材",model:"",url:"prepareGrossingAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[0].model=t})},put:function(t,e){o(t,e)}},{label:"待取材确认",model:"",url:"prepareGrossingConfirmAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[1].model=t})},put:function(t,e){o(t,e)}},{label:"待脱水",model:"",url:"prepareDehydrateAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[2].model=t})},put:function(t,e){o(t,e)}},{label:"待包埋",model:"",url:"prepareEmbedAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[3].model=t})},put:function(t,e){o(t,e)}},{label:"待切片",model:"",url:"prepareSectionAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[4].model=t})},put:function(t,e){o(t,e)}},{label:"待染色",model:"",url:"prepareDyeAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[5].model=t})},put:function(t,e){o(t,e)}},{label:"待制片确认",model:"",url:"prepareConfirmAlarm",init:function(t){n.getAlarmTime(t).then(function(t){r.operatioinList[6].model=t})},put:function(t,e){o(t,e)}}],r.reportOperatioinList=[{label:"常规染色",model:"",url:"reportDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[0].model=t})},put:function(t,e){o(t,e)}},{label:"冰冻切片",model:"",url:"freezeReportDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[1].model=t})},put:function(t,e){o(t,e)}},{label:"免疫组化",model:"",url:"ihcReportDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[2].model=t})},put:function(t,e){o(t,e)}},{label:"特殊染色",model:"",url:"specialDyeReportDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[3].model=t})},put:function(t,e){o(t,e)}},{label:"脱钙标本",model:"",url:"decalcifyDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[4].model=t})},put:function(t,e){o(t,e)}},{label:"疑难病例",model:"",url:"difficultDeadline",init:function(t){n.getAlarmTime(t).then(function(t){r.reportOperatioinList[5].model=t})},put:function(t,e){o(t,e)}}]}function o(t,e){n.putAlarmTime(t,e).then(function(t){a.success("修改成功")},function(t){a.error("修改失败",t)})}var r=this;i(),r.putTimeRange=function(t){n.putAlarmTime("queryTimeRange",t).then(function(t){a.success("修改成功")})}}t.$inject=["$scope","$state","toastr","SystemSettingService"],angular.module("pathcloud").controller("TimeTemplateController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o(),r(),n.get("/systemSetting/usingFrozen").then(function(t){s.usingFrozen=t}),n.get("/systemSetting/printFrozen").then(function(t){s.printFrozen=t}),n.get("/systemSetting/specialNumberPrint").then(function(t){s.printSpecialNumber=t})}function o(){n.get("/systemSetting/trackingList").then(function(t){s.trackingList=t})}function r(){n.get("/systemSetting/freezeTrackingList").then(function(t){s.freezeTrackingList=t})}var s=this;i(),s.change=function(){var t=[];angular.forEach(s.trackingList,function(e,a){e.checked||t.push(e.code)});var e=t.join(",");n.put("/systemSetting/trackingList",e).then(function(t){a.success("修改成功"),o()},function(t){a.error("修改失败",t.reason)})["finally"](function(){o()})},s.changeFreeze=function(){var t=[];angular.forEach(s.freezeTrackingList,function(e,a){e.checked||t.push(e.code)});var e=t.join(",");console.info(t.join(",")),n.put("/systemSetting/freezeTrackingList",e).then(function(t){a.success("修改成功")},function(t){a.error("修改失败",t.reason)})["finally"](function(){r()})},s.changeUsingFrozen=function(t){n.put("/systemSetting/usingFrozen/"+t).then(function(e){a.success("修改成功"),s.usingFrozen=t})},s.changeFrozenPrint=function(t){n.put("/systemSetting/printFrozen/"+t).then(function(e){a.success("修改成功"),s.printFrozen=t})},s.changeIhcPrint=function(t){n.put("/systemSetting/specialNumberPrint/"+t).then(function(e){a.success("修改成功"),s.printSpecialNumber=t})}}t.$inject=["$scope","$state","toastr","IhcService"],angular.module("pathcloud").controller("StationSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){a.get("/systemSetting/sampleCategory").then(function(t){r.sampleCategoryList=t})}var r=this;r.sampleCategory="",o(),r.addSampleCategory=function(){a.post("/systemSetting/sampleCategory",r.sampleCategory).then(function(t){e.success("添加成功！"),o(),r.sampleCategory=""},function(t){e.error(t.reason)})},r.deleteSampleCategory=function(t){var i={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(i).then(function(){a["delete"]("/systemSetting/sampleCategory/"+t).then(function(t){e.success("删除成功！"),o()},function(t){e.error(t.reason)})})}}t.$inject=["$scope","toastr","IhcService","toolService","PathologyService"],angular.module("pathcloud").controller("SampleCategoryController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.letterList=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.inspectCategoryList().then(function(t){r.inspectCategoryList=t;for(var e=0;e<t.length;e++)for(var a=t[e].letter,n=0;n<r.letterList.length;n++){var i=r.letterList[n];a===i&&(r.letterList.splice(n,1),n--)}})}var r=this;a.get("/systemSetting/pathNoRule").then(function(t){0==t.letter?r.showLetter=!1:r.showLetter=!0}),r.inspectCategory={letter:""},o(),r.addInspectCategory=function(){i.inspectCategoryCreate(r.inspectCategory).then(function(t){e.success("添加成功！"),o(),r.inspectCategory={}},function(t){e.error(t)})},r.deleteInspectCategory=function(t){var a={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(a).then(function(){i.inspectCategoryDelete(t).then(function(t){e.success("删除成功！"),o()},function(t){e.error(t)})})}}t.$inject=["$scope","toastr","IhcService","toolService","PathologyService"],angular.module("pathcloud").controller("InspectCategoryController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(){n.get("/paramSetting/dc").then(function(t){l.departmentTypeList=t,console.info("获取科室类别"),l.activeType.index&&l.activeType.index<l.departmentTypeList.length?(l.activeType.departmentCategory=l.departmentTypeList[l.activeType.index].departmentCategory,l.activeType.id=l.departmentTypeList[l.activeType.index].id,l.departments=l.departmentTypeList[l.activeType.index].departments,l.choseType()):(l.activeType.index=0,l.choseType(l.departmentTypeList[0],0))})}var l=this;l.activeType={},s(),l.choseType=function(t,e){t?(l.activeType.index=e,l.activeType.id=t.id,l.activeType.departmentCategory=t.departmentCategory,l.departments=t.departments):l.departments=l.departmentTypeList[l.activeType.index].departments,l.choseDdepartment(),console.info("选择科室类别",l.activeType,l.activeDepartment)},l.addType=function(t){l.departmentTypeList.push({departmentCategory:"",name:null,newItem:!0,focus:!0}),l.activeType.index=l.departmentTypeList.length-1,console.info("add start",l.activeType.index),l.activeDepartment.index=0},l.saveType=function(t){if(console.info(t),t.departmentCategory)if(delete t.focus,t.newItem){delete t.newItem,console.info("判断科室类别重复");for(var e=0;e<l.departmentTypeList.length-1;e++)if(l.departmentTypeList[e].departmentCategory===t.departmentCategory)return a.error("科室类别已存在"),s(),!1;n.post("/paramSetting/departmentSetting",{departmentCategory:t.departmentCategory,name:null}).then(function(t){a.success("添加成功"),s()},function(t){a.error(t.reason),l.departmentTypeList.pop()})}else{var i={id:t.id,departmentCategory:t.departmentCategory};n.put("/paramSetting/rename",i).then(function(){a.success("修改成功"),s()},function(t){a.error(t.reason),s()})}else t.newItem?(l.departmentTypeList.pop(),l.activeType.index--):(a.error("名称不能为空"),t.focus=!0)},l.deleteType=function(){l.activeType.id&&r.getModalResult({modalTitle:"删除确认",size:"sm",modalContent:"是否确定删除？"}).then(function(){n["delete"]("/paramSetting/department/"+l.activeType.id).then(function(t){a.success("删除成功"),s()},function(t){18===t.code?a.error("该科室类别不能删除"):a.error(t.reason),s()})})},l.choseDdepartment=function(t,e){t?(l.activeDepartment=t,l.activeDepartment.index=e):(l.activeDepartment=l.departments[0],l.activeDepartment.index=0,null===l.activeDepartment.name&&(l.activeDepartment.focus=!0))},l.addDdepartment=function(){var t={departmentCategory:l.activeType.departmentCategory,name:"",newItem:!0,focus:!0};l.departments.push(t),l.activeDepartment.index=l.departments.length-1},l.saveDdepartment=function(t){if(t.name)if(delete t.focus,t.newItem){delete t.newItem;var e={departmentCategory:l.activeType.departmentCategory,name:t.name};n.post("/paramSetting/departmentSetting",e).then(function(t){a.success("添加成功"),s()},function(t){a.error(t.reason),l.departments.pop()})}else{var e={id:l.activeType.id,code:t.code,name:t.name};n.put("/paramSetting/edit",e).then(function(){a.success("修改成功"),s()},function(t){a.error(t.reason),s()})}else t.newItem?l.departments.pop():(a.error("科室名称不能为空"),s())},l.deleteTemplate=function(){activeTemplateId&&r.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除？"}).then(function(){DiagnosisService.deleteDiagnoseTemplate(activeTemplateId).then(function(t){a.success("删除成功"),s()})})}}t.$inject=["$scope","$state","toastr","IhcService","MaterialService","$uibModal","toolService"],angular.module("pathcloud").controller("DepartmentsTemplateController",t)}(),function(){"use strict";function t(t,e){var a=this;e.get("/systemSetting/reagentUsage").then(function(t){a.model=t}),a.changeData=function(){e.put("/systemSetting/reagentUsage/"+a.model).then(function(e){t.success("修改成功")},function(e){t.error("修改失败",e)})}}t.$inject=["toastr","IhcService"],angular.module("pathcloud").controller("GeneralTemplateController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o.searchData.createTimeStart=s,o.searchData.createTimeEnd=(new Date).getTime(),o.searchData.page=1,o.searchData.length=20,o.searchData.station=null}var o=this;o.workData=[],o.searchData={},o.tableHeaders=[{name:"用户名",order:1},{name:"姓名",order:2},{name:"工位",order:3},{name:"常规例数",order:5},{name:"冰冻例数",order:6},{name:"病理总数",order:7}];var r=new Date,s=(new Date).setDate(r.getDate()-1),l=(new Date).setDate(r.getDate()-7),c=(new Date).setMonth(r.getMonth()-1),d=(new Date).setMonth(r.getMonth()-6);o.dateList=[{name:"最近1天",date:s},{name:"最近1周",date:l},{name:"最近1个月",date:c},{name:"最近6个月",date:d}],o.stationList=[{name:"取材",value:1},{name:"脱水",value:2},{name:"包埋",value:3},{name:"切片",value:4}],i(),o.getQueryData=function(t){var e=window.event?t.keyCode:t.which;13==e&&(i(),o.searchData.filter&&(o.searchData.createTimeStart=d),o.getWorkDataList())},o.getSortList=function(t){"asc"===t.sort?t.sort="desc":t.sort="asc",o.searchData.sort=t.sort,o.searchData.order=t.order,o.getWorkDataList()},o.getWorkDataList=function(t){console.log("searchData======",o.searchData),t&&(i(),o.searchData.createTimeStart=d),o.workData=[{userName:"hello",firstName:"你好",station:"脱水",normalCount:10,iceCount:10,count:20}],o.totalItems=1},o.getWorkDataList()}t.$inject=["$scope","$state","toastr","$uibModal"],angular.module("pathcloud").controller("ProjectStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.tableHeaders=[{name:""},{name:""},{name:"1月"},{name:"2月"},{name:"3月"},{name:"4月"},{name:"5月"},{name:"6月"},{name:"7月"},{name:"8月"},{name:"9月"},{name:"10月"},{name:"11月"},{name:"12月"},{name:"合计"}],r.specialDyeList=[{name:"HE",value:0}],r.searchData.filter=0;for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,t.selectYear=e.getFullYear()}function o(){r.searchData.endTime=new Date(t.selectYear+1,0).getTime(),r.searchData.startTime=new Date(t.selectYear,0).getTime(),n.groupInspectCategory(r.searchData).then(function(t){r.workData=t})}var r=this;r.workData=[],r.searchData={},i(),r["export"]=function(){r.workData&&e["export"](r.searchData,"/statistics/workload/groupInspectCategory/export")},r.getWorkDataList=function(t){console.log("获取月统计列表searchData======",r.searchData),o()},r.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService"],angular.module("pathcloud").controller("GroupStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.stationList=[{name:"本院",value:1},{name:"分院",value:2},{name:"全部",value:3}],r.searchData={page:1,length:16,station:1};for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,t.selectYear=e.getFullYear()}function o(){r.searchData.endTime=new Date(t.selectYear+1,0).getTime(),r.searchData.startTime=new Date(t.selectYear,0).getTime(),n.monthInspectCategory(r.searchData).then(function(t){r.workData=t})}var r=this;r.workData=[],r.searchData={},r.tableHeaders=[{name:"检查类别"},{name:"1月"},{name:"2月"},{name:"3月"},{name:"4月"},{name:"5月"},{name:"6月"},{name:"7月"},{name:"8月"},{name:"9月"},{name:"10月"},{name:"11月"},{name:"12月"},{name:"合计"}],i(),r["export"]=function(){r.workData&&e["export"](r.searchData,"/statistics/workload/monthInspectCategory/export")},r.getWorkDataList=function(t){console.log("获取月统计列表searchData======",r.searchData),o()},r.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService"],angular.module("pathcloud").controller("MonthStatisticController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.tableHeaders=[{typeDesc:"用户名"},{typeDesc:"姓名",order:2},{typeDesc:"工位"}],i.inspectCategoryList().then(function(t){s.tableHeaders=s.tableHeaders.concat(t,{typeDesc:"合计",order:3})}),s.stationList=[{name:"取材",value:1},{name:"脱水",value:3},{name:"包埋",value:5},{name:"切片",value:6}],s.searchData={page:1,length:20,station:1};for(var e=new Date,a=e.getFullYear(),n=[],o=2016;a>=o;o++)n.push(o);t.yearArr=n,t.monthArr=[1,2,3,4,5,6,7,8,9,10,11,12],t.selectYear=e.getFullYear(),t.selectMonth=e.getMonth()+1}function r(){s.searchData.endTime=new Date(t.selectYear,t.selectMonth).getTime(),s.searchData.startTime=new Date(t.selectYear,t.selectMonth-1).getTime(),console.info("pStatistic.searchData=====",s.searchData),n.personInspectCategory(s.searchData).then(function(t){s.workData=t.data,s.totalItems=t.total})}var s=this;s.workData=[],s.searchData={},o(),s["export"]=function(){s.workData&&e["export"](s.searchData,"/statistics/workload/personInspectCategory/export")},s.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",s.searchData.sort=t.sort,s.searchData.order=t.order,r())},s.getWorkDataList=function(t){r()},s.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService","PathologyService"],angular.module("pathcloud").controller("PeopleStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.workData=[],r.searchData={instrumentId:1},r.instrumentList=[{name:"切片机1",code:1},{name:"切片机2",code:2}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,t.monthArr=[1,2,3,4,5,6,7,8,9,10,11,12],r.searchData.year=e.getFullYear(),r.searchData.month=e.getMonth()+1,r.tableHeaders=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"]}function o(){console.info("appointment.searchData=====",r.searchData),n.freezeAppointmentStatistics(r.searchData).then(function(t){r.workData=t})}var r=this;i(),r["export"]=function(){r.workData&&e["export"](r.searchData,"/statistics/freeze/booking/export")},r.getWorkDataList=function(t){o()},r.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService"],angular.module("pathcloud").controller("FreezeAppointmentController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.workData=[],s.searchData={type:2,status:0,page:1,length:20},s.status=[{name:"正常",code:0}];var t=new Date;s.searchData.year=t.getFullYear(),s.searchData.month=t.getMonth()+1,s.tableHeaders=["封片机编号","使用人","使用时间","设备状态","备注"]}function r(){console.info("microcope.searchData=====",s.searchData),i.get("/instrumentTracking",s.searchData).then(function(t){s.workData=t.data,s.total=t.total})}var s=this;o(),s["export"]=function(){s.workData&&e["export"](s.searchData,"/instrumentTracking/export")},s.getWorkDataList=function(t){r()},s.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService","IhcService"],angular.module("pathcloud").controller("SealingUseHistoryController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.workData=[],s.searchData={type:1,status:0,page:1,length:20},s.status=[{name:"正常",code:0}];var t=new Date;s.searchData.year=t.getFullYear(),s.searchData.month=t.getMonth()+1,s.tableHeaders=["染色机编号","使用人","使用时间","设备状态","备注"]}function r(){console.info("microcope.searchData=====",s.searchData),i.get("/instrumentTracking",s.searchData).then(function(t){s.workData=t.data,s.total=t.total})}var s=this;o(),s["export"]=function(){s.workData&&e["export"](s.searchData,"/instrumentTracking/export")},s.getWorkDataList=function(t){r()},s.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService","IhcService"],angular.module("pathcloud").controller("DyeUseHistoryController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.workData=[],s.searchData={instrumentId:1,page:1,length:20},s.instrumentList=[{name:"显微镜1",code:1}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,t.monthArr=[1,2,3,4,5,6,7,8,9,10,11,12],s.searchData.year=e.getFullYear(),s.searchData.month=e.getMonth()+1,s.tableHeaders=["使用者姓名","员工号","联系方式","科室","开始使用时间","结束使用时间"]}function r(){console.info("microcope.searchData=====",s.searchData),i.get("/microscopeTracking",s.searchData).then(function(t){s.workData=t.data,s.total=t.total})}var s=this;o(),s["export"]=function(){s.workData&&e["export"](s.searchData,"/microscopeTracking/export")},s.getWorkDataList=function(t){r()},s.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService","IhcService"],angular.module("pathcloud").controller("microscopeUseHistoryController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.searchData={page:1,length:16},r.specialDyeList=[{name:"HE",value:0}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,r.searchData.year=e.getFullYear()}function o(){n.get("/statistics/quality/report",r.searchData).then(function(t){r.workData=t})}var r=this;r.workData=[],r.searchData={},r.tableHeaders=[{name:"月份"},{name:"病例总数"},{name:"正常报告数"},{name:"延时报告数"},{name:"报告及时率"}],i(),r["export"]=function(){r.workData&&r.workData.length&&e.tableToExcel("#report-table","及时率")},r.getWorkDataList=function(t){o()},r.getWorkDataList()}t.$inject=["$scope","CsvService","toastr","IhcService"],angular.module("pathcloud").controller("ReportStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.stationList=[{name:"取材",value:1},{name:"脱水",value:3},{name:"包埋",value:5},{name:"切片",value:6}],r.specialDyeList=[{name:"HE",value:0}],r.searchData={page:1,length:20,specialDye:0};for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,t.monthArr=[1,2,3,4,5,6,7,8,9,10,11,12],r.searchData.year=e.getFullYear(),r.searchData.month=e.getMonth()+1}function o(){console.info("pStatistic.searchData=====",r.searchData),n.qualityPersonStatistics(r.searchData).then(function(t){r.workData=t.data,r.total=t.total})}var r=this;r.workData=[],r.searchData={},r.tableHeaders=[{name:"用户名",order:1},{name:"姓名",order:2},{name:"工位",order:3},{name:"蜡块数"},{name:"玻片数"},{name:"重取数",order:5},{name:"重取率",order:6},{name:"重切数",order:7},{name:"重切率",order:8},{name:"不合格数",order:9},{name:"不合格率",order:10},{name:"质控评分",order:11}],i(),r["export"]=function(){r.workData&&e["export"](r.searchData,"/statistics/quality/person/export")},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.searchData.sort=t.sort,r.searchData.order=t.order,o())},r.getWorkDataList=function(t){o()},r.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService"],angular.module("pathcloud").controller("ScorePeopleStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.searchData={page:1,length:16,specialDye:0},r.specialDyeList=[{name:"HE",value:0}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,r.searchData.year=e.getFullYear()}function o(){n.qualityMonthStatistics(r.searchData).then(function(t){r.workData=t})}var r=this;r.workData=[],r.searchData={},r.tableHeaders=[{name:"月份"},{name:"蜡块总数"},{name:"重取数"},{name:"重取率"},{name:"重切数"},{name:"重切率"},{name:"不合格数"},{name:"不合格率"}],i(),r["export"]=function(){r.workData&&e["export"](r.searchData,"/statistics/quality/month/export")},r.getWorkDataList=function(t){o()},r.getWorkDataList()}t.$inject=["$scope","toolService","toastr","StatisticService"],angular.module("pathcloud").controller("ScoreMonthStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.searchData={page:1,length:16},r.specialDyeList=[{name:"HE",value:0}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,r.searchData.year=e.getFullYear()}function o(){n.get("/statistics/quality/coincidence",r.searchData).then(function(t){r.workData=t})}var r=this;r.workData=[],r.searchData={},r.tableHeaders=[{name:"月份"},{name:"快速诊断报告数"},{name:"与石蜡诊断符合数"},{name:"快速诊断符合率"}],i(),r["export"]=function(){r.workData&&r.workData.length&&e.tableToExcel("#coincidence-table","诊断报告符合率")},r.getWorkDataList=function(t){o()},r.getWorkDataList()}t.$inject=["$scope","CsvService","toastr","IhcService"],angular.module("pathcloud").controller("CoincidenceStatisticController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.searchData={page:1,length:16},s.specialDyeList=[{name:"HE",value:0}];for(var e=new Date,a=e.getFullYear(),n=[],i=2016;a>=i;i++)n.push(i);t.yearArr=n,s.searchData.year=e.getFullYear()}function r(){n.get("/statistics/quality/good",s.searchData).then(function(t){s.workData=t})}var s=this;s.workData=[],s.searchData={},s.tableHeaders=[{name:"月份"},{name:"切片总数"},{name:"蜡块总数"},{name:"重取数"},{name:"重取率"},{name:"重切数"},{name:"重切率"},{name:"优良切片"},{name:"优良率"}],o(),s["export"]=function(){s.workData&&s.workData.length&&e.tableToExcel("#excellent-table","优良率")},s.getWorkDataList=function(t){r()},s.getWorkDataList()}t.$inject=["$scope","CsvService","toastr","IhcService","$timeout"],angular.module("pathcloud").controller("ExcellentStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.slideFilter={},r.productionList=[]}function o(t){var e=t.filter(function(t){return null!=t.slideId});r.productionList=_.unionBy(r.productionList,e,"slideId")}var r=this;r.tableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"玻片号"},{name:"特染标记"},{name:"病人姓名"},{name:"晾片架编号"},{name:"抽屉编号"},{name:"借阅人"},{name:"借阅日期"},{name:"预计归还日期"},{name:"逾期天数"},{name:"删除"}],r.getSlideData=function(){n.get("/archiving/slide/backConfirm/"+r.slideFilter.serialNumber).then(function(t){o(t)},function(t){a.error(t.reason)})},r.confirm=function(){var t=[];angular.forEach(r.productionList,function(e){t.push(e.borrowID)}),n.post("/archiving/slide/backConfirm",{borrows:t}).then(function(t){i(),a.success("操作成功")},function(t){a.error(t.reason)})}}t.$inject=["$scope","$interval","toastr","IhcService"],angular.module("pathcloud").controller("ReturnSlideController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o.filterData={page:1,length:20}}var o=this;o.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"玻片号"},{name:"试剂抗体"},{name:"患者姓名",order:5},{name:"晾片架编号",order:6},{name:"晾片技术员"},{name:"晾片日期",order:8},{name:"抽屉编号",order:9},{name:"存档技术员",order:10},{name:"存档日期",order:11},{name:"玻片状态"},{name:"借阅历史"}],i(),o.getDataList=function(){o.filterData.filter||delete o.filterData.filter,n.get("/archiving/slide/slidesArchivingInfo",o.filterData).then(function(t){o.data=t},function(t){e.error(t.reason)})},o.getDataList(),o.history=function(t){n.get("/archiving/slide/brrowHistory",{blockArchiveId:t.blockArchiveId}).then(function(n){if(n.length>0){a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/archive/queryArchive/modal/slideHistory.html",controller:"SlideHistoryModalController",controllerAs:"slideHistory",size:"lg",resolve:{historyData:function(){return n},slideData:function(){return{serialNumber:t.serialNumber,blockSubId:t.blockSubId,slideSubId:t.slideSubId,ihcMarker:t.ihcMarker}}}})}else e.error("暂无借阅信息")},function(t){e.error(t.reason)})},o.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",o.filterData.sort=t.sort,o.filterData.order=t.order,o.getDataList())},o.query=function(){delete o.filterData.filter,o.getDataList()},o.search=function(){o.filterData={page:1,length:20,filter:o.searchStr},o.getDataList()}}t.$inject=["$scope","toastr","$uibModal","IhcService"],angular.module("pathcloud").controller("QuerySlideController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.slideData=n,i.slideList=a,i.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","historyData","slideData"],angular.module("pathcloud").controller("SlideHistoryModalController",t)}(),function(){"use strict";function t(t,e,a){function n(){for(var t=0;t<i.content.length;t++){var e={};e.key=i.content[t].projectName,
e.value="",e.array=[],i.data.push(e)}console.log("templateInfo.data",i.data)}var i=this;i.content=e,i.data=[],i.checkValue=[],n(),i.checkString=function(t,e,a){t.check&&i.data[a].array.push(t.name),t.check||_.remove(i.data[a].array,function(e){return t.name==e}),e.projectContentValue="",e.projectContentValue=_.join(i.data[a].array,",")},i.ok=function(){for(var e=[],n="",o=0;o<i.content.length;o++)i.content[o].projectContentValue?i.data[o].value=i.content[o].projectContentValue:i.data[o].value=i.content[o].other;for(var r=0;r<i.data.length;r++)i.content[r].projectNameCheck&&e.push(i.data[r].value);if(_.compact(e).length!==e.length)a.error("有选项未完善，请填写完善后再确定！");else{for(var s=0;s<i.data.length;s++)i.data[s].value&&(n+='<p class="temKey">'+i.data[s].key+'：<span class="temValue">'+i.data[s].value+"</span></p>");t.close(n)}},i.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","content","toastr"],angular.module("pathcloud").controller("templateInfoController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this;r.activeBtn=1,r.historyData="",r.diagnosisData="",r.changeTab=function(t){1===t?(r.activeBtn=1,r.lookDiagnosis()):(r.activeBtn=2,r.lookHistory())},r.lookDiagnosis=function(){var t="";i.getDiagnosisInfo(n).then(function(e){if(e)for(var a=0;a<e.length;a++)console.log("1111111",e[a]),t+="<div style=\"margin-bottom:10px;\"><div class='row'><div class='col-sm-4'>诊断医生 : "+e[a].operator.firstName+"</div><div class='col-sm-4'>诊断时间 : "+o("date")(e[a].operationTime,"yyyy-MM-dd")+"</div><div class='col-sm-4'>诊断类别 : "+e[a].operationDesc+"</div></div><div class='row'><div class='col-sm-4'>报告内容 : </div><div class='col-sm-8'>"+e[a].diagnoseResult+"</div></div></div>";else t="暂无";r.diagnosisData=t},function(e){console.log("1111111",e),t="暂无",r.diagnosisData=t})},r.lookDiagnosis(),r.lookHistory=function(){},r.ok=function(){t.close()},r.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$state","toastr","pathId","DiagnosisService","$filter"],angular.module("pathcloud").controller("viewHistoryController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d){function u(){s.diagnosis.again=!0,d.getHtmlImgByTagName("#reportResult .report-template",2,function(t,e,a){s.diagnosis.reportPic=JSON.stringify({html:$("#reportResult .modal-body").html()}),s.diagnosis.specialApplyId=s.specialApplyId,r.sendReport(s.pathId,s.diagnosis).then(function(){c(function(){l.buildByHtml(t,e,a,p.reportData.pathNo+"诊断报告",s.pathId),o.success("发送报告成功！"),n.close()},100)},function(t){o.error(t)})})}var p=this;d.convertImgToSamllBase64(s.checkPhotos,300,200).then(function(e){t.reportInfo.checkPhotos=e,console.info(t.reportInfo)}),t.reportInfo=s,console.info(t.reportInfo),r.getReportTemplate().then(function(e){t.reportTemplate=e[0]}),r.getReportInfo(s.pathId,{specialApplyId:s.specialApplyId}).then(function(t){p.reportData=t,p.reportData.reportTime=Date.now()},function(t){p.disableBtn=!0}),p.ok=function(){if(4===s.type||s.outConsult){if(!s.diagnosis.specialResult&&!s.diagnosis.outConsultResult)return o.error("会诊内容不能为空"),!1}else if(!s.diagnosis.resultDom)return o.error("诊断内容不能为空"),!1;if(s.markers&&s.markers.length){var e=s.diagnosis.specialResult.split("；");if(e.length!==s.markers.length)return o.error("请填写所有特检结果"),!1}if(p.reportData.frozenResults&&p.reportData.frozenResults.length&&0===s.type){var n=a.open({templateUrl:"app/site/diagnosis/modal/reportResult/modal/coincidenceRate.html",size:"lg",controller:"CoincidenceModalController",controllerAs:"CoincidenceMod",resolve:{resolveData:function(){return t.reportInfo.diagnosis.outConsultResult||(t.reportInfo.diagnosis.outConsultResult=""),t.reportInfo.diagnosis.specialResult||(t.reportInfo.diagnosis.specialResult=""),{diagnoseResult:t.reportInfo.diagnosis.resultDom+t.reportInfo.diagnosis.specialResult+t.reportInfo.diagnosis.outConsultResult,frozenResults:p.reportData.frozenResults||[]}}}});n.result.then(function(t){s.diagnosis.coincidence=t,u()})}else u()},p.cancel=function(){n.dismiss()}}t.$inject=["$scope","$rootScope","$uibModal","$uibModalInstance","printerService","toastr","DiagnosisService","resolveData","pdfService","$timeout","toolService"],angular.module("pathcloud").controller("reportResultController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this;console.log("接收从诊断页面传过来的评分对象",i),r.tabFlag=1,r.max=5,r.isReadonly=!1,r.scoreData={},r.slideId=o,r.scoreData.grossing=i.grossing||0,r.scoreData.dehydrate=i.dehydrate||0,r.scoreData.embedding=i.embedding||0,r.scoreData.sectioning=i.sectioning||0,r.scoreData.staining=i.staining||0,r.scoreData.sealing=i.sealing||0,r.scoreData.note=i.note||"",r.getGrade=function(){e.getQualityGrade().then(function(t){for(var e=0;e<t.length;e++)if("取材"===t[e].workstationName){var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.materialStr=a}else if("脱水"===t[e].workstationName){var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.grossingStr=a}else if("包埋"===t[e].workstationName){var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.embedStr=a}else if("切片"===t[e].workstationName){var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.sectionStr=a}else if("染色"===t[e].workstationName){var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.stainingStr=a}else{var a="1分（1颗星）："+t[e].oneScore+"，2分（2颗星）："+t[e].twoScore+"，3分（3颗星）："+t[e].threeScore+"，4分（4颗星）："+t[e].fourScore+"，5分（5颗星）："+t[e].fiveScore;r.sealingStr=a}r.gradeData=t})},r.getGrade(),r.changeTabFlag=function(t){1===t?r.tabFlag=1:2===t?r.tabFlag=2:3===t?r.tabFlag=3:4===t?r.tabFlag=4:5===t?r.tabFlag=5:6===t?r.tabFlag=6:7===t&&(r.tabFlag=7)},r.hoveringOver=function(t){r.overStar=t,r.percent=100*(t/r.max)},r.calculateAverage=function(){var t=r.scoreData.grossing+r.scoreData.dehydrate+r.scoreData.embedding+r.scoreData.sectioning+r.scoreData.staining+r.scoreData.sealing;return t/6},r.slideScore=function(){r.scoreData.average=r.calculateAverage(),console.log("玻片ID",r.slideId,"评分对象",r.scoreData),n.slideScore(r.slideId,r.scoreData).then(function(e){e||(a.success("评分成功！"),t.close(r.scoreData))},function(t){a.error("评分失败，请重新尝试！")})},r.ok=function(){r.slideScore()},r.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","StatisticService","toastr","DiagnosisService","scoreData","slideId"],angular.module("pathcloud").controller("qualityGradeController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(t,e,a,n,i){var o=new Image;o.crossOrigin="anonymous",o.onload=function(){var t=document.createElement("CANVAS"),r=t.getContext("2d"),s=o.naturalWidth,l=o.naturalHeight;t.width=e,t.height=a,r.drawImage(o,0,0,s,l,0,0,e,a),i(t.toDataURL("image/jpeg",n||.9))},o.src=t}var l=this;l.imgUrlHeader=r.getImgHeader(),l.data={position:"1"},i.getMicroImages(a).then(function(t){l.imgList=t,console.warn(l.imgList)}),l.perItemNum=2,n(function(){l.containerWidth=$("#img-container").width(),l.imgStyle={width:l.containerWidth/l.perItemNum+"px",padding:"0 5px"}}),l.openDrawModal=function(){var t=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/drawPhoto/drawPhoto.html",controller:"drawPhotoController",controllerAs:"drawPhoto",resolve:{imgList:function(){return l.imgList}}});t.result.then(function(){})},l.ok=function(){function e(){function o(){++i<n?e():(l.data.imgList=a,t.close(l.data))}var r="",c=l.imgList[i];c&&c.checked?(r=c.url.length<1e3?l.imgUrlHeader+c.url+"?temp="+Date.now():c.url,s(r,100,80,.9,function(t){a.push(t),o()})):o()}var a=[],n=l.imgList.length,i=0;e()},l.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$uibModal","pathId","$timeout","DiagnosisService","toastr","toolService"],angular.module("pathcloud").controller("insertPhotoController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;i=angular.copy(i),o.serialNumber=i.serialNumber,o.patientName=i.patientName,o.blockSubId=i.blockSubId,o.blockId=i.blockId,o.blockData=[],o.note=i.note,o.getBlockInfo=function(){n.getBlockDataByPathology(i.id).then(function(t){for(var e=0;e<t.length;e++){var a={};a.value=t[e].id,a.name=t[e].subId,o.blockData.push(a)}})},o.getBlockInfo(),o.applyHeavySection=function(){n.applyHeavySection(o.blockId,o.note).then(function(e){a.success("申请深切成功！"),t.close()},function(t){a.error("申请深切失败！")})},o.ok=function(){o.applyHeavySection()},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$state","toastr","DiagnosisService","data"],angular.module("pathcloud").controller("heavySectionController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(t,e){var n=o.isExistInArrObj(t,e);return n?(a.error(n.value,"重复数据"),t.splice(n.index,1),!0):void 0}var s=this;console.clear(),console.info(n),s.activeProject={},s.templateContent=angular.copy(n.templateContentVO)||[{projectName:"",projectContent:[],other:"",projectNameCheck:1,projectContentCheck:1}];var l={name:n.name,parent:n.parent,templateContentVO:s.templateContent,level:n.level};s.addProjectName=function(t){s.templateContent.push({projectName:"",projectContentVO:[],other:"",projectNameCheck:!1,projectContentCheck:!0}),s.templateContent[s.templateContent.length-1].focus=!0,s.choseTemplate(s.templateContent[s.templateContent.length-1],s.templateContent.length-1)},s.saveName=function(t){t.focus=!1,t.projectName?r(s.templateContent,"projectName"):(s.templateContent.pop(),s.choseTemplate(s.templateContent[s.templateContent.length-1],s.templateContent.length-1))},s.deleteProjectName=function(t){s.templateContent.splice(t,1)},s.choseTemplate=function(t,e){t.projectContentVO||(t.projectContentVO=[]),s.projectContent=t,s.activeProject.index=e,s.activeProject.projectContent=t},s.templateContent.length&&s.choseTemplate(s.templateContent[0],0),s.saveContent=function(t){t.check=!1,t.name?r(s.projectContent.projectContentVO,"name"):(s.projectContent.projectContentVO.pop(),console.error("请不要输入空"))},s.addProjectContent=function(){s.projectContent.projectContentVO&&s.projectContent.projectContentVO.push({name:"",check:!0})},s.deleteProjectContent=function(t){s.projectContent.projectContentVO.splice(t,1)},s.ok=function(){for(var e=0;e<s.templateContent.length;e++)delete s.templateContent[e].focus,delete s.templateContent[e].projectContent;i.updateDiagnoseTemplate(n.id,l).then(function(e){a.success("保存成功"),n=s.templateContent,t.close()},function(t){console.info(t)})},s.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$state","toastr","resolveData","DiagnosisService","toolService"],angular.module("pathcloud").controller("EditDiagnosisTemplate",t)}(),function(){"use strict";function t(t,e,a,n){function i(){e.getSuperDiagnoseUser().then(function(t){o.superDiagnosisUserList=t})}var o=this;o.superDiagnosisUserList=[],o.data={},_.intersection(n.user.permissionCodes,[4096]).length>0?a.get("/user/thirdDiagnose").then(function(t){o.superDiagnosisUserList=t}):i(),o.ok=function(){t.close(o.data)},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","DiagnosisService","IhcService","$rootScope"],angular.module("pathcloud").controller("diagnosisTypeController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){u=[],b.text="",$("#text-input").hide(),s=document.querySelector("canvas"),l=$(".canvas-container").width(),$(".canvas-toolbar").width($(".canvas-container").width()),c=389,s.width=l,s.height=c,d=s.getContext("2d")}function r(){o();var t=$(".tool"),r=$(".back"),y=$(".clear"),x=$(".save"),w=($(".shezhi"),"red"),k="line",D="2",T="stroke",S=!0;d.font="italic bold 16px 黑体";var I=new Draw(d,{type:T,color:w,width:D});t.each(function(t,e){$(e).click(function(){k=$(this).attr("data")})}),$("#text-input").blur(function(t){var e=$(this).html(),n=_.compact($.trim(e.replace(/<div>/g,"<br>").replace(/<\/div>/g,"")).split("<br>"));I.text(n,f-10,v+10),u.push(d.getImageData(0,0,l,c)),$(this).hide(),$(this).html(""),a(function(){S=!0},500)}),r.click(function(){u.length>1&&(u.pop(),d.clearRect(0,0,l,c),d.putImageData(u[u.length-1],0,0,0,0,l,c))}),y.click(function(){u=[],b.changeBg(b.chosedPic)}),x.click(function(){var t=s.toDataURL("image/png");e[b.chosedPic].url=t,n.fileEditor(t.split(",")[1],e[b.chosedPic].id).then(function(t){i.success("保存成功")})}),s.onmousedown=function(t){if(console.log("type",k),p=t.offsetX,h=t.offsetY,"pen"==k&&(d.beginPath(),d.moveTo(p,h)),"text"==k){if(console.warn("text",p,h),!S)return;"none"===$("#text-input").css("display")&&(f=p,v=h,$("#text-input").show(),$("#text-input").css({top:h,left:p}),S=!1,a(function(){$("#text-input").focus()}))}s.onmousemove=function(t){m=t.offsetX,g=t.offsetY,0!=u.length?d.putImageData(u[u.length-1],0,0,0,0,l,c):u.push(d.getImageData(0,0,l,c)),"text"!==k&&I[k](p,h,m,g)},document.onmouseup=function(){s.onmousemove=null,document.onmouseup=null,u.push(d.getImageData(0,0,l,c))}}}var s,l,c,d,u,p,h,m,g,f,v,b=this;$("#text-input").hide(),b.imgList=e,b.perItemNum=4,b.imgUrlHeader=n.getImgHeader(),a(function(){b.containerWidth=$("#img-container").width(),b.imgStyle={width:b.containerWidth/b.perItemNum+"px",padding:"0 5px","float":"left"},r(),b.changeBg(0)}),b.ok=function(){t.close()},b.cancel=function(){t.dismiss()},b.changeBg=function(t){b.chosedPic=t;var a=new Image(l,c);a.crossOrigin="anonymous",a.src=b.imgUrlHeader+e[t].url,a.width=l,a.height=c,a.onload=function(){d.clearRect(0,0,l,c);var t=d.createPattern(a,"no-repeat");d.fillStyle=t,d.fillRect(0,0,l,c),u=[],u.push(d.getImageData(0,0,l,c))}}}t.$inject=["$uibModalInstance","imgList","$timeout","toolService","toastr"],angular.module("pathcloud").controller("drawPhotoController",t)}(),function(){"use strict";function t(t,e,a){var n=this;console.log(a),e(function(){var t=$(".image-editor");t.cropit({imageState:{src:a,zoom:.6}}),$(".select-image-btn").click(function(){$(".cropit-image-input").click()}),$(".rotate-cw-btn").click(function(){t.cropit("rotateCW")}),$(".close").click(function(){n.cancel()})}),n.ok=function(){var e=$(".image-editor"),a=e.cropit("export",{type:"image/jpeg",quality:.75,originalSize:!1});t.close(a)},n.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$timeout","urlData"],angular.module("pathcloud").controller("cutPicController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.typeList=[{name:"罕见",code:1},{name:"随访",code:2},{name:"科研",code:3},{name:"教学",code:4}],i.statusList=[{name:"仅自己可见",code:1},{name:"公开",code:2}],i.applycollectModal=function(){var o={targetId:n.targetId,category:n.category,labels:[],permission:i.permission,note:i.note};return angular.forEach(i.typeList,function(t,e){t.checked&&o.labels.push(t.code)}),0===o.labels.length?(a.error("请选择一个收藏类别"),!1):void e.post("/diagnose/collect",o).then(function(e){a.success("收藏成功！"),t.close()},function(t){a.error("收藏失败！")})},i.ok=function(){i.applycollectModal()},i.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","IhcService","toastr","data"],angular.module("pathcloud").controller("DiagnosisCollectModalController",t)}(),function(){"use strict";function t(t){var e=this;e.ok=function(){t.close(e.note)},e.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance"],angular.module("pathcloud").controller("diagnoseConsultApplyController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){function l(t){i.checkSpecialApplyMarker(d.selectedBlock.id,t).then(function(e){e?n.error(t+"重复申请"):(d.markerList.indexOf(t)<0&&d.markerList.push(t),d.marker="")})}function c(){d.markerList=[],d.handleKeyDown=function(t){var e=window.event?t.keyCode:t.which;if(13==e||229==e||186==e){if(""===d.marker||/[；;\$\#]/.test(d.marker))return console.log("输入不合法"),void n.error("输入不合法");t.preventDefault(),t.stopImmediatePropagation(),s.get("/reagent/name",{name:d.marker,type:2}).then(function(t){return t?void l(d.marker):(n.error("试剂库不存在"+d.marker+"抗体"),!1)})}}}var d=this;d.serialNumber=o.serialNumber,d.patientName=o.patientName,d.blockSubId=o.blockSubId,d.blockId=o.blockId,d.specialHistoryResult=o.specialHistoryResult,d.blockData=[],d.pathid=o.pathid,d.diagnoseDom=o.diagnoseDom,d.canApplyIhc=o.canApplyIhc,d.ihcId=o.ihcId,d.canApplySpecialDye=o.canApplySpecialDye,d.specialDyeId=o.specialDyeId,c(),s.get("/diagnose/"+o.pathid+"/dye").then(function(t){d.blockData=t}),s.get("/systemSetting/specialDye").then(function(t){d.specialDyeList=t},function(t){n.error(t.reason)}),r.getDepartments().then(function(t){d.departmentList=t}),d.showMarkerPart=!1,d.showMarker=function(){d.showMarkerPart=!d.showMarkerPart,angular.forEach(d.illnessList,function(t,e,a){d.markerList.indexOf(t.name)<0?t.checked=!1:t.checked=!0})},d.selectDepartment=function(t){r.getTemplate(t,3).then(function(t){d.illnessTypeList=t})},d.selectIllnessType=function(t){d.illnessList=[];var e=[];angular.forEach(d.illnessTypeList,function(a,n,i){a.id===t&&a.content&&(e=JSON.parse(a.content)||[])}),angular.forEach(e,function(t,e,a){""===t||/^\s+$/.test(t)||(d.markerList.indexOf(t)<0?d.illnessList.push({name:t,checked:!0}):d.illnessList.push({name:t,checked:!0}))})},d.next=function(){var t="";return angular.forEach(d.illnessList,function(e,a,n){e.checked&&(t+=e.name+";",d.markerList.indexOf(e.name)<0&&d.markerList.push(e.name))}),""===t?(n.error("请选择标记物"),!1):void(d.showMarkerPart=!1)},d.applyData={applyUser:t.user.firstName,applyTel:t.user.phone,department:o.department,ihcBlocks:[{serialNumber:d.serialNumber}]},d.selectBlock=function(){console.info(d.selectedBlock),d.applyData.ihcBlocks[0].subId=d.selectedBlock.subId},d.checkIhcMarker=function(t){t.checked&&i.checkSpecialApplyMarker(d.selectedBlock.id,t.name).then(function(e){1==e&&(t.checked=!1,n.error("特检标记申请重复"))})},d.specialDyeSelect=function(t){d.markerList=[],1==t||angular.forEach(d.specialDyeList,function(e,a,n){t==e.code&&(d.markerList=[],l(e.name))})},d.apply=function(){if(d.applyData.ihcBlocks.length){for(var t=!1,a=0;a<d.applyData.ihcBlocks.length;a++)for(var i=d.applyData.ihcBlocks[a],o=d.applyData.ihcBlocks.length,r=a+1;o>r;r++){var l=d.applyData.ihcBlocks[r];i.serialNumber===l.serialNumber&&i.subId===l.subId&&(n.error("有蜡块重复请检查",i.serialNumber+"-"+l.subId),t=!0)}if(t)return;if(angular.forEach(d.applyData.ihcBlocks,function(t,e,a){return t.result=d.diagnoseDom,d.markerList.length?void(t.ihcMarker=d.markerList):(n.error("请选择抗体"),!1)}),d.canApplyIhc&&d.canApplySpecialDye&&d.applyData.ihcBlocks[0].specialDye&&(1==d.applyData.ihcBlocks[0].specialDye?d.applyData.id=d.ihcId:d.applyData.ihcBlocks[0].specialDye>1&&(d.applyData.id=d.specialDyeId)),d.canApplyIhc&&1==d.applyData.ihcBlocks[0].specialDye)d.applyData.id=d.ihcId;else{if(!(d.canApplySpecialDye&&d.applyData.ihcBlocks[0].specialDye>1))return n.error("特检类别不匹配"),!1;d.applyData.id=d.specialDyeId}d.applyData.source=1,s.post("/specialDye",d.applyData).then(function(t){n.success("申请成功"),e.close()},function(t){n.error(t.reason)})}else n.error("请添加蜡块")},d.cancel=function(){e.dismiss()}}t.$inject=["$rootScope","$uibModalInstance","$state","toastr","DiagnosisService","data","MaterialService","IhcService"],angular.module("pathcloud").controller("applySpecialController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;i=angular.copy(i),o.blockData=[],o.serialNumber=i.serialNumber,o.patientName=i.patientName,o.note=i.note,o.applyAgainMaterial=function(){n.applyAgainMaterial(i.id,o.note).then(function(e){a.success("申请重补取成功！"),t.close()},function(t){a.error("申请重补取失败！")})},o.ok=function(){o.applyAgainMaterial()},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$state","toastr","DiagnosisService","data"],angular.module("pathcloud").controller("againMaterialController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;console.log("$parent=-============",t),t.showOperation=!1,t.hideSubmit=!0,t.readonly=!0,console.info("==========$rootScope.activeQueryOne==========",a.activeQueryOne),e.getOneByPathologyNo(a.activeQueryOne.pathNo).then(function(e){console.log("科研申请表=-============",t),n(function(){t.pathologicalFreeze.data=e.research,t.pathologicalFreeze.data.departmentsDesc=e.departmentsDesc,t.pathologicalFreeze.data.samples=e.samples,t.pathologicalFreeze.data.id=e.id},0),t.applicationData=e}),i.get("/query/specialDye/"+a.activeQueryOne.id).then(function(t){o.specialDyeApplyInfo=t})}t.$inject=["$scope","ApplicationService","$rootScope","$timeout","IhcService"],angular.module("pathcloud").controller("QueryResearchApplicationController",t)}(),function(){"use strict";function t(){var t=this;t.activeMenu=0,t.choseMenu=function(e){t.activeMenu=e}}angular.module("pathcloud").controller("userManageController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.activeMenu=0,n.choseMenu=function(t){n.activeMenu=t}}t.$inject=["$scope","$state","toastr"],angular.module("pathcloud").controller("systemSettingModuleController",t)}(),function(){"use strict";function t(){var t=this;t.activeMenu=0,t.choseMenu=function(e){t.activeMenu=e}}angular.module("pathcloud").controller("workStatisticController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){u.taskTypeList=[{name:"国家自然科学基金",value:0},{name:"国家科技部课题",value:1},{name:"省部级计划课题",value:2},{name:"横向课题",value:3},{name:"其他",value:4}],u.identityList=[{name:"本科生",value:0},{name:"硕士研究生",value:1},{name:"博士研究生",value:2},{name:"博士后",value:3},{name:"临床医生",value:4},{name:"研究人员",value:5},{name:"技术人员",value:6},{name:"其他",value:7}],u.getDepartments=function(t){l.getDepartments(t).then(function(t){u.departmentList=t})},u.getDepartments()}function d(){o.getRoleAuthList().then(function(t){u.rolesList=t.data})}var u=this;u.Title=n,u.method=i,u.check={},u.data=r||{},"get"===u.method&&(u.formDisabled=!0),"post"===u.method&&(u.data.status=!0,d()),"put"===u.method&&(u.data.password="qwe!@#15316073015",d()),c(),u.permission=t.user.permissionCodes[0],u.checkFn=function(t){o.check(t).then(function(t){u.check.nameErr=t,console.log("=====userMod.check.OK=====",t,u.check.nameErr)},function(t){u.check.nameErr=t,console.log("=====userMod.check.err=====",t,u.check.nameErr)})},u.edit=function(){u.formDisabled=!1},u.ok=function(){if(console.log(i),"post"===i)o.createUser(u.data).then(function(){s.success("创建成功"),a.close()},function(t){u.messageErr=t});else if("put"===i||"get"===i){"qwe!@#15316073015"===u.data.password&&(u.data.password=null),u.placeholder="*****************";var t={id:u.data.id,userName:u.data.userName,password:u.data.password,firstName:u.data.firstName,phone:u.data.phone,email:u.data.email,unit:u.data.unit,departments:u.data.departments,roleId:u.data.roleId,status:u.data.status,lockStatus:u.data.lockStatus,wno:u.data.wno,identity:u.data.identity,tutor:u.data.tutor,faculty:u.data.faculty,specialty:u.data.specialty,studentNumber:u.data.studentNumber,taskName:u.data.taskName,taskType:u.data.taskType,projectCode:u.data.projectCode};o.editUser(t,u.data.id).then(function(){s.success("修改成功"),a.close(t)},function(t){s.error(t),"qwe!@#15316073015"===u.data.password})}},u.cancel=function(){a.dismiss()}}t.$inject=["$rootScope","$scope","$uibModalInstance","modalTitle","method","UserService","userData","toastr","MaterialService"],angular.module("pathcloud").controller("UserModalController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.Title="编辑标准",i.data=a,i.stationList=[{name:"取材",value:1},{name:"脱水",value:3},{name:"包埋",value:5},{name:"切片",value:6},{name:"染色",value:7},{name:"封片",value:22}],i.validList=[{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5}],i.cancel=function(){e.dismiss()},i.ok=function(a){i.data.qualified=parseInt(i.data.qualified),t.updateQualityGrade(i.data).then(function(t){n.success("更新成功！"),e.close(!0)},function(t){n.error("更新失败！")})}}t.$inject=["StatisticService","$uibModalInstance","data","toastr"],angular.module("pathcloud").controller("updateGradeController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this,r=0;t&&(r=1,o.data=t),a.getAuthList().then(function(t){o.permissionList=t,r&&o.permissionList.forEach(function(t){t.checked=!1,o.data.permissions.forEach(function(e){t.id===e.id&&(t.checked=!0)})})}),o.submit=function(){o.data.permissionsId=[],o.permissionList.forEach(function(t){t.checked&&o.data.permissionsId.push(t.id)}),r?a.updateRole(o.data.id,o.data).then(function(){n.success("角色修改成功"),e.close()}):a.createRole(o.data).then(function(){n.success("角色创建成功"),e.close()},function(t){n.error(t)})},o.ok=function(){o.submit()},o.cancel=function(){e.dismiss()}}t.$inject=["role","$uibModalInstance","UserService","toastr","$log"],angular.module("pathcloud").controller("PermissionController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.Title=n,o.data={},o.check={},o.ok=function(){t.changePwd(o.data).then(function(t){e.dismiss(),a.success("密码修改成功！")},function(t){o.Err=t})},o.cancel=function(){e.dismiss()},o.checkPassword=function(){o.Err="",o.check.password2&&o.data.newPassword&&o.check.password2!==o.data.newPassword?o.checkpasswordErr="两次输入的密码不一致":o.checkpasswordErr=""}}t.$inject=["UserService","$uibModalInstance","toastr","modalTitle","$state"],angular.module("pathcloud").controller("ChangePwdModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s=_.differenceBy(u.roleListBefore,u.roleList,"id"),l=[],s.forEach(function(t){l.push(t.id)}),c=_.differenceBy(u.roleList,u.roleListBefore,"id"),c.forEach(function(t){delete t.active,r(t)}),d=[],u.roleList.forEach(function(t){u.roleListBefore.forEach(function(e){if(t.id===e.id){var a=_.differenceBy(t.permissions,e.permissions,"id"),n=_.differenceBy(e.permissions,t.permissions,"id");(a.length>0||n.length>0)&&(delete t.active,r(t),d.push(t))}})})}function r(t){var e=[];t.permissions.forEach(function(t){e.push(t.id)}),t.permissionsId=e}var s,l,c,d,u=this,p=1e3;u.chosePerission="",a.getRoleAuthList().then(function(t){u.roleList=t.data,u.roleListBefore=angular.copy(t.data)},function(t){i.warn(t)}),a.getAuthList().then(function(t){u.permissionsList=t,console.log(u.permissionsList)},function(t){i.warn(t)}),u.authList=[],u.roleListBefore=angular.copy(u.roleList),u.chosedRole,u.delRole=function(t){u.roleList.splice(t,1)},u.delPerission=function(t){console.log(_.remove(u.chosedRole.permissions,{id:t}))},u.addRole=function(t){var e={id:++p,name:t,permissions:[]};u.roleList.push(e),u.chooseRole(e)},u.addAuth=function(t){u.chosedRole&&(u.chosedRole.permissions?-1===_.findIndex(u.chosedRole.permissions,{id:t.id})&&u.chosedRole.permissions.push(t):(u.chosedRole.permissions=[],u.chosedRole.permissions.push(t)))},u.chooseRole=function(t){t.permissions||(t.permissions=[]),u.roleList.forEach(function(e){e.id===t.id?(e.active=!0,u.chosedRole=e,u.authList=e.permissions):e.active=!1})},u.submit=function(){o();var t={roleAdd:c,roleDelete:l,roleUpdate:d};console.log(t),a.updateRoleList(t).then(function(){n.success("修改成功")})},u.ok=function(){u.submit()},u.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","UserService","toastr","$log"],angular.module("pathcloud").controller("AuthorizeController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.Title="创建新标准",n.data={},n.stationList=[{name:"取材",value:1},{name:"脱水",value:3},{name:"包埋",value:5},{name:"切片",value:6},{name:"染色",value:7},{name:"封片",value:22}],n.validList=[{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5}],n.cancel=function(){e.dismiss()},n.ok=function(){n.data.qualified=parseInt(n.data.qualified),t.addQualityGrade(n.data).then(function(t){a.success("创建新的评分标准成功！"),e.close(!0)},function(t){a.error("该工位已存在，请设置其他工位！")})}}t.$inject=["StatisticService","$uibModalInstance","toastr"],angular.module("pathcloud").controller("addGradeController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.tableHeaders=[{name:"工作站"},{name:"1分（1颗星）"},{name:"2 分（2颗星）"},{name:"3 分（3颗星）"},{name:"4 分（4颗星）"},{name:"5 分（5颗星）"},{name:"合格标准"},{name:"操作"}],o.gradeData=[],o.getGrade=function(){n.getQualityGrade().then(function(t){o.gradeData=t})},o.getGrade(),o.addGrade=function(){var t=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/addGrade.html",controller:"addGradeController",controllerAs:"addGrade"});t.result.then(function(t){o.getGrade(),console.warn("add success")},function(){i.error("操作已取消！")})},o.updateGrade=function(t){var a=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/updateGrade.html",controller:"updateGradeController",controllerAs:"updateGrade",resolve:{data:function(){return angular.copy(t)}}});a.result.then(function(t){t&&o.getGrade()},function(){i.error("操作已取消！")})},o.deleteGrade=function(e){var a={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};t.getModalResult(a).then(function(){n.deleteQualityGrade(e).then(function(t){i.success("删除成功!"),o.getGrade()},function(t){i.error("删除失败！")})},function(){i.error("操作已取消！")})}}t.$inject=["toolService","$uibModal","$log","StatisticService","toastr"],angular.module("pathcloud").controller("gradeModuleController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$state","toastr","$uibModal","apiUrl"],angular.module("pathcloud").controller("FreezeStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$state","toastr","$uibModal","apiUrl"],angular.module("pathcloud").controller("ScoreStatisticController",t)}(),function(){"use strict";function t(t,e,a,n){}t.$inject=["$state","toastr","$uibModal","apiUrl"],angular.module("pathcloud").controller("feeStatisticController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){i.getSpecialDyeList().then(function(t){r.dyeTypeList=t}),r.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"染色类别"},{name:"试剂/抗体名称",style:{width:"200px"}},{name:"备注",style:{width:"200px"}},{name:"申请人"},{name:"联系电话"},{name:"申请时间",order:8},{name:"状态"},{name:"操作"}],r.defaultTime=1,r.filterData={page:1,length:20},r.getDataList=function(){r.filterData.filter||delete r.filterData.filter,a.get("/specialDye/query",r.filterData).then(function(t){r.data=t})},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filterData.sort=t.sort,r.filterData.order=t.order,r.getDataList())},r.filterMarker=function(t){if(null===t.dyeCategory){for(var e=0;e<t.ihcMarkers.length;e++)t.ihcMarkers[e]=";";return t.ihcMarkers.join(" ")}return t.ihcMarkers.join(";")},n(function(){r.filterData.createTimeStart=r.startTime,r.filterData.createTimeEnd=r.endTime,r.getDataList()},0)}var r=this;o(),r.cancel=function(t){var n="/specialDye/cancel/"+t;a.post(n,{ihcBlockId:t}).then(function(){e.success("撤销成功"),o()},function(t){e.error(t.reason)})},r.query=function(){r.filterData={page:1,length:20,dyeCategory:r.dyeType,createTimeStart:r.startTime,createTimeEnd:r.endTime},r.getDataList()},r.search=function(){r.searchStr?(r.defaultTime=5,r.dyeCategory=null):(console.info("搜索条件"),r.defaultTime=1),r.filterData={page:1,length:20,filter:r.searchStr},r.searchStr||delete r.filterData.filter,n(function(){r.filterData.createTimeStart=r.startTime,r.filterData.createTimeEnd=r.endTime,console.info("搜索条件",r.filterData),r.getDataList()},0)}}t.$inject=["$scope","toastr","IhcService","$timeout","SystemSettingService"],angular.module("pathcloud").controller("SpecialDyeSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){var s=this;s.waitStyle={width:"520px",height:"163px"},s.typeStyle={width:"520px",height:"163px"},s.lineConfig={theme:"default",event:[{click:function(t){console.log(t)}}],dataLoaded:!0},s.getSlideData=function(t,e){var a=o.defer(),n={startTime:t,
endTime:e},s={yName:r.T("不合格率"),dataAxis:[r.T("取材"),r.T("脱水"),r.T("包埋"),r.T("切片"),r.T("染色"),r.T("封片")],rotate:-60};return i.slideQuality(n).then(function(t){var e;e=t.total?[100*(t.grossing/t.total).toFixed(2),100*(t.dehydrate/t.total).toFixed(2),100*(t.embedding/t.total).toFixed(2),100*(t.sectioning/t.total).toFixed(2),100*(t.staining/t.total).toFixed(2),100*(t.sealing/t.total).toFixed(2)]:[0,0,0,0,0,0],s.data=e,a.resolve(s)},function(t){a.reject(t)}),a.promise},s.getErrorData=function(t,e){var a=o.defer(),n={startTime:t,endTime:e};return i.error(n).then(function(t){var e;e=t.total?[{value:t.error,name:r.T("异常率")},{value:t.total-t.error,name:r.T("正常率")}]:[{value:0,name:r.T("异常率")},{value:100,name:r.T("正常率")}],a.resolve(e)},function(t){a.reject(t)}),a.promise},s.getSectionData=function(t,e){var a=o.defer(),n={startTime:t,endTime:e};return i.reSection(n).then(function(t){var e;e=t.total?[{value:t.reSection,name:r.T("重切率")},{value:t.total-t.reSection,name:r.T("正常率")}]:[{value:0,name:r.T("重切率")},{value:100,name:r.T("正常率")}],a.resolve(e)},function(t){a.reject(t)}),a.promise},s.getGrossingData=function(t,e){var a=o.defer(),n={startTime:t,endTime:e};return i.reGrossing(n).then(function(t){var e;e=t.total?[{value:t.reGrossing,name:r.T("重取率")},{value:t.total-t.reGrossing,name:r.T("正常率")}]:[{value:0,name:r.T("重取率")},{value:100,name:r.T("正常率")}],a.resolve(e)},function(t){a.reject(t)}),a.promise},s.getWaitTimeData=function(){var t=o.defer(),e={yName:r.T("平均等待时间（h）"),dataAxis:[r.T("登记"),r.T("取材"),r.T("取材确认"),r.T("脱水"),r.T("包埋"),r.T("切片"),r.T("染色"),r.T("制片确认"),r.T("诊断"),r.T("报告")],rotate:-50};return i.waitTime().then(function(a){var n;n=a?[Math.round(a.registerTime/3600),Math.round(a.grossingTime/3600),Math.round(a.grossingConfirmTime/3600),Math.round(a.dehydrateTime/3600),Math.round(a.embedTime/3600),Math.round(a.sectionTime/3600),Math.round(a.dyeTime/3600),Math.round(a.confirmTime/3600),Math.round(a.diagnoseTime/3600),Math.round(a.reportTime/3600)]:[0,0,0,0,0,0,0,0,0,0],e.data=n,t.resolve(e)},function(e){t.reject(e)}),t.promise},s.getInspectCategoryData=function(){var t=o.defer(),e={yName:r.T("病例数"),rotate:-50},a="2017-01-01";a=a.replace(/-/g,"/");var n={startTime:new Date(a).getTime(),endTime:Date.now()};return i.inspectCategory(n).then(function(a){var n=[],i=[];if(a.length)for(var o=0;o<a.length;o++)n[o]=a[o].count,i[o]=r.T(a[o].inspectCategory.typeDesc);else n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[r.T("常1规"),r.T("加快"),r.T("冷冻"),r.T("尸解"),r.T("细胞学"),r.T("细针"),r.T("体检"),r.T("会诊"),r.T("肝穿"),r.T("肾穿"),r.T("骨髓"),r.T("淋巴"),r.T("眼科"),r.T("肌肉"),r.T("前列腺"),r.T("ESD")];e.data=n,e.dataAxis=i,t.resolve(e)},function(e){t.reject(e)}),t.promise},s.getSpecialDyeData=function(){var t=o.defer();return i.specialDye().then(function(e){var a={normalData:[],specialData:[]},n=[];if(e.length){for(var i=0;i<e.length;i++)n[i]=e[i].month;for(var o=_.max(n),r=0;o>r;r++)a.normalData[r]=0,a.specialData[r]=0;for(var s=0;s<n.length;s++)a.normalData[n[s]-1]=e[s].normal,a.specialData[n[s]-1]=e[s].special;console.warn("result:",e),console.warn("validArray:",n,"maxMonth:",o),console.warn("data.normalData:",a.normalData),console.warn("data.specialData:",a.specialData)}else for(var i=0;13>i;i++)a.normalData[i]=0,a.specialData[i]=0;t.resolve(a)},function(e){t.reject(e)}),t.promise},s.getWorkLoadData=function(t,e,a){var n=o.defer(),r={startTime:t,endTime:e,workStation:a};return i.workLoad(r).then(function(t){var e;t&&(e=t),n.resolve(e)},function(t){n.reject(t)}),n.promise},s.getScoreData=function(t,e){var a=o.defer(),n={startTime:t,endTime:e};return i.score(n).then(function(t){var e;t&&(e=t),a.resolve(e)},function(t){a.reject(t)}),a.promise}}t.$inject=["$state","toastr","$uibModal","apiUrl","StatisticService","$q","T"],angular.module("pathcloud").controller("allStatisticController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){l.getUser(t.user.id).then(function(t){d.userId=t.id,d.departmentsDesc=t.departmentsDesc,d.applyData.departments=t.departments}),d.getDepartments=function(t){n.getDepartments(t).then(function(t){d.departmentList=t})},d.getDepartments(),d.applyData={applyUser:t.user.firstName,applyTel:t.user.phone,ihcBlocks:[]}}var d=this;s.getSpecialDyeList().then(function(t){d.specialDyeList=t}),c(),d.myBlocks=function(){var t={templateUrl:"app/site/specialDye/modal/specialDyeBlocks.html",size:"lg",controller:"SpecialDyeBlocksModalController",controllerAs:"specialDyeBlocks",resolve:{checkedBlocks:function(){return d.checkedBlocks||[]}}},e=o.open(t);e.result.then(function(t){if(!t.length)return!1;d.checkedBlocks=t||[];for(var e=0;e<d.checkedBlocks.length;e++){for(var a=d.checkedBlocks[e],n=d.applyData.ihcBlocks.length,i=!0,o=0;n>o;o++){var r=d.applyData.ihcBlocks[o];if(a.pathologySerialNumber===r.serialNumber&&a.subId===r.subId&&a.specialDye===r.specialDye){i=!1;break}}i&&d.applyData.ihcBlocks.push({serialNumber:a.pathologySerialNumber,subId:a.subId,specialDye:a.specialDye,ihcMarker:a.ihcMarker,note:a.note})}})},d.addBlock=function(){d.applyData.ihcBlocks.push({serialNumber:"",subId:"",specialDye:1,ihcMarker:"",note:""})},d.specialDyeSelect=function(t){angular.forEach(d.specialDyeList,function(e,a,n){t.specialDye===e.code&&(1!==t.specialDye&&-1!==t.specialDye?t.ihcMarker=e.name:t.ihcMarker="")})},d.deleteBlock=function(t){d.applyData.ihcBlocks.splice(t,1)},d.apply=function(){if(d.applyData.ihcBlocks.length){for(var t=!1,e=0;e<d.applyData.ihcBlocks.length;e++)for(var n=d.applyData.ihcBlocks[e],o=d.applyData.ihcBlocks.length,r=e+1;o>r;r++){var s=d.applyData.ihcBlocks[r];n.serialNumber===s.serialNumber&&n.subId===s.subId&&n.specialDye===s.specialDye&&(i.error("有蜡块重复请检查",n.serialNumber+"-"+s.subId),console.info(n),t=!0)}if(t)return;angular.forEach(d.applyData.ihcBlocks,function(t,e,a){if(null===t.specialDye)t.ihcMarker&&t.ihcMarker.split&&t.ihcMarker.split(/[;；]/).forEach(function(e,a,n){e="",t.ihcMarker=n}),t.ihcMarker.splice(0,1);else if(t.ihcMarker&&t.ihcMarker.split){var n=t.ihcMarker.charAt(t.ihcMarker.length-1);(";"===n||"；"===n)&&(t.ihcMarker=t.ihcMarker.substring(0,t.ihcMarker.length-1)),t.ihcMarker=t.ihcMarker.split(/[;；]/)}}),a.post("/specialDye",d.applyData).then(function(t){i.success("申请成功"),c()},function(t){i.error(t.reason),angular.forEach(d.applyData.ihcBlocks,function(t,e,a){null===t.specialDye?t.ihcMarker=null:t.ihcMarker&&(t.ihcMarker=t.ihcMarker.join(";"))})})}else i.error("请添加蜡块")}}t.$inject=["$rootScope","$filter","IhcService","MaterialService","toastr","$uibModal","$state","SystemSettingService","UserService"],angular.module("pathcloud").controller("SpecialDyeCreateController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){s.checkedSlides=[],s.params={page:1,length:5},s.getSlidesInfo=function(){a.getSlidesInfo(l,s.params).then(function(t){s.slideList=t.data,s.total=t.total,s.params.page=t.page;for(var e=0;e<s.slideList.length;e++){var a=s.slideList[e];if(!s.checkedSlides.length)return!1;angular.forEach(s.checkedSlides,function(t,e,n){a.id===t.id&&(a.check=!0)})}})},s.getSlidesInfo()}var s=this,l=i.blockId,c=i.slideInfo,d=i.bodyPart,u=i.pathologySerialNumber,p=i.subId,h=i.printType;r(),s.check=function(t){console.log(t),t.check?(t.check=!1,angular.forEach(s.checkedSlides,function(e,a,n){t.id===e.id&&s.checkedSlides.splice(a,1)})):(t.check=!0,s.checkedSlides.push(t))},s.checkAll=function(){for(var t=0;t<s.slideList.length;t++){var e=s.slideList[t];if(s.checkedSlides.length){var a=!1;angular.forEach(s.checkedSlides,function(t,n,i){e.id===t.id&&(a=!0)}),a||(e.check=!0,s.checkedSlides.push(e))}else e.check=!0,s.checkedSlides.push(e)}console.info("全选的checkedSlides",s.checkedSlides)},s.checkOther=function(){for(var t=0;t<s.slideList.length;t++){var e=s.slideList[t];if(s.checkedSlides.length){var a=!1;angular.forEach(s.checkedSlides,function(t,n,i){e.id===t.id&&(a=!0)}),a||(e.check=!0,s.checkedSlides.push(e))}else e.check=!0,s.checkedSlides.push(e)}console.info("全选的checkedSlides",s.checkedSlides)},s.cancelAll=function(){console.info("取消全选");for(var t=0;t<s.slideList.length;t++){var e=s.slideList[t];e.check&&(e.check=!1,angular.forEach(s.checkedSlides,function(t,a,n){t.id===e.id&&s.checkedSlides.splice(a,1)}))}},s.printAll=function(){var t=[];angular.forEach(s.checkedSlides,function(e,a,i){t.push(e.id);var o=e.subId,r=d||"";e.marker&&(r=r+"$"+e.marker);var s=c+o;if(1==h)n.labWrite(s,r).then(function(){});else{var l={pathologySerialNumber:u,subId:p,bodyPart:d,code:u+"-"+p+"-"+o};n.printSlide(l)}}),o.post("/grossing/print/37",t)},s.ok=function(){t.close(),s.printAll()},s.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","sectionService","printerService","data","IhcService"],angular.module("pathcloud").controller("SectionPrintModalController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){s.defaultTime=1,s.page=1,s.length=10,s.getBlocks(),a.getSpecialDyeList().then(function(t){s.specialDyeList=t})}var s=this;s.firstStep=!0,s.newBlockArry=[],s.checkedBlocks=[],s.specialDyeTypeArry=[],s.select=function(){s.page=1,s.getBlocks()},s.getBlocks=function(){n(function(){var t="/specialDye/blocks",e={page:s.page||1,length:s.length||10,createTimeStart:s.startTime||Date.now(),createTimeEnd:s.endTime||Date.now()};i.get(t,e).then(function(t){s.BlockList=t.data,s.total=t.total,s.page=t.page;for(var e=0;e<s.BlockList.length;e++){var a=s.BlockList[e];if(!s.checkedBlocks.length)return!1;angular.forEach(s.checkedBlocks,function(t,e,n){a.blockId===t.blockId&&(a.check=!0)})}})},0)},r(),s.check=function(t){console.log(t),t.check?s.checkedBlocks.push(t):angular.forEach(s.checkedBlocks,function(e,a,n){t.blockId===e.blockId&&s.checkedBlocks.splice(a,1)})},s.chkAll=function(){if(s.allChecked){for(var t=0;t<s.BlockList.length;t++){var e=s.BlockList[t];if(s.checkedBlocks.length){var a=!1;angular.forEach(s.checkedBlocks,function(t,n,i){e.blockId===t.blockId&&(a=!0)}),a||(e.check=!0,s.checkedBlocks.push(e))}else e.check=!0,s.checkedBlocks.push(e)}console.info("全选的",s.checkedBlocks)}else{console.info("取消全选");for(var t=0;t<s.BlockList.length;t++){var e=s.BlockList[t];if(!s.checkedBlocks.length)return!1;angular.forEach(s.checkedBlocks,function(t,a,n){e.blockId===t.blockId&&(e.check=!1,s.checkedBlocks.splice(a,1))})}}},s.add=function(){s.specialDyeTypeArry.push({specialDye:1,ihcMarker:"",note:""})},s.specialDyeSelect=function(t){angular.forEach(s.specialDyeList,function(e,a,n){t.specialDye===e.code&&(1!==t.specialDye&&-1!==t.specialDye?t.ihcMarker=e.name:t.ihcMarker="")})},s["delete"]=function(t){s.specialDyeTypeArry.splice(t,1)},s["switch"]=function(){s.firstStep=!s.firstStep},s.addBlock=function(){angular.forEach(s.checkedBlocks,function(t,e,a){for(var n=0;n<s.specialDyeTypeArry.length;n++){var i=s.specialDyeTypeArry[n];t.specialDye=i.specialDye,t.ihcMarker=i.ihcMarker,t.note=i.note,s.newBlockArry.push(angular.copy(t))}}),t.close(s.newBlockArry)},s.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","SystemSettingService","$timeout","IhcService","checkedBlocks"],angular.module("pathcloud").controller("SpecialDyeBlocksModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;a.get("/report/printRecordQuery",i).then(function(t){o.list=t}),o.ok=function(){t.close()},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","IhcService","printerService","resolveData"],angular.module("pathcloud").controller("PrintRecordModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.data=i,o.today=new Date;var r=_.compact(i.map(function(t){return{pathId:t.id,specialApplyId:t.specialApplyId}}));o.ok=function(){a.post("/report/operate/25",r).then(function(a){e.success("打印成功"),t.close()}),n.printTable($("#signTable").html(),$("#signTable").height())},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","IhcService","printerService","data"],angular.module("pathcloud").controller("PrintSignModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.modalTitle=a.modalTitle,o.selectTitle=a.selectTitle,o.textareaTtitle=a.textareaTtitle,o.rejectReason={},console.error(a),n.rejectReason().then(function(t){o.rejectReasonLIst=t},function(t){i.error(t)}),o.ok=function(){e.close(o.rejectReason)},o.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","resolveData","paramSettingService","toastr"],angular.module("pathcloud").controller("TextareaModalController",t)}(),function(){"use strict";function t(t,e){function a(t){var e=o.GET_PRINTER_COUNT();console.log("iCount",e);for(var a=0;e>a;a++)if(console.log("i",a,o.GET_PRINTER_NAME(a)),o.GET_PRINTER_NAME(a).indexOf(t)>=0){o.SET_PRINTER_INDEX(a);break}}function n(){o=getLodop(),o.PRINT_INIT("打印控件功能演示_Lodop功能_表单一"),o.SET_PRINT_STYLE("FontSize",18),o.SET_PRINT_STYLE("Bold",1),o.ADD_PRINT_BARCODE(20,20,100,100,"QRCode","1234567890版本7的最大值是122个字符123123")}function i(t){r.qrImg=t.toDataURL("image/png")}var o,r=this;r.printQrCodeLabel=function(t){o=getLodop(),o.PRINT_INIT("打印二维码标签"),o.SET_PRINT_PAGESIZE(1,600,423,""),a("GT800"),o.SET_PRINT_STYLE("FontSize",12),o.SET_PRINT_STYLE("Bold",2),o.SET_PRINT_STYLEA("PRINT_INIT","Top","20mm"),o.SET_PRINT_STYLEA("PRINT_INIT","Left","20mm"),o.SET_PRINT_STYLEA(0,"QRCodeVersion",5),o.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),o.ADD_PRINT_BARCODE(10,10,100,100,"QRCode",t),o.ADD_PRINT_TEXT(20,105,120,30,"样本编号"),o.ADD_PRINT_TEXT(70,105,120,30,t),o.PRINT()},r.prn1_preview=function(){o=getLodop(),o.PRINT_INIT("打印二维码标签"),o.SET_PRINT_PAGESIZE(1,600,425,"");var t=o.GET_PRINTER_COUNT();console.log("iCount",t);for(var e=0;t>e;e++)if(console.log("i",e,o.GET_PRINTER_NAME(e)),o.GET_PRINTER_NAME(e).indexOf("GT800")>=0){o.SET_PRINTER_INDEX(e);break}o.SET_PRINT_STYLE("FontSize",12),o.SET_PRINT_STYLE("Bold",2),o.SET_PRINT_STYLEA("PRINT_INIT","Top","20mm"),o.SET_PRINT_STYLEA("PRINT_INIT","Left","20mm"),o.SET_PRINT_STYLEA(0,"QRCodeVersion",5),o.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),o.ADD_PRINT_BARCODE(10,10,100,100,"QRCode","14567890123123"),o.ADD_PRINT_TEXT(20,110,120,30,"样本编号"),o.ADD_PRINT_TEXT(70,110,120,30,"1231241221421"),o.ADD_PRINT_LINE(110,0,110,200,0,1),o.PRINT()},r.prn1_print=function(){n(),o.PRINT()},r.prn1_printA=function(){n(),o.PRINTA()},e(function(){i($(".qrcode")[0]),console.log(r.qrImg)}),r.resistData="test",r.ok=function(){t.close()},r.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","$timeout"],angular.module("pathcloud").controller("PrintModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.type=[{name:"免疫组化试剂",code:"2"},{name:"危险品",code:"3"},{name:"易燃易爆",code:"4"}],o.preProcess=[{code:"2",name:"EDTA热修复"},{code:"3",name:"柠檬酸热修复"}],o.reagentTitle=[{name:"试剂类型"},{name:"试剂名称"},{name:"克隆号"},{name:"预处理"},{name:"阳性部位"},{name:"鉴别诊断"},{name:"操作"}],o.addReagent={type:1,cloneNumber:"",preProcess:1,positivePosition:"",diagnose:""},o.filter={page:1,length:15,category:1},o.getReagentList=function(){e.get("/reagent",o.filter).then(function(t){o.list=t.data,o.totalItems=t.total})},o.getReagentList(),o.getReagentInfo=function(){o.filter.filter=o.filterStr,o.getReagentList()},o.amend=function(t){var e=n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/reagent/modal/amendReagent.html",controller:"AmendController",controllerAs:"amend",resolve:{data:function(){return t}}});e.result.then(function(t){o.getReagentList()})},t.$watch("reagent.addReagent.name",function(t){if(t){var e={name:t};i.checkName(e).then(function(t){null!==t&&1==t.category?o.checkButton=!1:o.checkButton=!0})}});var r=!0;o.add=function(){var t={name:o.addReagent.name,category:1,type:o.addReagent.type,cloneNumber:o.addReagent.cloneNumber,preProcess:o.addReagent.preProcess,positivePosition:o.addReagent.positivePosition,diagnose:o.addReagent.diagnose};r&&(r=!1,e.post("/reagent",t).then(function(){a.success("添加成功"),r=!0,o.addReagent={type:1,cloneNumber:"",preProcess:1,positivePosition:"",diagnose:""},delete t.filter,o.getReagentList()},function(t){r=!0,a.error(t.reason)}))}}t.$inject=["$scope","IhcService","toastr","$uibModal","ReagentService"],angular.module("pathcloud").controller("ReagentTypeController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.typeList=[{code:1,name:"常规试剂"},{code:2,name:"免疫组化试剂"},{code:3,name:"危险品"},{code:4,name:"易燃易爆"},{code:10,name:"包埋盒"},{code:11,name:"常规玻片"}],r.tableHeaders=[{name:"名称",order:1},{name:"类别"},{name:"产品编号"},{name:"订单号"},{name:"制造商"},{name:"生产批号",order:7},{name:"接收日期"},{name:"失效期",order:9},{name:"最近使用",order:7},{name:"已使用量"},{name:"剩余量",order:9},{name:"使用详情"},{name:"库存调整"}],r.defaultTime=1,r.filter={page:1,length:20}}var r=this;o(),r.getData=function(){n.get("/store",r.filter).then(function(t){r.distributedData=t.data,r.total=t.total})},r.getData(),r.query=function(){r.filter.startTime=r.timeStart,r.filter.endTime=r.timeEnd,delete r.filter.filter,r.getData()},r.search=function(){r.searchStr?r.defaultTime=5:(r.defaultTime=1,delete r.filter.filter),r.filter={page:1,length:20,filter:r.searchStr},r.getData()},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filter.sort=t.sort,r.filter.order=t.order,r.getData())},r.adjust=function(t){var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/reagent/modal/adjust.html",controller:"AdjustController",controllerAs:"adjust",resolve:{data:function(){return t}}});e.result.then(function(t){r.getData()})},r.view=function(t){i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/reagent/modal/view.html",controller:"ViewController",controllerAs:"view",resolve:{data:function(){return t}}})}}t.$inject=["$scope","$timeout","toastr","IhcService","$uibModal"],angular.module("pathcloud").controller("ReagentUseHistoryController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=1,i.choseMenu=function(t){proDistribution.activeMenu=t}}t.$inject=["$scope","$state","toastr","ProductService"],angular.module("pathcloud").controller("ReagentUseController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){proDistribution.activeMenu=t}}t.$inject=["$scope","$state","toastr","ProductService"],angular.module("pathcloud").controller("ConsultationApplyController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){}var o=this;i(),o.submitData={origins:[{pathNo:"",blockSubId:"",type:""}]}}t.$inject=["$scope","$timeout","toastr","IhcService"],angular.module("pathcloud").controller("consultApplyTabController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){proDistribution.activeMenu=t}}t.$inject=["$scope","$state","toastr","ProductService"],angular.module("pathcloud").controller("ReagentStateController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.tableHeaders=[{name:"名称",order:1,"class":"text-center"},{name:"类别","class":"text-center"},{name:"编号","class":"text-center"},{name:"制造商","class":"text-center"},{name:"货号","class":"text-center"},{name:"规格","class":"text-center"},{name:"生产批号",order:7,"class":"text-center"},{name:"订单号","class":"text-center"},{name:"接收日期",order:9,"class":"text-center"},{name:"失效期",order:7,"class":"text-center"},{name:"最近使用","class":"text-center"},{name:"库存量",order:9,"class":"text-center"},{name:"状态","class":"text-center"}],r.typeList=[{code:1,name:"常规试剂"},{code:2,name:"免疫组化试剂"},{code:3,name:"危险品"},{code:4,name:"易燃易爆"},{code:10,name:"包埋盒"},{code:11,name:"常规玻片"}],r.statusList=[{code:1,name:"正常"},{code:2,name:"即将过期"},{code:3,name:"过期"},{code:4,name:"补货"}],r.defaultTime=1,r.filter={page:1,length:20,year:(new Date).getFullYear()}}var r=this;o(),r.getData=function(){n.get("/store",r.filter).then(function(t){r.distributedData=t.data,r.total=t.total})},r.getData(),r.query=function(){delete r.filter.filter,r.getData()},r.search=function(){r.filter.filter=r.searchStr,delete r.filter.type,r.getData()},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filter.sort=t.sort,r.filter.order=t.order,r.getData())},r.edit=function(t){var e;1==t.reagentCategory?(e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/reagent/modal/editHistory.html",controller:"EditController",controllerAs:"edit",size:"lg",resolve:{data:function(){return t}}}),e.result.then(function(t){r.getData()})):(e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/reagent/modal/consume.html",controller:"ConsumeController",controllerAs:"consume",size:"lg",resolve:{data:function(){return t}}}),e.result.then(function(t){r.getData()}))}}t.$inject=["$scope","$timeout","toastr","IhcService","$uibModal"],angular.module("pathcloud").controller("ReagentStateHistoryController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){d.statusList=[{code:1,name:"合格"},{code:2,name:"破损"}],d.liquidType=[{code:2,name:"浓缩液"}],d.countType=[{code:2,name:"盒"}],d.data={productNumber:"",manufacturer:"",articleNumber:"",manufacturerPhone:"",spec:"",receiveStatus:1,preparation:"",preExperiment:"",preExperimentResult:"",type:1,dilutionRateFront:"",dilutionRateRear:"",realCapacity:"",countUnit:1}}function o(){""!=d.data.dilutionRateRear&&""!=d.data.dilutionRateFront&&""!=d.data.specification&&(d.data.realCapacity=d.data.dilutionRateRear/d.data.dilutionRateFront*d.data.specification)}function r(t){if(d.data.expiryTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>d.data.expiryTime}}function s(t){if(d.data.produceTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<d.data.produceTime}}function l(t){if(d.data.preExperimentTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>d.data.preExperimentTime}}function c(t){if(d.data.preparationTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<d.data.preparationTime}}var d=this;i(),a.$watch("reagent.data.type",function(t,e){t!=e&&(d.data.dilutionRateFront="",d.data.dilutionRateRear="",d.data.realCapacity="")}),a.$watch("reagent.data.dilutionRateRear",function(){o()}),a.$watch("reagent.data.dilutionRateFront",function(){o()}),a.$watch("reagent.data.specification",function(){o()}),a.dateOptions1={dateDisabled:r,maxDate:new Date},a.dateOptions2={dateDisabled:s},a.dateOptions3={dateDisabled:l,maxDate:new Date},a.dateOptions4={dateDisabled:c},d.getReagentBasic=function(){if(d.nameCheck=!1,d.basic.name){var e={name:d.basic.name};n.checkName(e).then(function(e){null!==e?1==e.category?(d.basic=e,d.nameCheck=!0):(t.error("该名称不是试剂名称"),d.basic={}):(t.error("试剂名称不存在"),d.basic={})},function(e){t.error(e.reason),d.basic={}})}},d.clear=function(){i(),d.basic={}};var u=!0;d.submit=function(){void 0==d.data.type&&(d.data.type=1,d.data.dilutionRateFront="",d.data.dilutionRateRear="",d.data.realCapacity=""),d.data.countUnit=d.data.countUnit?d.data.countUnit:1,d.data.receiveStatus=d.data.receiveStatus?d.data.receiveStatus:1;var a=angular.copy(d.data);a.reagentId=d.basic.id,a.produceTime=d.data.produceTime?d.data.produceTime.getTime():"",a.expiryTime=d.data.expiryTime?d.data.expiryTime.getTime():"",a.preparationTime=d.data.preparationTime?d.data.preparationTime.getTime():"",a.preExperimentTime=d.data.preExperimentTime?d.data.preExperimentTime.getTime():"",u&&(u=!1,e.post("/store",a).then(function(e){u=!0,t.success("操作成功"),i(),d.basic={}},function(e){u=!0,t.error(e.reason)}))}}t.$inject=["toastr","IhcService","$scope","ReagentService"],angular.module("pathcloud").controller("reagentStoreCreateController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){d.data={productNumber:"",manufacturer:"",articleNumber:"",manufacturerPhone:"",spec:"",receiveStatus:"",preparation:"",preparationTime:"",preExperiment:"",preExperimentTime:"",preExperimentResult:"",specification:"",type:"",dilutionRateFront:"",dilutionRateRear:"",realCapacity:"",countUnit:2}}function r(t){if(d.data.expiryTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>d.data.expiryTime}}function s(t){if(d.data.produceTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<d.data.produceTime}}function l(){var t={name:d.basic.name};i.checkName(t).then(function(t){null!==t&&(2==t.category?(d.basic=t,d.nameCheck=!0):(a.error("该名称不是耗材名称"),d.basic={}))},function(t){a.error(t.reason),d.basic={}})}function c(){var t=angular.copy(d.data);t.reagentId=d.basic.id,t.produceTime=d.data.produceTime.getTime(),t.expiryTime=d.data.expiryTime.getTime(),n.post("/store",t).then(function(t){a.success("操作成功"),d.basic={},d.nameCheck=!1,o()},function(t){a.error(t.reason)})}var d=this;d.categoryList=[{code:10,name:"包埋盒"},{code:11,name:"常规玻片"}],o(),t.dateOptions1={dateDisabled:r,maxDate:new Date},t.dateOptions2={dateDisabled:s},d.getReagentName=function(){d.nameCheck=!1,d.basic&&l()},d.submit=function(){if(d.basic.id)c();else{var t={name:d.basic.name,category:2,type:d.basic.type,cloneNumber:"",preProcess:"",positivePosition:"",diagnose:""};n.post("/reagent",t).then(function(){var t={name:d.basic.name};i.checkName(t).then(function(t){null!==t&&(d.basic=t,c())})},function(t){a.error(t.reason)})}}}t.$inject=["$scope","$state","toastr","IhcService","ReagentService"],angular.module("pathcloud").controller("reagentStoreConsumablesController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=1,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$scope","$state","toastr","ProductService"],angular.module("pathcloud").controller("ReagentStoreController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.tableHeaders=[{name:"使用人"},{name:"使用时间"},{name:"使用量"},{name:"使用备注"}],n.filter={page:1,length:10},n.getData=function(){a.get("/store/record/"+e.id,n.filter).then(function(t){n.list=t.data,n.total=t.total})},n.getData(),n.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","data","IhcService"],angular.module("pathcloud").controller("ViewController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(t){if(d.data.expiryTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>d.data.expiryTime}}function s(t){if(d.data.produceTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<d.data.produceTime}}function l(t){if(d.data.preExperimentTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>d.data.preExperimentTime}}function c(t){if(d.data.preparationTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<d.data.preparationTime}}var d=this;d.statusList=[{code:1,name:"合格"},{code:2,name:"破损"}],d.liquidType=[{code:2,name:"浓缩液"}],d.countType=[{code:2,name:"盒"}],d.data=angular.copy(e),i.dateOptions1={dateDisabled:r,maxDate:new Date},i.dateOptions2={dateDisabled:s},i.dateOptions3={dateDisabled:l,maxDate:new Date},i.dateOptions4={dateDisabled:c};var u={name:d.data.reagentName};o.checkName(u).then(function(t){d.basic=t}),d.cancel=function(){t.dismiss()},d.ok=function(){var e={id:d.data.id,reagentId:d.data.reagentId,orderNumber:d.data.orderNumber,batchNumber:d.data.batchNumber,productNumber:d.data.productNumber,manufacturer:d.data.manufacturer,articleNumber:d.data.articleNumber,produceTime:d.data.produceTime,expiryTime:d.data.expiryTime,manufacturerPhone:d.data.manufacturerPhone,spec:d.data.spec,receiveStatus:d.data.receiveStatus,preparation:d.data.preparation,preparationTime:d.data.preparationTime,preExperiment:d.data.preExperiment,preExperimentTime:d.data.preExperimentTime,preExperimentResult:d.data.preExperimentResult,specification:d.data.specification,type:d.data.type,dilutionRateFront:d.data.dilutionRateFront,dilutionRateRear:d.data.dilutionRateRear,realCapacity:d.data.realCapacity,count:d.data.count,countUnit:d.data.countUnit};a.put("/store",e).then(function(e){n.success("操作成功"),t.close()},function(t){n.error(t.reason)})}}t.$inject=["$uibModalInstance","data","IhcService","toastr","$scope","ReagentService"],angular.module("pathcloud").controller("EditController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(t){if(s.data.expiryTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>s.data.expiryTime}}function r(t){if(s.data.produceTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<s.data.produceTime}}var s=this;s.categoryList=[{code:10,name:"包埋盒"},{code:11,name:"常规玻片"},{code:12,name:"防脱玻片"}],s.countType=[{code:2,name:"盒"}],s.data=angular.copy(e),a.dateOptions1={dateDisabled:o,maxDate:new Date},a.dateOptions2={dateDisabled:r},s.cancel=function(){t.dismiss()},s.ok=function(){var e={id:s.data.id,reagentId:s.data.reagentId,orderNumber:s.data.orderNumber,batchNumber:s.data.batchNumber,productNumber:s.data.productNumber,manufacturer:s.data.manufacturer,articleNumber:s.data.articleNumber,produceTime:s.data.produceTime,expiryTime:s.data.expiryTime,manufacturerPhone:s.data.manufacturerPhone,spec:"",receiveStatus:"",preparation:"",preparationTime:"",preExperiment:"",preExperimentTime:"",preExperimentResult:"",specification:s.data.specification,type:"",dilutionRateFront:"",dilutionRateRear:"",realCapacity:"",count:s.data.count,countUnit:s.data.countUnit};n.put("/store",e).then(function(e){i.success("操作成功"),t.close()},function(t){i.error(t.reason)})}}t.$inject=["$uibModalInstance","data","$scope","IhcService","toastr"],angular.module("pathcloud").controller("ConsumeController",t)}(),function(){"use strict";function t(t,e,a,n,i){console.log(a);var o=this;o.cancel=function(){e.dismiss()},o.ok=function(){var t={id:o.reagent.id,name:o.reagent.name,category:1,type:o.reagent.type,cloneNumber:o.reagent.cloneNumber,preProcess:o.reagent.preProcess,positivePosition:o.reagent.positivePosition,diagnose:o.reagent.diagnose};n.put("/reagent",t).then(function(){i.success("修改成功"),e.close()},function(t){i.error(t.reason)})},o.type=[{name:"免疫组化试剂",code:"2"}],o.preProcess=[{code:"2",name:"EDTA热修复"},{code:"3",name:"柠檬酸热修复"}],o.reagentTitle=[{name:"试剂类型"},{name:"试剂名称"},{name:"克隆号"},{name:"预处理"},{name:"阳性部位"},{name:"鉴别诊断"},{name:"操作"}],o.reagent=angular.copy(a),o.reagent.type=1==a.type?1:o.type[a.type-2].code,o.reagent.preProcess=1==a.preProcess?1:o.preProcess[a.preProcess-2].code,o.checkButton=!0,t.$watch("amend.reagent.name",function(t){t?t!==a.name?n.get("/reagent/"+t).then(function(t){null!==t?o.checkButton=!1:o.checkButton=!0}):o.checkButton=!0:o.checkButton=!1})}t.$inject=["$scope","$uibModalInstance","data","IhcService","toastr"],angular.module("pathcloud").controller("AmendController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.data=e,i.ok=function(){var e={id:i.data.id,adjust:i.adjust||"",note:i.note||""};a.post("/store/record",e).then(function(){n.success("操作成功"),t.close()},function(t){n.error(t.reason)})},i.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","data","IhcService","toastr"],angular.module("pathcloud").controller("AdjustController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.max=5,o.isReadonly=!1,o.scoreData={},o.setting="0",o.tableHeaders=[{name:"工作站"},{name:"1分（1颗星）"},{name:"2 分（2颗星）"},{name:"3 分（3颗星）"},{name:"4 分（4颗星）"},{name:"5 分（5颗星）"},{name:"合格标准"}],o.search=function(){try{var t=o.searchStr.replace(/-/g,"");o.pathologyNumber=o.searchStr.split("-")[0],o.blockSubId=o.searchStr.split("-")[1],o.slideSubId=o.searchStr.split("-")[2]}catch(n){return}a.get("/production/score/"+t+"/"+o.slideSubId).then(function(t){o.slideInfo=t,o.scoreData={grossing:t.grossing,dehydrate:t.dehydrate,embedding:t.embedding,sectioning:t.sectioning,staining:t.staining,sealing:t.sealing}},function(t){e.error(t.reason||"记录不存在")})},o.hoveringOver=function(t){o.overStar=t,o.percent=100*(t/o.max)},o.calculateAverage=function(){var t=o.scoreData.grossing+o.scoreData.dehydrate+o.scoreData.embedding+o.scoreData.sectioning+o.scoreData.staining+o.scoreData.sealing;return t/6},o.getGrade=function(){t.getQualityGrade().then(function(t){o.gradeData=t})},o.getGrade(),o.slideScore=function(){o.scoreData.average=o.calculateAverage(),a.put("/production/score/"+o.slideInfo.blockId,o.scoreData).then(function(t){t||e.success("评分成功！")},function(t){e.error(t.reason||"评分失败，请重新尝试！")})},o.submit=function(){if(console.log(o.setting),console.log("未处理"),
"0"!==o.setting&&o.setting){return}else o.slideScore()}}t.$inject=["StatisticService","toastr","IhcService","ProductService","DiagnosisService"],angular.module("pathcloud").controller("ProQualityGradeController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this,o=[],r=[];i.showIndex=0,i.handelType="0",i.loseData=_.compact(t.map(function(t){return t.lostSlides=(t.lostSlides||[]).concat(t.lostBlocks||[]),t.reGrossing&&10===t.status&&(t.lostSlides=t.lostSlides||[],t.lostSlides.push({statusDesc:t.statusDesc,lastOperator:t.lastOperator,lastOperateTime:t.lastOperateTime})),r.push(t.pathId),t})),i.ok=function(){i.loseData.forEach(function(t){t.lostSlides.forEach(function(t){"0"!==t.handelType&&o.push({abnormalId:t.id,handle:parseInt(t.handelType),note:t.note})})}),o&&o.length>0?a.setProductionAbnormal(o).then(function(){n.close(r)}):n.close(r)},i.cancel=function(){n.dismiss()}}t.$inject=["loseData","allBlockIdList","ProductService","$uibModalInstance"],angular.module("pathcloud").controller("LoseProductController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){i.getGrossingUser().then(function(t){r.grossingUserList=t}),i.getDepartments().then(function(t){r.departmentList=t}),r.tableHeaders=[{name:"病理号",order:1,"class":"text-center"},{name:"蜡块号","class":"text-center"},{name:"玻片号","class":"text-center"},{name:"取材医生","class":"text-center"},{name:"送检科室","class":"text-center"},{name:"制片确认人","class":"text-center"},{name:"制片确认时间",order:7,"class":"text-center"},{name:"收片医生","class":"text-center"},{name:"派片时间",order:9,"class":"text-center"}],r.defaultTime=1,r.filter={page:1,length:20}}var r=this;o(),r.getDistributed=function(){e(function(){r.filter.timeStart=r.timeStart,r.filter.timeEnd=r.timeEnd,n.getDistributedList(r.filter).then(function(t){r.distributedData=t.data,r.total=t.total})})},r.getDistributed(),r.query=function(){delete r.filter.filter,r.getDistributed()},r.search=function(){r.searchStr?r.defaultTime=5:(r.defaultTime=1,delete r.filter.filter),r.filter={page:1,length:20,filter:r.searchStr},r.getDistributed()},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filter.sort=t.sort,r.filter.order=t.order,r.getDistributed())}}t.$inject=["$scope","$timeout","toastr","ProductService","MaterialService"],angular.module("pathcloud").controller("searchDistributionController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=1,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$scope","$state","toastr","ProductService"],angular.module("pathcloud").controller("ProDistributionController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(){e.getGrossingUser().then(function(t){u.grossingUserList=t})}function l(){e.getDepartments().then(function(t){u.departmentList=t})}function c(){i.getDiagnosisDoctor().then(function(t){u.diagnosisUserList=t})}function d(){var t=0,e=[];return angular.forEach(u.getDistributeData,function(a){a.check&&(t+=a.slideTotal,e.push(a.pathId))}),e.length===u.getDistributeData.length?u.allChecked=!0:u.allChecked=!1,u.checkedSlideLength=t,e}var u=this;u.getDistributeData=[],u.getDistributeLength=0,u.checkedSlideLength=0,u.totalSlideLength=0,u.checkBoxStatus=[],u.getCondition={page:1,length:20},u.distributeRecords=[],u.doFlag=!1,u.diagnosisUserList=[],u.showList=!1,l(),c(),s(),u.openList=function(){u.showList=!u.showList},u.getDistribute=function(){n.getDistributeList(u.getCondition).then(function(t){if(u.getDistributeData=t.data,u.getDistributeLength=t.total,u.getDistributeData){for(var e=0;e<u.getDistributeData.length;e++)u.totalSlideLength+=u.getDistributeData[e].slideTotal,u.checkBoxStatus[e]=!1,u.distributeRecords[e]=null;d()}})},u.getDistribute(),u.doDistribute=function(){var t={distributeRecords:d(),distributeDoctor:u.doctor.firstName,doctorId:u.doctor.id};n.doDistribute(t).then(function(t){a.success("派片成功！"),o.go("app.ProDistribution",{},{reload:!0})},function(t){a.error("派片失败！")})},u.checkAll=function(){u.allChecked?angular.forEach(u.getDistributeData,function(t){t.check=!0}):angular.forEach(u.getDistributeData,function(t){t.check=!1}),d()},u.checkItem=function(t,e){d()}}t.$inject=["$scope","MaterialService","toastr","ProductService","DiagnosisService","$state","$timeout"],angular.module("pathcloud").controller("createDistributionController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.tableHeaders=[{name:"编号"},{name:"病理号"},{name:"蜡块号"},{name:"特检类别"},{name:"试剂/抗体名称"},{name:"申请医生"},{name:"备注"},{name:"打印次数"}],s.defaultTime=1,s.dyeCategory=1,s.filterData={page:1,length:20,specialDye:s.dyeCategory},a.get("/systemSetting/specialNumberPrint").then(function(t){s.printSpecialNumber=t})}function r(){var t=[];return angular.forEach(s.data.data,function(e){e.check&&t.push({applyId:e.applyId,blockId:e.blockId,slideMarker:e.marker,specialDye:e.specialDye,slideId:e.slideId,number:e.number})}),t.length===s.data.data.length?s.allChecked=!0:s.allChecked=!1,t}var s=this;o(),s.getDataList=function(){s.searchStr||delete s.filterData.filter,i(function(){s.filterData.createTimeStart=s.startTime,s.filterData.createTimeEnd=s.endTime,a.get("/ihc/printIhcs",s.filterData).then(function(t){s.data=t})},0)},s.getDataList(),s.query=function(){s.filterData.specialDye=s.dyeCategory,s.getDataList()},s.search=function(){s.defaultTime=5,s.filterData={page:1,length:20,filter:s.searchStr},s.getDataList()},s.checkAll=function(){s.allChecked?angular.forEach(s.data.data,function(t){t.check=!0}):angular.forEach(s.data.data,function(t){t.check=!1}),r()},s.checkItem=function(t,e){r()},s.print=function(){var t=r();return t.length<1?(e.error("请选择"),!1):void a.post("/ihc/print",t).then(function(t){e.success("操作成功");var a={id:[],type:[]};angular.forEach(t,function(t,e){var n=0==s.printSpecialNumber?"":";"+t.number.slice(0,1)+t.number.slice(-4),i=t.pathNo+"$"+t.blockSubId+"$"+t.slideSubId,o=t.grossingBody+";"+t.marker+n;a.id.push(i),a.type.push(o)}),n.labWrite(a.id.join(),a.type.join()).then(function(){}),s.getDataList()})}}t.$inject=["$scope","toastr","IhcService","printerService","$timeout"],angular.module("pathcloud").controller("IhcPrintController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.defaultTime=1,r.params={},a(function(){r.myBlocks()},0)}var r=this;r.oldBlocks=i,r.myBlocks=function(){var t="/ihc/blocks",e={page:r.page||1,length:r.length||10,createTimeStart:r.startTime||Date.now(),createTimeEnd:r.endTime||Date.now()};n.get(t,e).then(function(t){console.info(t),r.total=t.total,r.page=t.page})},o(),r.addBlock=function(){t.close()},r.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","MaterialService","$timeout","IhcService","oldBlocks"],angular.module("pathcloud").controller("IhcBlocksModalController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){r.tableHeaders=[{name:"编号"},{name:"病理号"},{name:"蜡块号"},{name:"最近使用人"},{name:"最近使用时间"},{name:"特检类别"},{name:"申请医生"},{name:"申请时间"},{name:"备注"},{name:"医嘱状态"}],r.defaultTime=1,r.dyeCategory=1,r.filterData={page:1,length:20,status:1,dyeCategory:r.dyeCategory}}function o(){var t=[];return angular.forEach(r.data.data,function(e){e.check&&t.push(e.id)}),t.length===r.data.data.length?r.allChecked=!0:r.allChecked=!1,t}var r=this;i(),r.getDataList=function(){r.searchStr||delete r.filterData.filter,n(function(){r.filterData.createTimeStart=r.startTime,r.filterData.createTimeEnd=r.endTime,a.get("/ihc",r.filterData).then(function(t){r.data=t})},0)},r.getDataList(),r.query=function(){r.filterData.dyeCategory=r.dyeCategory,r.getDataList()},r.search=function(){r.defaultTime=5,r.filterData={page:1,length:20,filter:r.searchStr},r.getDataList()},r.checkAll=function(){r.allChecked?angular.forEach(r.data.data,function(t){t.check=!0}):angular.forEach(r.data.data,function(t){t.check=!1}),o()},r.checkItem=function(t,e){o()},r.delay=function(){a.post("/ihc/delay",o()).then(function(t){e.success("操作成功！"),r.getDataList()},function(t){e.error("操作失败",t.reason)})},r.confirm=function(){a.post("/ihc/confirm",o()).then(function(t){e.success("操作成功！"),r.getDataList()},function(t){e.error("操作失败",t.reason)})}}t.$inject=["$scope","toastr","IhcService","$timeout"],angular.module("pathcloud").controller("IhcSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(){p.start=!1,p.data={},p.productionList=[],p.userSearchList=[],h=[],p.searchData={page:1,length:20,total:0}}function l(t){var e=_.groupBy(t,"pathId"),a=[];for(var n in e)a=_.concat(a,_.sortBy(e[n],"id"));return a}function c(t){var e=t.filter(function(t){return null!=t.pathId});h=_.unionBy(h,e,"id"),h=l(h),p.productionList=_.slice(h,0,20),p.searchData.total=h.length}function d(){}var u,p=this,h=[];d(),t.$on("$destroy",function(){e.cancel(u)}),s(),p.tableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"玻片号"},{name:"申请类别"},{name:"特染标记"},{name:"取材标识"},{name:"状态"}],p.changeScanStatus=function(){p.start=!p.start},p.getProductionDataByPathology=function(){n.getConfirmationListByPathology(p.data.pathologySerialNumber).then(function(t){if(!t)return!1;if(0===t.length)return void a.error("该蜡块所有的玻片都已制片确认！");if(t.operator){var e="该玻片于"+r("date")(t.operatorTime,"yyyy-MM-dd HH:mm")+"被"+t.operatorDesc+"制片确认，目前状态是"+t.statusDesc;return a.error(e),!1}if(t.pathNo){var n=t.pathNo;t.blockSubNo&&(n+=t.blockSubNo);var e=n+"当前状态为："+t.statusDesc;return void a.error(e)}p.userSearchList.push(t),c(t),p.data.pathologySerialNumber=null},function(t){a.error(t),p.data.pathologySerialNumber=null})},p.changePage=function(t){p.productionList=_.slice(h,(t-1)*p.searchData.length,t*p.searchData.length)},p.undo=function(){p.productionList=[],h=[],p.searchData.total=""},p.submit=function(){var t=_.groupBy(h,"pathId"),o=[],r=[];for(var l in t){var c=[];t[l].forEach(function(t){c.push(t.id),r.push(t.id)}),o.push({pathId:parseInt(l),slideIds:c})}console.info(o),n.getProductionConfirm(o).then(function(t){if(t&&t.length>0){e.cancel(u);var l=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/product/modal/loseProduct.html",controller:"LoseProductController",controllerAs:"loseProduct",size:"large",resolve:{loseData:function(){return t},allBlockIdList:function(){return r}}});l.result.then(function(t){_.remove(o,function(e){return t.indexOf(e.pathId)>=0}),o&&o.length>0?n.getProductionConfirm(o).then(function(){s()}):s()})["finally"](function(){d()})}else a.success("确认成功"),s()})},p.getFilterList=function(t){var e=window.event?t.keyCode:t.which;13==e&&p.getProductionDataByPathology()}}t.$inject=["$scope","$interval","toastr","ProductService","$uibModal","toolService","$filter"],angular.module("pathcloud").controller("ProConfirmationController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.activeMenu=[!0,!1],n.showPart=0,n.choseMenu=function(t){n.activeMenu.forEach(function(t,e){n.activeMenu[e]=!1}),n.activeMenu[t]=!0,n.showPart=t},t.getBasketList(11).then(function(t){n.usingBasketList=t.data}),t.getDehydratorAndStatusList().then(function(t){n.dehydratorList=t}),n.showError=function(e,i){if(!i){var o=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydratorErr.html",controller:"DehydratorErrController",controllerAs:"dehydratorErr",size:"md",resolve:{instrumentId:e}});o.result.then(function(){t.getDehydratorAndStatusList().then(function(t){n.dehydratorList=t})})}},n.showBlocks=function(t){if(!t.disabled){var e=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydratorBlocks.html",controller:"DehydratorBlocksController",controllerAs:"dehydratorBlock",size:"md",resolve:{instrument:function(){return{id:t.instrumentId,pause:t.pause}}}});e.result.then(function(){})}}}t.$inject=["GrossingService","toastr","$uibModal"],angular.module("pathcloud").controller("GrossingStatusController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this;r.lostBlocks=i.blocks,r.ok=function(){n.startDehydrate(i.data).then(function(){o.success("开始脱水"),a.close(),e.go("app.grossing",{},{reload:!0})},function(t){o.error(t)})},r.cancel=function(){a.dismiss()}}t.$inject=["$scope","$state","$uibModalInstance","GrossingService","data","toastr"],angular.module("pathcloud").controller("LostGrossingBlocksController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(t){if(s.receiveEndTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>s.receiveEndTime}}function r(t){if(s.receiveStartTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<s.receiveStartTime}}var s=this;s.filterData={instrumentId:n,length:10,page:1},s.getErrmsg=function(){s.receiveStartTime&&(s.filterData.startTime=new Date(s.receiveStartTime).getTime()),s.receiveEndTime&&(s.filterData.endTime=new Date(s.receiveEndTime).getTime()+864e5),a.getDehydratorError(n,s.filterData).then(function(t){s.errmsg=t})},s.getErrmsg(),t.dateOptions1={dateDisabled:o,maxDate:new Date},t.dateOptions2={dateDisabled:r,maxDate:new Date},s.ok=function(){a.removealarm(n).then(function(){i.success("解除报警成功"),e.close()},function(t){i.error(t)})},s.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","GrossingService","instrumentId","toastr"],angular.module("pathcloud").controller("DehydratorErrController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o.tableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"姓名"},{name:"组织数"},{name:"取材标识"},{name:"状态"},{name:"脱水机"}],o.filter={page:1,length:10},o.getBlocks=function(){e.dehydratorBlocks(a.id,o.filter).then(function(t){o.data=t})},o.getBlocks()}var o=this;o.pause=a.pause,i(),o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","GrossingService","instrument","toastr"],angular.module("pathcloud").controller("DehydratorBlocksController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.copySn=angular.copy(a.sn),o.copyName=angular.copy(a.name),o.item=a,o.updateItem={},o.snErr="",o.nameErr="",console.log("传过来的参数",a),o.change=function(t){1===t?o.item.disabled=!1:2===t&&(o.item.disabled=!0)},o.ok=function(){o.updateItem.instrumentId=a.instrumentId,o.updateItem.name=o.item.name,o.updateItem.sn=o.item.sn,o.updateItem.description=o.item.description,o.updateItem.capacity=o.item.capacity,o.updateItem.disabled=o.item.disabled,o.updateItem.status=o.item.status,e.addOrUpdateGrossing(o.updateItem).then(function(e){n.success("修改脱水机成功！"),t.close(),i.go("app.grossingSetting",{},{reload:!0})},function(t){n.error(t)})},o.cancel=function(){t.dismiss()},o.checkSn=function(){o.snErr="",e.checkSn(o.item.sn).then(function(t){t&&o.item.sn!==o.copySn&&(o.snErr="该序列号已存在！")})},o.checkName=function(){o.nameErr="",e.checkName(o.item.name).then(function(t){t&&o.item.name!==o.copyName&&(o.nameErr="该编号已存在！")})}}t.$inject=["$uibModalInstance","GrossingService","item","toastr","$state"],angular.module("pathcloud").controller("DehydrateUpdateController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.modalTitle=i.modalTitle,o.modalDescription=i.modalDescription,e.getDehydratorList({inUse:!0,disabled:!1,status:0}).then(function(t){o.dehydratorList=t.data,console.log("正在使用脱水机列表",t)}),o.check=function(t){t.checked?t.checked=!1:t.checked=!0},o.stop=function(){for(var e=[],a=0;a<o.dehydratorList.length;a++){var n=o.dehydratorList[a];n.checked&&e.push(n.instrumentId)}return e.length?void t.close(e):!1},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","GrossingService","$state","$timeout","data"],angular.module("pathcloud").controller("DehydrateStopController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.addData={},o.addData.disabled=!1,o.addData.name=i,o.snErr="",o.nameErr="",o.change=function(t){t?o.addData.disabled=!1:o.addData.disabled=!0},o.ok=function(){e.addOrUpdateGrossing(o.addData).then(function(e){n.success("添加脱水机成功!"),t.close(),a.go("app.grossingSetting",{},{reload:!0})},function(t){n.error(t)})},o.cancel=function(){t.dismiss()},o.checkSn=function(t){o.snErr="",e.checkSn(o.addData.sn).then(function(t){t&&(o.snErr="该序列号已存在！")})},o.checkName=function(){o.nameErr="",e.checkName(o.addData.name).then(function(t){t&&(o.nameErr="该编号已存在！")})}}t.$inject=["$uibModalInstance","GrossingService","$state","toastr","name"],angular.module("pathcloud").controller("DehydrateAddController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.tableHeaders=[{name:"编号"},{name:"病理号",order:1},{name:"蜡块号"},{name:"特染类别"},{name:"申请人"},{name:"申请日期",order:5}],r.defaultTime=1,r.filterData={page:1,length:20,filter:r.searchStr,createTimeStart:r.startTime,createTimeEnd:r.endTime},r.query()}var r=this;r.exportExl=function(){i["export"](r.filterData,"/ihc/export")},r.search=function(){r.searchStr?r.defaultTime=5:r.defaultTime=1,r.filterData={filter:r.searchStr},r.getData()},r.query=function(){delete r.filterData.filter,r.getData()},r.getData=function(){e(function(){r.filterData.createTimeStart=r.startTime,r.filterData.createTimeEnd=r.endTime,r.filterData.length=20,a.get("/ihc",r.filterData).then(function(t){r.info={},r.list=t.data,r.total=t.total})})},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filterData.sort=t.sort,r.filterData.order=t.order,r.query())},r.submit=function(){a.post("/ihc/confirm/"+r.info.id).then(function(t){r.query(),n.success("特染确认成功")},function(t){n.error(t.reason),r.info=null})},o()}t.$inject=["$scope","$timeout","IhcService","toastr","toolService"],angular.module("pathcloud").controller("IhcCreateController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r,s=this,l=[];s.grossingList=[],t.updateData={},t.snErr="",s.activeMenu=[!0,!1],s.showPart=0,s.choseMenu=function(t){s.activeMenu.forEach(function(t,e){s.activeMenu[e]=!1}),s.activeMenu[t]=!0,s.showPart=t},s.getGrossing=function(){e.getDehydratorList({length:99}).then(function(t){s.grossingList=t.data.sort(function(t,e){return t.name-e.name}),s.grossingList.forEach(function(t){var e=parseInt(t.name);if(isNaN(e)||l.push(e),l[0]>1)r=1;else for(var a=0;a<l.length;a++){if(l[a]!==a+1)return void(r=a+1);r=a+2}})})},s.getGrossing(),s.openAdd=function(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydrateAdd.html",controller:"DehydrateAddController",controllerAs:"dehydrateAdd",resolve:{name:r}});t.result.then(function(){console.log("sure")})},s.openUpdate=function(t){if(t.inUse)return a.error("该脱水机正在使用中无法编辑！"),!1;var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydrateUpdate.html",controller:"DehydrateUpdateController",controllerAs:"dehydrateUpdate",resolve:{item:angular.copy(t)}});e.result.then(function(){console.log("sure")})},s.deleteGrossing=function(t){return t.inUse||2===t.status?(a.error("该脱水机正在使用中无法删除！"),!1):void n.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该脱水机？"}).then(function(){e.deleteGrossing(t.instrumentId).then(function(t){a.success("删除脱水机成功！"),o.go("app.grossingSetting",{},{reload:!0})},function(t){a.error(t)})})}}t.$inject=["$scope","GrossingService","toastr","toolService","$uibModal","$state"],angular.module("pathcloud").controller("GrossingSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this,s=[],l="";r.dehydrateParams={basketNumbers:"",page:1,length:1e3},r.activeMachine={},r.tableHeaders=[{name:"病理号",style:{"min-width":"110px"}},{name:"蜡块号"},{name:"姓名"},{name:"组织数"},{name:"取材标识"},{name:"状态"}],e.getDehydratorList({disabled:!1,length:99}).then(function(t){r.dehydratorList=t.data}),e.getBasketList(12,{length:99}).then(function(t){r.grossingBasketList=t.data}),r.check=function(t){t.checked?t.checked=!1:t.checked=!0},r.checkDehydrateMachine=function(t){return t.inUse&&1!=t.status?!1:void(r.activeMachine.name==t.name?r.activeMachine={}:r.activeMachine=angular.copy(t))},r.add=function(t){var e=0;if(s=[],r.grossingBasketList){for(var n=0;n<r.grossingBasketList.length;n++){var t=r.grossingBasketList[n];t.checked&&(e+=t.blockCount,s.push(t.basketNumber))}l=s.join(),e?e>r.activeMachine.capacity-r.activeMachine.usedBlock?a.warning("您选择的包埋盒数过多:"+e):r.activeMachine.name?r.getDehydrateDataLIst():a.warning("请选择脱水机"):a.warning("请选择脱水篮")}},r.getDehydrateDataLIst=function(){r.dehydrateParams.basketNumbers=l,r.dehydrateParams.instrumentId=r.activeMachine.instrumentId,e.getDehydrateList(r.dehydrateParams).then(function(t){r.dehydrateDataLIst=t,r.dehydratorName=r.activeMachine.name,r.instrumentId=r.activeMachine.instrumentId,r.baskets=s})},r.cancel=function(){r.activeMachine={},r.dehydratorName="",r.dehydrateDataLIst=null,r.dehydrateParams={basketNumbers:"",page:1,length:1e3}},r.start=function(){if(!r.activeMachine.instrumentId)return void a.error("请选择脱水机");t.loading=!0,r.inGrossing=!0;var o={baskets:r.baskets,instrumentId:r.activeMachine.instrumentId};e.startDehydrate(o).then(function(e){if(e&&e.length){t.loading=!1,r.inGrossing=!1;n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/lostGrossingBlocks.html",controller:"LostGrossingBlocksController",controllerAs:"lostBlocks",size:"md",resolve:{data:{blocks:e,data:{baskets:r.baskets,instrumentId:r.instrumentId,ignore:!0}}}})}null==e&&(r.inGrossing=!1,t.loading=!1,a.success("操作成功"),i.go("app.grossing",{},{reload:!0}))},function(t){a.error(t)})["finally"](function(){t.loading=!1,r.inGrossing=!1})},r.pause=function(){e.getDehydratorList({inUse:!0,disabled:!1}).then(function(t){if(t.total){var o=n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydrateStop.html",controller:"DehydrateStopController",controllerAs:"dehydrateStop",size:"md",resolve:{data:function(){return{modalTitle:"暂停脱水",modalDescription:"选择需要暂停的脱水机"}}}});o.result.then(function(t){t&&e.pauseDehydrate(t).then(function(t){a.success("暂停脱水成功"),i.go("app.grossing",{},{reload:!0})},function(t){a.error(t)})})}else a.error("没有正在使用的脱水机")})},r.stop=function(){e.getDehydratorList({inUse:!0,disabled:!1}).then(function(t){if(t.total){var o=n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/grossing/modal/dehydrateStop.html",controller:"DehydrateStopController",controllerAs:"dehydrateStop",size:"md",resolve:{data:function(){return{modalTitle:"结束脱水",modalDescription:"选择需要结束的脱水机"}}}});o.result.then(function(t){t&&e.stopDehydrate({instrumentIds:t}).then(function(t){a.success("结束脱水成功"),i.go("app.grossing",{},{reload:!0})})})}else a.error("没有正在使用的脱水机")})}}t.$inject=["$rootScope","GrossingService","toastr","$uibModal","$state","toolService"],angular.module("pathcloud").controller("GrossingController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){n.get("/paramSetting/frozenCountType").then(function(t){r.frozenCountType=t})}function o(){t.getBiaoshi().then(function(t){r.biaoShiList=t}),t.getCountType().then(function(t){r.countType=t}),t.getBlockUnit().then(function(t){r.blockUnitList=t})}var r=this;r.readFlag=!0,r.activeMenu=[!0,!1,!1],r.showPart=0,r.choseMenu=function(t){r.activeMenu.forEach(function(t,e){r.activeMenu[e]=!1}),r.activeMenu[t]=!0,r.showPart=t},t.getDepartments().then(function(t){r.departmentList=t,r.choseMaterial(t[0].code)}),r.choseMaterial=function(e){r.chosedMaterial=e,t.getTemplate(e,1).then(function(t){t.forEach(function(t){t.parent=e}),r.templateList=t})},r.choseTemplate=function(t){r.chosedTemIndex=t},r.addTemplate=function(){r.templateList.push({name:"",content:"",parent:r.chosedMaterial,level:1,newItem:!0,position:1}),r.templateList[r.templateList.length-1].focus=!0,r.choseTemplate(r.templateList.length-1),console.log("输出当前滚动条位置",window.x,window.y),window.scrollTo(window.x,window.y+25)},r.saveTemplate=function(a){a.name?(delete a.focus,a.newItem?(delete a.newItem,t.createTemplate(a).then(function(t){console.log(" createTemplate success"),a.id=t.id,e.success("添加模板成功")},function(t){e.error(t),a.newItem=!0,a.focus=!0})):t.renameTemplate(a.id,a).then(function(){console.log(" updateTemplate success"),e.success("更新模板成功")},function(t){e.error(t),a.focus=!0})):a.newItem?r.templateList.pop():(e.error("模板名称不能为空"),a.focus=!0)},r.saveTemplateContent=function(a){console.log("configMaterial.chosedTemIndex",r.chosedTemIndex),t.updateTemplate(a.id,a.content).then(function(){e.success("修改成功"),console.log("修改成功")})},r.deleteTemplate=function(){r.templateList[r.chosedTemIndex]&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){t.deleteTemplate(r.templateList[r.chosedTemIndex].id).then(function(){e.success("删除模板成功"),r.templateList.splice(r.chosedTemIndex,1)})})},r.changeText=function(){r.focusText&&r.chosedTemIndex>=0&&r.saveTemplateContent(r.templateList[r.chosedTemIndex]),r.focusText=!r.focusText},i(),r.changeFrozenCountType=function(t){n.put("/paramSetting/frozenCountType/"+t).then(function(t){e.success("修改成功"),i()})},n.get("/paramSetting/grossingNote").then(function(t){r.noteList=t}),r.addNote=function(){n.post("/paramSetting",{name:r.newNote,param:"grossingNote"}).then(function(t){r.noteList.push(t),r.addNewNote=!1,r.newNote="",e.success("添加取材备注成功")},function(t){e.error(t)})},r.delNote=function(t,i){t&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除？"}).then(function(){n["delete"]("/paramSetting/grossingNote/"+t).then(function(t){console.log("删除成功"),r.noteList.splice(i,1)},function(t){e.error(t)})})},n.get("/paramSetting/grossingConfirmPhoto").then(function(t){r.grossingConfirmPhoto=t},function(t){e.error(t.reason)}),r.photoSwitch=function(t){n.put("/paramSetting/grossingConfirmPhoto/"+t).then(function(){e.success("操作成功"),r.grossingConfirmPhoto=t},function(t){e.error(t.reason)})},o(),r.setCountType=function(a){t.setCountType(a).then(function(){e.success("设置编码方式成功")})},r.addBiaoshi=function(){t.addBiaoshi({name:r.newBisaoshi}).then(function(t){r.biaoShiList.push(t),r.addNewBiaoshi=!1,r.newBisaoshi="",e.success("添加标识成功")},function(t){e.error(t)})},r.addBlockUnit=function(){t.addBlockUnit({name:r.newBlockUnit}).then(function(t){r.blockUnitList.push(t),r.addNewBlockUnit=!1,r.newBlockUnit="",e.success("添加组织数单位成功")},function(t){e.error(t)})},r.delBiaoshi=function(n,i){n&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){t.delBiaoshi(n).then(function(t){console.log("删除标识成功"),r.biaoShiList.splice(i,1)},function(t){e.error(t)})})},r.delBlockUnit=function(n,i){n&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除组织单位？"}).then(function(){t.delBlockUnit(n).then(function(t){console.log("删除组织数单位成功"),r.blockUnitList.splice(i,1)},function(t){e.error(t)})})}}t.$inject=["MaterialService","toastr","toolService","IhcService"],angular.module("pathcloud").controller("ConfigMaterialTemplateController",t)}(),function(){"use strict";function t(t,e,a){var n=this;e.get("/paramSetting/grossingTemplate").then(function(i){null==i?n.choose=0:n.choose=i,t.$watch("FormworkMaterial.choose",function(t,n){t&&e.put("/paramSetting/grossingTemplate/"+t).then(function(){t!=n&&a.success("修改成功")},function(t){a.error(t.reason)})})})}t.$inject=["$scope","IhcService","toastr"],angular.module("pathcloud").controller("FormworkMaterial",t)}(),function(){"use strict";function t(t,e,a,n){function i(){n.get("/paramSetting/frozenCountType").then(function(t){r.frozenCountType=t})}function o(){t.getBiaoshi().then(function(t){r.biaoShiList=t}),t.getCountType().then(function(t){r.countType=t}),t.getBlockUnit().then(function(t){r.blockUnitList=t})}var r=this;r.activeMenu=[!0,!1,!1],r.showPart=0,r.choseMenu=function(t){r.activeMenu.forEach(function(t,e){r.activeMenu[e]=!1}),r.activeMenu[t]=!0,r.showPart=t},i(),r.changeFrozenCountType=function(t){n.put("/paramSetting/frozenCountType/"+t).then(function(t){e.success("修改成功"),i()})},n.get("/paramSetting/grossingNote").then(function(t){r.noteList=t}),r.addNote=function(){n.post("/paramSetting",{name:r.newNote,param:"grossingNote"}).then(function(t){r.noteList.push(t),r.addNewNote=!1,r.newNote="",e.success("添加取材备注成功")},function(t){e.error(t)})},r.delNote=function(t,i){t&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除？"}).then(function(){n["delete"]("/paramSetting/grossingNote/"+t).then(function(t){console.log("删除成功"),r.noteList.splice(i,1)},function(t){e.error(t)})})},n.get("/paramSetting/grossingConfirmPhoto").then(function(t){r.grossingConfirmPhoto=t},function(t){e.error(t.reason)}),r.photoSwitch=function(t){n.put("/paramSetting/grossingConfirmPhoto/"+t).then(function(){e.success("操作成功"),r.grossingConfirmPhoto=t},function(t){e.error(t.reason)})},o(),r.setCountType=function(a){t.setCountType(a).then(function(){e.success("设置编码方式成功")})},r.addBiaoshi=function(){t.addBiaoshi({name:r.newBisaoshi}).then(function(t){r.biaoShiList.push(t),r.addNewBiaoshi=!1,r.newBisaoshi="",e.success("添加标识成功")},function(t){e.error(t)})},r.addBlockUnit=function(){t.addBlockUnit({name:r.newBlockUnit}).then(function(t){r.blockUnitList.push(t),r.addNewBlockUnit=!1,r.newBlockUnit="",e.success("添加组织数单位成功")},function(t){e.error(t)})},r.delBiaoshi=function(n,i){n&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){t.delBiaoshi(n).then(function(t){console.log("删除标识成功"),r.biaoShiList.splice(i,1)},function(t){e.error(t)})})},r.delBlockUnit=function(n,i){n&&a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除组织单位？"}).then(function(){t.delBlockUnit(n).then(function(t){console.log("删除组织数单位成功"),r.blockUnitList.splice(i,1)},function(t){e.error(t)})})}}t.$inject=["MaterialService","toastr","toolService","IhcService"],angular.module("pathcloud").controller("ConfigMaterialController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(){o.getDepartments().then(function(t){u.departmentsList=t})}function l(){o.getGrossingUser().then(function(t){console.log("获取取材医生列表数据：-----",t),u.grossingUserList=t})}function c(){o.getGrossingUser().then(function(t){u.secOperatorList=t})}function d(){u.searchData.page=1,u.searchData.length=20,u.searchData.status=null,u.searchData.departments=null,u.searchData.operator=null,u.searchData.secOperator=null}var u=this;u.departmentsList=[],u.grossingUserList=[],u.searchData={},u.defaultTime=1,u.tableHeaders=[{name:"病理号",order:1},{name:"姓名",order:2},{name:"送检科室",order:null},{name:"蜡块号",order:null},{name:"取材部位",order:null},{name:"组织数",order:null},{name:"取材标识",order:null},{name:"取材医生",order:null},{name:"记录人员",order:null},{name:"脱水篮编号",order:null},{name:"取材时间",order:11},{name:"状态",order:null}],u.statusList=[{name:"待取材",value:10},{name:"待取材确认",value:11},{name:"待脱水",value:12},{name:"已撤销",value:41}],u.inspectCategory=[{code:0,name:"常规"},{code:1,name:"冰冻"},{code:2,name:"免疫组化"},{code:3,name:"特染"},{code:4,name:"会诊"}],u.consultStatus=[{code:!0,name:"已申请"},{code:!1,name:"未申请"}],s(),l(),c(),d(),u.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",u.searchData.sort=t.sort,u.searchData.order=t.order,u.getDataList())},u.getDataList=function(){return 10===u.searchData.status&&(u.searchData.operator||u.searchData.secOperator)?(u.grossingData=[],u.totalItems=0,!1):void r(function(){u.searchData.timeStart=u.startTime,u.searchData.timeEnd=u.endTime,o.getGrossingList(u.searchData).then(function(t){u.grossingData=t.data,u.totalItems=t.total})})},u.getDataList(),u.query=function(){delete u.searchData.filter,u.getDataList()},u.search=function(){u.searchStr?u.defaultTime=5:(u.defaultTime=1,delete u.searchData.filter),u.searchData={page:1,length:20,filter:u.searchStr},u.getDataList()},u.reasonModal=function(t){e.get("/grossing/"+t.pathologyId).then(function(t){var e={header:"撤销记录",timeLabel:"撤销时间",time:t.operationTime,operatorLabel:"撤销人",operator:t.operatorName,reasonLabel:"撤销原因",reason:t.note};a.open({templateUrl:"app/site/modal/reasonModal.html",controller:"ReasonModalController",controllerAs:"reasonMod",resolve:{data:function(){return e}}})})}}t.$inject=["$filter","IhcService","$uibModal","$log","PathologyService","MaterialService","$timeout"],angular.module("pathcloud").controller("SearchMaterialController",t)}(),function(){"use strict";function t(t,e,a,n){t.imgUrl=n,"app.embed"===e.current.name&&(t.hideDelete=!0),
t.cancel=function(){a.close()},t.deletePhoto=function(){a.close(!0)}}t.$inject=["$scope","$state","$uibModalInstance","imgUrl"],angular.module("pathcloud").controller("ShowImgController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.modalTitle=a.modalTitle,n.biaoshiList=a.biaoshiList,n.biaoshi=a.biaoshi,n.biaoshiDisabled=a.biaoshiDisabled,n.enter=function(t){var e=window.event?t.keyCode:t.which;13==e&&n.ok()},n.ok=function(){e.close({total:n.text,biaoshi:n.biaoshi})},n.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","modal"],angular.module("pathcloud").controller("MaterialInputModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.modalTitle=a.modalTitle,o.selectTitle=a.selectTitle,o.warning=a.warning,o.textareaTtitle=a.textareaTtitle,o.ok=function(){e.close(o.rejectReason)},o.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","resolveData","paramSettingService","toastr"],angular.module("pathcloud").controller("CancelCreateMaterialModalController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u,p,h,m,g,f){function v(){p.getCountType().then(function(t){A.normalCountType=t,1==t?(P=!1,A.defaultNormalBlockId=1):(P=!0,A.defaultNormalBlockId="A")}),r.get("/paramSetting/frozenCountType").then(function(t){A.frozenCountType=t,1==t?A.defaultFrozenBlockId=1:A.defaultFrozenBlockId="F1"}),r.get("/systemSetting/usingFrozen").then(function(t){A.usingFrozen=t}),r.get("/systemSetting/printFrozen").then(function(t){A.printFrozen=t})}function b(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function y(){g.getLocalPhotoUrlList().then(function(t){console.info("抓取到的本地的照片",t),angular.forEach(t,function(t){A.pathologicData.media.length>=10?u.error("最多只能保存10张照片,请删掉一些照片后再重拍"):(A.pathologicData.media.push({url:t}),g.getBase64(t).then(function(t){A.pathologicData&&o.fileUpload(t,1,A.pathologicData.id).then(function(t){var e=A.pathologicData.media.length;A.pathologicData.media[e-1].id=t[0].id})}))})})}function x(){p.getGrossingUser().then(function(t){A.grossingUserLIst=t}),p.getDepartments().then(function(t){A.departmentList=t}),p.getTemplateUsed(1).then(function(t){A.recentTemplate=t}),p.getBiaoshi().then(function(t){A.biaoshiList=t}),p.getBlockUnit().then(function(t){A.blockUnitList=t}),A.defaultTime=1,A.defaultItem=0,A.activeDdepartment=1,A.basketNumber=n.basketNumber,A.searchData={},A.filterData={createTimeStart:(new Date).setDate((new Date).getDate()-1),sort:null,order:null,page:1,length:17},A.tableHeaders=[{name:"病理号","class":"text-center"},{name:"姓名","class":"text-center"},{name:"状态","class":"text-center"}],A.statusList=[{name:"未登记",value:1},{name:"已登记",value:2},{name:"已拒绝",value:3},{name:"已撤销",value:4}],A.sampleStatusList=[{name:"待取材",value:10},{name:"待重补取",value:110},{name:"待取材确认",value:11}],A.autoPrintList=[{name:"自动打印",value:!0},{name:"手动打印",value:!1}],A.autoPrint=!1,A.allChecked=!1,r.get("/paramSetting/grossingNote").then(function(t){A.noteList=t})}function w(t){return{id:t.id,print:t.print,biaoshi:t.biaoshi,subId:t.subId,bodyPart:t.bodyPart,count:t.count,unit:t.unit,basketNumber:t.basketNumber,note:t.note,number:t.number}}function k(t){A.searchData.filter||delete A.searchData.filter,110==A.status?(A.filterData.reGrossing=!0,A.filterData.status=null):A.status?(A.filterData.reGrossing=!1,A.filterData.status=A.status):(delete A.filterData.reGrossing,A.filterData.status=A.status),d.getPathologyList(t).then(function(t){if(A.pathologicDataList=t.data,A.totalItems=t.total,A.searchData.filter="",t.total<1)return void(A.pathologicData={});var e=A.pathologicDataList[A.defaultItem];A.getOne(e)},function(t){2===t.code?u.error(t.reason,"输入的病理号格式不正确"):u.error(t.reason)})}function D(t,e){function a(t){var e,a,o,r=[],s=[];if(A.defaultNormalBlockId!==A.defaultFrozenBlockId)if(angular.forEach(t,function(t,e){t.isNewAdd=!1,5===t.biaoshi?(r.push(t),a=t,n=e+1):(s.push(t),o=t)}),5===i.biaoshi){if(!a)return e=A.defaultFrozenBlockId;e=a.subId}else{if(!o)return e=A.defaultNormalBlockId;e=o.subId}else{if(!t.length)return e=A.defaultNormalBlockId;e=t[t.length-1].subId}var l=/^[0-9]*$/,c=/^[A-Z]+$/,d=/^[A-Z]+[0-9]+$/,u=/^[0-9]+[A-Z]+$/;if(l.test(e))return e=parseInt(e)+1;if(c.test(e)){var p=_(e);return e=I(parseInt(p)+1)}if(d.test(e)){var h=/[A-Z]+/.exec(e),m=/\d+$/.exec(e);return e=h+(parseInt(m)+1)}if(u.test(e)){var g=/\d+/.exec(e),f=/[A-Z]+$/.exec(e),v=_(f[0]);return v=I(parseInt(v)+1),e=g+v}return""}console.info(e);var n,i={applyId:"",print:0,biaoshi:e||1,subId:A.defaultNormalBlockId,bodyPart:"",count:1,unit:1,basketNumber:null,number:"",note:""};if(i.basketNumber=A.basketNumber,!A.basketNumber||!A.pathologicData.grossingDoctor.id)return void o.getTipResult({modalTitle:"提示",modalContent:"请输入脱水篮编号，选择取材医生。",size:"sm"});e||(A.pathologicData.reGrossing&&A.pathologicData.afterFrozen?(A.pathologicData.biaoshiDisabled=!0,i.biaoshi=2):(A.pathologicData.reGrossing&&(A.pathologicData.biaoshiDisabled=!0,i.biaoshi=2),A.pathologicData.afterFrozen&&!e&&(i.biaoshi=5))),5==i.biaoshi?i.number=A.frozenNumber:2==i.biaoshi?i.applyId=A.pathologicData.applyId:i.number="";for(var r=[],s=[],l=[],c=0;t>c;c++){i.subId=a(A.pathologicData.blocks);var d=angular.copy(i);if(A.autoPrint){s.push(A.pathologicData.serialNumber+"$"+i.subId);var u=[];if(u.push(i.bodyPart,"（"+i.count+"）",i.note),5===i.biaoshi){var p=A.numbers[i.number];u.push(p)}l.push(u.join(";"))}A.autoPrint&&(d.print=1),d.checked=!0,d.isNewAdd=!0,A.pathologicData.blocks.push(angular.copy(d)),r.push(angular.copy(i))}A.autoPrint&&s.length&&T(r,function(){S(s.join(),l.join())})}function T(t,e){var a={print:!0,blocks:t};p.saveMaterial(a,A.pathologicData.id).then(function(){u.success("打印成功！"),e&&e()},function(t){u.error("打印失败",t.reason)})}function S(t,e){h.labWrite(t,e).then(function(){},function(t){u.error("打印失败")})}function I(t){var e="A".charCodeAt(0),a="";do t-=1,a=String.fromCharCode(e+t%26)+a,t=t/26>>0;while(t>0);return a}function _(t){for(var e=0,a=t.length,n=a;--n>-1;)e+=(t.charCodeAt(n)-64)*Math.pow(26,a-1-n);return e}function C(t,e){for(var a={},n=t.length;n;){if(n--,a[t[n][e]])return t[n][e];a[t[n][e]]=t[n][e]}return!1}function M(t,e){var a=[];if(t){var n=t.substring(0,1),i=parseInt(t.substring(1,9));if(a.push(t),!e)return A.startNo=n+(i+1),a}if(e){var o=e.substring(0,1),r=parseInt(e.substring(1,9));if(a.push(e),!t)return A.endNo=o+(r+1),a}if(t&&e){for(;r>i+1;){var s=n+(i+1);a.push(s),i++}return a}}function L(t){for(var e=[],a=1;t;)P?e.push(I(a)):e.push(a),a++,t--;return e}var A=this,P=!1;A.subIdList=[1,"A","A1","B1","C1"],A.defaultNormalBlockId=1,A.defaultFrozenBlockId="F1",v(),A.imgUrlHeader=t.substr(0,t.length-3),A.closeTemplate=function(){A.open&&(A.open=!1)},$("#template").bind("click",function(t){b(t)}),A.changeTemplateStatus=function(t){A.open=!A.open,b(t)},A.imgList=[],A.perItemNum=3,g.clearLocalPhoto();var N=f(function(){A.pathologicData.id&&y()},3e3);e.$on("$destroy",function(){f.cancel(N),g.clearLocalPhoto()}),A.selectPhotoResult={},A.selectPhoto=function(t,e,a){A.selectPhotoResult.url=t,A.selectPhotoResult.index=e,A.selectPhotoResult.id=a,A.photoShow=!0},A.deletePhoto=function(t,e){if(e&&A.photoShow){var a=A.pathologicData.media.splice(t,1)[0];o.fileDelete(a.id),A.photoShow=!1}else u.error("图片暂时不能删除，请稍候")},A.showBigImg=function(t){g.enlargePhoto(t)},m(function(){A.containerWidth=$("#img-container").width(),A.imgStyle={width:A.containerWidth/A.perItemNum+"px",height:" 60px","float":"left"}}),x(),A.search=function(t){var e={filter:A.searchData.filter,createTimeStart:(new Date).setMonth((new Date).getMonth()-6),createTimeEnd:Date.now(),length:10,page:A.filterData.page};if(A.searchData.filter?(A.defaultTime=5,A.filterData.createTimeStart=(new Date).setMonth((new Date).getMonth()-6)):(A.defaultTime=1,A.filterData.createTimeStart=(new Date).setDate((new Date).getDate()-1)),t){var n=window.event?t.keyCode:t.which;13==n&&(A.searchData.filter?(A.searchData.filter&&(A.filterData.filter=angular.copy(A.searchData.filter)),A.defaultItem=0,k(e)):a.go("app.createMaterial",{},{reload:!0}))}else A.searchData.filter?(A.searchData.filter&&(A.filterData.filter=angular.copy(A.searchData.filter)),A.defaultItem=0,k(e)):a.go("app.createMaterial",{},{reload:!0})},A.filter=function(){console.log("filter数据"),console.log(A.filterData),A.filterData.filter=null,A.defaultItem=0,k(A.filterData)},A.getDataList=function(){k(A.filterData)},A.getOne=function(t,e){g.clearLocalPhoto(),A.activeDdepartment=1,A.imgList=[],A.newSlider=!0,r.get("/pathology/"+t.id).then(function(t){var a=t;A.pathologicData=t,A.numbers={},t.afterFrozen&&(A.frozenNumbers=[],angular.forEach(t.frozenNumbers,function(t){var e=t.slice(0,1)+t.slice(-4);A.frozenNumbers.push({number:t,frozenNumber:e}),A.numbers[t]=e}),A.frozenNumber=A.frozenNumbers[A.frozenNumbers.length-1].number),a.blocks||(a.blocks=[]),e&&(A.defaultItem=e),A.active=a.id,(A.pathologicData.reGrossing||A.pathologicData.afterFrozen)&&(A.pathologicData.biaoshiDisabled=!0),s.showVideo(a.id,1).then(function(t){A.pathologicData.media=t,A.photoShow=!1}),A.pathologicData.departments&&A.choseDdepartment(A.pathologicData.departments)})},A.view=function(t){c.getOneByPathologyNo(t).then(function(t){l.open({templateUrl:"app/site/modal/applicationModal.html",size:"lg",controller:"ApplicationModalController",controllerAs:"applicationMod",resolve:{modalTitle:function(){return"病理申请表"},ApplicationData:t[0]}})},function(t){u.error(t)})},r.get("/paramSetting/grossingTemplate").then(function(t){null==t?A.templateType=0:A.templateType=t}),A.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},A.choseDdepartment=function(t){A.activeDdepartment=t,p.getTemplate(t,1).then(function(t){A.templateList=t})},A.choseTemplate=function(t){A.pathologicData.jujianNote=t.content,A.activeTemplate=t.id,p.setTemplateUsed(t.id,1).then(function(){p.getTemplateUsed(1).then(function(t){A.recentTemplate=t})})},A.choseDdepartment(1),A.chkAll=function(){var t=A.pathologicData.blocks.length;if(1==A.allChecked)for(var e=0;t>e;e++)A.pathologicData.blocks[e].status&&A.pathologicData.blocks[e].status>11||(A.pathologicData.blocks[e].checked=!0);else for(var e=0;t>e;e++)A.pathologicData.blocks[e].checked=!1},A.add=function(t){if(t)D(1);else{var e,a=angular.copy(A.biaoshiList),n=1;A.pathologicData.reGrossing&&A.pathologicData.afterFrozen?(e=!1,n=2):A.pathologicData.reGrossing?(e=!0,n=2):A.pathologicData.afterFrozen?n=5:3===A.pathologicData.inspectCategory&&(n=4);var i=l.open({templateUrl:"app/site/drawMaterial/modal/inputModal.html",controller:"MaterialInputModalController",controllerAs:"inputMod",size:"sm",resolve:{modal:{modalTitle:"请输入增加的个数：",biaoshiList:a,biaoshi:n,biaoshiDisabled:e}}});i.result.then(function(t){D(t.total,t.biaoshi)})}},A["delete"]=function(){for(var t=!0,e=0;e<A.pathologicData.blocks.length;e++)1==A.pathologicData.blocks[e].checked&&(t=!1);if(t)return o.getTipResult({modalTitle:"提示",modalContent:"请至少选择删除一条取材记录！",size:"sm"}),!1;var a={modalTitle:"警告",modalContent:"确定要删除已选中的蜡块吗？",size:"sm"};o.getModalResult(a).then(function(t){for(var e=0;e<A.pathologicData.blocks.length;e++)if(1==A.pathologicData.blocks[e].checked){if(A.pathologicData.blocks[e].status&&A.pathologicData.blocks[e].status>11)return u.error("有蜡块已经保存不可删除。"),!1;A.pathologicData.blocks.splice(e,1),e--}})},A.cancel=function(){if(10===A.pathologicData.status){var t=A.pathologicData.id,e=l.open({templateUrl:"app/site/drawMaterial/modal/cancel.html",controller:"CancelCreateMaterialModalController",controllerAs:"textMod",resolve:{resolveData:{modalTitle:"撤销病理检查：",selectTitle:"是否撤销病理号 "+A.pathologicData.serialNumber+"？",warning:"撤销后将终止该病理号的制片流程。",textareaTtitle:"撤销原因："}}});e.result.then(function(e){r.put("/grossing/"+t,e).then(function(){A.getDataList(),u.success("撤单成功")})})}},A.save=function(){var t=C(A.pathologicData.blocks,"subId");if(t)return u.error("蜡块号"+t+"重复");if(!A.pathologicData.grossingDoctor.id)return u.error("请选择取材医生");for(var e=0;e<A.pathologicData.blocks.length;e++)if(""==A.pathologicData.blocks[e])return u.error("蜡块号不能为空");for(var a=angular.copy(A.pathologicData.blocks),e=0;e<a.length;e++)a[e].status&&a[e].status>11?(a.splice(e,1),e--):a[e]=w(a[e]);var o={jujianNote:A.pathologicData.jujianNote,bingdongNote:A.pathologicData.bingdongNote,operatorId:A.pathologicData.grossingDoctor.id,secOperatorId:n.user.id,blocks:a,print:!1};p.saveMaterial(o,A.pathologicData.id).then(function(){u.success("保存成功！"),n.basketNumber!=A.basketNumber&&(i.put("basketNumber",A.basketNumber),n.basketNumber=A.basketNumber),10!=A.filterData.status&&(A.defaultItem++,A.defaultItem===A.pathologicDataList.length&&A.defaultItem--),k(A.filterData)},function(t){u.error("保存失败",t)})},A.print=function(){for(var t=[],e=A.pathologicData.serialNumber,a=[],n=[],i=0;i<A.pathologicData.blocks.length;i++){var o=A.pathologicData.blocks[i];if(o.checked){o.print+=1,t.push(w(o)),a.push(e+"$"+o.subId);var r=[];if(r.push(o.bodyPart,"（"+o.count+"）",o.note),5===o.biaoshi&&1==A.printFrozen){var s=A.numbers[o.number];r.push(s)}n.push(r.join(";"))}}a.length&&T(t,function(){S(a.join(),n.join())})},A.strLength=function(t,e){for(var a=0,n=0;n<t.bodyPart.length;n++){var i=t.bodyPart.charCodeAt(n),o=t.bodyPart.charAt(n);if("$"==o&&(t.bodyPart=t.bodyPart.substr(0,n)),i>=1&&126>=i||i>=65376&&65439>=i?a++:a+=2,a>e){t.bodyPart=t.bodyPart.substr(0,n);break}}},A.subIdPattern=function(t,e){var a=t.subId;return a?(a=a.replace(/[^\w\.\/]/gi,""),a=a.toUpperCase(),t.subId=a,console.info(a),a):!1},A.selectBiaoshi=function(t){5==t.biaoshi&&(blockItem.number="")},k(A.filterData),A.printTool=function(){if(A.startNo)var t=A.startNo,e=t.substring(0,1),a=parseInt(t.substring(1,9));if(A.endNo)var n=A.endNo,i=n.substring(0,1),o=parseInt(n.substring(1,9));if(t&&n){if(t===n)return void u.error("不要输入的相同病理号");if(e!==i)return void u.error("请输入同一个类型的病理号");if(a>o)return void u.error("输入的结束病理号太小")}if(!t&&!n)return void u.error("请输入病理号");if(!A.totalNo)return void u.error("请输入蜡块数");var s=[],l=M(t,n),c=L(A.totalNo);angular.forEach(l,function(t){s.push({pathNo:t,blockSubIds:c})});var d={printData:s,handle:!1};r.post("/grossing/before/print",d).then(function(t){t.inExistencePathNos.length||t.hadBlocksPathNos.length||t.printInfo.length})}}t.$inject=["apiUrl","$scope","$state","$rootScope","$cookieStore","toolService","IhcService","videoService","$uibModal","ApplicationService","PathologyService","toastr","MaterialService","printerService","$timeout","photoService","$interval"],angular.module("pathcloud").controller("CreateMaterialController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d){function u(){s.getLocalPhotoUrlList().then(function(t){t.length&&(p.photoUrl=t[t.length-1],s.getBase64(p.photoUrl).then(function(t){p.base64=t}))})}var p=this;p.checkBox=[],p.basketStr="",p.tableHeaders=[{name:"病理号",order:1},{name:"姓名",order:2},{name:"送检科室",order:3},{name:"蜡块号",order:4},{name:"取材部位",order:5},{name:"组织数",order:6},{name:"取材标识",order:7},{name:"取材医生",order:8},{name:"记录人员",order:9},{name:"脱水篮编号",order:10},{name:"取材时间",order:11}],p.searchData={secOperator:t.user.id,sort:"asc",page:1,length:20,order:1,basketNumbers:null},s.clearLocalPhoto();var h=r(function(){u()},3e3);e.$on("$destroy",function(){r.cancel(h),s.clearLocalPhoto()}),p.enlarge=function(){s.enlargePhoto(p.photoUrl)},n.get("/paramSetting/grossingConfirmPhoto").then(function(t){p.grossingConfirmPhoto=t},function(t){l.error(t.reason)}),p.getDataList=function(){s.clearLocalPhoto(),p.photoUrl=null,p.base64=null,p.searchData.basketNumbers=p.basketStr,c.getConfirmGrossingList(p.searchData).then(function(t){p.grossingData=t.data,p.total=t.total,p.totalPathology=t.totalPathology})},p.getGrossingBasketList=function(){var t=11;c.getGrossingBasketList(t).then(function(t){t&&t.length&&(p.checkBox=t,p.basketStr=t[0].basketNumber,p.getDataList())})},p.getGrossingBasketList(),p.confirmMaterial=function(){return 1!=p.grossingConfirmPhoto||p.base64?(t.loading=!0,void i.fileUpload(p.base64,"grossingConfirm",p.basketStr).then(function(){c.confirmMaterial(p.basketStr).then(function(t){l.success("取材确认成功！"),a.go("app.confirmMaterial",{},{reload:!0})},function(t){l.error(t)})["finally"](function(){p.inConfirm=!1,t.loading=!1})},function(){t.loading=!1,l.error("照片上传失败")})):void l.error("请先拍摄脱水篮照片")}}t.$inject=["$rootScope","$scope","$state","IhcService","toolService","$uibModal","$interval","photoService","toastr","MaterialService","videoService"],angular.module("pathcloud").controller("ConfirmMaterialController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){var s,l=this,c=1;l.grossingList=[],l.activeMenu=[!0,!1],l.showPart=0,l.choseMenu=function(t){l.activeMenu.forEach(function(t,e){l.activeMenu[e]=!1}),l.activeMenu[t]=!0,l.showPart=t,c=t+1,l.grossingList=[],l.getGrossing()},l.getGrossing=function(){r.get("/instrument",{type:c,length:99}).then(function(t){!t.data||t.data.length<1||(l.grossingList=t.data.sort(function(t,e){return t.name-e.name}))})},l.getGrossing(),l.openAdd=function(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/instrument.html",controller:"DyeInstrumentController",controllerAs:"instrument",resolve:{data:{name:s,type:c}}});t.result.then(function(t){r.post("/instrument",t).then(function(){l.getGrossing(),a.success("创建成功")},function(t){a.error(t.reason)})})},l.openUpdate=function(t){var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/instrument.html",controller:"DyeInstrumentController",controllerAs:"instrument",resolve:{data:{id:t.id,name:t.name,sn:t.sn,description:t.description,status:t.status,type:t.status}}});e.result.then(function(t){t.type=c,r.put("/instrument",t).then(function(){l.getGrossing(),a.success("修改成功")},function(t){a.error(t.reason)})})},l.deleteGrossing=function(t){n.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除？",size:"sm"}).then(function(){r["delete"]("/instrument/"+t.id).then(function(t){l.grossingList=[],l.getGrossing(),a.success("删除成功！")},function(t){a.error(t.reason)})})}}t.$inject=["$scope","GrossingService","toastr","toolService","$uibModal","$state","IhcService"],angular.module("pathcloud").controller("DyeSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){l.get("/dye/summary/17").then(function(t){u.currentUserCount=t.currentUserCount,u.totalCount=t.totalCount}),u.totalItems=u.currentUser?u.currentUserCount:u.totalCount}function d(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/sealing.html",controller:"SealingController",controllerAs:"sealing"});t.result.then(function(t){if(0==t){if(!u.instrumentId)return void n.error("请选择封片机");var e={instrumentId:u.instrumentId,currentUser:u.currentUser};l.post("/sealing/confirm/batch",e).then(function(t){n.success("操作成功"),u.dyeInfoList=[],c()},function(t){n.error(t.reason)})}else u.getData(),u.filter.page=1})}var u=this;u.checkedCount=0,u.type=0,c(),u.filter={page:1,length:100},u.getUserData=function(){u.type=1,u.currentUser=!0,u.totalItems=u.currentUserCount,u.totalItems>100?d():(u.filter.page=1,u.getData())},u.getAllData=function(){u.type=1,u.currentUser=!1,u.totalItems=u.totalCount,u.totalItems>100?d():(u.filter.page=1,u.getData())},u.getData=function(){u.type=1,u.checkedCount=0,u.allChecked=!1,l.get("/dye/list/17/"+u.currentUser,u.filter).then(function(t){u.dyeInfoList=t.data})};var p={page:1,length:100,status:0,type:2};l.get("/instrument",p).then(function(t){u.instruments=t.data}),u.dyeInfoList=[],u.getDyeInfo=function(){return u.slideNo?u.slideNo.indexOf("%")>=0?(n.error("输入有误"),!1):void l.get("/sealing/"+u.slideNo).then(function(t){if(!t)return!1;if(0===t.length)return void n.error("该蜡块所有的玻片都已封片！");if(t.operator){var e="该玻片于"+s("date")(t.operatorTime,"yyyy-MM-dd HH:mm")+"被"+t.operatorDesc+"封片，目前状态是"+t.statusDesc;return n.error(e),!1}if(t.pathNo){var a=t.pathNo;t.blockSubNo&&(a+=t.blockSubNo);var e=a+"当前状态为："+t.statusDesc;return void n.error(e)}angular.forEach(t,function(t,e){t.check=!0}),1==u.type?u.dyeInfoList=t:(u.dyeInfoList=u.dyeInfoList.concat(t),u.dyeInfoList=_.unionBy(u.dyeInfoList,t,"id")),u.type=0,u.checkedCount=0,angular.forEach(u.dyeInfoList,function(t,e,a){t.check&&(u.checkedCount+=1)})},function(t){console.info(t),2==t.code?n.error("输入有误"):n.error(t.reason)}):!1},u.chkAll=function(){u.allChecked?(angular.forEach(u.dyeInfoList,function(t,e,a){t.check=!0}),u.checkedCount=u.dyeInfoList.length):(angular.forEach(u.dyeInfoList,function(t,e,a){t.check=!1}),u.checkedCount=0)},u.check=function(t){console.log(t),t?u.checkedCount+=1:u.checkedCount-=1},u.startDye=function(){if(!u.instrumentId)return void n.error("请选择封片机");var t=[];if(angular.forEach(u.dyeInfoList,function(e,a,n){e.check&&t.push(e.id)}),t.length){var e={slideIds:t,instrumentId:u.instrumentId};l.post("/sealing/confirm",e).then(function(a){if(a&&a.length){var o=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/lostDyeSlides.html",controller:"LostDyeSlidesController",controllerAs:"lostSlides",size:"md",resolve:{data:function(){return{lostSlides:a,idList:t,text:{cancelText:"取消封片",confirmText:"确认封片"}}}}});o.result.then(function(t){e.ignore=!0,l.post("/sealing/confirm",e).then(function(){n.success("操作成功"),c(),0==u.type?(u.slideNo=null,u.dyeInfoList=[]):u.getData()},function(t){n.error(t.reason)})})}null===a&&(n.success("操作成功"),c(),0==u.type?(u.slideNo=null,u.dyeInfoList=[]):u.getData())},function(t){n.error(t.reason)})}}}t.$inject=["$scope","$rootScope","$state","toastr","$uibModal","DyeService","toolService","$filter","IhcService"],angular.module("pathcloud").controller("sealingController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.defaultTime=1,r.searchData.page=1,r.searchData.length=20,r.searchData.status=null,r.searchData.operatorId=null}var r=this;r.searchData={},r.operatorList=[],r.dyeDataList=[],r.defaultTime=1;var s={page:1,length:100,status:0};i.get("/instrument",s).then(function(t){r.instruments=t.data}),e(function(){$("button").click(function(){$("#searchInput").focus()})},1e3),r.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"玻片号"},{name:"取材医生"},{name:"取材标识"},{name:"染色技术员"},{name:"染色机"},{name:"染色时间",order:9},{name:"封片技术员"},{name:"封片机"},{name:"封片时间"},{name:"样本状态"}],r.statusList=[{name:"待染色",value:16},{name:"待封片",value:17},{name:"待制片确认",value:18}],r.getOperator=function(){n.getOperator().then(function(t){r.operatorList=t})},r.getOperator(),o(),r.getDyeData=function(){e(function(){r.searchData.startTime=r.startTime,r.searchData.endTime=r.endTime,n.getDyeData(r.searchData).then(function(t){r.dyeDataList=t.data,r.dyeDataCount=t.total})})},r.getDyeData(),r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.searchData.sort=t.sort,r.searchData.order=t.order,r.getDyeData())},r.search=function(){r.searchStr?r.defaultTime=5:(r.defaultTime=1,delete r.searchData.filter),r.searchData={page:1,length:20,filter:r.searchStr},r.getDyeData()},r.query=function(){delete r.searchData.filter,r.getDyeData()}}t.$inject=["$scope","$timeout","toastr","DyeService","IhcService"],angular.module("pathcloud").controller("searchDyeController",t)}(),function(){"use strict";function t(t){var e=this;e.ok=function(e){t.close(e)}}t.$inject=["$uibModalInstance"],angular.module("pathcloud").controller("SealingController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this;r.lostSlides=i.lostSlides,r.confirmText=i.text.confirmText,r.cancelText=i.text.cancelText,r.ok=function(){a.close()},r.cancel=function(){a.dismiss()}}t.$inject=["$scope","$state","$uibModalInstance","DyeService","data","toastr"],angular.module("pathcloud").controller("LostDyeSlidesController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.addData=i||{},o.snErr="",o.nameErr="",o.ok=function(){t.close(o.addData)},o.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","GrossingService","$state","toastr","data"],angular.module("pathcloud").controller("DyeInstrumentController",t)}(),function(){"use strict";function t(t){var e=this;e.ok=function(e){t.close(e)}}t.$inject=["$uibModalInstance"],angular.module("pathcloud").controller("DyeController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.activeMenu=[!0,!1,!1],o.showPart=0,o.choseMenu=function(t){o.activeMenu.forEach(function(t,e){o.activeMenu[e]=!1}),o.activeMenu[t]=!0,o.showPart=t};var r=3;o.getGrossing=function(){i.get("/instrument",{type:r,length:99}).then(function(t){!t.data||t.data.length<1||(o.grossingList=t.data.sort(function(t,e){return t.name-e.name}))})},o.getGrossing(),o.openAdd=function(){var t=n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/instrument.html",controller:"DyeInstrumentController",controllerAs:"instrument",resolve:{data:{name:"",type:r}}});t.result.then(function(t){i.post("/instrument",t).then(function(){o.getGrossing(),e.success("创建成功")},function(t){e.error(t.reason)})})},o.openUpdate=function(t){var a=n.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/instrument.html",controller:"DyeInstrumentController",controllerAs:"instrument",resolve:{data:{id:t.id,name:t.name,sn:t.sn,description:t.description,status:t.status,type:t.status}}});a.result.then(function(t){t.type=r,i.put("/instrument",t).then(function(){o.getGrossing(),e.success("修改成功")},function(t){e.error(t.reason)})})},o.deleteGrossing=function(t){a.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除？",size:"sm"}).then(function(){i["delete"]("/instrument/"+t.id).then(function(t){o.grossingList=[],o.getGrossing(),e.success("删除成功！")},function(t){e.error(t.reason)})})}}t.$inject=["MaterialService","toastr","toolService","$uibModal","IhcService"],angular.module("pathcloud").controller("FreezeSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){o.getDyeCount().then(function(t){u.currentUserCount=t.currentUserCount,u.totalCount=t.totalCount}),u.totalItems=u.currentUser?u.currentUserCount:u.totalCount}function d(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/dye.html",controller:"DyeController",controllerAs:"dye"});t.result.then(function(t){if(0==t){if(!u.instrumentId)return void n.error("请选择染色机");var e={instrumentId:u.instrumentId,currentUser:u.currentUser};l.post("/dye/confirm/batch",e).then(function(t){n.success("染色保存成功"),u.dyeInfoList=[],c()},function(t){n.error(t.reason)})}else u.filter.page=1,u.getData()})}var u=this;u.checkedCount=0,u.type=0,c(),u.filter={page:1,length:100},u.getUserData=function(){u.type=1,u.currentUser=!0,u.totalItems=u.currentUserCount,u.totalItems>100?d():(u.filter.page=1,u.getData())},u.getAllData=function(){u.type=1,u.currentUser=!1,u.totalItems=u.totalCount,u.totalItems>100?d():(u.filter.page=1,u.getData())},u.getData=function(){u.type=1,u.checkedCount=0,u.allChecked=!1,l.get("/dye/list/16/"+u.currentUser,u.filter).then(function(t){u.dyeInfoList=t.data})};var p={page:1,length:100,status:0,type:1};l.get("/instrument",p).then(function(t){u.instruments=t.data}),u.dyeInfoList=[],u.getDyeInfo=function(){return u.slideNo?u.slideNo.indexOf("%")>=0?(n.error("输入有误"),!1):void o.getDyeInfo(u.slideNo).then(function(t){if(!t)return!1;if(0===t.length)return void n.error("该蜡块所有的玻片都已染色！");if(t.operator){var e="该玻片于"+s("date")(t.operatorTime,"yyyy-MM-dd HH:mm")+"被"+t.operatorDesc+"染色，目前状态是"+t.statusDesc;return n.error(e),!1}if(t.pathNo){var a=t.pathNo;t.blockSubNo&&(a+=t.blockSubNo);var e=a+"当前状态为："+t.statusDesc;return void n.error(e)}angular.forEach(t,function(t,e){t.check=!0}),1==u.type?u.dyeInfoList=t:(u.dyeInfoList=u.dyeInfoList.concat(t),u.dyeInfoList=_.unionBy(u.dyeInfoList,t,"id")),u.type=0,u.checkedCount=0,angular.forEach(u.dyeInfoList,function(t,e,a){t.check&&(u.checkedCount+=1)})},function(t){console.info(t),2==t.code?n.error("输入有误"):n.error(t.reason)}):!1},u.chkAll=function(){u.allChecked?(angular.forEach(u.dyeInfoList,function(t,e,a){t.check=!0}),u.checkedCount=u.dyeInfoList.length):(angular.forEach(u.dyeInfoList,function(t,e,a){t.check=!1}),u.checkedCount=0)},u.check=function(t){console.log(t),t?u.checkedCount+=1:u.checkedCount-=1},u.startDye=function(){if(!u.instrumentId)return void n.error("请选择染色机");var t=[];if(angular.forEach(u.dyeInfoList,function(e,a,n){e.check&&t.push(e.id)}),t.length){var e={slideIds:t,instrumentId:u.instrumentId};o.startDye(e).then(function(a){if(a&&a.length){var r=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/dye/modal/lostDyeSlides.html",controller:"LostDyeSlidesController",controllerAs:"lostSlides",size:"md",resolve:{data:{lostSlides:a,idList:t,text:{}}}});r.result.then(function(t){e.ignore=!0,o.startDye(e).then(function(){n.success("染色保存成功"),c(),0==u.type?(u.slideNo=null,u.dyeInfoList=[]):u.getData()},function(t){n.error(t)})})}null===a&&(n.success("染色保存成功"),c(),0==u.type?(u.slideNo=null,u.dyeInfoList=[]):u.getData())},function(t){n.error(t)})}}}t.$inject=["$scope","$rootScope","$state","toastr","$uibModal","DyeService","toolService","$filter","IhcService"],angular.module("pathcloud").controller("createDyeController",t)}(),function(){"use strict";function t(t,e,a,n){t.imgUrl=n,"app.embed"===e.current.name&&(t.hideDelete=!0),t.cancel=function(){a.close()},t.deletePhoto=function(){a.close(!0)}}t.$inject=["$scope","$state","$uibModalInstance","imgUrl"],angular.module("pathcloud").controller("ShowImgController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.modalTitle=a.modalTitle,o.selectTitle=a.selectTitle,o.warning=a.warning,o.textareaTtitle=a.textareaTtitle,o.ok=function(){e.close(o.rejectReason)},o.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","resolveData","paramSettingService","toastr"],angular.module("pathcloud").controller("CancelCreateMaterialModalController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(){o.getDepartments().then(function(t){u.departmentsList=t})}function l(){o.getGrossingUser().then(function(t){console.log("获取取材医生列表数据：-----",t),u.grossingUserList=t})}function c(){o.getGrossingUser().then(function(t){u.secOperatorList=t})}function d(){u.searchData.page=1,u.searchData.length=20,u.searchData.status=null,u.searchData.departments=null,u.searchData.operator=null,u.searchData.secOperator=null}var u=this;u.departmentsList=[],u.grossingUserList=[],u.searchData={},u.defaultTime=1,u.tableHeaders=[{name:"编号",order:null},{name:"病理号",order:1},{name:"姓名",order:2},{name:"送检科室",order:null},{name:"玻片号",order:null},{name:"取材部位",order:null},{name:"组织数",order:null},{name:"取材标识",order:null},{name:"取材医生",order:null},{name:"记录人员",order:null},{name:"冰冻切片机",order:null},{name:"取材时间",order:11},{name:"状态",order:null}],u.statusList=[{name:"待取材",value:10},{name:"待一级诊断",value:20},{name:"待二级诊断",value:21},{name:"待三级诊断",value:22}],s(),l(),c(),d(),u.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",u.searchData.sort=t.sort,u.searchData.order=t.order,u.getDataList())},u.getDataList=function(){return 10===u.searchData.status&&(u.searchData.operator||u.searchData.secOperator)?(u.grossingData=[],u.totalItems=0,!1):void r(function(){u.searchData.timeStart=u.startTime,u.searchData.timeEnd=u.endTime,e.get("/frozen",u.searchData).then(function(t){u.grossingData=t.data,u.totalItems=t.total})})},u.getDataList(),u.query=function(){delete u.searchData.filter,u.getDataList()},u.search=function(){u.searchStr?u.defaultTime=5:(u.defaultTime=1,delete u.searchData.filter),u.searchData={page:1,length:20,filter:u.searchStr},u.getDataList()},u.reasonModal=function(t){e.get("/grossing/"+t.pathologyId).then(function(t){var e={header:"撤销记录",timeLabel:"撤销时间",time:t.operationTime,operatorLabel:"撤销人",operator:t.operatorName,reasonLabel:"撤销原因",reason:t.note};a.open({templateUrl:"app/site/modal/reasonModal.html",controller:"ReasonModalController",controllerAs:"reasonMod",resolve:{data:function(){return e}}})});
}}t.$inject=["$filter","IhcService","$uibModal","$log","PathologyService","MaterialService","$timeout"],angular.module("pathcloud").controller("FreezeSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u,p,h,m,g,f){function v(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function b(){g.getLocalPhotoUrlList().then(function(t){I.pathologicData&&I.pathologicData.media&&angular.forEach(t,function(t){I.pathologicData.media.length>=10?d.error("最多只能保存10张照片,请删掉一些照片后再重拍"):(I.pathologicData.media.push({url:t}),g.getBase64(t).then(function(t){I.pathologicData&&o.fileUpload(t,35,I.pathologicData.id,I.number).then(function(t){console.log("图片上传成功",I.pathologicData.media);var e=I.pathologicData.media.length;I.pathologicData.media[e-1].id=t[0].id})}))})})}function y(){var t={page:1,length:100,status:0,type:3};r.get("/instrument",t).then(function(t){I.instruments=t.data}),u.getGrossingUser().then(function(t){I.grossingUserLIst=t}),u.getDepartments().then(function(t){I.departmentList=t}),u.getTemplateUsed(1).then(function(t){I.recentTemplate=t}),u.getBiaoshi().then(function(t){I.biaoshiList=t}),u.getBlockUnit().then(function(t){I.blockUnitList=t}),I.defaultTime=1,I.defaultItem=0,I.activeDdepartment=1,I.basketNumber=n.basketNumber,I.searchData={},I.filterData={createTimeStart:(new Date).setDate((new Date).getDate()-1),sort:null,order:null,page:1,length:17},I.tableHeaders=[{name:"编号","class":"text-center"},{name:"姓名","class":"text-center"},{name:"状态","class":"text-center"}],I.sampleStatusList=[{name:"待取材",value:10}],I.autoPrintList=[{name:"自动打印",value:!0},{name:"手动打印",value:!1}],I.autoPrint=!1,I.allChecked=!1,r.get("/paramSetting/grossingNote").then(function(t){I.noteList=t})}function x(t){r.get("/frozen/"+t).then(function(t){I.pathologicData.slides=t||[]})}function w(t){if(S=I.pathologicData.slides&&0===I.pathologicData.slides.length?1:parseInt(I.pathologicData.slides[I.pathologicData.slides.length-1].subId)+1,!I.basketNumber||!I.pathologicData.grossingDoctor.id)return void o.getTipResult({modalTitle:"提示",modalContent:"请选择冰冻切片机，选择取材医生。",size:"sm"});for(var e=[],a=[],n=[],i=0;t>i;i++){var r={print:0,biaoshi:4,subId:S,bodyPart:"",count:1,unit:1,basketNumber:I.basketNumber,note:""},s=angular.copy(r);if(I.autoPrint){e.push(r),a.push(I.pathologicData.serialNumber+"$0$"+r.subId);var l=[];l.push(r.bodyPart,"（"+r.count+"）",r.note,I.number),n.push(l.join(";"))}else s.checked=!0;I.pathologicData.slides.push(s),S++}I.autoPrint&&D(e,function(){T(a.join(),n.join())})}function k(t){return{id:t.id,print:t.print,biaoshi:t.biaoshi,subId:t.subId,bodyPart:t.bodyPart,count:t.count,unit:t.unit,basketNumber:t.basketNumber,note:t.note}}function D(t,e){var a={print:!0,number:I.number,blocks:t};r.post("/frozen/"+I.pathologicData.id,a).then(function(){d.success("保存成功！"),x(I.number),e&&e()},function(t){d.error("保存失败",t.reason)})}function T(t,e){p.labWrite(t,e).then(function(){},function(t){d.error(t)})}var S,I=this,_=0;I.pathologicDataList=[],I.imgUrlHeader=t.substr(0,t.length-3),r.get("/paramSetting/grossingTemplate").then(function(t){null==t?I.templateType=0:I.templateType=t}),I.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},I.closeTemplate=function(){I.open&&(I.open=!1)},$("#template").bind("click",function(t){v(t)}),I.changeTemplateStatus=function(t){I.open=!I.open,v(t)},I.imgList=[],I.perItemNum=3;var C=f(function(){b()},3e3);e.$on("$destroy",function(){f.cancel(C),g.clearLocalPhoto()}),I.selectPhotoResult={},I.selectPhoto=function(t,e,a){I.selectPhotoResult.url=t,I.selectPhotoResult.index=e,I.selectPhotoResult.id=a,I.photoShow=!0},I.deletePhoto=function(t,e){if(e&&I.photoShow){var a=I.pathologicData.media.splice(t,1)[0];o.fileDelete(a.id),I.photoShow=!1}else d.error("图片暂时不能删除，请稍候")},I.showBigImg=function(t){g.enlargePhoto(t)},m(function(){I.containerWidth=$("#img-container").width(),I.imgStyle={width:I.containerWidth/I.perItemNum+"px",height:" 60px","float":"left"}}),y(),I.search=function(t){I.searchData={filter:I.searchStr,page:1},I.searchData.filter?I.defaultTime=5:(I.defaultTime=1,delete I.searchData.filter),I.defaultItem=0,I.getDataList()},I.query=function(){delete I.searchData.filter,I.searchData.page=1,I.defaultItem=0,I.getDataList()},I.getDataList=function(){I.searchData.inspectCategory=3,I.searchData.length=17,m(function(){I.searchData.createTimeStart=I.startTime,I.searchData.createTimeEnd=I.endTime,r.get("/frozen/prepare",I.searchData).then(function(t){if(I.pathologicDataList=t.data,I.totalItems=t.total,t.total<1)return void(I.pathologicData={});var e=I.pathologicDataList[I.defaultItem];I.getOne(e)},function(t){2===t.code?d.error(t.reason,"输入的病理号格式不正确"):d.error(t.reason)})},0)},I.getDataList(),I.getOne=function(t,e){g.clearLocalPhoto(),t&&(I.deleteBlocks=[],I.activeDdepartment=1,I.number=t.number,I.active=t.id,I.status=t.status,_=0,I.imgList=[],I.newSlider=!0,e&&(I.defaultItem=e),r.get("/pathology/"+t.causeId).then(function(e){I.pathologicData=e,x(t.number),I.pathologicData.reGrossing&&(I.pathologicData.biaoshiDisabled=!0),h.showVideo(e.id,35,{tag:I.number}).then(function(t){I.photoShow=!1,I.pathologicData.media=t}),I.pathologicData.departments&&I.choseDdepartment(I.pathologicData.departments)}))},I.view=function(t){l.getOneByPathologyNo(t).then(function(t){s.open({templateUrl:"app/site/modal/applicationModal.html",size:"lg",controller:"ApplicationModalController",controllerAs:"applicationMod",resolve:{modalTitle:function(){return"病理申请表"},ApplicationData:t[0]}})},function(t){d.error(t)})},I.choseDdepartment=function(t){I.activeDdepartment=t,u.getTemplate(t,1).then(function(t){I.templateList=t})},I.choseTemplate=function(t){I.pathologicData.bingdongNote=t.content,I.activeTemplate=t.id,u.setTemplateUsed(t.id,1).then(function(){u.getTemplateUsed(1).then(function(t){I.recentTemplate=t})})},I.choseDdepartment(1),I.chkAll=function(){var t=I.pathologicData.slides.length;if(I.allChecked===!0)for(var e=0;t>e;e++)I.pathologicData.slides[e].checked=!0;else for(var e=0;t>e;e++)I.pathologicData.slides[e].checked=!1},I.add=function(t){var e={modalTitle:"请输入增加的个数",size:"sm"};t?w(t):o.getInputModal(e).then(function(t){w(t)})},I["delete"]=function(){for(var t=!0,e=0;e<I.pathologicData.slides.length;e++)1==I.pathologicData.slides[e].checked&&(t=!1);if(t)return d.error("请至少选择删除一条取材记录！"),!1;var a={modalTitle:"警告",modalContent:"确定要删除已选中的蜡块吗？",size:"sm"};o.getModalResult(a).then(function(t){for(var e=0;e<I.pathologicData.slides.length;e++)I.pathologicData.slides[e].checked===!0&&(I.pathologicData.slides[e].id&&I.deleteBlocks.push(I.pathologicData.slides[e].id),I.pathologicData.slides.splice(e,1),e--)})},I.save=function(){if(!I.basketNumber||!I.pathologicData.grossingDoctor.id)return void o.getTipResult({modalTitle:"提示",modalContent:"请选择冰冻切片机，选择取材医生。",size:"sm"});var t={print:!1,number:I.number,bingdongNote:I.pathologicData.bingdongNote,operatorId:I.pathologicData.grossingDoctor.id,secOperatorId:n.user.id,blocks:[],deleteBlocks:I.deleteBlocks};angular.forEach(I.pathologicData.slides,function(e){t.blocks.push(k(e))}),r.post("/frozen/"+I.pathologicData.id,t).then(function(){d.success("保存成功！"),I.getDataList()},function(t){d.error("保存失败",t)})},I.print=function(){for(var t=[],e=I.pathologicData.serialNumber,a=[],n=[],i=0;i<I.pathologicData.slides.length;i++){var o=I.pathologicData.slides[i];if(o.checked){t.push(k(o)),a.push(e+"$0$"+o.subId);var r=[];r.push(o.bodyPart,"（"+o.count+"）",o.note,I.number),n.push(r.join(";"))}}a.length&&D(t,function(){T(a.join(),n.join())})},I.strLength=function(t,e){for(var a=0,n=0;n<t.bodyPart.length;n++){var i=t.bodyPart.charCodeAt(n),o=t.bodyPart.charAt(n);if("$"==o&&(t.bodyPart=t.bodyPart.substr(0,n)),i>=1&&126>=i||i>=65376&&65439>=i?a++:a+=2,a>e){t.bodyPart=t.bodyPart.substr(0,n);break}}}}t.$inject=["apiUrl","$scope","$state","$rootScope","$cookieStore","toolService","IhcService","$uibModal","ApplicationService","PathologyService","toastr","MaterialService","printerService","videoService","$timeout","photoService","$interval"],angular.module("pathcloud").controller("FreezeMaterialController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){function l(){p.slideFilter={},p.data={},p.productionList=[],p.userSearchList=[],h=[],p.searchData={page:1,length:20,total:0},p.confirmData={archivingMethod:31}}function c(){var t=_.groupBy(h,"pathId"),e=[];for(var a in t){var n=[];t[a].forEach(function(t){n.push(t.slideId)}),e.push({pathId:parseInt(a),slideIds:n})}return e}function d(t){var e=_.groupBy(t,"blockSubId"),a=[];for(var n in e)a=_.concat(a,_.sortBy(e[n],"slideSubId"));return a}function u(t){if(console.info("handleProductResult===",t),!t||!t.length)return a.error("该病理存档数据为空"),!1;var e=t.filter(function(t){return null!=t.slideId});h=_.unionBy(h,e,"slideId"),h=d(h),p.productionList=_.slice(h,0,20),p.searchData.total=h.length}var p=this,h=[];p.tableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"玻片号"},{name:"申请类别"},{name:"特染标记"},{name:"取材标识"},{name:"状态"}],p.archivingMethodList=[{name:s.T("晾片"),code:31},{name:s.T("长期保存"),code:14}],p.getSlide=function(){r.get("/archiving/slide/"+p.slideFilter.serialNumber,p.slideFilter).then(function(t){p.userSearchList.push(t),u(t)},function(t){a.error(t.reason)})},p.save=function(){p.confirmData.archiveSlides=c(),r.post("/archiving/slide/confirm",p.confirmData).then(function(t){if(t&&t.length>0){var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/archive/modal/lostSlide.html",controller:"LostSlideController",controllerAs:"lostSlide",size:"lg",resolve:{lostData:function(){return t}}});e.result.then(function(){p.save()})["finally"](function(){})}else a.success("保存成功"),l()},function(t){a.error(t.reason)})},p.changePage=function(t){p.productionList=_.slice(h,(t-1)*p.searchData.length,t*p.searchData.length)},l()}t.$inject=["$scope","$interval","toastr","ProductService","$uibModal","toolService","IhcService","T"],angular.module("pathcloud").controller("SlideArchiveController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){c.productionList=[],c.slideFilter={},c.option={minDate:Date()},c.saveData={borrowType:1,archiveIds:[]}}function s(){var t=i.open({backdrop:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/archive/modal/voucher.html",controller:"VoucherModalController",controllerAs:"voucher",size:"lg",resolve:{data:function(){return{slides:c.productionList,borrower:c.saveData}}}});t.result.then(function(t){r()})}function l(t){console.info("handleProductResult===",t);var e=t.filter(function(t){return null!=t.slideId});c.productionList=_.unionBy(c.productionList,e,"slideId")}var c=this;c.activeMenu=1,c.choseMenu=function(t){c.activeMenu=t},c.slideTableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"玻片号"},{name:"特染标记"},{name:"患者姓名"},{name:"晾片架编号"},{name:"抽屉编号"},{name:"删除"}],r(),c.getSlide=function(){n.get("/archiving/slide/borrow/"+c.slideFilter.serialNumber,c.slideFilter).then(function(t){if(t.length>1){var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/archive/modal/addSlide.html",controller:"AddSlideModalController",controllerAs:"addSlideModal",resolve:{allSlideList:function(){return t}}});e.result.then(function(t){t&&t.length&&l(t)})["finally"](function(){})}else l(t)},function(t){a.error(t.reason)})},c.save=function(){return c.productionList.length?(c.saveData.planBack=c.saveData.planBack.getTime(),angular.forEach(c.productionList,function(t,e,a){c.saveData.archiveIds.push(t.id)}),void n.post("/archiving/slide/borrow",c.saveData).then(function(t){a.success("操作成功"),c.isPrint&&s(),r()},function(t){a.error(t.reason)})):!1}}t.$inject=["$scope","$state","toastr","IhcService","$uibModal","printerService"],angular.module("pathcloud").controller("BorrowArchiveController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$scope","$interval","toastr","IhcService"],angular.module("pathcloud").controller("ReturnArchiveController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(t){var e=[];for(var a in t)e.push({serialNumber:a,patientName:t[a][0].patientName,total:t[a].length});return e}var s=this;s.borrower=o.borrower,s.borrower.time=Date.now();var l=_.groupBy(o.slides,"serialNumber");s.slides=r(l),s.confirm=function(){n.printDom(document.getElementById("voucher").innerHTML,"打印玻片借阅凭证"),e.close()},s.cancel=function(){e.dismiss()}}t.$inject=["$rootScope","$uibModalInstance","toastr","printerService","$timeout","data"],angular.module("pathcloud").controller("VoucherModalController",t)}(),function(){"use strict";function t(t,e,a){var n=this,i=[],o=[];n.showIndex=0,n.handelType=3,n.lostData=t,n.ok=function(){n.lostData.forEach(function(t){"0"!==t.handelType&&i.push({abnormalId:t.id,handle:parseInt(t.handelType),note:t.note})}),i&&i.length>0?e.setProductionAbnormal(i).then(function(){a.close(o)}):a.close(o)},n.cancel=function(){a.dismiss()}}t.$inject=["lostData","ProductService","$uibModalInstance"],angular.module("pathcloud").controller("LostSlideController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){}var s=this;s.slideList=o,s.checkedBlocks=[],r(),s.chkAll=function(){if(s.allChecked)for(var t=0;t<s.slideList.length;t++){var e=s.slideList[t];e.check=!0}else{console.info("取消全选");for(var t=0;t<s.slideList.length;t++){var e=s.slideList[t];e.check=!1}}},s.confirm=function(){var e=[];angular.forEach(s.slideList,function(t,a,n){t.check&&(delete t.check,e.push(t))}),t.close(e)},s.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","toastr","SystemSettingService","$timeout","IhcService","allSlideList"],angular.module("pathcloud").controller("AddSlideModalController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.activeMenu=0,i.choseMenu=function(t){i.activeMenu=t}}t.$inject=["$scope","$interval","toastr","IhcService"],angular.module("pathcloud").controller("QueryrchiveController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.activeMenu=0,n.choseMenu=function(t){n.activeMenu=t}}t.$inject=["$scope","$state","toastr"],angular.module("pathcloud").controller("settingDiagnosisController",t)}(),function(){"use strict";function t(t,e,a,n){var i,o=this;$("#logo").change(function(){var a=document.getElementById("logo").files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(a){var n=this.result;if(n.length>102400){var i=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/cutPic/cutPic.html",controller:"cutPicController",controllerAs:"cutPic",resolve:{urlData:function(){return n}}});i.result.then(function(e){t.reportTemplate.reportTemplateVO.imageURL=e})}else t.$apply(function(){t.reportTemplate.reportTemplateVO.imageURL=n})}}),n.getReportTemplate().then(function(e){console.info(e),t.reportTemplate=e[0],console.info(t.reportTemplate),i=e[0].id}),o.save=function(){console.info(t.reportTemplate),n.updateReportTemplate(i,t.reportTemplate).then(function(t){a.success("保存成功"),console.info(t)})},o.create=function(){n.createReportTemplate(t.reportTemplate).then(function(t){console.info(t)})}}t.$inject=["$scope","$uibModal","toastr","DiagnosisService"],angular.module("pathcloud").controller("ReportTemplateController",t)}(),function(){"use strict";function t(t,e,a){var n=this;e.get("/paramSetting/diagnoseTemplate").then(function(i){null==i?n.choose=0:n.choose=i,t.$watch("FormworkDiagnosis.choose",function(t,n){e.put("/paramSetting/diagnoseTemplate/"+t).then(function(){t!=n&&a.success("修改成功")},function(t){a.error(t.reason)})})})}t.$inject=["$scope","IhcService","toastr"],angular.module("pathcloud").controller("FormworkController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){d(),p.handleKeyDown=function(t){var e=window.event?t.keyCode:t.which;if(13==e||229==e||186==e){if(""===p.marker||/[；;\$\#]/.test(p.marker))return console.log("输入不合法"),void a.error("输入不合法");t.preventDefault(),t.stopImmediatePropagation(),o.get("/reagent/name",{name:p.marker,type:2}).then(function(t){return t?(p.marks.indexOf(p.marker)<0&&p.marks.push(p.marker),void(p.marker="")):(a.error("试剂库不存在"+p.marker+"抗体"),!1)})}}}function s(){var t={name:p.activeType.name,param:"specialDye"};o.post("/systemSetting",t).then(function(t){a.success("操作成功")},function(t){a.error(t.reason)})["finally"](function(){d()})}function l(){var t={name:p.activeType.name,param:"specialDye",code:p.activeType.code};o.put("/systemSetting/specialDye",t).then(function(t){a.success("操作成功")},function(t){a.error(t.reason)})["finally"](function(){d()})}function c(){o["delete"]("/systemSetting/specialDye/"+p.activeType.code).then(function(t){a.success("操作成功")},function(t){a.error(t.reason)})["finally"](function(){d()})}function d(){o.get("/systemSetting/specialDye").then(function(t){p.dyeTypeList=t},function(t){a.error(t.reason)})}function u(t,e){var n=i.isExistInArrObj(t,e);return n?(a.error(n.value,"重复数据"),!0):!1}var p=this;r(),p.choseDyeType=function(t,e){p.activeType=t,p.activeType.index=e},p.addDyeType=function(t){var e={name:"",focus:!0};p.dyeTypeList.push(e),p.activeType=e,p.activeType.index=p.dyeTypeList.length},p.saveDyeType=function(t){if(t.focus=!1,t.name){if(u(p.dyeTypeList,"name"))return;t.code?l():s()}else p.dyeTypeList.pop(),p.activeType=p.dyeTypeList[p.dyeTypeList.length-1]},p.deleteDyeType=function(t){if(console.info("删除内容",p.dyeTypeList[t]),!p.dyeTypeList[t].code)return void p.dyeTypeList.splice(t,1);var e={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};i.getModalResult(e).then(function(){c()})},n.getDepartments().then(function(t){p.departmentList=t,p.choseMaterial(t[0].code)}),p.choseMaterial=function(t){p.marks=[],p.chosedMaterial=t,n.getTemplate(t,3).then(function(e){e.forEach(function(e){e.parent=t}),p.templateList=e,p.choseTemplate(0)})},p.choseTemplate=function(t){t>=0&&p.templateList[t]&&(p.chosedTemIndex=t,p.marks=p.templateList[t].marks?p.templateList[t].marks:p.templateList[t].content?JSON.parse(p.templateList[t].content):[])},p.addTemplate=function(){p.templateList.push({name:"",marks:[],parent:p.chosedMaterial,level:1,newItem:!0,position:3}),p.templateList[p.templateList.length-1].focus=!0,p.choseTemplate(p.templateList.length-1),window.scrollTo(window.x,window.y+25)},p.saveTemplate=function(t){t.name?(delete t.focus,t.newItem?(delete t.newItem,n.createTemplate(t).then(function(e){t.id=e.id,a.success("添加模板成功")},function(e){a.error(e),t.newItem=!0,t.focus=!0})):n.renameTemplate(t.id,t).then(function(){a.success("更新模板成功")},function(e){a.error(e),t.focus=!0})):t.newItem?p.templateList.pop():(a.error("模板名称不能为空"),t.focus=!0)},p.saveTemplateContent=function(t){o.put("/template/edit/"+t.id,{marks:t.marks}).then(function(){a.success("修改成功")})},p.deleteTemplate=function(){p.templateList[p.chosedTemIndex]&&i.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){n.deleteTemplate(p.templateList[p.chosedTemIndex].id).then(function(){a.success("删除模板成功"),p.templateList.splice(p.chosedTemIndex,1)})})},p.changeText=function(){p.templateList[p.chosedTemIndex]&&(p.focusText&&p.chosedTemIndex>=0&&(p.templateList[p.chosedTemIndex].content=p.marks,p.templateList[p.chosedTemIndex].marks=p.marks,p.saveTemplateContent(p.templateList[p.chosedTemIndex])),p.focusText=!p.focusText)}}t.$inject=["$scope","$state","toastr","MaterialService","toolService","IhcService"],angular.module("pathcloud").controller("DyeingTemplateController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){function l(){i.getDiagnoseTemplate(1).then(function(t){console.info(t)}),o.getDepartments().then(function(t){d.departmentList=t}),d.choseDdepartment(d.activeDdepartment||1)}var c,d=this;d.templateContentVO=[],d.choseDdepartment=function(t){d.activeDdepartment=t,d.templateContentVO={},i.getDiagnoseTemplate(t).then(function(t){d.templateList=t,t.length&&(d.activeTemplate==t.length&&(d.activeTemplate=0),d.choseTemplate(t[d.activeTemplate||0],d.activeTemplate||0))})},d.choseTemplate=function(t,e){d.activeTemplate=e,c=t.id,console.warn(t),d.templateContentVO=t.templateContentVO,d.template=t},d.addTemplate=function(){var t={name:"",parent:d.activeDdepartment,templateContentVO:[],newItem:!0,level:1};d.templateList.push(t),d.templateList[d.templateList.length-1].focus=!0,d.choseTemplate(d.templateList[d.templateList.length-1],d.templateList.length-1)},d.saveTemplate=function(t){t.name?(delete t.focus,t.newItem?(delete t.newItem,i.createDiagnoseTemplate(t).then(function(t){a.success("添加模板成功"),l(),n(function(){d.choseDdepartment(d.activeDdepartment),d.choseTemplate(d.templateList[d.DiagnosisTpl.activeTemplate],c)})},function(t){a.error(t),d.templateList.pop()})):i.renameDiagnoseTemplate(t.id,t).then(function(){a.success("更新模板成功")},function(t){a.error(t)})):t.newItem?d.templateList.pop():(a.error("模板名称不能为空"),t.focus=!0)},d.edit=function(){var t=r.open({templateUrl:"app/site/diagnosis/modal/editTemplate/editTemplate.html",size:"sample-error",controller:"EditDiagnosisTemplate",controllerAs:"EditDiagnosisTpl",resolve:{resolveData:function(){return d.template}}});t.result.then(function(){l()},function(){})},d.deleteTemplate=function(){c&&s.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){i.deleteDiagnoseTemplate(c).then(function(t){a.success("删除模板成功"),l()})})},l()}t.$inject=["$scope","$state","toastr","$timeout","DiagnosisService","MaterialService","$uibModal","toolService"],angular.module("pathcloud").controller("DiagnosisTemplateController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){function l(){i.getCustomTemplate(null,5,0).then(function(t){u.OneLevelList=t,t.length&&(u.activeTemplate==t.length&&(u.activeTemplate=0),u.choseTemplate(t[u.activeTemplate||0],u.activeTemplate||0))}),c(u.activeTemplate||1)}function c(t){i.getCustomTemplate(t,5,0).then(function(t){u.TwoLevelList=t,t.length&&(u.twoTemplate==t.length&&(u.twoTemplate=0),u.choseTwoTemplate(t[u.twoTemplate||0],u.twoTemplate||0))})}function d(t){var e={content:t.content};o.put("/template/edit/"+t.id,e).then(function(){a.success("修改成功")},function(t){a.error(t.reason)})}var u=this;l(),u.choseTemplate=function(t,e){u.activeTemplate=e,u.activeTemplateId=t.id,c(u.activeTemplate)},u.choseTwoTemplate=function(t,e){u.twoTemplate=e,u.twoTemplateId=t.id},u.addTemplate=function(t,e){var a={name:"",parent:0==e?null:u.activeTemplate,category:0,position:5,content:"",newItem:!0,level:e};t.push(a),t[t.length-1].focus=!0,0==e?u.choseTemplate(t[t.length-1],t.length-1):u.choseTwoTemplate(t[t.length-1],t.length-1)},u.deleteTemplate=function(t){t&&s.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){i.deleteCustomTemplate(t).then(function(t){a.success("删除模板成功"),l()})})},u.saveTemplate=function(t,e){t.name?(delete t.focus,t.newItem?(delete t.newItem,i.customDiagnoseTemplate(t).then(function(t){a.success("添加模板成功"),l()},function(t){a.error(t),e.pop()})):i.renameCustomTemplate(t.id,t).then(function(){a.success("更新模板成功")},function(t){a.error(t)})):t.newItem?e.pop():(a.error("模板名称不能为空"),t.focus=!0)},u.changeText=function(){u.focusText&&d(u.TwoLevelList[u.twoTemplate]),u.focusText=!u.focusText}}t.$inject=["$scope","$state","toastr","$timeout","DiagnosisService","IhcService","$uibModal","toolService"],angular.module("pathcloud").controller("CustomTemplateController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u,p,h,m){function g(){l.getLocalPhotoUrlList().then(function(t){angular.forEach(t,function(t){var e={url:t,tag:"1"};m.totalPhoto.length>=10?n.error("最多只能保存10张照片,请删掉一些照片后再重拍"):(m.totalPhoto.push(e),f(e))})})}function f(t){l.getBase64(t.url).then(function(e){I.pathologicalData.id&&u.fileUpload(e,10,I.pathologicalData.id).then(function(e){t.id=e[0].id})})}function v(){I.serialNumber="",I.pathologicalData={result:{resultDom:"<div></div>"}},$("#test").empty(),I.userSeeHtml="",I.percentage=0,I.iconList=[1,1,1,1,1],b(!0)}function b(e){if(_.intersection(t.user.permissionCodes,[4096,8192]).length>0&&(I.isReportShow=!0),e)I.isButtonAble.material=!0,I.isButtonAble.section=!0,I.isButtonAble.special=!0,I.isButtonAble.star=!0,I.isButtonAble.template=!0,I.isButtonAble.diagnosis=!0,I.isReportShow&&(I.isButtonAble.report=!0);else{if(I.pathologicalData.specialApplyId)return I.isReportShow&&(I.isButtonAble.report=!1),I.isButtonAble.diagnosis=!1,I.isButtonAble.material=!0,I.isButtonAble.section=!0,I.isButtonAble.special=!0,I.isButtonAble.star=!0,(I.pathologicalData.marker||I.pathologicalData.markers)&&(I.isButtonAble.material=!1,I.isButtonAble.section=!1,I.isButtonAble.special=!1,I.isButtonAble.star=!1,I.isButtonAble.template=!1),!1;if(I.pathologicalData.status<20||I.pathologicalData.status>=24){if(I.pathologicalData.status<20){var a=[];r.getBlockDataByPathology(I.pathologicalData.id).then(function(t){a=t,console.log("canSection-canSection",a),a.length&&(I.isButtonAble.section=!1)})}24===I.pathologicalData.status&&(n.error("当前病理待出报告，无法进行其他操作！"),I.pathologicalData.countWatchedSlide===I.pathologicalData.countSlides&&(I.isButtonAble.report=!1)),I.isButtonAble.material=!0,I.isButtonAble.special=!0,I.isButtonAble.star=!0,I.isButtonAble.template=!0,I.isButtonAble.diagnosis=!0}else I.isButtonAble.material=!1,I.isButtonAble.section=!1,I.isButtonAble.special=!1,I.isButtonAble.star=!1,I.isButtonAble.template=!1,I.isButtonAble.diagnosis=!1,I.isReportShow&&(I.isButtonAble.report=!1),25!==I.pathologicalData.status&&I.isReportShow&&(20===I.pathologicalData.status||21===I.pathologicalData.status||22===I.pathologicalData.status||24===I.pathologicalData.status)&&(I.isButtonAble.report=!1),(21===I.pathologicalData.status&&0===_.intersection(t.user.permissionCodes,[4096,8192]).length||22===I.pathologicalData.status&&0===_.intersection(t.user.permissionCodes,[8192]).length||I.pathologicalData.status>22)&&(I.isButtonAble.material=!0,I.isButtonAble.section=!0,I.isButtonAble.special=!0,I.isButtonAble.star=!0,I.isButtonAble.template=!0,I.isButtonAble.diagnosis=!0,I.isButtonAble.report=!0),(_.intersection(t.user.permissionCodes,[8192]).length||22===I.pathologicalData.status)&&(I.isButtonAble.diagnosis=!0)}}function y(t){r.getMicroImages(t).then(function(t){m.totalPhoto=t||[]})}function x(t,e){var a="<div class='clearfix'>";return t?t.forEach(function(t){var n="";"string"==typeof t?n=t.length>100?t:I.imgUrlHeader+t:"object"==typeof t&&(n=I.imgUrlHeader+t.url),a+="<img crossOrigin = 'anonymous' class=' "+(e||"jujianImg")+" ' src='"+n+"' >"}):a+="无",a+"</div>"}function w(t){switch(t&&(I.status=t),I.status){case 1:I.filterData.delay=!1;break;case 2:I.filterData.delay=!1,I.filterData.delayTime=I.delayTime;break;case 3:I.filterData.delay=!0;break;default:delete I.filterData.delay}}function k(){if(I.activeHistoryTab=0,I.pathologicalData.id){var t="",e=I.pathologicalData.id;r.getDiagnosisInfo(e).then(function(t){I.diagnosisHistoryData=t},function(e){t="暂无",I.diagnosisData=t})}}function D(){var t=$("#test .imageDesc").text().trim(),e=$("#test div,#test p").not(".imageDesc,.img-group").text().trim();return t||e||(e=$("#test").text()),{resultDom:I.pathologicalData.result.resultDom,specialResult:T(),outConsultResult:I.pathologicalData.outConsultResult,microDiagnose:t,diagnose:e,assignDiagnose:I.userId,note:I.note}}function T(){if(4===I.pathologicalData.type)return I.pathologicalData.specialResult;if(0!==I.pathologicalData.type&&1!==I.pathologicalData.type&&I.markers.length){var t=[];angular.forEach(I.markers,function(e,a){e.unit&&t.push(e.name+"("+e.unit+")")});var e=t.join("；");return e}}function S(){a.go("app.CreateDiagnosis",{},{reload:!0})}var I=this;I.delayTime=(new Date).setHours(0,0,0,0)+86399999,I.specialUnitList=["+","++","+++","-","--","---","α","β","γ"],I.photoTags=[{code:"2",value:"10x100 HE"},{code:"1",value:"10x40 HE"},{code:"3",value:"10x20 HE"},{code:"4",value:"10x10 HE"},{code:"5",value:"10x4 HE"},{code:"6",value:"10x100 IHC"},{code:"7",value:"10x40 IHC"},{code:"8",value:"10x20 IHC"},{code:"9",value:"10x10 IHC"},{code:"10",value:"10x4 IHC"},{code:"11",value:"10x100 冰冻"},{code:"12",value:"10x40 冰冻"},{code:"13",value:"10x20 冰冻"},{code:"14",value:"10x10 冰冻"},{code:"15",value:"10x4 冰冻"}],I.pathologicalData={},I.operateNote="",I.percentage=0,I.iconList=[1,1,1,1,1],I.openFlag=!1,I.departmentsList=t.departments,I.specialTypeList=[{code:0,name:"常规"},{code:1,name:"冰冻"},{code:2,name:"免疫组化"},{code:3,name:"特染"},{code:4,name:"会诊"}],I.templatesList=[],I.perItemNum=3,I.newSlider=!0,I.recentTemplate=[],I.imgUrlHeader=u.getImgHeader(),I.diagnosisPermission=!1,I.reportPermission=!1,I.canReport=!0,I.sectionPermission=!1,I.isReportShow=!1,I.isButtonAble={star:!0,material:!0,section:!0,special:!0,diagnosis:!0,report:!0,template:!0},I.casesList=[{code:"1",name:"疑难病例"}],m.totalPhoto=[],l.clearLocalPhoto(),l.initStasticPath();var C=s(function(){I.pathologicalData.id&&g()},3e3);m.$on("$destroy",function(){s.cancel(C),l.clearLocalPhoto(),l.initAutoPath()}),m.deletePhoto=function(t,e){r.deleteImages(t).then(function(){m.totalPhoto.splice(e,1)},function(t){n.error("删除照片失败")})},m.insertPhoto=function(t){for(var e=0,a=0;e<m.totalPhoto.length;e++)if(m.totalPhoto[e].check&&a++,a>=2&&!t.check)return void n.error("最多插入两张照片到报告");var i={pathId:I.pathologicalData.id,fileId:t.id,specialId:I.pathologicalData.specialApplyId,check:!t.check};p.put("/file/check",i).then(function(e){t.check=!t.check},function(t){n.error("图片插入报告失败",t.reason)})},I.deletePhoto=function(){l.clearLocalPhoto()},I.selectPhotoTag=function(t){return t.id?void p.put("/file/tag/"+t.id+"/"+t.tag).then(function(t){},function(e){t.tag=null,n.error("修改图片标签失败")}):void n.error("图片还在上传中")},m.showBigImg=function(t){l.enlargePhoto(t)},I.countStar=function(){I.iconList=[1,1,1,1,1];var t=0,e=0;if(I.average=Math.round(2*I.pathologicalData.score.average),I.average%2===0){t=I.average/2;for(var a=0;t>a;a++)I.iconList[a]=2}else{t=parseInt(I.average/2),e=1;for(var a=0;t>a;a++)I.iconList[a]=2;I.iconList[t]=3}return I.iconList},e(function(){I.containerWidth=$("#img-container").width(),I.imgStyle={width:I.containerWidth/I.perItemNum+"px",padding:"0 5px","float":"left"}}),I.getDataByPathology=function(t,e){if(l.clearLocalPhoto(),e>=0?I.index=e:I.index=null,m.tab2Index=0,t)if(I.activePathologyItem=t,I.type=t.type,0===t.type)I.serialNumber=t.serialNumber;else{I.serialNumber=t.number;var a={special:!0}}return I.serialNumber?void r.getDataByPathology(I.serialNumber,a).then(function(t){if(I.serialNumber=null,I.pathologicalData=t,I.casesType=null==t.label?void 0:I.casesList[t.label-1].code,I.pathologicalData.delay=t.estimateReportTime<(new Date).setHours(0,0,0,0),I.pathologicalData.status>22?(I.pathologicalData.delay=!1,I.pathologicalData.delayDesc=I.pathologicalData.statusName):t.estimateReportTime<(new Date).setHours(0,0,0,0)?I.pathologicalData.delayDesc="延期":I.pathologicalData.delayDesc="正常待发",I.markers=[],t.markers){if(t.specialResult){var e=t.specialResult.split("；"),a={};angular.forEach(e,function(t,e){var n=t.indexOf("("),i=t.indexOf(")"),o=t.substring(0,n),r=t.substring(n+1,i);a[o]=r})}angular.forEach(t.markers,function(t,e){I.markers.push({name:t,unit:a&&a[t]})})}if(p.get("/diagnose/special/history/"+t.serialNumber).then(function(t){t&&(I.specialHistoryResult=t)}),k(),I.sampleMaterialInfo(),I.pathologicalData.result={resultDom:I.pathologicalData.result},u.convertImgToSamllBase64(t.grossingImages,75,50).then(function(e){var a="";e.length>0&&("string"==typeof e&&(e=[e]),a=x(e)),I.userSeeHtml="<div><p>"+(t.jujianNote||"")+"</p><p>"+(t.bingdongNote||"")+"</p></div>",I.userSeeContent=I.userSeeHtml+"<p class='clearfix'>"+a+"</p>"}),I.pathologicalData){var n=I.pathologicalData.countWatchedSlide/I.pathologicalData.countSlides*100;I.percentage=Math.round(n)}else I.percentage=0;I.pathologicalData&&I.pathologicalData.score?I.iconList=I.countStar():I.iconList=[1,1,1,1,1],y(t.id),I.pathologicalData.result||(I.pathologicalData.result={resultDom:""}),b()},function(t){v(),1===t.code?n.error("该病理号由医生:"+t.data.firstName+"诊断"):n.error("该记录不存在或者输入条件格式不正确！")}):(I.isButtonAble.all=!0,
void n.error("请输入病理号或病理号-蜡块号-玻片号！"))},I.sampleStatusList=[{name:"待诊断",code:1},{name:"即将延期",code:2},{name:"报告延期",code:3}],I.defaultSelectTime=1,I.filterData={page:1,length:17,filter:null,createTimeStart:"",createTimeEnd:""},I.getDiagnosisList=function(){w(),r.getDelayTotal().then(function(t){I.delayDiagnosisTotal=t}),r.getDelayTotal({delayTime:I.delayTime}).then(function(t){I.willDelayDiagnosisTotal=t}),e(function(){r.getDiagnosisList(I.filterData).then(function(t){I.diagnosisList=t.data,I.total=t.total,I.filterData.page=t.page,I.filterData.delayTime=null},function(t){t.code=1})})},I.getDiagnosisList(),I.query=function(){I.getDiagnosisList()},I.getDelayPathologic=function(){I.defaultSelectTime=5,w(3),I.filterData.departments=null,I.getDiagnosisList()},I.getWillDelayPathologic=function(){I.defaultSelectTime=5,w(2),I.getDiagnosisList()},I.sampleMaterialInfo=function(){if(I.pathologicalData.id){if(1===I.pathologicalData.type)var t=I.pathologicalData.number;d.sampleMaterialInfo(I.pathologicalData.id,t).then(function(t){I.materialInfo=t})}},p.get("/paramSetting/diagnoseTemplate").then(function(t){null==t?I.templateType=0:I.templateType=t}),I.getRecentTemplate=function(){c.getTemplateUsed(2).then(function(t){I.recentTemplate=t})},I.getRecentTemplate(),I.setRecentTemplate=function(t){c.setTemplateUsed(t,2).then(function(t){I.getRecentTemplate()})},I.getTemplatesList=function(t){I.activeDepartment=t,r.getDiagnoseTemplate(t).then(function(t){I.templatesList=t,I.templatesList.length&&(I.activeTemplate=I.templatesList[0].id)})},I.getTemplatesData=function(t,e){if(I.activeTemplate=t,!e.length)return void n.error("当前模板的内容为空，请先去设置处填充该模板！");var a=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/templateInfo/templateInfo.html",controller:"templateInfoController",controllerAs:"templateInfo",resolve:{content:function(){return e}}});a.result.then(function(e){I.setRecentTemplate(t),I.pathologicalData.result.resultDom=(I.pathologicalData.result.resultDom||"")+e,I.openFlag=!1})},I.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},I.closeTemplate=function(){I.openFlag&&(I.openFlag=!1)},I.openTemplate=function(t,e){if(I.openFlag=!e,I.stopPropagation(t),I.openFlag&&0==I.templateType)if(I.pathologicalData.departments){var a={code:I.pathologicalData.departments,name:I.pathologicalData.departmentsDesc};I.departmentsList=[],I.departmentsList.push(a),I.getTemplatesList(I.departmentsList[0].code)}else c.getDepartments().then(function(t){I.departmentsList=t,I.getTemplatesList(I.departmentsList[0].code)})},I.submitUpConfirm=function(){r.confirmDiagnosis(I.pathologicalData.id,D()).then(function(t){S(),n.success("提交上级诊断成功！")},function(t){n.error("提交上级诊断失败，请检查后重新尝试！")})},v(),I.openInsertSampleNames=function(){return I.pathologicalData.serialNumber?void o.getOneByPathologyNo(I.pathologicalData.serialNumber).then(function(t){I.samples=t[0].samples;var e="";angular.forEach(I.samples,function(t,a,n){e+="<div>"+t.name+"</div>"}),I.pathologicalData.result.resultDom||(I.pathologicalData.result.resultDom=""),I.pathologicalData.result.resultDom+=e}):void n.error("请输入病理号或病理号-蜡块号-玻片号！")},I.openViewApply=function(){return I.pathologicalData.serialNumber?void o.getOneByPathologyNo(I.pathologicalData.serialNumber).then(function(t){i.open({templateUrl:"app/site/modal/applicationModal.html",size:"lg",controller:"ApplicationModalController",controllerAs:"applicationMod",resolve:{modalTitle:function(){return"病理申请表"},ApplicationData:function(){return t[0]}}})},function(t){n.error(t)}):void n.error("请输入病理号或病理号-蜡块号-玻片号！")},I.openViewHistory=function(){if(!I.pathologicalData.serialNumber)return void n.error("请输入病理号或病理号-蜡块号-玻片号！");var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/viewHistory/viewHistory.html",controller:"viewHistoryController",controllerAs:"viewHistory",size:"lg",resolve:{pathId:function(){return I.pathologicalData.id}}});t.result.then(function(){})},I.openCollcetModal=function(){if(!I.pathologicalData.serialNumber)return void n.error("请输入病理号或病理号-蜡块号-玻片号！");var t;t=I.pathologicalData.specialApplyId?{targetId:I.pathologicalData.specialApplyId,category:2}:{targetId:I.pathologicalData.id,category:1};var e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/collect/collect.html",controller:"DiagnosisCollectModalController",controllerAs:"collectModal",resolve:{data:function(){return t}}});e.result.then(function(){})},I.openQualityGrade=function(){if(!I.pathologicalData.serialNumber)return void n.error("请输入病理号或病理号-蜡块号-玻片号！");if(!I.pathologicalData.slideId)return void n.error("无法对病理号进行评分，只能对指定的玻片进行评分！");if(!I.isButtonAble.star){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/qualityGrade/qualityGrade.html",controller:"qualityGradeController",controllerAs:"qualityGrade",resolve:{slideId:function(){return I.pathologicalData.slideId},scoreData:function(){return angular.copy(I.pathologicalData.score)}}});t.result.then(function(t){I.pathologicalData.score=t,I.iconList=[1,1,1,1,1],I.iconList=I.countStar()})}},I.openAgainMaterial=function(){var t={id:I.pathologicalData.id,serialNumber:I.pathologicalData.serialNumber,patientName:I.pathologicalData.patientName,note:I.operateNote},e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/againMaterial/againMaterial.html",controller:"againMaterialController",controllerAs:"againMaterial",resolve:{data:function(){return t}}});e.result.then(function(){S()})},I.openHeavySection=function(){var t={id:I.pathologicalData.id,serialNumber:I.pathologicalData.serialNumber,patientName:I.pathologicalData.patientName,blockSubId:I.pathologicalData.blockSubId,blockId:I.pathologicalData.blockId,note:I.operateNote},e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/heavySection/heavySection.html",controller:"heavySectionController",controllerAs:"heavySection",resolve:{data:function(){return t}}});e.result.then(function(){S()})},I.openApplySpecial=function(){var t={applicationId:I.pathologicalData.applicationId,serialNumber:I.pathologicalData.serialNumber,patientName:I.pathologicalData.patientName,blockSubId:I.pathologicalData.blockSubId,blockId:I.pathologicalData.blockId,pathid:I.pathologicalData.id,department:I.pathologicalData.department,diagnoseDom:I.pathologicalData.result.resultDom,specialHistoryResult:I.specialHistoryResult,canApplyIhc:I.pathologicalData.canApplyIhc,ihcId:I.pathologicalData.ihcId,canApplySpecialDye:I.pathologicalData.canApplySpecialDye,specialDyeId:I.pathologicalData.specialDyeId},e=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/applySpecial/applySpecial.html",controller:"applySpecialController",controllerAs:"applySpecial",resolve:{data:function(){return t}}});e.result.then(function(){})},I.openDiagnosisType=function(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/diagnosisType/diagnosisType.html",controller:"diagnosisTypeController",controllerAs:"diagnosisType"});t.result.then(function(t){I.userId=t.userId,I.note=t.note,I.submitUpConfirm()})},I.openConsultModal=function(){var t=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/consultApply/consult.html",controller:"diagnoseConsultApplyController",controllerAs:"diagnose"});t.result.then(function(t){var e,a={note:t};I.pathologicalData.specialApplyId?(a.special=!0,e=I.pathologicalData.specialApplyId):(a.special=!1,e=I.pathologicalData.id),p.post("/diagnose/out/"+e,a).then(function(){n.success("操作成功！"),I.getDataByPathology(I.activePathologyItem)},function(t){n.success("操作失败！")})})},I.openReportResult=function(){var t=[];angular.forEach(m.totalPhoto,function(e){e.check&&t.push(e.url)});var e=D(),a=i.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/diagnosis/modal/reportResult/reportResult.html",controller:"reportResultController",controllerAs:"reportResult",size:"lg",resolve:{resolveData:function(){return{checkPhotos:t,inspectCategory:I.pathologicalData.inspectCategory,pathId:I.pathologicalData.id,type:I.pathologicalData.type,outConsult:I.pathologicalData.outConsult,outConsultResult:I.pathologicalData.outConsultResult,markers:I.pathologicalData.markers,specialApplyId:I.pathologicalData.specialApplyId,userSeeHtml:I.userSeeHtml,diagnosis:e,label:I.casesType}}}});a.result.then(function(){S()})},I.useMicroscope=function(){p.post("/microscopeTracking",{})},I.save=function(){if((4===I.pathologicalData.type||I.pathologicalData.outConsult)&&!I.pathologicalData.specialResult&&!I.pathologicalData.outConsultResult)return n.error("请填写会诊内容"),!1;var t=I.pathologicalData.id,e=$("#test .imageDesc").text().trim(),a=$("#test div,#test p").not(".imageDesc,.img-group").text().trim();e||a||(a=$("#test").text());var i={resultDom:I.pathologicalData.result.resultDom,diagnose:a,assignDiagnose:I.userId,specialApplyId:I.pathologicalData.specialApplyId,specialResult:T(),label:I.casesType,outConsultResult:I.pathologicalData.outConsultResult};p.post("/diagnose/save/"+t,i).then(function(t){n.success("保存成功！")})},v()}t.$inject=["$rootScope","$timeout","$state","toastr","$uibModal","ApplicationService","DiagnosisService","$interval","photoService","MaterialService","QueryService","toolService","IhcService","$filter","$scope"],angular.module("pathcloud").controller("createDiagnosisController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){i.getDepartments().then(function(t){d.departmentsList=t})}function s(){n.getDiagnosisDoctor().then(function(t){d.grossingUserList=t})}function l(){n.getReportDoctor().then(function(t){d.reportUserList=t})}function c(){d.defaultTime=1,d.searchData.page=1,d.searchData.length=20,d.searchData.status=null,d.searchData.departments=null,d.searchData.diagnoseDoctor=null,d.searchData.reportDoctor=null}var d=this;d.departmentsList=[],d.grossingUserList=[],d.reportUserList=[],d.searchData={},d.defaultTime=1,d.outConsultList=[{code:!0,name:"已申请"},{code:!1,name:"未申请"}],d.specialTypeList=[{code:0,name:"常规"},{code:1,name:"冰冻"},{code:2,name:"免疫组化"},{code:3,name:"特染"},{code:4,name:"会诊"}],d.statusList=[{name:"待一级诊断",value:20},{name:"待二级诊断",value:21},{name:"待三级诊断",value:22},{name:"待会诊",value:23},{name:"已发报告",value:25},{name:"特殊染色",value:16},{name:"重补取",value:10},{name:"深切",value:15}],d.tableHeaders=[{name:"病理号",order:1},{name:"姓名",order:2},{name:"检查类别"},{name:"送检科室",order:null},{name:"收片医生",order:null},{name:"一级诊断",order:null},{name:"二级诊断",order:null},{name:"三级诊断",order:null},{name:"审核医生",order:null},{name:"报告时间",order:8},{name:"状态",order:null}],r(),s(),l(),c(),d.search=function(t){d.searchStr?d.defaultTime=5:d.defaultTime=1,d.searchData={page:1,length:20,filter:d.searchStr},d.getGrossingDataList()},d.query=function(t){delete d.searchData.filter,d.getGrossingDataList()},d.getSortList=function(t){"asc"===t.sort?t.sort="desc":t.sort="asc",d.searchData.sort=t.sort,d.searchData.order=t.order,d.getGrossingDataList()},d.getGrossingDataList=function(t){o(function(){d.searchData.createTimeStart=d.startTime,d.searchData.createTimeEnd=d.endTime,n.getPathologyData(d.searchData).then(function(t){d.grossingData=t.data,d.totalItems=t.total})})},d.getGrossingDataList()}t.$inject=["$scope","$state","toastr","DiagnosisService","MaterialService","$timeout"],angular.module("pathcloud").controller("searchDiagnosisController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.tableHeaders=[{name:"编号"},{name:"姓名"},{name:"性别"},{name:"年龄"},{name:"收藏标签"},{name:"查看权限"},{name:"收藏日期"},{name:"收藏备注"}],r.defaultTime=1,r.params={page:r.page||1,length:r.length},r.typeList=[{name:"罕见",code:1},{name:"随访",code:2},{name:"科研",code:3},{name:"教学",code:4}],r.statusList=[{name:"我的收藏",code:1},{name:"他人收藏",code:2}]}var r=this;r.checkedBlocks=[],r.length=20,o(),r.getDataList=function(t){r.params={page:r.page||1,length:r.length,filter:r.searchStr,startTime:r.startTime||Date.now(),endTime:r.endTime||Date.now(),label:r.label,permission:r.permission,collect:r.collect},1===t&&delete r.params.filter,0===t&&(r.searchStr?(r.defaultTime=5,r.params={page:r.page||1,length:r.length,filter:r.searchStr,startTime:r.startTime||Date.now(),endTime:r.endTime||Date.now()}):(r.defaultTime=1,r.searchStr=void 0,delete r.params.filter)),n(function(){r.params.startTime=r.startTime,r.params.endTime=r.endTime,e.get("/diagnose/collect",r.params).then(function(t){r.data=t.data,r.total=t.total,r.page=t.page})},0)},r.getDataList(),r["export"]=function(){a["export"](r.params,"/diagnose/collect/export")},r.remove=function(){var a=[];angular.forEach(r.data,function(t,e){t.check&&a.push(t.collectId)}),e["delete"]("/diagnose/collect",a).then(function(e){t.success("删除成功"),r.getDataList()},function(e){t.error(e.reason)})},r.check=function(t){console.log(t)},r.checkAll=function(){r.allChecked?angular.forEach(r.data,function(t,e,a){t.check=!0}):angular.forEach(r.data,function(t,e,a){t.check=!1})}}t.$inject=["toastr","IhcService","toolService","$timeout","$uibModal"],angular.module("pathcloud").controller("collectDiagnosisController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){n.statisticData().then(function(t){r.statisticDataList=t})}var r=this;r.activeItem,r.tableHeaders=[{name:"病理号"},{name:"蜡块号"},{name:"玻片号"},{name:"当前状态"},{name:"等待时间"},{name:"最后操作人"},{name:"最后操作时间"},{name:"处理"}],r.filter={page:1,length:15},o(),r.getOne=function(t){r.activeItem=t||{},r.filter.totalError=t.errorTotal,r.changePage()},r.waitingTime=function(t){var e=(new Date).getTime(),a=(e-t)/1e3,n=(a/3600).toFixed(2);return n+"小时"},r.dealOne=function(t){i.open({templateUrl:"app/site/caseQuery/modal/sampleError.html",size:"sample-error",controller:"SampleErrorController",controllerAs:"SampleE",resolve:{resolveData:function(){return{modalTitle:"异常处理",pathId:t.pathologyId,blockId:t.blockId,pathologyNumber:t.pathologyNumber,subId:t.subId,status:t.status,statusName:t.statusName}}}}).result.then(function(){r.changePage()})},r.changePage=function(){n.abnormalDataList(r.filter,r.activeItem.status).then(function(t){r.abnormalDataList=t,o()})}}t.$inject=["$scope","$state","toastr","ProductService","$uibModal"],angular.module("pathcloud").controller("ProStatusController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u){function p(){function e(t){if(h.receiveEndTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>h.receiveEndTime}}function a(t){if(h.receiveStartTime){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<h.receiveStartTime}}h.filter={length:10,page:1},h.fieldTypeList=[{code:1,name:"病理号"},{code:2,name:"病人ID"},{code:3,name:"住院号"},{code:4,name:"病人姓名"},{code:5,name:"诊断内容"},{code:7,name:"巨检描述"},{code:8,name:"显微所见"}],h.pathStatus=[{code:24,name:"已发报告"},{code:0,name:"未发报告"}],u.getSpecialDyeList().then(function(t){h.specialDyeList=t}),i.getDepartments().then(function(t){h.departmentsList=t}),r.inspectCategoryList().then(function(t){h.inspectCategoryList=t}),s.inspectDoctorList().then(function(t){h.inspectDoctorList=t}),t.dateOptions1={dateDisabled:e,maxDate:new Date},t.dateOptions2={dateDisabled:a,maxDate:new Date}}var h=this;h.tableHeaders=[{name:"病理号",order:1},{name:"申请人"},{name:"状态"},{name:"联系电话"},{name:"申请者身份"},{name:"导师"},{name:"科室"},{name:"课题类型"},{name:"项目代码"},{name:"申请日期",order:10}],p(),h.getData=function(){s.queryResearch(h.filter).then(function(t){h.queryResultList=t.data,h.total=t.total,h.filter.page=t.page,console.info(h.filter),h.exportFilter=angular.copy(h.filter)})},h.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",h.filter.sort=t.sort,h.filter.order=t.order,h.getData())},h.search=function(){return h.filter.filter?void h.getData():void(h.queryResultList={})},h.query=function(){h.receiveStartTime&&h.receiveEndTime?(h.filter.applyTimeStart=new Date(h.receiveStartTime).getTime(),h.filter.applyTimeEnd=new Date(h.receiveEndTime).getTime()+864e5,delete h.filter.filter,h.getData()):o.getTipResult({modalTitle:"提示",modalContent:"请选择一个日期范围!",size:"sm"}).then(function(){})},h.clear=function(){a.go("app.researchQuery",{},{reload:!0})},h["export"]=function(){console.info("导出问题测试",h.queryResultList),h.queryResultList&&h.queryResultList.length&&o["export"](h.exportFilter,"/query/research/export")};var m;h.getOne=function(t){switch(h.applicationTabActive=!1,e.activeQueryOne=h.activeOne=m=t,console.log("researchQuery.activeTab===",h.activeTab),h.activeTab){case 1:l(function(){h.applicationTab()},0);break;case 2:h.sampleTab();break;case 3:h.specialDyeTab();break;case 4:h.diagnosisTab();break;default:l(function(){h.applicationTab()},0)}},h.stopPropagation=function(t){t.stopPropagation()},h.applicationTab=function(){m&&(h.applicationTabActive=!0)},h.sampleTab=function(){t.sample=1,m&&s.sampleBasicInfo(m.id).then(function(t){console.log(t),h.basicInfo=t})},h.sampleMaterialInfo=function(){t.sample=2,m&&s.sampleMaterialInfo(m.id).then(function(t){h.materialInfo=t})},h.sampleConfirmInfo=function(){t.applicationTabActive=!1,t.sample=3,m&&s.sampleConfirmInfo(m.id).then(function(t){h.confirmInfo=t})},h.specialDyeTab=function(){t.applicationTabActive=!1,t.sample=4,m&&h.specialDyeSelect(h.specialDyeList[0].code,0)},h.specialDyeSelect=function(t,e){h.specialDyeIndex=e,s.specialDyeInfo(m.id,{specialDye:t}).then(function(t){console.log("获取特染信息",t),h.specialDyeInfo=t})},h.diagnosisTab=function(){t.applicationTabActive=!1,h.diagnosisInfo={},n.getDiagnosisInfo(m.id).then(function(t){h.diagnosisInfo=t})}}t.$inject=["$scope","$rootScope","$state","DiagnosisService","MaterialService","toolService","PathologyService","QueryService","$timeout","printerService","videoService","SystemSettingService"],angular.module("pathcloud").controller("researchQueryController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;t.resolveData=a,o.modalTitle=a.modalTitle,o.selectTitle=a.selectTitle,o.textareaTtitle=a.textareaTtitle,console.info(a),10==a.status||11==a.status?o.dealTypeList=[{name:"通知技术人员",code:4}]:12==a.status||14==a.status?o.dealTypeList=[{name:"申请重补取",code:1},{name:"通知技术人员",code:4}]:15==a.status?o.dealTypeList=[{name:"申请重补取",code:1},{name:"通知技术人员",code:4}]:16==a.status?o.dealTypeList=[{name:"申请重补取",code:1},{name:"申请重切",code:2},{name:"通知技术人员",code:4}]:18==a.status&&(o.dealTypeList=[{name:"申请重补取",code:1},{name:"申请重切",code:2},{name:"通知技术人员",code:4}]),o.dealData={pathId:a.pathId,blockId:a.blockId},"notification"===a.position&&o.dealTypeList&&o.dealTypeList.pop(),o.ok=function(){n.dealAbnormalBlock(o.dealData).then(function(){e.close(),i.success("处理成功")},function(t){i.error(t)})},o.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","resolveData","ProductService","toastr"],angular.module("pathcloud").controller("SampleErrorController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u,p,h,m){function g(){function e(t){if(f.filter.receiveTimeEnd_show){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>f.filter.receiveTimeEnd_show}}function a(t){if(f.filter.receiveTimeStart){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<f.filter.receiveTimeStart}}function n(t){if(f.filter.reportTimeEnd_show){var e=t.date,a=t.mode;return"day"===a&&e.getTime()>f.filter.reportTimeEnd_show}}function i(t){if(f.filter.reportTimeStart){var e=t.date,a=t.mode;return"day"===a&&e.getTime()<f.filter.reportTimeStart}}f.filter={length:5,page:1},f.fieldTypeList=[{code:1,name:"病理号"},{code:2,name:"病人ID"},{code:3,name:"住院号"},{code:4,name:"病人姓名"},{code:5,name:"诊断内容"},{code:7,name:"巨检描述"},{code:8,name:"显微所见"}],f.specialDyeList=[{code:1,name:"免疫组化"},{code:2,name:"特染"}],f.pathStatus=[{code:25,name:"已发报告"},{code:0,name:"未发报告"}],r.getDepartments().then(function(t){f.departmentsList=t}),l.inspectCategoryList().then(function(t){f.inspectCategoryList=t}),c.inspectDoctorList().then(function(t){f.inspectDoctorList=t}),o.getReportDoctor().then(function(t){f.diagnoseDoctorList=t}),t.dateOptions1={dateDisabled:e,maxDate:new Date},t.dateOptions2={dateDisabled:a,maxDate:new Date},t.dateOptions3={dateDisabled:n,maxDate:new Date},t.dateOptions4={dateDisabled:i,maxDate:new Date}}var f=this;f.activeMenu=0,f.tableHeaders=[{name:"病人ID"},{name:"病理号",order:2},{name:"姓名",order:3},{name:"性别"},{name:"年龄"},{name:"住院号"},{name:"送检科室"},{name:"送检医生"},{name:"送检医院"},{name:"接收日期",order:10},{name:"报告日期",order:11},{name:"状态"}],f.tabHeaders=[{name:"病理报告"},{name:"申请信息"},{name:"样本信息"},{name:"特检信息"},{name:"诊断信息"},{name:"其他检查"}],f.reportType={0:"常规病理报告",1:"冰冻报告",2:"免疫组化报告",3:"特染报告"},g(),f.getData=function(){c.query(f.filter).then(function(t){f.queryResultList=t.data,f.filter.page=t.page,f.total=t.total,f.exportFilter=angular.copy(f.filter)})},f.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",f.filter.sort=t.sort,f.filter.order=t.order,f.getData())},f.search=function(){return f.receiveTimeEnd_show=null,f.reportTimeEnd_show=null,f.filter={filter:f.searchStr},f.filter.filter?void f.getData():void(f.queryResultList={})},f.clear=function(){n.go("app.CreateQuery",{},{reload:!0})},f.query=function(){f.filter.receiveTimeEnd=null,f.filter.reportTimeEnd=null,f.filter.filter=null,f.searchStr=null,f.filter.receiveTimeStart&&f.receiveTimeEnd_show||f.filter.reportTimeStart&&f.reportTimeEnd_show?(f.filter.receiveTimeStart&&(f.filter.receiveTimeStart=new Date(f.filter.receiveTimeStart).getTime()),f.receiveTimeEnd_show&&(f.filter.receiveTimeEnd=new Date(f.receiveTimeEnd_show).getTime()+864e5),f.filter.reportTimeStart&&(f.filter.reportTimeStart=new Date(f.filter.reportTimeStart).getTime()),f.reportTimeEnd_show&&(f.filter.reportTimeEnd=new Date(f.reportTimeEnd_show).getTime()+864e5),f.getData()):s.getTipResult({modalTitle:"提示",modalContent:"请选择一个日期范围!",size:"sm"}).then(function(){},function(){})},f["export"]=function(){f.queryResultList&&f.queryResultList.length&&s["export"](f.exportFilter,"/query/export")};var v;f.getOne=function(a){if(v){if(v.serialNumber===a.serialNumber)return!1;$(".micro-img .img-group").remove()}f.activeReport=null,f.applicationFormData=null,e.activeQueryOne=f.activeOne=v=a,t.applicationTabActive=!1,f.reportTypeList=[],m.get("/query/report/summary/"+v.id).then(function(t){f.reportTypeList=t,f.activeTab=0,f.reportTab(),f.activeReportTab=0})},f.switchTab=function(t){switch(f.activeTab){case 0:f.reportTab();break;case 1:f.activeApplicationTab=0,f.selectApplication();break;case 2:f.sampleTab();break;case 3:f.specialDyeTab();break;case 4:f.diagnosisTab();break;default:f.reportTab()}},f.stopPropagation=function(t){t.stopPropagation()},f.printReport=function(t){return v?(u.printDom($("#createQuery .report-dom").html()),!1):void 0},f.getReportDom=function(t){console.info(t),f.activeReport=null;var e={};0===t.type?e.pathIds=t.pathId:e.specialApplyIds=t.specialApplyId,m.get("/report/pic",e).then(function(t){f.activeReport=JSON.parse(t[0].reportPic).html},function(t){i.error(t.reason),f.activeReport=null})},f.reportTab=function(){if(console.info("病理报告report tab"),v){if(f.reportTypeList&&f.reportTypeList.length){var t=f.reportTypeList[0];f.getReportDom(t)}return!1}},f.selectApplication=function(){v&&(t.showOperation=!1,t.hideSubmit=!0,t.readonly=!0,p.getOneByPathologyNo(e.activeQueryOne.serialNumber).then(function(t){f.applicationList=t,f.activeApplicationTab=0,f.selectApplicationFrom(0)}))},f.selectApplicationFrom=function(t){f.applicationList&&(f.applicationFormData=f.applicationList[t])},f.specialApplicationTab=function(e){v&&t.$broadcast("application",e,v.id)},f.sampleTab=function(){t.sample=1,v&&(c.sampleBasicInfo(v.id).then(function(t){f.basicInfo=t}),m.get("/query/special/"+v.serialNumber).then(function(t){f.frozenNmubers=t||[]}))},f.frozenMaterial=function(){t.sample=5;var e=[];angular.forEach(f.frozenNmubers,function(t){e.push(c.sampleMaterialInfo(v.id,t))}),a.all(e).then(function(t){var e=[];angular.forEach(t,function(t){e.push(t.grossingInfo)}),f.frozenMaterialInfo=[].concat.apply([],e)})},f.sampleMaterialInfo=function(){t.sample=2,v&&c.sampleMaterialInfo(v.id).then(function(t){f.materialInfo=t})},f.sampleConfirmInfo=function(){t.applicationTabActive=!1,t.sample=3,v&&c.sampleConfirmInfo(v.id).then(function(t){f.confirmInfo=t})},f.sampleArchiveInfo=function(){t.sample=4,v&&m.get("/query/archiving/"+v.id).then(function(t){f.archiveInfo=t})},f.specialDyeIndex=0,f.specialDyeTab=function(){t.applicationTabActive=!1,t.sample=4,v&&f.specialDyeSelect(f.specialDyeList[0].code,0)},f.specialDyeSelect=function(t,e){v&&(f.specialDyeIndex=e,c.specialDyeInfo(v.id,{specialDye:t}).then(function(t){f.specialDyeInfo=t}))},f.diagnosisTab=function(){v&&(t.applicationTabActive=!1,f.diagnosisInfo={},o.getDiagnosisInfo(v.id).then(function(t){f.diagnosisInfo=t}))}}t.$inject=["$scope","$rootScope","$q","$state","toastr","DiagnosisService","MaterialService","toolService","PathologyService","QueryService","$timeout","printerService","ApplicationService","SystemSettingService","IhcService"],angular.module("pathcloud").controller("createQueryController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;t.$on("application",function(e,a,i){t.application=a;var r={specialDye:1};1===a?r.specialDye=1:r.specialDye=2,n.get("/query/specialDye/"+i,r).then(function(t){o.specialDyeApplyInfo=t,o.filter=function(t){return 1===a?1==t.specialDye:t.specialDye>1}})})}t.$inject=["$scope","ApplicationService","$rootScope","IhcService","$filter"],angular.module("pathcloud").controller("QueryApplicationController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){r.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"病人姓名",order:3},{name:"医嘱类别"},{name:"申请医生"},{name:"申请日期",order:6},{name:"状态"}],r.defaultTime=1,r.filterData={page:1,length:20,filter:r.searchStr,createTimeStart:r.startTime,createTimeEnd:r.endTime},r.applyTypeList=[{name:"深切",code:17},{name:"重补取",code:19},{name:"特检",code:30}],r.statusList=[{name:"待诊断",code:1}],t.diagnoseDoctorList().then(function(t){r.inspectionDoctorList=t}),r.query()}var r=this;r.search=function(){r.searchStr?r.defaultTime=5:r.defaultTime=1,r.filterData={filter:r.searchStr,page:1,length:20},r.getDataList()},r.query=function(){delete r.filterData.filter,r.getDataList()},r.getDataList=function(){e(function(){r.filterData.applyTimeStart=r.startTime,r.filterData.applyTimeEnd=r.endTime,a.get("/query/advice",r.filterData).then(function(t){r.info={},r.list=t.data,r.total=t.total})})},r.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",r.filterData.sort=t.sort,r.filterData.order=t.order,r.getDataList())},r.submit=function(){a.post("/ihc/confirm/"+r.info.id).then(function(t){r.query(),n.success("特染确认成功")},function(t){n.error(t.reason),r.info=null})},r.getDetail=function(t){a.get("/query/advice/"+t.id,{blockId:t.blockId}).then(function(t){r.queryResultList=t})},o()}t.$inject=["QueryService","$timeout","IhcService","toastr","toolService"],angular.module("pathcloud").controller("adviceQueryController",t)}(),function(){"use strict";angular.module("pathcloud").directive("tableChart",function(){function t(t,e){var a=this;a.chartFilter="1",a.sectionList=[{name:"取材",value:1},{name:"脱水",value:3},{name:"包埋",value:5},{name:"切片",value:6}],a.timeList=[{name:"月排行",value:3}],a.sectionData=[],a.workStation=1,a.time=3;var n=new Date,i=n.getFullYear(),o=n.getMonth()+1;o=10>o?"0"+o:o;n.getDate(),n.getTime(),n.getDay();a.setTime=function(){var t="";t=i+"-"+o+"-01",t=t.replace(/-/g,"/"),a.start=new Date(t).getTime(),console.warn(" table str:",t),a.getDataFun()(a.start,a.end,a.workStation).then(function(t){a.sectionData=t})},a.end=Date.now(),a.setTime()}return t.$inject=["$scope","StatisticService"],{restrict:"E",templateUrl:"app/components/statistics/tableChart/tableChart.html",scope:{chartTitle:"@",getDataFun:"&"},controller:t,controllerAs:"tChart",bindToController:!0}})}(),function(){"use strict";angular.module("pathcloud").directive("scoreTable",function(){function t(t,e){var a=this;a.chartFilter="1",a.scoreData=[],a.timeList=[{name:"月排行",value:3}],a.time=3;var n=new Date,i=n.getFullYear(),o=n.getMonth()+1;o=10>o?"0"+o:o;n.getDate(),n.getTime(),n.getDay();a.setTime=function(){var t="";t=i+"-"+o+"-01",t=t.replace(/-/g,"/"),a.start=new Date(t).getTime(),a.getDataFun()(a.start,a.end).then(function(t){a.scoreData=t})},a.end=Date.now(),a.setTime()}return t.$inject=["$scope","StatisticService"],{restrict:"E",templateUrl:"app/components/statistics/scoreTable/scoreTable.html",scope:{chartTitle:"@",getDataFun:"&"},controller:t,controllerAs:"scoreTable",bindToController:!0}})}(),function(){"use strict";angular.module("pathcloud").directive("pillarChart",function(){function t(t,e,a){function n(t){for(var e=[],a=0;a<t.data.length;a++)e.push(t.yMax);i.option={xAxis:{data:t.dataAxis,axisLabel:{inside:!1,interval:0,textStyle:{color:"#000"},rotate:t.rotate},axisTick:{show:!1,length:10},axisLine:{show:!1},z:10},yAxis:{name:t.yName,nameLocation:"middle",nameGap:35,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,0.05)"}},barGap:"-100%",barCategoryGap:"40%",data:e,animation:!1},{type:"bar",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:t.data}],grid:{top:"20"},tooltip:{trigger:"item",formatter:"{b}:{c}"}}}var i=this;i.getDataFun().then(function(t){n(t)})}return t.$inject=["$scope","StatisticService","$timeout"],{restrict:"E",templateUrl:"app/components/statistics/pillarChart/pillarChart.html",scope:{chartTitle:"@",lineConfig:"=",lineStyle:"=",getDataFun:"&"},controller:t,controllerAs:"pillarChart",bindToController:!0}})}(),function(){"use strict";angular.module("pathcloud").directive("mergeChart",function(){function t(t,e,a){function n(t){for(var e=[],a=0;a<t.data.length;a++)e.push(t.yMax);i.option={xAxis:{data:t.dataAxis,axisLabel:{inside:!1,interval:0,textStyle:{color:"#000"}},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{name:t.yName,nameLocation:"middle",nameGap:35,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,0.05)"}},barGap:"-100%",barCategoryGap:"40%",data:e,animation:!1},{type:"bar",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:t.data}],grid:{top:"20"},tooltip:{trigger:"item",formatter:"{b}:{c}%"}}}var i=this,o=new Date,r=o.getFullYear(),s=o.getMonth()+1;s=10>s?"0"+s:s,i.setTime=function(){var t="";t=i.timeFilter?r+"-01-01":r+"-"+s+"-01",t=t.replace(/-/g,"/"),i.start=new Date(t).getTime(),i.getDataFun()(i.start,i.end).then(function(t){n(t)})},i.end=Date.now(),i.setTime()}return t.$inject=["$scope","StatisticService","$timeout"],{restrict:"E",templateUrl:"app/components/statistics/mergeChart/mergeChart.html",scope:{chartTitle:"@",lineConfig:"=",getDataFun:"&"},controller:t,controllerAs:"mChart",bindToController:!0}})}(),function(){"use strict";angular.module("pathcloud").directive("percentChart",function(){function t(t,e,a){function n(t){i.option={tooltip:{trigger:"item",formatter:"{b}:({d}%)"},series:[{name:i.chartTitle,type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"16",fontWeight:"bold"}}},data:t}],color:["#ed7d31","#5b9bd5"]}}var i=this,o=new Date,r=o.getFullYear(),s=o.getMonth()+1;s=10>s?"0"+s:s,i.setTime=function(){var t="";
t=i.timeFilter?r+"-01-01":r+"-"+s+"-01",t=t.replace(/-/g,"/"),i.start=new Date(t).getTime(),i.getDataFun()(i.start,i.end).then(function(t){n(t)})},i.end=Date.now(),i.setTime()}return t.$inject=["$scope","StatisticService","$timeout"],{restrict:"E",templateUrl:"app/components/statistics/percentChart/percentChart.html",scope:{chartTitle:"@",lineConfig:"=",getDataFun:"&"},controller:t,controllerAs:"pChart",bindToController:!0}})}(),function(){"use strict";angular.module("pathcloud").directive("foldChart",function(){function t(t,e,a){function n(t){i.option={tooltip:{trigger:"axis"},legend:{data:[{name:a.T("常规"),textStyle:{color:"#5b9bd5"}},{name:a.T("特染"),textStyle:{color:"#ed7d31"}}],top:10,right:10},toolbox:{feature:{saveAsImage:{}}},grid:{left:"4%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[a.T("1月"),a.T("2月"),a.T("3月"),a.T("4月"),a.T("5月"),a.T("6月"),a.T("7月"),a.T("8月"),a.T("9月"),a.T("10月"),a.T("11月"),a.T("12月")]}],yAxis:{name:a.T("样本量（病例）"),nameLocation:"middle",nameGap:35,type:"value"},series:[{name:a.T("特染"),type:"line",stack:"总量",itemStyle:{normal:{color:"#ed7d31",lineStyle:{color:"#ed7d31"}}},data:t.specialData},{name:a.T("常规"),type:"line",stack:"总量",itemStyle:{normal:{color:"#5b9bd5",lineStyle:{color:"#5b9bd5"}}},data:t.normalData}]}}var i=this;i.data={},i.getDataFun().then(function(t){n(t)})}return t.$inject=["StatisticService","$q","T"],{restrict:"E",templateUrl:"app/components/statistics/foldChart/foldChart.html",scope:{chartTitle:"@",lineConfig:"=",getDataFun:"&"},controller:t,controllerAs:"fChart",bindToController:!0}})}(),function(){"use strict";function t(){function t(t,e,a,n,i,o,r,s,l,c,d,u){function p(){c.getUser(e.user.id).then(function(t){m.data={},m.departmentsDesc=t.departmentsDesc||"",m.data.departments=t.departments,m.data.faculty=t.faculty,m.data.applicant=t.firstName,m.data.phone=t.phone,m.data.specialty=t.specialty,m.data.studentNumber=t.studentNumber,m.data.taskType=t.taskType,m.data.taskName=t.taskName,m.data.tutor=t.tutor,m.data.identity=t.identity,m.data.unit=t.unit,m.data.wno=t.wno,m.data.funds=t.projectCode,m.data.samples=[{name:"",category:1}],m.data.researchType=1})}function h(){if(!m.activeDate)return!1;m.activeDate.freezeDateError=!1,console.info("把我要传的时间数组转换到表格里面显示",m.myBookTime);for(var t=0;t<m.activeDate.bookingDto.length;t++){var e=m.activeDate.bookingDto[t];e.checked=!1,angular.forEach(m.myBookTime,function(t,a,n){return e.timeflag===t&&(e.checked=!0,e.booked)?(m.activeDate.freezeDateError=!0,r.error("您选择的日期范围无效请重新选择"),!1):void 0})}console.info("表格里面显示",m.activeDate),console.info("表格里面所有",m.orderList)}t.datePopup=!1;var m=this;t.readonly||p(),m.getSelectName=function(t,e){if(void 0!=e){var a=_.find(t,function(t){return void 0!==t.value?t.value===e:t.code===e});if(a)return"请选择"===a.name?"":a.name}return""},m.taskTypeList=[{name:d.T("请选择"),value:void 0},{name:"国家自然科学基金",value:0},{name:"国家科技部课题",value:1},{name:"省部级计划课题",value:2},{name:"横向课题",value:3},{name:"其他",value:4}],m.identityList=[{name:d.T("请选择"),value:void 0},{name:"本科生",value:0},{name:"硕士研究生",value:1},{name:"博士研究生",value:2},{name:"博士后",value:3},{name:"临床医生",value:4},{name:"研究人员",value:5},{name:"技术人员",value:6},{name:"其他",value:7}],u.get("/systemSetting/sampleCategory").then(function(t){m.categoryList=t}),m.researchTypeList=[{name:d.T("常规染色"),value:1},{name:d.T("冰冻预约"),value:2}],m.myBookTime=[],m.getFreezeBookedList=function(){var t=m.freezeStartTime.getTime();m.startTime=null,m.endTime=null,m.myBookTime=[],n.getFreezeBookedList({timeStart:t,timeEnd:t+864e5}).then(function(t){m.orderList=t,m.activeDate=m.orderList[0]},function(t){r.error(t),m.orderList=[]})},m.freeze=0,m.timeList=[{name:"8:00",value:16},{name:"8:30",value:17},{name:"9:00",value:18},{name:"9:30",value:19},{name:"10:00",value:20},{name:"10:30",value:21},{name:"11:00",value:22},{name:"11:30",value:23},{name:"12:00",value:24},{name:"12:30",value:25},{name:"13:00",value:26},{name:"13:30",value:27},{name:"14:00",value:28},{name:"14:30",value:29},{name:"15:00",value:30},{name:"15:30",value:31},{name:"16:00",value:32},{name:"16:30",value:33},{name:"17:00",value:34},{name:"17:30",value:35},{name:"18:00",value:36}],t.freezeDateOptions={minDate:new Date},m.orderHeaderList=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],m.choseDate=function(t){m.activeDate=t,m.startTime=null,m.endTime=null},m.selectTime=function(t,e){m.myBookTime=[];var a=parseInt(t),n=parseInt(e);if(!a&&n)return!1;if(n-a>1)for(var i=n-a,o=0;i>o;o++)m.myBookTime[o]=a+o;else{if(n-a!==1)return!1;m.myBookTime=[a]}m.activeDate.cells=angular.copy(m.myBookTime),h()};m.isShow="true",m.addSample=function(){m.data.samples.push({name:"",category:1}),console.log("增加一条样本记录后，样本数据内容为 ",m.data.samples)},m.delSample=function(t){m.data.samples.splice(t,1),console.log("删除一条样本记录后，样本数据内容为 ",m.data.samples)},m.submit=function(){var a=!1;if(2===m.data.researchType){if(m.data.books=[],!m.myBookTime.length||!m.freezeStartTime)return r.error("请选择冰冻预约时间"),!1;angular.forEach(m.orderList,function(t,e,n){return a?!1:t.freezeDateError?(a=!0,!1):void(t.cells&&t.cells.length&&m.data.books.push({freezeStartTime:t.date,instrumentId:t.instrumentId,cells:t.cells}))})}return a?(r.error("您选择的日期范围无效请重新选择"),!1):void n.createApplicationResearch(m.data).then(function(a){r.success("申请成功"),e.test_serialNumber=a.serialNumber,m.data.books=a.books,i(function(){l.printPathologicalForm("#pathologicalFreeze_form",a.serialNumber,function(){l.printLabel(a.samples),t.refresh(0)})},100)},function(t){r.error(t)})},t.applicationData&&(m.data=t.applicationData),console.log("---------application directive-------",t.applicationData)}t.$inject=["$scope","$rootScope","SystemSettingService","ApplicationService","$timeout","$state","toastr","MaterialService","printerService","UserService","T","IhcService"];var e={restrict:"E",scope:!1,templateUrl:"app/components/pathologicalForm/applicationResearch/applicationResearch.html",controller:t,controllerAs:"pathologicalFreeze"};return e}angular.module("pathcloud").directive("applicationResearch",t)}(),function(){"use strict";function t(){function t(t,e,a,n,i,o,r){var s=this;s.data.note&&(s.note=s.data.note),s.getSelectName=function(t,e){if(void 0!=e){var a=_.find(t,function(t){return void 0!==t.value?t.value===e:t.code===e});if(a)return"请选择"===a.name?"":a.name}return""},s.sexList=[{name:r.T("请选择"),value:void 0},{name:r.T("男"),value:1},{name:r.T("女"),value:2}],s.maritalStatusList=[{name:r.T("请选择"),value:90},{name:r.T("未婚"),value:10},{name:r.T("已婚"),value:20},{name:r.T("丧偶"),value:30},{name:r.T("离婚"),value:40}],s.typeList=[{name:r.T("玻片"),code:1},{name:r.T("蜡块"),code:2}],s.inspectHospitalList=e.inspectHospitalList,o.get("/paramSetting/inspectHospital").then(function(t){s.inspectHospitalList=t}),s.addSample=function(){s.data.origins.push({pathNo:"",blockSubId:"",type:null})},s.delSample=function(t){s.data.origins.splice(t,1)},s.submit=function(){o.post("/application/consult",s.data).then(function(t){var e={applicationId:t.id,inspectCategory:8,note:s.note};o.post("/pathology",e).then(function(t){i.success("登记成功"),a.go("app.sampleConsultationApply",{},{reload:!0})})})}}t.$inject=["$scope","$rootScope","$state","$timeout","toastr","IhcService","T"];var e={restrict:"E",scope:{data:"=",valid:"=",colspan:"=",showOperation:"=",read:"="},templateUrl:"app/components/pathologicalForm/consultForm/consultForm.html",controller:t,controllerAs:"consultForm",bindToController:!0};return e}angular.module("pathcloud").directive("consultForm",t)}(),function(){"use strict";function t(){function t(t,e,a,n,i,o,r,s,l){var c=this;t.datePopup=!1,t.menopauseDateOptions={maxDate:Date()},c.getSelectName=function(t,e){if(void 0!=e){var a=_.find(t,function(t){return void 0!==t.value?t.value==e:t.code==e});if(a)return"请选择"===a.name?"":a.name}},c.sexList=[{name:s.T("男"),value:1},{name:s.T("女"),value:2}],c.maritalStatusList=[{name:s.T("请选择"),value:90},{name:s.T("未婚"),value:10},{name:s.T("已婚"),value:20},{name:s.T("丧偶"),value:30},{name:s.T("离婚"),value:40}],l.get("/systemSetting/sampleCategory").then(function(t){c.categoryList=t}),c.gynaecologyList=[{name:s.T("妇科"),value:!0},{name:s.T("非妇科"),value:!1}],c.menopauseList=[{name:s.T("请选择"),value:void 0},{name:s.T("是"),value:!0},{name:s.T("否"),value:!1}],c.departmentList=[{name:s.T("请选择"),value:void 0}],c.getDepartments=function(t){r.getDepartments(t).then(function(t){c.departmentList=t})},c.getDepartments(),c.inspectHospitalList=e.inspectHospitalList,l.get("/paramSetting/inspectHospital").then(function(t){c.inspectHospitalList=t}),c.data||(c.data={maritalStatus:90,urgentFlag:!1,gynaecology:!1,samples:[{name:"",category:1}]}),console.info("申请表单数据",c),c.addSample1=function(){c.data.samples.push({name:"",category:1})},c.delSample=function(t){c.data.samples.splice(t,1)},c.submit=function(){var e=angular.copy(c.data);e.menopauseEnd=c.data.menopauseEnd&&c.data.menopauseEnd.getTime()||null,console.error("申请表",e),t.submitApplication(e)}}t.$inject=["$scope","$rootScope","SystemSettingService","$timeout","UserService","$filter","MaterialService","T","IhcService"];var e={restrict:"E",scope:{data:"=",read:"="},templateUrl:"app/components/pathologicalForm/applicationForm/applicationForm.html",controller:t,controllerAs:"pathological",bindToController:!0};return e}angular.module("pathcloud").directive("applicationForm",t)}(),function(){"use strict";function t(t,e){var a=this;a.text="aaa",a.testModal=function(){var n=t.open({animation:!0,templateUrl:"app/site/userManage/modal/authorize.html",controller:"AuthorizeController",controllerAs:"authorize",backdrop:"static",size:"lg",resolve:{}});n.result.then(function(t){a.text=t},function(){e.info("Cancel input")})},a.testRegistModal=function(){var n=t.open({animation:!0,templateUrl:"app/site/sampleRegistration/modal/printModal.html",controller:"PrintModalController",controllerAs:"printModal",backdrop:"static",size:"lg",resolve:{}});n.result.then(function(t){a.text=t},function(){e.info("Cancel input")})},a.testRegistModal(),a.showModal=function(){var n=t.open({animation:!0,templateUrl:"app/site/modal/textarea.html",controller:"TextareaModalController",controllerAs:"textMod",size:"large",backdrop:"static",resolve:{text:function(){return angular.copy(a.text)}}});n.result.then(function(t){a.text=t},function(){e.info("Cancel input")})}}t.$inject=["$uibModal","$log"],angular.module("pathcloud").controller("TestController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.data={param:"sectionRemark"},o.activeMenu=0,o.toolbar=[{name:"切片备注管理",code:"1"},{name:"玻片打印设置",code:"2"}],o.choseMenu=function(t){o.activeMenu=t,0===o.activeMenu?(o.add=function(){o.disabled=!0,a.setting(o.data).then(function(t){e.success("新增成功"),o.getRemarkList(),o.data.name=null,o.disabled=!1},function(t){o.disabled=!1,e.error(t)})},o["delete"]=function(t){var i={modalTitle:"删除确认",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(i).then(function(){a.deleteSectionRemark(t).then(function(t){e.success("删除成功"),o.getRemarkList()},function(t){e.error(t)})})},o.getRemarkList=function(){a.sectionRemark().then(function(t){o.sectionRemarkLIst=t},function(t){e.error(t)})},o.getRemarkList()):(i.get("/paramSetting/sectionPrintMedium").then(function(t){o.sectionPrintMedium=t}),i.get("/paramSetting/sectionPrintWay").then(function(t){o.sectionPrintWay=t}),o.selectPrintMedium=function(t){i.put("/paramSetting/sectionPrintMedium/"+t).then(function(a){o.sectionPrintMedium=t,e.success("操作成功")},function(){e.error("操作失败")})},o.selectPrintWay=function(t){i.put("/paramSetting/sectionPrintWay/"+t).then(function(a){o.sectionPrintWay=t,e.success("操作成功")},function(t){e.error("操作失败")})})}}t.$inject=["$scope","toastr","paramSettingService","toolService","IhcService"],angular.module("pathcloud").controller("SectionSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i){function o(){s.sectionPrintMedium=1,s.dyeCategory=0,s.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"玻片号"},{name:"打印次数"},{name:"姓名",order:4},{name:"送检科室"},{name:"取材医生"},{name:"取材部位"},{name:"组织数"},{name:"取材标识"},{name:"切片技术员"},{name:"切片时间",order:11},{name:"切片备注"},{name:"样本状态"}],s.defaultTime=1,s.filterData={page:1,length:20,order:11,dyeCategory:s.dyeCategory,sort:"desc"},s.getDataList=function(){i(function(){s.filterData.startTime=s.startTime,s.filterData.endTime=s.endTime,n.sectionSearch(s.filterData).then(function(t){s.data=t})},0)},s.getDataList(),n.sectionPerson().then(function(t){s.sectionPersonList=t}),a.get("/paramSetting/sectionPrintMedium").then(function(t){s.sectionPrintMedium=t})}function r(){var t=[];return angular.forEach(s.data.data,function(e){e.check&&t.push({blockId:e.blockId,slideId:e.id})}),t.length===s.data.data.length?s.allChecked=!0:s.allChecked=!1,t}var s=this;o(),s.query=function(){s.filterData.status=s.status,s.filterData.dyeCategory=s.dyeCategory,s.filterData.operatorId=s.operatorId,s.getDataList()},s.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",s.filterData.sort=t.sort,s.filterData.order=t.order,s.getDataList())},s.search=function(){s.filterData={page:1,length:20,filter:s.searchStr},s.searchStr?s.defaultTime=5:(delete s.filterData.filter,s.defaultTime=1),s.getDataList()},s.printSlide=function(){var t=r();a.post("/section/print",t).then(function(t){e.success("操作成功！"),n.print(t,s.sectionPrintMedium),s.getDataList()},function(){e.error("操作失败")})},s.checkAll=function(){s.allChecked?angular.forEach(s.data.data,function(t){t.check=!0}):angular.forEach(s.data.data,function(t){t.check=!1}),r()},s.checkItem=function(t,e){r()}}t.$inject=["$scope","toastr","IhcService","sectionService","$timeout"],angular.module("pathcloud").controller("SectionSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c){function d(){n.sectionCount().then(function(t){f.count=t})}function u(){var t={prePathId:f.blockInfo.pathologyId,slideSubId:f.slideSubId};n.getBlockInfo(f.blockInfo.blockSerialNumber,t).then(function(t){if(!t.pathologyId){for(var e=0;e<t.length;e++)t[e]=f.blockInfo.pathologySerialNumber+"-"+t[e];return t=t.join("，"),r.getModalResult({modalTitle:"当前病理号仍有蜡块未切片",modalContent:"未切片蜡块号："+t,size:"dialog"}).then(function(){},function(){}),!1}})["finally"](function(){f.blockInfo={}})}function p(t){f.printResponse=null,f.remark={},f.filterCopy=angular.copy(f.filterSave),f.currentPathologyNumber=f.filterSave.substring(0,9);var e;"ignore"!=t&&f.blockInfo&&f.blockInfo.blockId&&f.currentPathologyNumber!=f.blockInfo.pathologySerialNumber&&(e=f.blockInfo.pathologyId);var i={prePathId:e,slideSubId:f.slideSubId};f.pending=!0,n.getBlockInfo(f.filterSave,i).then(function(t){if(!t.pathologyId){for(var e=0;e<t.length;e++)t[e]=f.blockInfo.pathologySerialNumber+"-"+t[e];return t=t.join("，"),r.getModalResult({modalTitle:"上一个病理号仍有蜡块未切片，是否忽略",modalContent:"未切片蜡块号："+t,size:"dialog"}).then(function(){p("ignore")},function(){console.info("忽略蜡块")}),!1}f.blockInfo=t,f.remark.noteType=t.sectionRemarkType,f.remark.note=t.sectionRemark,t.specialDye&&t.dyeApply&&t.dyeApply.length&&(f.blockInfo.specialDyeApplicant=t.dyeApply[0].applicant&&t.dyeApply[0].applicant.firstName),f.marker=[],f.dyeTypeList=[],f.blockInfo.specialDyeRemark=[],f.slidePrintRequest=[],angular.forEach(f.blockInfo.dyeApply,function(e,a,n){angular.forEach(e.sectionSlides,function(a){""===a.marker&&(a.marker=";"),f.marker.push(a.marker),0===e.specialDye&&f.slidePrintRequest.push({blockId:t.blockId,slideId:a.slideId,applyId:e.applyId})}),f.dyeTypeList.push(e.specialDyeDesc),f.blockInfo.specialDyeRemark.push(e.note)}),1==f.sectionPrintWay&&(i.slideSubId||(t.status>15&&40!==status?h(t.status,t.specialDye):g()))},function(t){a.error(t,f.filterCopy)})["finally"](function(){f.pending=!1})}function h(t,e){var a="该蜡块于"+l("date")(f.blockInfo.sectionOperateTime,"yyyy-MM-dd HH:mm")+"被"+f.blockInfo.sectionOperatorDesc+"切片，目前状态是"+(f.blockInfo.statusDesc||f.blockInfo.statusName)+"，是否需要重新打印切片？";r.getModalResult({modalTitle:"提示",modalContent:a,size:"sm"}).then(function(){m()})}function m(){var t={templateUrl:"app/site/section/modal/printSlide.html",size:"lg",controller:"SectionPrintModalController",controllerAs:"printModal",resolve:{data:{blockId:f.blockInfo.blockId,pathologySerialNumber:f.blockInfo.pathologySerialNumber,subId:f.blockInfo.subId,slideInfo:f.blockInfo.pathologySerialNumber+"$"+f.blockInfo.subId+"$",bodyPart:f.blockInfo.bodyPart,printType:f.sectionPrintMedium}}};c.open(t)}function g(){var t=[];f.printResponse?angular.forEach(f.printResponse,function(e){0==e.specialDye&&t.push({blockId:f.blockInfo.blockId,slideId:e.slideId,applyId:e.applyId})}):t=f.slidePrintRequest,t.length?s.post("/section/print",t).then(function(t){a.success("打印玻片成功！"),n.print(t,f.sectionPrintMedium),f.printResponse=t}):a.error("打印玻片失败！")}var f=this;f.filter="",f.remark={},f.printTypeList=[{name:"玻片",code:1},{name:"标签",code:2}],f.sectionPrintMedium=1,s.get("/paramSetting/sectionPrintMedium").then(function(t){f.sectionPrintMedium=parseInt(t)}),s.get("/paramSetting/sectionPrintWay").then(function(t){f.sectionPrintWay=t}),i.sectionRemark().then(function(t){f.sectionRemarkLIst=t},function(t){a.error(t)}),d(),t(function(){$("button").click(function(){$("#searchInput").focus()})},1e3),f.getBlockInfoButton=function(t){f.filter=f.blockInfo.pathologySerialNumber+"-"+t,f.getBlockInfo()},f.getBlockInfo=function(){if(!f.filter)return void(f.blockInfo={});if(f.filter.indexOf("-")<0)return void a.error("输入的格式有误");var t=f.filter.split("-");f.slideSubId="",f.filterStr="",f.filterStr=t[0]+t[1],f.slideSubId=t[2],f.filterSave=f.filterStr,f.blockInfo&&f.blockInfo.blockId&&15==f.blockInfo.status?f.confirmSection():p()},f.confirmSection=function(t){function e(t){var e=0;if(f.blockInfo.marker&&(e=f.blockInfo.marker.length,!e))return!1;var i=[];angular.forEach(f.blockInfo.dyeApply,function(t,e,a){angular.forEach(t.sectionSlides,function(e,a,n){e.slideId||f.printResponse&&angular.forEach(f.printResponse,function(t){e.marker===t.marker&&(e.slideId=t.slideId)}),i.push({blockId:f.blockInfo.blockId,noteType:f.remark.noteType,note:f.remark.note,slideMarker:e.marker,slideId:e.slideId,specialDye:t.specialDye,applyId:t.applyId,number:f.blockInfo.number})})}),f.pending=!0,n.confirmSpecialDyeSection(i).then(function(e){a.success("切片保存成功！"),d(),f.blockInfo.status=null,t?u():p()},function(t){a.error(t,"切片保存失败")})["finally"](function(){f.pending=!1})}f.blockInfo.blockId&&e(t)},f.print=function(t,e){15===f.blockInfo.status?g():m()}}t.$inject=["$timeout","$state","toastr","sectionService","paramSettingService","printerService","toolService","IhcService","$filter","$uibModal"],angular.module("pathcloud").controller("SectionController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){s.defaultTime=1,s.operationList=[{name:"待签收",code:25},{name:"已签收",code:26}],s.reportStatusList=[{name:"正常",code:!1},{name:"延期",code:!0}],s.operation=25}var s=this;s.checkedBlocks=[],s.length=20,r(),s.getDataList=function(t){var e={page:s.page||1,length:s.length,filter:s.searchStr,startTime:s.startTime||Date.now(),endTime:s.endTime||Date.now(),delay:s.reportStatus,departments:s.departments,operation:s.operation};1===t&&delete e.filter,0===t&&(s.searchStr?(s.defaultTime=5,e={page:s.page||1,length:s.length,filter:s.searchStr,startTime:s.startTime||Date.now(),endTime:s.endTime||Date.now()}):(s.defaultTime=1,s.searchStr=void 0,delete e.filter)),i(function(){e.startTime=s.startTime,e.endTime=s.endTime;var t="/report/signQuery";a.get(t,e).then(function(t){s.data=t.data,s.total=t.total,s.page=t.page})})},s.getDataList(),s.confirmSign=function(){var t=_.compact(s.data.map(function(t){return t.check?{pathId:t.pathId,specialApplyId:t.specialApplyId}:void 0}));a.post("/report/operate/26",t).then(function(t){e.success("签收成功"),n.go("app.reportSignQuery",{},{reload:!0})})["catch"](function(t){e.error(t.message)})},s.checkAll=function(){s.allChecked?angular.forEach(s.data,function(t,e,a){t.check=!0}):angular.forEach(s.data,function(t,e,a){t.check=!1})}}t.$inject=["MaterialService","toastr","IhcService","$state","$timeout","$uibModal"],angular.module("pathcloud").controller("SignQueryController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){l.defaultTime=1,l.printStatusList=[{name:"未打印",code:!1},{name:"已打印",code:!0}],l.reportStatusList=[{name:"正常",code:!1},{name:"延期",code:!0}],t.getDepartments().then(function(t){l.departmentList=t})}function s(t,a,i){console.log(a,i),n.printPathologicalReport(t.html),a===i-1&&(e.success("打印成功"),l.getDataList(),angular.forEach(l.data,function(t,e,a){t.check=!1}))}var l=this;l.checkedBlocks=[],l.length=20,r(),l.getDataList=function(t){var e={page:l.page||1,length:l.length,filter:l.searchStr,startTime:l.startTime||Date.now(),endTime:l.endTime||Date.now(),printStatus:l.printStatus,delay:l.reportStatus,departments:l.departments};1===t&&delete e.filter,0===t&&(l.searchStr?(l.defaultTime=5,e={page:l.page||1,length:l.length,filter:l.searchStr,startTime:l.startTime||Date.now(),endTime:l.endTime||Date.now()}):(l.defaultTime=1,l.searchStr=void 0,delete e.filter)),i(function(){e.startTime=l.startTime,e.endTime=l.endTime;var t="/report/query";a.get(t,e).then(function(t){l.data=t.data,l.total=t.total,l.page=t.page})},0)},l.getDataList(),l.viewPrintRecord=function(t){var e={templateUrl:"app/site/report/modal/printSlide.html",size:"md",controller:"PrintRecordModalController",controllerAs:"printModal",resolve:{resolveData:function(){return{id:t.id,specialApplyId:t.specialApplyId}}}};o.open(e)},l.printSignQuery=function(){var t={templateUrl:"app/site/report/modal/printSignQuery.html",size:"md",controller:"PrintSignModalController",controllerAs:"vm",resolve:{data:function(){return l.data}}};o.open(t)},l.print=function(){var t=_.compact(l.data.map(function(t){return t.check?{pathId:t.id,specialApplyId:t.specialApplyId}:void 0}));a.post("/report/operate/23",t).then(function(e){var n=[],o=[];angular.forEach(t,function(t,e){t.specialApplyId?o.push(t.specialApplyId):n.push(t.pathId)});var r={pathIds:n.length?n.join():null,specialApplyIds:o.length?o.join():null};a.get("/report/pic",r).then(function(t){t.forEach(function(e,a){if(e.reportPic){var n=JSON.parse(e.reportPic);i(s(n,a,t.length),1e3)}})})})},l.check=function(t){console.log(t)},l.checkAll=function(){l.allChecked?angular.forEach(l.data,function(t,e,a){t.check=!0}):angular.forEach(l.data,function(t,e,a){t.check=!1})}}t.$inject=["MaterialService","toastr","IhcService","printerService","$timeout","$uibModal"],angular.module("pathcloud").controller("ReportController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){var r=this;r.activeMenu=0,r.data={param:"rejectReason"},r.add=function(){a.setting(r.data).then(function(t){e.success("添加成功！"),r.getRemarkList(),r.data.name=null},function(t){e.error(t)})},r["delete"]=function(t){var i={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(i).then(function(){a.deleteRejectReason(t).then(function(t){e.success("删除成功！"),r.getRemarkList()},function(t){e.error(t)})})},r.getRemarkList=function(){a.rejectReason().then(function(t){r.sampleRemarkLIst=t},function(t){e.error(t)})},r.getRemarkList(),r.inspectCategory={},r.printCountList=[{name:"根据样本数量打印",code:"1"},{name:"只打一张",code:"2"}],o.get("/paramSetting/printCount").then(function(t){r.printCount=t}),r.setPintCount=function(t){o.put("/paramSetting/printCount/"+t).then(function(){e.success("设置成功")})},r.printTypeList=[{name:"手动打印",code:"1"},{name:"自动打印",code:"2"}],o.get("/paramSetting/printType").then(function(t){r.printType=t}),r.setPintType=function(t){o.put("/paramSetting/printType/"+t).then(function(){e.success("设置成功")})},r.inspectHospital={},r.hospitalLevelList=[{name:"三甲",code:1},{name:"三乙",code:2},{name:"三丙",code:3},{name:"二甲",code:4},{name:"二乙",code:5},{name:"二丙",code:6},{name:"其它",code:7}],r.getInspectHospital=function(){o.get("/paramSetting/inspectHospital").then(function(t){r.inspectHospitalList=t})},r.getInspectHospital(),r.addInspectHospital=function(){var t={name:r.inspectHospital.name,grade:r.inspectHospital.grade};o.post("/paramSetting/inspectHospital",t).then(function(t){e.success("操作成功"),r.getInspectHospital()},function(t){e.error(t.reason)})},r.deleteInspectHospital=function(t){var a={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(a).then(function(){o["delete"]("/paramSetting/inspectHospital/"+t).then(function(t){e.success("删除成功！"),r.getInspectHospital()},function(t){e.error(t.reason)})})}}t.$inject=["$scope","toastr","paramSettingService","toolService","PathologyService","IhcService"],angular.module("pathcloud").controller("SampleSettingController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){c.tableHeaders=[{name:"申请单号",order:1,sort:"asc"},{name:"样本编号",order:2,sort:"asc"},{name:"病理号",order:3,sort:"asc"},{name:"样本名称",order:4,sort:"asc"},{name:"样本添加时间"},{name:"添加操作人"},{name:"样本删除时间"},{name:"删除操作人"},{name:"指定取材医生"},{name:"状态",order:11,"class":"text-center",sort:"asc"}],c.statusList=[{name:"未登记",value:1},{name:"已登记",value:2},{name:"已拒收",value:3},{name:"已撤销",value:41}],c.typeList=[{name:"常规",value:0},{name:"冰冻 F",value:1},{name:"会诊 H",value:4}],c.defaultTime=1,c.searchData={specialType:null,sort:null,order:null,page:1,length:20},c.getDataList=function(){i.getSampleList(c.searchData).then(function(t){c.data=t.data,c.totalItems=t.total})},s()}function s(){n(function(){c.searchData.createTimeStart=c.startTime,c.searchData.createTimeEnd=c.endTime,c.getDataList()},0)}function l(t){a.open({templateUrl:"app/site/modal/reasonModal.html",controller:"ReasonModalController",controllerAs:"reasonMod",resolve:{data:function(){return t}}})}var c=this;r(),c.search=function(){c.searchStr?c.defaultTime=5:c.defaultTime=1,c.searchData={filter:c.searchStr,page:1,length:20},c.searchData.filter||delete c.searchData.filter,s()},c.filter=function(t){c.searchData.filter=null,s()},c.getSortList=function(t){"desc"===t.sort?t.sort="asc":t.sort="desc",c.searchData.sort=t.sort,c.searchData.order=t.order,c.getDataList()},c.view=function(t,e){o.getOne(t).then(function(t){t.pathologyNumber=e,console.warn("查看申请result",t),a.open({templateUrl:"app/site/modal/applicationModal.html",size:"lg",controller:"ApplicationModalController",controllerAs:"applicationMod",resolve:{modalTitle:function(){return"病理申请表"},ApplicationData:t}})},function(t){})},c.reasonModal=function(t){var a;3===t.status&&(a={header:"拒收记录",timeLabel:"拒收时间",time:t.updateTime,operatorLabel:"拒收人",operator:t.updateByName,reasonLabel:"拒收原因",reason:t.rejectReason},l(a)),41===t.pathologyStatus&&e.get("/grossing/"+t.pathologyId).then(function(t){var e={header:"撤销记录",timeLabel:"撤销时间",time:t.operationTime,operatorLabel:"撤销人",operator:t.operatorName,reasonLabel:"撤销原因",reason:t.note};l(e)})}}t.$inject=["$filter","IhcService","$uibModal","$timeout","PathologyService","ApplicationService"],angular.module("pathcloud").controller("SampleSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l,c,d,u){function p(){t.showOperation=!1,t.hideSubmit=!1,t.readonly=!0,t.autoFocus=!0,t.hideSampleTable=!0,t.activePart=!0,v.applyType=null,v.serialNumber=null,d.get("/systemSetting/pathNoRule").then(function(t){0==t.letter&&(v.showInspectTypeLetter="")})}function h(e){1===e.applyType?(t.pathological.data=e,v.applyType=1):2===e.applyType&&(v.applyType=2,t.pathologicalFreeze.data=e.research,t.pathological.data.id=t.pathologicalFreeze.data.id=e.id,t.pathological.data.departmentsDesc=t.pathologicalFreeze.data.departmentsDesc=e.departmentsDesc,t.pathological.data.departments=t.pathologicalFreeze.data.departments=e.departments,t.pathological.data.status=t.pathologicalFreeze.data.status=e.status,t.pathological.data.statusName=t.pathologicalFreeze.data.statusName=e.statusName,t.pathological.data.samples=t.pathologicalFreeze.data.samples=e.samples,t.pathological.data.serialNumber=t.pathologicalFreeze.data.serialNumber=e.serialNumber,t.pathological.data.pathologyStatus=t.pathologicalFreeze.data.pathologyStatus=e.pathologyStatus,t.pathological.data.pathologyId=t.pathologicalFreeze.data.pathologyId=e.pathologyId,t.pathological.data.pathNo=t.pathologicalFreeze.data.pathNo=e.pathNo,t.pathological.data.applyType=t.pathologicalFreeze.data.applyType=2)}function m(e){if(t.pathological.data.serialNumber){var a=1;1==v.printCount&&(a=t.pathological.data.samples.length);for(var n=0;a>n;n++)l.printData(e)}}function g(){var e={applicationId:t.pathological.data.id,inspectCategory:v.inspectCategory,assignGrossing:v.assignGrossing,samples:t.pathological.data.samples,id:t.pathological.data.pathologyId};a.registerPathology(e).then(function(t){if(r.success("病例登记成功！"),v.test_pathNo=t.serialNumber,u(function(){s.go("app.sampleRegistration",{},{reload:!0})},70),2==v.printType){var e={pathNo:t.serialNumber,patientName:t.patientName,frozenNumber:t.number};m(e),u(function(){s.go("app.sampleRegistration",{},{reload:!0})},70)}},function(e){console.log("pathological submit error",e),r.error(e,"操作失败！"),t.pathological.checkErr=e+"!"})}function f(){t.pathological.data={samples:[{name:"",category:1}],maritalStatus:90,urgentFlag:!1,gynaecology:!1}}var v=this;p(),t.refresh=function(){t.activePart=null,u(function(){p(),f()},30)},v.hide=function(){v.serialNumber||v.applyType?(t.readonly=!0,t.showOperation=!1):t.pathological.data.id?(t.readonly=!0,t.showOperation=!1):(t.readonly=!1,t.showOperation=!0)},a.inspectCategoryList().then(function(t){v.inspectCategoryList=t,v.inspectCategory=1}),c.getGrossingUser().then(function(t){v.assignGrossingList=t}),d.get("/paramSetting/printCount").then(function(t){v.printCount=t}),d.get("/paramSetting/printType").then(function(t){v.printType=t}),v.printSerialNumber=function(e){if(t.pathological.data.pathNo){var a={pathNo:t.pathological.data.pathNo,patientName:t.pathological.data.patientName,frozenNumber:t.pathological.data.number};m(a)}},v.getLastOne=function(){t.readonly=!0,t.showOperation=!1;var e=Date.now();v.pathCreateTime&&(e=v.pathCreateTime),d.get("/pathology/pre/"+e).then(function(t){t&&(v.pathCreateTime=t.pathCreateTime),h(t),v.serialNumber=t.serialNumber},function(t){r.error(t.reason,"操作失败！")})},v.getOnePathological=function(){if(v.serialNumber){var t=!0;("AP"===v.serialNumber.slice(0,2)||"SA"===v.serialNumber.slice(0,2))&&(t=!1),n.getOne(v.serialNumber,t).then(function(e){t&&(e=e[0]),v.pathCreateTime=e.pathCreateTime,h(e)},function(t){r.error(t,"操作失败！")})}},v.clear=function(){v.applyType=null,v.serialNumber=null,t.autoFocus=!t.autoFocus,t.showOperation=!0,t.hideSubmit=!0,t.readonly=!1,f()},v.cancel=function(){d.post("/pathology/cancel/"+t.pathological.data.pathologyId).then(function(t){r.success("操作成功！"),s.go("app.sampleRegistration",{},{reload:!0})},function(t){r.error(t.reason,"操作失败！")})},v.register=function(){t.autoFocus=!t.autoFocus,t.pathological.data.id?t.pathological.data.id&&g():(t.pathological.data.menopauseEnd=t.pathological.data.menopauseEnd&&t.pathological.data.menopauseEnd.getTime(),n.createApplication(t.pathological.data).then(function(e){console.log("病例申请表提交成功pathological submit success！",e),v.test_serialNumber=e.serialNumber,t.pathological.data=e,t.pathological.data.id=e.id,g()},function(e){console.log("pathological submit error",e),r.error(e,"操作失败！"),t.pathological.checkErr=e+"!"}))},v.reject=function(){if(1==t.pathological.data.status){t.autoFocus=!t.autoFocus;var e=o.open({templateUrl:"app/site/sampleRegistration/modal/textareaModal.html",controller:"TextareaModalController",controllerAs:"textMod",resolve:{resolveData:{modalTitle:"拒收原因：",selectTitle:"拒收原因：",textareaTtitle:"拒收说明："}}});e.result.then(function(e){a.rejectPathology(t.pathological.data.id,e).then(function(t){r.success("操作成功！"),s.go("app.sampleRegistration",{},{reload:!0})},function(t){r.error(t,"操作失败")})})}}}t.$inject=["$scope","$rootScope","PathologyService","ApplicationService","$filter","$uibModal","toastr","$state","printerService","MaterialService","IhcService","$timeout"],angular.module("pathcloud").controller("SampleRegistrationController",t)}(),function(){"use strict";function t(t,e,a){
var n=this;n.Title=e,n.Content=a,n.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","modalTitle","modalContent"],angular.module("pathcloud").controller("TipModalController",t)}(),function(){"use strict";function t(t,e,a,n,i){var o=this;o.modalTitle=a.modalTitle,o.selectTitle=a.selectTitle,o.textareaTtitle=a.textareaTtitle,o.rejectReason={},console.error(a),n.rejectReason().then(function(t){o.rejectReasonLIst=t},function(t){i.error(t)}),o.ok=function(){e.close(o.rejectReason)},o.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","resolveData","paramSettingService","toastr"],angular.module("pathcloud").controller("TextareaModalController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){var l={gumVideo:"#Video"};o(function(){n.init(l)}),"app.confirmMaterial"===e.current.name?t.photo=function(){var t=n.photo();a.close(t)}:t.photo=function(){var t=n.photo(538,389);i.fileUpload(t.split(",")[1],r,s)},t.cancel=function(){a.close()}}t.$inject=["$scope","$state","$uibModalInstance","videoService","toolService","$timeout","position","pathologicalId"],angular.module("pathcloud").controller("ShowVideoController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.modal={header:a.header||"撤销记录",timeLabel:a.timeLabel||"撤销时间",time:a.time||"",operatorLabel:a.operatorLabel||"撤销人",operator:a.operator||"",reasonLabel:a.reasonLabel||"撤销原因",reason:a.reason||""},console.info(i.modal),i.ok=function(){e.close(i.rejectReason)},i.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","data","toastr"],angular.module("pathcloud").controller("ReasonModalController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.modalTitle=a,n.enter=function(t){var e=window.event?t.keyCode:t.which;13==e&&n.ok()},n.ok=function(){e.close(n.text)},n.cancel=function(){e.dismiss()}}t.$inject=["$scope","$uibModalInstance","modalTitle"],angular.module("pathcloud").controller("InputModalController",t)}(),function(){"use strict";function t(t,e,a){var n=this;n.Title=e,n.Content=a,n.ok=function(){t.close()},n.cancel=function(){t.dismiss()}}t.$inject=["$uibModalInstance","modalTitle","modalContent"],angular.module("pathcloud").controller("CommonModalController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){var s=this;s.Title=n,t.readonly=!0,t.pathological={},1===i.applyType?(s.applyType=1,t.applicationData=i):2===i.applyType?(s.applyType=2,r(function(){t.pathologicalFreeze.data=i.research,t.pathologicalFreeze.data.departmentsDesc=i.departmentsDesc,t.pathologicalFreeze.data.samples=i.samples,t.pathologicalFreeze.data.id=i.id,s.serialNumber=t.pathologicalFreeze.data.serialNumber=i.serialNumber,t.pathologicalFreeze.data.applyType=2},100)):3===i.applyType&&(s.applyType=3,s.data=i,s.data.origins=JSON.parse(i.medicalHistory)),i.menopauseEnd=o("date")(i.menopauseEnd,"yyyy-MM-dd"),s.ok=function(){var n;n=t.applicationData?t.applicationData.serialNumber:s.serialNumber,2===s.applyType?e.printPathologicalForm("#pathologicalFreezeForm",n,a.close):e.printPathologicalForm("#pathologicalForm",n,a.close)},s.cancel=function(){a.dismiss()}}t.$inject=["$scope","printerService","$uibModalInstance","modalTitle","ApplicationData","$filter","$timeout"],angular.module("pathcloud").controller("ApplicationModalController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o()}function o(){e.getNotificationLIst(l.filter).then(function(t){l.notificationList=t},function(t){})}function r(){e.getNotificationTotal().then(function(t){a.totalNotification=t},function(t){})}function s(){e.getNotificationDetial(l.activeItem.id).then(function(t){l.activeItem.data=t,l.dealData={modalTitle:"异常处理",pathId:t.pathologyId,blockId:t.blockId,pathologyNumber:t.pathologyNumber,subId:t.blockNumber,status:t.status,statusName:t.sourceName,position:"notification"},r()})}var l=this;l.filter={handle:!1,length:10,page:1},i(),l.getDataList=function(){o()},l.deal=function(){n.open({templateUrl:"app/site/caseQuery/modal/sampleError.html",size:"sample-error",controller:"SampleErrorController",controllerAs:"SampleE",resolve:{resolveData:function(){return l.dealData}}}).result.then(function(){i()})},l.viewDetail=function(t){l.activeItem=t,t.readFlag=!0,s()},l.waitingTime=function(t){var e=(t/36e5).toFixed(2);return e+"小时"}}t.$inject=["toastr","notificationService","$rootScope","$uibModal"],angular.module("pathcloud").controller("NotificationController",t)}(),function(){"use strict";function t(t,e,a,n,i,o){function r(){s.formDisabled=!0,n.getUser(t.user.id).then(function(t){s.data=t}),n.getRoleAuthList().then(function(t){console.log("rolesList=======",t),s.rolesList=t.data}),s.getDepartments=function(t){o.getDepartments(t).then(function(t){s.departmentList=t})},s.getDepartments(),s.taskTypeList=[{name:"国家自然科学基金",value:0},{name:"国家科技部课题",value:1},{name:"省部级计划课题",value:2},{name:"横向课题",value:3},{name:"其他",value:4}],s.identityList=[{name:"本科生",value:0},{name:"硕士研究生",value:1},{name:"博士研究生",value:2},{name:"博士后",value:3},{name:"临床医生",value:4},{name:"研究人员",value:5},{name:"技术人员",value:6},{name:"其他",value:7}]}var s=this;r(),s.check={},s.checkFn=function(t){n.check(t).then(function(t){s.check.nameErr=t},function(t){s.check.nameErr=t})},s.ok=function(){var t={id:s.data.id,userName:s.data.userName,password:null,firstName:s.data.firstName,phone:s.data.phone,email:s.data.email,unit:s.data.unit,departments:s.data.departments,roleId:s.data.roleId,status:s.data.status,wno:s.data.wno,identity:s.data.identity,tutor:s.data.tutor,faculty:s.data.faculty,specialty:s.data.specialty,studentNumber:s.data.studentNumber,taskName:s.data.taskName,taskType:s.data.taskType,projectCode:s.data.projectCode};n.editUser(t,t.id).then(function(){i.success("修改成功"),a.go("app.profile",{},{reload:!0})},function(t){s.messageErr=t,"qwe!@#15316073015"===s.data.password})}}t.$inject=["$rootScope","$scope","$state","UserService","toastr","MaterialService"],angular.module("pathcloud").controller("ProfileController",t)}(),function(){"use strict";function t(t,e,a){function n(){o(),t(function(){r.classAnimation="rubberBand"},4e3)}function i(){a.success("click 来点击啊啊啊"),r.classAnimation=""}function o(){r.awesomeThings=e.getTec(),angular.forEach(r.awesomeThings,function(t){t.rank=Math.random()})}var r=this;r.toast={title:"",message:""},r.awesomeThings=[],r.classAnimation="",r.creationDate=1478056022354,r.showToastr=i,n(),a.info("",{containerId:2})}t.$inject=["$timeout","webDevTec","toastr"],angular.module("pathcloud").controller("MainController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){function s(t){e.go(d[t].path)}var l=this;if(l.data={},l.data.username="",l.data.password="",l.checkErr="",l.ifQrLogin=!0,n.get("remberPassword")){var c=i.getObject("remberPassword");l.rember=c.rember,l.data.username=window.atob(c.username),l.data.password=window.atob(c.password)}l.tab=function(t){var e=window.event?t.keyCode:t.which;13==e&&l.loginSystem()};var d={0:{path:"app.UserModule"},1:{path:"app.applicationCreate"},2:{path:"app.CreateDiagnosis"},4:{path:"app.createMaterial"},8:{path:"app.grossing"},16:{path:"app.embed"},32:{path:"app.section"},64:{path:"app.createDye"},128:{path:"app.ProConfirmation"},256:{path:"app.sampleRegistration"},512:{path:"app.slideArchive"},1024:{path:"app.CreateQuery"},2048:{path:"app.report"},4096:{path:"app.CreateDiagnosis"},8192:{path:"app.CreateDiagnosis"},16384:{path:"app.AllStatistic"},32768:{path:"app.specialDyeCreate"},65536:{path:"app.ihcCreate"},131072:{path:"app.freezeSlide"}};l.loginSystem=function(){""!=l.data.username&&""!=l.data.password?t.login(l.data).then(function(t){function c(){if(l.rember){var t=new Date;t.setDate(t.getDate()+30),i.putObject("remberPassword",{rember:l.rember,username:window.btoa(l.data.username),password:window.btoa(l.data.password)},{expires:t})}else i.remove("remberPassword")}if(o.success("登录成功！"),a.version?a.version=t.version:(a.version=t.version,n.put("version",t.version)),a.user=t,r.store(),1===t.permissionCodes.length){var d=t.permissionCodes[0];s(d)}else e.go("app.home");n.put("userInfo",t),c()},function(t){l.checkErr=t}):l.checkErr="用户名或密码不能为空！"},l.qrcodeLogin=function(){t.loginByQrcode(l.data.qrCode).then(function(t){l.data.username=t.username,l.data.password=t.password,l.loginSystem()})}}t.$inject=["UserService","$state","$rootScope","$cookieStore","$cookies","toastr","DepartmentsService"],angular.module("pathcloud").controller("LoginController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r){var s=this;s.userAuth=t.user.permissionCodes,s.menuList=[{href:"app.applicationCreate",imgSrc:"assets/images/logo-path-application.png",needAuth:[1],title:"病理申请"},{href:"app.sampleRegistration",imgSrc:"assets/images/logo-sample-register.png",needAuth:[256],title:"样本登记"},{href:"app.createMaterial",imgSrc:"assets/images/logo-material.png",needAuth:[4],title:"取材"},{href:"app.specialDyeCreate",imgSrc:"assets/images/logo-dye-application.png",needAuth:[32768],title:"染色申请"},{href:"app.grossing",imgSrc:"assets/images/logo-grossing.png",needAuth:[8],title:"脱水"},{href:"app.embed",imgSrc:"assets/images/logo-embed.png",needAuth:[16],title:"包埋"},{href:"app.section",imgSrc:"assets/images/logo-section.png",needAuth:[32],title:"切片"},{href:"app.createDye",imgSrc:"assets/images/logo-dye.png",needAuth:[64],title:"染色封片"},{href:"app.ProConfirmation",imgSrc:"assets/images/logo-slide-confirm.png",needAuth:[128],title:"制片确认"},{href:"app.CreateDiagnosis",imgSrc:"assets/images/logo-diagnosis.png",needAuth:[2,4096,8192],title:"病理诊断"},{href:"app.report",imgSrc:"assets/images/logo-report.png",needAuth:[2048],title:"报告"},{href:"app.slideArchive",imgSrc:"assets/images/logo-archive.png",needAuth:[512],title:"存档"},{href:"app.ihcSearch",imgSrc:"assets/images/logo-ihc.png",needAuth:[65536],title:"特检"},{href:"app.reagentState",imgSrc:"assets/images/logo-reagent.png",needAuth:[262144],title:"试剂耗材"},{href:"app.AllStatistic",imgSrc:"assets/images/logo-statistics.png",needAuth:[16384],title:"统计报表"},{href:"app.CreateQuery",imgSrc:"assets/images/logo-search.png",needAuth:[1024],title:"查询"},{href:"app.freezeSlide",imgSrc:"assets/images/logo-frozen.png",needAuth:[131072],title:"冰冻"},{href:"app.UserModule",imgSrc:"assets/images/logo-sys-manage.png",needAuth:[0],title:"系统管理"}],s.checkAuth=function(t){return 0===t.needAuth.length?!1:r&&"冰冻"===t.title?!0:0===_.intersection(s.userAuth,t.needAuth).length}}t.$inject=["$rootScope","$scope","T","$http","$interval","IhcService","usingFrozen"],angular.module("pathcloud").controller("HomeController",t)}(),function(){"use strict";function t(t,e,a,n){var i=this;i.data={param:"embedRemark"},i.add=function(t){i.disabled=!0,a.setting(i.data).then(function(t){e.success("新增成功"),i.getRemarkList(),i.data.name=null,i.disabled=!1},function(t){i.disabled=!1,e.error(t)}),t.stopPropagation()},i["delete"]=function(t){var o={modalTitle:"警告",modalContent:"您确定要删除这条内容吗？",size:"sm"};n.getModalResult(o).then(function(){a.deleteEmbedRemark(t).then(function(t){e.success("删除成功"),i.getRemarkList()},function(t){e.error(t)})})},i.getRemarkList=function(){a.embedRemark().then(function(t){i.embedRemarkLIst=t},function(t){e.error(t)})},i.getRemarkList()}t.$inject=["$scope","toastr","paramSettingService","toolService"],angular.module("pathcloud").controller("EmbedSettingController",t)}(),function(){"use strict";function t(t,e,a,n){function i(){o.tableHeaders=[{name:"病理号",order:1},{name:"蜡块号"},{name:"姓名",order:3},{name:"送检科室"},{name:"取材医生"},{name:"取材部位"},{name:"组织数"},{name:"取材标识"},{name:"包埋技术员"},{name:"包埋时间",order:10},{name:"包埋备注"},{name:"样本状态"}],o.defaultTime=1,o.filterData={page:1,length:20},o.getDataList=function(){o.filterData.filter||delete o.filterData.filter,a.embedSearch(o.filterData).then(function(t){o.data=t})},o.getSortList=function(t){t.order&&("asc"===t.sort?t.sort="desc":t.sort="asc",o.filterData.sort=t.sort,o.filterData.order=t.order,o.getDataList())},a.embedPerson().then(function(t){o.embedPersonList=t}),n(function(){o.filterData.startTime=o.startTime,o.filterData.endTime=o.endTime,o.getDataList()},0)}var o=this;i(),o.query=function(){o.filterData={page:1,length:20,status:o.status,operatorId:o.operatorId,startTime:o.startTime,endTime:o.endTime},o.getDataList()},o.search=function(){o.searchStr?(o.defaultTime=5,o.status=null,o.operatorId=null):(console.info("搜索条件"),o.defaultTime=1),o.filterData={page:1,length:20,filter:o.searchStr},n(function(){o.filterData.startTime=o.startTime,o.filterData.endTime=o.endTime,console.info("搜索条件",o.filterData),o.getDataList()},0)}}t.$inject=["$scope","toastr","embedService","$timeout"],angular.module("pathcloud").controller("EmbedSearchController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){n.embedCount().then(function(t){u.count=t})}function d(t){u.remark={};var e;"ignore"!==t&&u.blockInfo&&u.blockInfo.blockId&&u.filter.substring(0,9)!=u.blockInfo.pathologySerialNumber&&(e=u.blockInfo.pathologyId,console.info("上一个病理的id",e)),u.pending=!0,n.getBlockInfo(u.filterSave,e).then(function(e){if(e.pathologyId){if("finish"===t)return;if(14!==e.status&&"ignore"!==t){if(!e.embedOperateTime)return void a.error("蜡块状态不是待包埋");var n="该蜡块于"+l("date")(e.embedOperateTime,"yyyy-MM-dd HH:mm")+"被"+e.embedOperatorDesc+"包埋，目前状态是"+e.statusDesc||e.statusName;a.error(n)}u.filter="",u.blockInfo=e,u.remark.noteType=e.embedRemarkType,u.remark.note=e.embedRemark}else{for(var i=0;i<e.length;i++)e[i]=u.blockInfo.pathologySerialNumber+"-"+e[i];e=e.join("，"),o.getModalResult({modalTitle:"上一个病理号仍有蜡块未包埋，是否忽略",modalContent:"未包埋蜡块号："+e,size:"dialog"}).then(function(){d("ignore")},function(){console.info("忽略蜡块")})}},function(t){a.error(t,u.filterCopy)})["finally"](function(){u.pending=!1}),c()}var u=this;u.filter="",u.remark={},t(function(){$("button").click(function(){$("#searchInput").focus()})},1e3),c(),u.showBigImg=function(){s.open({templateUrl:"app/site/drawMaterial/modal/showImg.html",controller:"ShowImgController",size:"lg",resolve:{imgUrl:function(){return"api/static/grossingConfirm/"+u.blockInfo.blockId}}})},u.reGrossing=function(){if(u.blockInfo.blockId){var t={blockId:u.blockInfo.blockId,note:u.remark.note};r.post("/embed/reGrossing",t).then(function(){a.success("操作成功"),e.go("app.embed",{},{reload:!0})},function(t){a.error(t.reason)})}},u.pause=function(){u.blockInfo.embedPause=!u.blockInfo.embedPause;var t={blockId:u.blockInfo.blockId,noteType:u.remark.noteType,note:u.remark.note};u.blockInfo.embedPause?r.post("/embed/pause/cancel",t).then(function(){u.blockInfo.embedPause=!u.blockInfo.embedPause}):r.post("/embed/pause",t).then(function(){u.blockInfo.embedPause=!u.blockInfo.embedPause})},u.getBlockInfoButton=function(t){u.filter=u.blockInfo.pathologySerialNumber+t,u.getBlockInfo()},u.getBlockInfo=function(){return u.filter?(u.filterSave=u.filter.replace("-",""),void(u.blockInfo&&u.blockInfo.blockId&&14==u.blockInfo.status?(u.pending=!0,n.confirmEmbed(u.remark,u.blockInfo.blockId).then(function(t){a.success("包埋保存成功！"),d()},function(t){a.error(t,"包埋保存失败！"),d()})["finally"](function(){u.pending=!1})):d())):void(u.blockInfo={})},i.embedRemark().then(function(t){u.embedRemarkLIst=t},function(t){a.error(t)}),u.confirmEmbed=function(){u.blockInfo.blockId&&n.confirmEmbed(u.remark,u.blockInfo.blockId).then(function(t){a.success("包埋保存成功！"),d("finish"),e.go("app.embed",{},{reload:!0})},function(t){a.error(t)})}}t.$inject=["$timeout","$state","toastr","embedService","paramSettingService","toolService","IhcService","$uibModal","$filter"],angular.module("pathcloud").controller("EmbedController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){var l=this;o.get("/systemSetting/sampleCategory").then(function(t){l.categoryList=t}),l.statusList=[{name:"未登记",value:1},{name:"已登记",value:2},{name:"已拒收",value:3},{name:"已撤销",value:4},{name:"已结束",value:30}],l.defaultTime=3,l.searchData={filter:null,sort:null,order:null,page:1,length:10},l.getDataList=function(){s(function(){l.searchData.createTimeStart=l.startTime,l.searchData.createTimeEnd=l.endTime,t.getApplicationList(l.searchData).then(function(t){l.data=t.data,l.totalItems=t.total})})},l.getDataList(),l.query=function(){delete l.searchData.filter,l.getDataList()},l.search=function(){l.searchStr?l.defaultTime=5:(l.defaultTime=1,delete l.searchData.filter),l.searchData={page:1,length:20,filter:l.searchStr},l.getDataList()},l.view=function(e){t.getOne(e).then(function(t){console.warn("查看申请result",t),i.open({templateUrl:"app/site/modal/applicationModal.html",size:"lg",controller:"ApplicationModalController",controllerAs:"applicationMod",resolve:{modalTitle:function(){return"病理申请表"},ApplicationData:t}})},function(t){})},l.cancel=function(e,n){var i={size:"sm",modalTitle:"警告！",modalContent:"确定要撤销吗？"};r.getModalResult(i).then(function(){2===n?t.cancelFreeze(e).then(function(){a.success("撤销成功"),l.getDataList()},function(t){a.error(t)}):t.cancelOne(e).then(function(){a.success("撤销成功"),l.getDataList()},function(t){a.error(t)})}),function(){}},l.printLabel=function(t){console.log(t),n.printLabel(t)}}t.$inject=["ApplicationService","$filter","toastr","printerService","$uibModal","IhcService","toolService","$timeout"],angular.module("pathcloud").controller("ViewApplicationController",t)}(),function(){"use strict";function t(t,e,a,n,i,o,r,s,l){function c(){t.readonly=!1,t.showOperation=!0,t.pathological={}}var d=this;o.get("/paramSetting/applicationDefault").then(function(e){s.params.type?t.activeMenu=s.params.type:t.activeMenu=e}),t.activeMenu=s.params.type||t.activeMenu||1,c(),t.menuSwitch=function(e){t.activeMenu=e},t.submitApplication=function(e){n.createApplication(e).then(function(e){console.log("表格数据 返回----！",e,d),t.test_serialNumber=e.serialNumber,i.success("病理申请表提交成功"),t.showOperation=!1,t.pathological.data=e,r.printLabel(e.samples),console.info("初始化表格内容"),t.refresh(1)},function(t){console.log("pathological submit erroe",t),i.error("病例申请表提交失败！")})},t.refresh=function(e){c(),t.activeMenu=null,l(function(){t.activeMenu=e},30)}}t.$inject=["$scope","$rootScope","$filter","ApplicationService","toastr","IhcService","printerService","$state","$timeout"],angular.module("pathcloud").controller("ApplicationCreateController",t)}(),function(){"use strict";function t(){function t(){return e}var e=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Sass (Node)",url:"https://github.com/sass/node-sass",description:"Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.",logo:"node-sass.png"}];this.getTec=t}angular.module("pathcloud").service("webDevTec",t)}(),function(){"use strict";function t(){var t={transclude:!0,template:'<div class="toolbar"><div class=" container"><div class="toolbar-container" ng-transclude></div></div></div>',restrict:"E"};return t}angular.module("pathcloud").directive("toolbar",t)}(),function(){"use strict";function t(t,e,a,n){return{restrict:"E",templateUrl:"app/components/templateType/templateType.html",scope:{position:"@"},replace:!0,link:function(i){function o(){t.getCustomTemplate(null,i.position,0).then(function(t){i.OneLevelList=t,t.length&&(i.activeTemplate==t.length&&(i.activeTemplate=0),i.choseTemplate(t[i.activeTemplate||0],i.activeTemplate||0),r(i.activeTemplateId))})}function r(e){t.getCustomTemplate(e,i.position,0).then(function(t){i.TwoLevelList=t,t.length&&(i.twoTemplate==t.length&&(i.twoTemplate=0),i.choseTwoTemplate(t[i.twoTemplate||0],i.twoTemplate||0))})}function s(t){var n={content:t.content};a.put("/template/edit/"+t.id,n).then(function(){e.success("修改成功")},function(t){e.error(t.reason)})}o(),i.choseTemplate=function(t,e){i.activeTemplate=e,i.activeTemplateId=t.id,r(i.activeTemplateId)},i.choseTwoTemplate=function(t,e){i.twoTemplate=e,i.twoTemplateId=t.id},i.addTemplate=function(t,e){var a={name:"",parent:0==e?null:i.activeTemplateId,category:0,position:i.position,content:"",newItem:!0,level:e};t.push(a),t[t.length-1].focus=!0,0==e?i.choseTemplate(t[t.length-1],t.length-1):i.choseTwoTemplate(t[t.length-1],t.length-1)},i.deleteTemplate=function(a){a&&n.getModalResult({modalTitle:"删除确认",modalContent:"是否确定删除该模板？"}).then(function(){t.deleteCustomTemplate(a).then(function(t){e.success("删除模板成功"),o()})})},i.saveTemplate=function(a,n){a.name?(delete a.focus,a.newItem?(delete a.newItem,t.customDiagnoseTemplate(a).then(function(t){e.success("添加模板成功"),o()},function(t){e.error(t),n.pop()})):t.renameCustomTemplate(a.id,a).then(function(){e.success("更新模板成功")},function(t){e.error(t)})):a.newItem?n.pop():(e.error("模板名称不能为空"),a.focus=!0)},i.changeText=function(){i.focusText&&s(i.TwoLevelList[i.twoTemplate]),i.focusText=!i.focusText}}}}t.$inject=["DiagnosisService","toastr","IhcService","toolService"],angular.module("pathcloud").directive("templateType",t)}(),function(){"use strict";function t(){function t(t){for(var e=this,a=new Date,n=a.getFullYear(),i=[],o=2016;n>=o;o++)i.push(o);e.yearArr=i}t.$inject=["$scope"];var e={restrict:"E",scope:{year:"="},template:"<select class='form-control input-sm' ng-model='vm.year' ng-options='year as year for year in vm.yearArr' '></select>",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("pathcloud").directive("yearSelector",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"app/components/template/template.html",scope:{content:"=",position:"@"},replace:!0,link:function(e){function a(a){t.getCustomTemplate(a,e.position,0).then(function(t){e.twoLevel=t,t.length&&(e.twoTemplate==t.length&&(e.twoTemplate=0),e.twoTemplateId=t[e.twoTemplate||0].id,e.twoTemplate=e.twoTemplate||0)})}t.getCustomTemplate(null,e.position,0).then(function(t){e.oneLevel=t,t.length&&(e.activeTemplate==t.length&&(e.activeTemplate=0),e.chooseOneLevel(t[e.activeTemplate||0],e.activeTemplate||0),a(e.activeTemplateId))}),e.chooseOneLevel=function(t,n){e.activeTemplate=n,e.activeTemplateId=t.id,a(e.activeTemplateId)},e.chooseTwolevel=function(t,a){e.twoTemplate=a,e.twoTemplateId=t.id,e.content=t.content},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}}}}t.$inject=["DiagnosisService"],angular.module("pathcloud").directive("customTemplate",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/slider/slider-container.html",transclude:!0,scope:{"new":"=",scrollWidth:"=",perItemNum:"=",totalNum:"="},link:function(t,e,a){var n=$(e).find(".slider-container");t.$watch("totalNum",function(e,a){e&&(t.pages=Math.ceil(t.totalNum/t.perItemNum))});var i=1,o=0;t.$watch("new",function(t,e,a){1==a["new"]&&(n.css("transform","translateX(0px)"),a["new"]=!1,o=0,i=1)}),t.right=function(){i<t.pages&&(i++,o-=t.scrollWidth,n.css("transform","translateX("+o+"px)"))},t.left=function(){i>1&&(i--,o+=t.scrollWidth,n.css("transform","translateX("+o+"px)"))}}};return t}angular.module("pathcloud").directive("sliderContainer",t)}(),function(){"use strict";function t(t,e){return{restrict:"AE",scope:{text:"=",require:"=",value:"=",getData:"&",datas:"="},template:'<div class="select-search"><input autocomplete="off" class="form-control" id="departments"  name="departments" ng-required="require" type = "text" ng-change="changeData()" ng-model="model"  ng-click = "hidden=!hidden" value="{{value}}" ng-blur="judgeValue()"/></input><div class="hideWhenPrint select-item" ng-if="!hidden">   <select id="selectSearch" class="form-control"  ng-model="x" multiple="1" size="10">       <option ng-repeat="data in datas" ng-click="change(data)" ng-value="data.code" >{{data.name}}</option>   </select></div></div>',link:function(t,a,n,i){t.tempdatas=t.datas,t.hidden=!0,t.model="",t.text&&(t.model=t.text),console.info("指令里$scope.text",t.text),t.judgeValue=function(){e(function(){console.info("指令里$scope.value",t.value),t.value||(t.model="",t.hidden=!0)},500)},t.change=function(e){t.model=e.name,t.value=e.code,t.hidden=!0},t.changeData=function(){t.value="",t.getData({filter:t.model}),t.hidden=!1}}}}t.$inject=["$compile","$timeout"],angular.module("pathcloud").directive("selectSearch",t)}(),function(){"use strict";function t(){function t(t,e){var a=this,n=!0,i=Date.now();a.getFilterList=function(t){var e=window.event?t.keyCode:t.which;a.changeFn(),n=!1,13==e&&a.getSearchData()},a.getSearchData=function(){Date.now()-i>500&&(a.getData(),$("#searchInput").focus(),t(function(){a.model=""},500),i=Date.now())}}t.$inject=["$timeout","$scope"];var e={restrict:"E",scope:{model:"=",getData:"&",changeFn:"&",clear:"@",placeholder:"@"},template:'<div class="input-group full-width"> <input id="searchInput" class="form-control" type="text" ng-model="search.model" ng-keyup="search.getFilterList($event)"  auto-focus="true" placeholder="{{search.placeholder}}"> <span id="searchSpan" class="input-group-btn"> <button class="btn btn-default" type="button" id="searchButton" click-debounce ng-click="search.getSearchData()"><span class="glyphicon glyphicon-search"></span></button> </span> </div>',controller:t,controllerAs:"search",bindToController:!0};return e}angular.module("pathcloud").directive("searchInput",t)}(),function(){"use strict";function t(){function t(t,e,a,n,i,o,r){console.log("$scope.data:=====",t);var s=this;r.getReportTemplate().then(function(e){t.reportTemplate=e[0]}),console.log("$scope.data:=====",s.reportData)}t.$inject=["$scope","$rootScope","$state","$timeout","printerService","toastr","DiagnosisService"];var e={restrict:"E",scope:{reportData:"="},templateUrl:"app/components/report/report.html",controller:t,controllerAs:"reportInfo",bindToController:!0};return e}angular.module("pathcloud").directive("report",t)}(),function(){"use strict";function t(){function t(){var t=this;console.warn(t.placeholder),t.getFilterList=function(e){var a=window.event?e.keyCode:e.which;13==a&&(t.getData(),$("#scanInput").focus(),$("#scanInput").select())}}var e={restrict:"E",scope:{model:"=",getData:"&",placeholder:"@"},template:'<input id="scanInput" class="form-control" type="text" ng-model="scan.model" ng-keyup="scan.getFilterList($event)" auto-focus="true" placeholder="{{scan.placeholder}}"> ',controller:t,controllerAs:"scan",bindToController:!0};return e}angular.module("pathcloud").directive("scanInput",t)}(),function(){"use strict";function t(){function t(t,e,a,n,i,o,r,s,l){t.datePopup=!1;var c=this;t.menopauseDateOptions={maxDate:Date()},c.getSelectName=function(t,e){if(void 0!=e){var a=_.find(t,function(t){return void 0!==t.value?t.value==e:t.code==e});if(a)return"请选择"===a.name?"":a.name}},c.required={},a.getApplicationRequired().then(function(t){t.length&&angular.forEach(t,function(t,e,a){c.required[t.name]=t})}),c.sexList=[{name:s.T("男"),value:1},{name:s.T("女"),value:2}],c.maritalStatusList=[{name:s.T("请选择"),value:90},{name:s.T("未婚"),value:10},{name:s.T("已婚"),value:20},{name:s.T("丧偶"),value:30},{name:s.T("离婚"),value:40}],l.get("/systemSetting/sampleCategory").then(function(t){c.categoryList=t}),c.gynaecologyList=[{name:s.T("妇科"),value:!0},{name:s.T("非妇科"),value:!1}],c.menopauseList=[{name:s.T("请选择"),value:void 0},{name:s.T("是"),value:!0},{name:s.T("否"),value:!1}],c.departmentList=[{name:s.T("请选择"),value:void 0}],c.getDepartments=function(t){r.getDepartments(t).then(function(t){c.departmentList=t})},c.getDepartments(),c.inspectHospitalList=e.inspectHospitalList,l.get("/paramSetting/inspectHospital").then(function(t){c.inspectHospitalList=t}),c.data={maritalStatus:90,urgentFlag:!1,gynaecology:!1},c.data.samples=[{name:"",category:1}];var d={};c.isShow="true",t.applicationData&&(c.data=t.applicationData),c.addSample=function(t,e){d.name=t.name,d.category=t.category,c.data.samples.push(d),c.data.samples.length>0&&(c.btnFlag=!0)},c.addSample1=function(){c.data.samples.push({name:"",category:1})},c.delSample=function(t){c.data.samples.splice(t,1)},c.submit=function(){var e=angular.copy(c.data);e.menopauseEnd=c.data.menopauseEnd&&c.data.menopauseEnd.getTime()||null,console.error("申请表",e),t.submitApplication(e)}}t.$inject=["$scope","$rootScope","SystemSettingService","$timeout","UserService","$filter","MaterialService","T","IhcService"];var e={restrict:"E",scope:!1,templateUrl:"app/components/pathologicalForm/pathologicalForm.html",controller:t,controllerAs:"pathological"};return e}angular.module("pathcloud").directive("thfPathological",t)}(),function(){"use strict";function t(t,e,a){return{restrict:"AE",scope:{require:"=",disable:"=",value:"="},template:'<div class="note-select"><input autocomplete="off" class="form-control" id="note"  name="note" ng-required="require" ng-disabled="disable"  ng-model="model"  ng-click = "hidden=!hidden" /></input><div class="hideWhenPrint select-item" ng-if="!hidden">   <select class="form-control"  ng-model="x" multiple="1" size="10">       <option ng-repeat="data in datas" ng-click="change(data)" ng-value="data.code" >{{data.name}}</option>   </select></div></div>',link:function(t,e,a,n){t.datas=[{name:"备注1"},{name:"备注2"},{name:"备注3"},{name:"备注4"}],t.hidden=!0,t.model="",t.change=function(e){t.model=e.name,t.hidden=!0}}}}t.$inject=["$compile","$timeout","MaterialService"],angular.module("pathcloud").directive("noteSelect",t)}(),function(){"use strict";function t(t,e){function a(a){function i(t){return t.data}function o(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return a||(a=30),e.get(n+"/contributors?per_page="+a).then(i)["catch"](o)}var n="https://api.github.com/repos/Swiip/generator-gulp-angular",i={apiHost:n,getContributors:a};return i}t.$inject=["$log","$http"],angular.module("pathcloud").factory("githubContributor",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow()}t.$inject=["moment"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("pathcloud").directive("acmeNavbar",t)}(),function(){"use strict";function t(){var t={restrict:"E",scope:{month:"="},template:'<select class="form-control input-sm" ng-model="month" ng-options="item as item+vm.unit for item in vm.monthList "></select>',controller:function(){var t=this;t.monthList=[1,2,3,4,5,6,7,8,9,10,11,12],t.unit="月"},controllerAs:"vm",bindToController:!1};return t}angular.module("pathcloud").directive("monthSelector",t)}(),angular.module("pathcloud").directive("rdLoading",rdLoading),function(){"use strict";function t(){function t(t,e,a,n,i,o,r,s){function l(){o.getNotificationTotal().then(function(e){t.totalNotification=e},function(t){})}var c=this;t.$state=e,c.switching=function(t){s.use(t),window.localStorage.lang=t,window.location.reload()},c.cur_lang=s.use(),console.info("现在选择的语言",s.use()),c.choose=function(a,n){t.navbar.forEach(function(t){t.title===a?t.active=!0:t.active=!1}),e.go(n)},console.log("$rootScope.user修改密码=======:",t.user),c.open=function(){var t=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/changePwd.html",controller:"ChangePwdModalController",controllerAs:"changePassword",resolve:{
modalTitle:function(){return"修改密码"}}});t.result.then(function(){},function(){i.info("Modal dismissed at: "+new Date)})},c.checkOut=function(){n.logout()["finally"](function(){e.go("login")})},c.getProfile=function(){n.getUser(t.user.id).then(function(t){var e=t,n=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/userManage/modal/user.html",controller:"UserModalController",controllerAs:"userMod",size:"lg",resolve:{modalTitle:function(){return"用户信息"},method:function(){return"get"},userData:function(){return e}}});n.result.then(function(){},function(){i.info("Modal dismissed at: "+new Date)})})};r(function(){l()},21e5);l()}t.$inject=["$rootScope","$state","$uibModal","UserService","$log","notificationService","$interval","$translate"];var e={restrict:"E",templateUrl:"app/components/header/header.html",controller:t,controllerAs:"header"};return e}angular.module("pathcloud").directive("thfHeader",t)}(),function(){"use strict";function t(t){function e(e,a,n,i){var o,r=t(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){r.type(t).pause()["delete"]()}),o=e.$watch("vm.contributors",function(){angular.forEach(i.contributors,function(t){r.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){o()})}function a(t,e){function a(){return n().then(function(){t.info("Activated Contributors View")})}function n(){return e.getContributors(10).then(function(t){return i.contributors=t,i.contributors})}var i=this;i.contributors=[],a()}a.$inject=["$log","githubContributor"];var n={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:a,controllerAs:"vm"};return n}t.$inject=["malarkey"],angular.module("pathcloud").directive("acmeMalarkey",t)}(),function(){"use strict";function t(){function t(t,e,a){var n=this,i=new Date,o=i.getFullYear(),r=i.getMonth(),s=i.getDate(),l=new Date(o,r,s).getTime(),c=new Date(o,r,s-1).getTime(),d=new Date(o,r,s-2).getTime(),u=new Date(o,r,s-6).getTime(),p=new Date(o,r-1,s).getTime(),h=new Date(o,r-3,s).getTime(),m=new Date(o,r-6,s).getTime(),g=new Date(o-1,r,s).getTime(),f=new Date(o-3,r,s).getTime(),v=new Date(o-5,r,s).getTime(),b=m;n.dateList=[{name:a.T("最近1天"),code:1},{name:a.T("最近2天"),code:2},{name:a.T("最近3天"),code:3},{name:a.T("最近1周"),code:4},{name:a.T("最近1个月"),code:6},{name:a.T("最近3个月"),code:7},{name:a.T("最近6个月"),code:5}],e.getTimeRange().then(function(t){angular.forEach(t,function(t,e,i){if(t.checked)switch(n.dateList[6].name=a.T(t.name),t.code){case 1:b=m;break;case 2:b=g;break;case 3:b=f;break;case 4:b=v}})}),t.$watch(function(){return n.dateset},function(t,e){if(t)switch(t){case 1:n.startTime=l;break;case 2:n.startTime=c;break;case 3:n.startTime=d;break;case 4:n.startTime=u;break;case 6:n.startTime=p;break;case 7:n.startTime=h;break;case 5:n.startTime=b;break;default:n.startTime=l}})}t.$inject=["$scope","SystemSettingService","T"];var e={restrict:"E",scope:{startTime:"=",endTime:"=",type:"@",dateset:"=",change:"&"},template:"<select class='form-control input-sm' ng-model='vm.dateset' ng-options='item.code as item.name for item in vm.dateList' ng-change='vm.change()'></select>",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("pathcloud").directive("dateSeletor",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.departmentList=t.departments}t.$inject=["$rootScope"];var e={restrict:"E",scope:{type:"@",departmentset:"=",change:"&"},template:"<select class='form-control input-sm' ng-model='vm.departmentset' ng-options='item.code as item.name for item in vm.departmentList' ng-change='vm.change()'><option value=''>{{'送检科室'|translate}}</option></select>",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("pathcloud").directive("departmentSelector",t)}(),function(){"use strict";function t(t,e,a,n){return{restrict:"AE",scope:{text:"=",require:"=",value:"="},template:'<div class="select-search"><input class="form-control" autocomplete="off" id="departments"  name="departments" ng-required="require" type = "text"  ng-model="model"  ng-readonly=true ng-click = "hidden = !hidden " value="{{value}}" placeholder="请选择"/></input><div class="hideWhenPrint select-item" ng-show="!hidden"><input autocomplete="off" class="form-control" ng-blur="blurJudge()" auto-focus="{{!hidden}}" name="departments" ng-required="require" type = "text" ng-change="changeData()" ng-model="models"  value="{{values}}"/></input><select id="selectSearch" class="form-control"   ng-model="x" multiple="1" size="10"><option ng-repeat="data in datas"  ng-click="change(data)" ng-value="data.code" >{{data.name}}</option>    </select></div></div>',replace:!0,link:function(t,i,o,r){t.hidden=!0,t.model="",t.x=null,t.change=function(e){t.value=parseInt(t.x[0]),t.hidden=!0,t.model=n("department")(t.value),t.models="",t.getData(t.models)},t.getData=function(e){a.getDepartments(e).then(function(e){t.datas=e})},t.getData(),t.blurJudge=function(){e(function(){t.hidden=!0},500)},t.changeData=function(){t.getData(t.models),t.hidden=!1},t.$watch("value",function(e,a,i){t.model=n("department")(t.value)})}}}t.$inject=["$compile","$timeout","MaterialService","$filter"],angular.module("pathcloud").directive("departmentSelect",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/footer/footer.html"};return t}angular.module("pathcloud").directive("thfFooter",t)}(),function(){"use strict";function t(){}angular.module("pathcloud").controller("SiteController",t)}(),function(){"use strict";angular.module("pathcloud").factory("videoService",["$http","$q","$uibModal","$log",function(t,e,a){function n(t){console.log("MediaSource opened"),l=s.addSourceBuffer('video/webm; codecs="vp8"'),console.log("Source buffer: ",l)}function i(t){console.log("getUserMedia() got stream: ",t),window.stream=t,window.URL?c.src=window.URL.createObjectURL(t):c.src=t}function o(t){console.log("navigator.getUserMedia error: ",t)}var r="[api]",s=new MediaSource;s.addEventListener("sourceopen",n,!1);var l,c,d,u,p={audio:!0,video:!0};return{photo:function(t,e){var a=document.createElement("canvas");a.width=t||1024,a.height=e||768;var n=a.getContext("2d");n.drawImage(c,0,0,t||1024,e||768);var i=a.toDataURL("image/jpeg",1);i.split(",")[1];return i},startRecording:function(){},stopRecording:function(){},init:function(t){"https:"===location.protocol||0==location.host.indexOf("localhost");c=document.querySelector(t.gumVideo),d=document.querySelector(t.recordedVideo),u=document.querySelector(t.imgContainer),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia(p,i,o)},showVideo:function(a,n,i){var o=e.defer();return t({method:"get",url:r+"/grossing/"+a+"/file/"+n,params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("UserService",["$http","$q",function(t,e,a){var n="[api]";return{login:function(a){var i=e.defer();return t({method:"post",url:n+"/login",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(t){var e=[];for(var a in t)e.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return e.join("&")}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.data)}),i.promise},loginByQrcode:function(a){var i=e.defer();return t({method:"post",url:n+"/user/qrcode/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.data)}),i.promise},logout:function(){var a=e.defer();return t({method:"post",url:n+"/logout"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getRoleAuthList:function(a){var i=e.defer();return t({method:"get",url:n+"/role",params:a||{length:50}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getAuthList:function(){var a=e.defer();return t({method:"get",url:n+"/permissions"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},createRole:function(a){var i=e.defer();return t({method:"post",url:n+"/role",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},updateRole:function(a,i){var o=e.defer();return t({method:"put",url:n+"/role/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},deleteRole:function(a){var i=e.defer();return t({method:"delete",url:n+"/role/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},updateRoleList:function(a){var i=e.defer();return t({method:"post",url:n+"/role/setting",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},editUser:function(a,i){var o=e.defer();return t({method:"put",url:n+"/user/"+i,data:a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},createUser:function(a){var i=e.defer();return t({method:"post",url:n+"/user",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getUser:function(a){var i=e.defer();return t({method:"get",url:n+"/user/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getUserList:function(a){var i=e.defer();return t({method:"get",url:n+"/user",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},check:function(a){var i=e.defer();return t({method:"get",url:n+"/user/check/"+a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.data)}),i.promise},changePwd:function(a){var i=e.defer();return t({method:"put",url:n+"/user/resetPassword",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("toolService",["$http","$q","$uibModal","apiUrl","$window",function(t,e,a,n,i){var o,r="[api]";return o={getHtmlImgByTagName:function(t,e,a){$(".modal-content")&&$(".modal-content").length?($(".modal-body").scrollTop(0),window.scrollTo(0,0)):window.scrollTo(0,0);var n=$(t),i=n.width(),o=n.height(),r=n.offset().left,s=n.offset().top;console.log("width",i,"height",o);var l=e||2,c=document.createElement("canvas");c.width=i*l,c.height=o*l,c.style.width=i+"px",c.style.height=o+"px";var d=c.getContext("2d");d.scale(l,l),d.translate(-r,-s),d.font="Microsoft YaHei",html2canvas(n,{canvas:c,onrendered:function(t){a(t.toDataURL("image/png"),i,o)}})},getImgHeader:function(){return n.substr(0,n.length-3)},convertImgToSamllBase64:function(t,a,n){function i(t){var i=e.defer(),r=new Image;return r.crossOrigin="anonymous",a=a||100,n=n||70,r.onload=function(){var t=document.createElement("CANVAS"),e=t.getContext("2d"),o=r.naturalWidth,s=r.naturalHeight;t.width=a,t.height=n,console.warn(o,s,a,n),e.drawImage(r,0,0,o,s,0,0,a,n);var l=t.toDataURL("image/jpeg");l?i.resolve(l):i.reject(null)},r.src=o.getImgHeader()+t,i.promise}return t?"string"==typeof t?i(t):function(){var a=[];return t.forEach(function(t){a.push(i("string"==typeof t?t:t.url))}),e.all(a)}():e.all()},getOrderByList:function(t){for(var e={order:0,sort:"desc"},a=[],n=0;t>n;n++)e.order=n,a.push(e);return a},getLocalStorageInfo:function(t){try{return JSON.parse(i.localStorage.getItem(t))}catch(e){return!1}},setLocalStorageInfo:function(t,e){i.localStorage.setItem(t,JSON.stringify(e))},getModalResult:function(t){var e=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/modal/commonModal.html",controller:"CommonModalController",controllerAs:"commonModal",size:t.size,resolve:{modalTitle:function(){return t.modalTitle},modalContent:function(){return t.modalContent}}});return e.result},getTipResult:function(t){var e=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/modal/tipModal.html",controller:"TipModalController",controllerAs:"tipModal",size:t.size,resolve:{modalTitle:function(){return t.modalTitle},modalContent:function(){return t.modalContent}}});return e.result},getInputModal:function(t){var e=a.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/site/modal/inputModal.html",controller:"InputModalController",controllerAs:"inputMod",size:t.size,resolve:{modalTitle:function(){return t.modalTitle}}});return e.result},fileUpload:function(a,n,i,o){var s=e.defer();return t({method:"post",url:r+"/file/"+n+"/"+i,data:{file:a,tag:o},headers:{"Content-Type":void 0},transformRequest:function(t){var e=new FormData;return e.append("file",t.file),e.append("tag",t.tag),e}}).then(function(t){console.log(t),0===t.data.code?s.resolve(t.data.data):s.reject(t.data.reason)}),s.promise},fileEditor:function(a,n){var i=e.defer();return t({method:"put",url:r+"/file/"+n,data:{file:a},headers:{"Content-Type":void 0},transformRequest:function(t){var e=new FormData;return e.append("file",t.file),e}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},fileDelete:function(a){var n=e.defer();return t({method:"delete",url:r+"/file/"+a}).then(function(t){console.log(t),0===t.data.code?n.resolve(t.data.data):n.reject(t.data.reason)}),n.promise},"export":function(t,e){function a(t){for(var e in t)null!=t[e]&&(i=i+e+"="+t[e]+"&")}if(t){var i=n+e+"?";a(t),window.open(i,"_self")}},isExistInArrObj:function(t,e){for(var a={},n=t.length;n;){if(n--,a[t[n][e]])return{item:t[n],value:t[n][e],index:n};a[t[n][e]]=t[n][e]}return!1}}}])}(),function(){"use strict";angular.module("pathcloud").factory("SystemSettingService",["$http","$q",function(t,e,a){var n="[api]";return{getTimeRange:function(a){var i=e.defer();return t({method:"get",url:n+"/systemSetting/queryTimeRange",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getAlarmTime:function(a){var i=e.defer();return t({method:"get",url:n+"/systemSetting/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},putAlarmTime:function(a,i){var o=e.defer();return t({method:"put",url:n+"/systemSetting/"+a+"/"+i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getApplicationRequired:function(a){var i=e.defer();return t({method:"get",url:n+"/systemSetting/applicationRequired",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getSpecialDyeList:function(a){var i=e.defer();return t({method:"get",url:n+"/systemSetting/specialDye"}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("StatisticService",["$http","$q",function(t,e,a){var n="[api]";return{slideQuality:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/slideQuality",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},inspectCategory:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/inspectCategory",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},reGrossing:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/reGrossing",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},specialDye:function(){var a=e.defer();return t({method:"get",url:n+"/statistics/specialDye"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},workLoad:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/workLoad",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},waitTime:function(){var a=e.defer();return t({method:"get",url:n+"/statistics/waitTime"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},score:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/score",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},reSection:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/reSection",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},error:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/errorBlock",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},monthInspectCategory:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/workload/monthInspectCategory",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},personInspectCategory:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/workload/personInspectCategory",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},groupInspectCategory:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/workload/groupInspectCategory",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},qualityPersonStatistics:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/quality/person",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},qualityMonthStatistics:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/quality/month",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},freezeAppointmentStatistics:function(a){var i=e.defer();return t({method:"get",url:n+"/statistics/freeze/booking",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},addQualityGrade:function(a){var i=e.defer();return t({method:"post",url:n+"/paramSetting/qualityScore",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getQualityGrade:function(){var a=e.defer();return t({method:"get",url:n+"/paramSetting/qualityScore"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},updateQualityGrade:function(a){var i=e.defer();return t({method:"put",url:n+"/paramSetting/qualityScore",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},deleteQualityGrade:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/qualityScore/"+a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("sectionService",["$http","$q","printerService",function(t,e,a){var n="[api]";return{print:function(t,e){if(1==e){var n={id:[],type:[]};angular.forEach(t,function(t,e){var a=t.pathNo+"$"+t.blockSubId+"$"+t.slideSubId,i=t.grossingBody+";"+t.marker;n.id.push(a),n.type.push(i)}),a.labWrite(n.id.join(),n.type.join())}else angular.forEach(t,function(e,n){var i={pathologySerialNumber:t.pathNo,subId:t.blockSubId,lastSlideSubId:t.slideSubId,bodyPart:t.grossingBody,marker:t.marker};i.code=t.pathNo+"-"+t.blockSubId+"-"+t.slideSubId,a.printSlide(i)})},getBlockInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/section/"+a,params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},confirmSection:function(a,i){var o=e.defer();return t({method:"post",url:n+"/section/confirm/"+i,data:a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},confirmSpecialDyeSection:function(a){var i=e.defer();return t({method:"post",url:n+"/section/confirm",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sectionCount:function(){var a=e.defer();return t({method:"get",url:n+"/section/count"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},sectionSearch:function(a){var i=e.defer();return t({method:"get",url:n+"/section/query",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sectionPerson:function(a){var i=e.defer();return t({method:"get",url:n+"/section/person",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getSlidesInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/section/"+a+"/slides",params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("ReagentService",["$http","$q",function(t,e){var a="[api]";return{checkName:function(n){var i=e.defer();return t({method:"get",url:a+"/reagent/name",params:n}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("QueryService",["$http","$q",function(t,e,a){var n="[api]";return{query:function(a){var i=e.defer();return t({method:"get",url:n+"/query",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},queryResearch:function(a){var i=e.defer();return t({method:"get",url:n+"/query/research",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},"export":function(a){var i=e.defer();return t({method:"get",url:n+"/query/export",params:a,headers:{"Content-Type":"application/octet-stream"}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},inspectDoctorList:function(a){var i=e.defer();return t({method:"get",url:n+"/query/inspect",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sampleBasicInfo:function(a){var i=e.defer();return t({method:"get",url:n+"/query/sample/"+a+"/base/"}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sampleMaterialInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/query/sample/"+a+"/grossing",params:{number:i}}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},sampleConfirmInfo:function(a){var i=e.defer();return t({method:"get",url:n+"/query/sample/"+a+"/confirm/"}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sampleSaveInfo:function(a){var i=e.defer();return t({method:"get",url:n+"/query/sample/"+a+"/grossing/"}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},diagnoseDoctorList:function(){var a=e.defer();return t({method:"get",url:n+"/user/superDiagnose/"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},specialDyeInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/query/specialDye/"+a+"/confirm",params:i}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("ProductService",["$http","$q",function(t,e,a){var n="[api]";return{getConfirmationList:function(a){var i=e.defer();return t({method:"post",url:n+"/production",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getConfirmationListByPathology:function(a,i){var o=e.defer();return t({method:"get",url:n+"/production/"+a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getProductionConfirm:function(a){var i=e.defer();return t({method:"post",url:n+"/production/confirm",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},setProductionAbnormal:function(a){var i=e.defer();return t({method:"post",url:n+"/production/abnormal",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDistributeList:function(a){var i=e.defer();return t({method:"get",url:n+"/distribute",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},doDistribute:function(a){var i=e.defer();return t({method:"post",url:n+"/distribute",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDistributedList:function(a){var i=e.defer();return t({method:"get",url:n+"/distribute/history",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},searchProductionList:function(a){var i=e.defer();return t({method:"get",url:n+"/distribute/history/"+a.pathNo,params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},statisticData:function(a){var i=e.defer();return t({method:"get",url:n+"/distribute/statistic",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},abnormalDataList:function(a,i){var o=e.defer();return t({method:"get",url:n+"/distribute/abnormal/"+i,params:a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},dealAbnormalBlock:function(a){var i=e.defer();return t({method:"post",url:n+"/distribute/abnormalBlockDeal",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getProductionScan:function(){var a=e.defer();return t({method:"get",url:n+"/production/scan/result"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("printerService",["$http","$q","$uibModal","$log","toolService","IhcService",function(t,e,a,n,i,o){function r(t){for(var e,a=s.GET_PRINTER_COUNT(),n=0;a>n;n++)if(console.log("i",n,s.GET_PRINTER_NAME(n)),s.GET_PRINTER_NAME(n).indexOf(t)>=0){s.SET_PRINTER_INDEX(n),e=!0;break}e||alert("未找到 "+t+" 打印机")}var s,l,c="PathTraq",d="[printUrl]";return o.get("/systemSetting/hospital").then(function(t){t&&o.getLocal("assets/printConfig/"+t+".json").then(function(t){l=t})}),{init:function(){return s=s||getLodop&&getLodop()},printData:function(t){if(this.init()){console.log(t),s.PRINT_INIT("打印登记页二维码标签"),r(c);try{var e=l.printData;s.SET_PRINT_PAGESIZE(e.PAGESIZE.intOrient,e.PAGESIZE.PageWidth,e.PageHeight,"");for(var a in e.STYLE)s.SET_PRINT_STYLE(a,e.STYLE[a]);s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_BARCODE(e.BARCODE.top,e.BARCODE.left,e.BARCODE.width,e.BARCODE.height,e.BARCODE.type,t.pathNo);for(var n=0;n<e.TEXT.length;n++){var i=e.TEXT[n];s.ADD_PRINT_TEXT(i.top,i.left,i.width,i.height,i.strContent)}s.ADD_PRINT_TEXT(e.DATA.top,e.DATA.left,e.DATA.width,e.DATA.height,t.pathNo)}catch(o){s.SET_PRINT_PAGESIZE(1,600,425,""),s.SET_PRINT_STYLE("FontSize",12),s.SET_PRINT_STYLE("Bold",2),s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_BARCODE(10,10,100,100,"QRCode",t.pathNo),s.ADD_PRINT_TEXT(15,105,130,30,t.patientName),s.ADD_PRINT_TEXT(38,105,130,30,t.pathNo),t.frozenNumber&&(s.ADD_PRINT_TEXT(61,105,130,30,"冰冻号"),s.ADD_PRINT_TEXT(84,105,130,30,t.frozenNumber))}finally{}s.PRINT()}},printSlide:function(t){if(this.init()){console.log(t,"打印玻片标签"),s.PRINT_INIT("打印玻片标签"),r(c);try{var e=l.printSlide;s.SET_PRINT_PAGESIZE(e.PAGESIZE.intOrient,e.PAGESIZE.PageWidth,e.PageHeight,"");for(var a in e.STYLE)s.SET_PRINT_STYLE(a,e.STYLE[a]);s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_BARCODE(e.code.top,e.code.left,e.code.width,e.code.height,e.code.type,t.code),s.ADD_PRINT_TEXT(e.serialNumber.top,e.serialNumber.left,e.serialNumber.width,e.serialNumber.height,t.pathologySerialNumber),s.ADD_PRINT_TEXT(e.subId.top,e.subId.left,e.subId.width,e.subId.height,t.subId),s.ADD_PRINT_TEXT(e.marker.top,e.marker.left,e.marker.width,e.marker.height,t.marker),s.ADD_PRINT_TEXT(e.bodyPart.top,e.bodyPart.left,e.bodyPart.width,e.bodyPart.height,t.bodyPart),s.ADD_PRINT_TEXT(e.logo.top,e.logo.left,e.logo.width,e.logo.height,e.logo.text)}catch(n){s.SET_PRINT_PAGESIZE(1,"2.2cm","2.2cm",""),s.SET_PRINT_STYLE("FontSize","10"),s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_TEXT("0","0.1cm","3cm","0.3cm",t.pathologySerialNumber),s.ADD_PRINT_TEXT("0.3cm","1cm","3cm","0.3cm",t.subId),s.ADD_PRINT_BARCODE("0.6cm","0.5cm","1.0cm","1.0cm","QRCode",t.code),s.ADD_PRINT_TEXT("1.6cm","0.5cm","1.6cm","0.3cm","")}s.PRINT()}},printLabel:function(t){if(this.init()){console.log("开始打印二维码标签");try{t.forEach(function(t){var e=l.printLabel;s.PRINT_INIT("打印二维码标签"),s.SET_PRINT_PAGESIZE(e.PAGESIZE.intOrient,e.PAGESIZE.PageWidth,e.PageHeight,"");for(var a in e.STYLE)s.SET_PRINT_STYLE(a,e.STYLE[a]);s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_BARCODE(e.code.top,e.code.left,e.code.width,e.code.height,e.code.type,t.serialNumber),s.ADD_PRINT_TEXT(e.sampleNameText.top,e.sampleNameText.left,e.sampleNameText.width,e.sampleNameText.height,e.sampleNameText.text),s.ADD_PRINT_TEXT(e.sampleName.top,e.sampleName.left,e.sampleName.width,e.sampleName.height,t.name),s.ADD_PRINT_TEXT(e.sampleCodeText.top,e.sampleCodeText.left,e.sampleCodeText.width,e.sampleCodeText.height,e.sampleCodeText.text),s.ADD_PRINT_TEXT(e.sampleCode.top,e.sampleCode.left,e.sampleCode.width,e.sampleCode.height,t.serialNumber),s.PRINT()})}catch(e){console.error("错误名称: "+e.name+" ---> "),console.error("错误信息: "+e.message+" ---> "),t.forEach(function(t){s.PRINT_INIT("打印二维码标签"),r(c),s.SET_PRINT_PAGESIZE(1,600,425,""),s.SET_PRINT_STYLE("FontSize",8),s.SET_PRINT_STYLE("Bold",2),s.NewPage(),s.SET_PRINT_STYLEA(0,"QRCodeVersion",5),s.SET_PRINT_STYLEA(0,"QRCodeErrorLevel","H"),s.ADD_PRINT_BARCODE(10,10,100,100,"QRCode",t.serialNumber),s.ADD_PRINT_TEXT(15,105,130,30,"样本名称"),s.ADD_PRINT_TEXT(38,105,130,30,t.name),s.ADD_PRINT_TEXT(61,105,130,30,"样本编号"),s.ADD_PRINT_TEXT(84,105,130,30,t.serialNumber),s.PRINT()})}}},printDomByImg:function(t,e,a){function n(t){console.log("开始打印"),s.PRINT_INIT("打印A4"),s.SET_PRINT_PAGESIZE(3,0,0,"A4");var n=($(i),a/e*750);s.ADD_PRINT_IMAGE("10","10","750",n,t),s.SET_PRINT_STYLEA(0,"Stretch",1),s.PRINT()}if(this.init()){var i="<img src="+t+"/>";n(i)}},printTable:function(t,e){function a(t){var a="<style>*{font-size:14px;font-family: '微软雅黑';}h3{font-size:16px}.text-right{text-align:right}.text-center{text-align:center}table{width:100%;border:solid 1px black;border-collapse:collapse} th,td{border:1px solid #000;text-align:left;padding:3px}</style>",n=a+"<body>"+t+"</body>";s.PRINT_INIT("打印A4"),s.SET_PRINT_PAGESIZE(3,0,0,"A4"),s.ADD_PRINT_HTM("10","10","750",e,n),s.PRINT()}this.init()&&a(t)},printDomByHtml:function(t){!this.init()},printPathologicalReport:function(t,e){
function a(t){t?u.push('<div class="report-template">'+p.html()+c+"</div>"):(u.push('<div class="report-template">'+p.html()+"</div>"),p=$("<div>"+r+'<div id="report-body"><div id="diagnosis"></div></div></div>'))}function n(t,a){console.log("开始打印报告"),s.PRINT_INIT("打印报告"),s.SET_PRINT_PAGESIZE(3,0,0,"A4"),s.SET_PRINT_STYLE("FontSize",12),s.ADD_PRINT_HTM("5","5","780","98%",t),s.ADD_PRINT_HTM("290mm","0","100%","20","<div style='text-align:center;color:#ccc;font-size:12px'>第"+(a+1)+"页/共"+u.length+"页<div>"),s.PRINT(),e&&e()}if(!this.init())return void(e&&e());$(".modal:first-child")[0]?$(".modal:first-child")[0].scrollTop=0:window.scrollTop=0;var i="<style>.report-logo{ position: absolute;top: 5px;left: 5px;height: 70px; } .reportBigName{ margin: 1px 0;font-size: 18px; } .report-subheading{ margin: 2px 0;font-size: 18px; } .reportSmallName{ font-size: 16px; font-weight: 700;margin-top: 0px; } .report-line{ border-bottom: 1px solid; margin-bottom: 5px; } .report-line-2{ border-top: 1px solid; padding-top: 4px; margin-top: 4px; margin-bottom:10px; } .report-margin-bottom{ margin-bottom: 5px; } .info-item{ width:25%; float: left; margin-bottom: 5px; } .diagnose-content { margin: 15px 0; } .content-name { margin-bottom: 5px; } .text-center{ text-align: center; } .pull-right{ float: right; } .pull-left{ float: left; } .col-sm-4 { width: 33.3333333333%; float: left; } .no-padding{ padding:0; } .clearfix { *zoom: 1; } .clearfix:before, .clearfix:after { display: table; line-height: 0; content: ''; } .clearfix:after { clear: both; }* {font-size: 12px;font-family: '微软雅黑';}body{position:relative;width:780px}.col-sm-4{width:33.3%}.pull-right{float:right} #report-body{padding:20px 0;} h3 {font-size: 24px;font-weight: 200}br {padding: 10px}fieldset {border: none;padding: 0}.pull-left {float: left !important;}.text-center {text-align: center}.clearfix:before,.clearfix:after {content: ' ';display: table;}.clearfix:after {clear: both;}p {margin-bottom: 0;}.logo {position: absolute;top: 5px;left: 5px;height: 100px;height: 70px;}pre.hospital-info {background-color: transparent;border: none;font-family: '微软雅黑';}.report-template {overflow-y: auto;height: auto;position: relative;width: 780px;}.report-template .patient-id {border-bottom: 1px solid;}.report-template .patient-id .div-table {width: 25%;border: none;}.report-template .patient-id .div-table .name {width: 40%;float: left;border: none;padding: 3px 0;}.report-template .patient-id .div-table .content {padding: 3px 0;float: right;width: 55%;border: none;}.report-template .patientInfo-container {border-bottom: 1px solid;border-right: none;}.report-template .patientInfo-container .div-table {width: 25%;float: left;}.report-template .patientInfo-container .div-table .name {float: left;border: none;padding: 3px 0;}.report-template .patientInfo-container .div-table .content {padding: 3px 0;float: left;border: none;}.report-template .jujianImg {width: 100px;height: 70px;}.report-template .xianwei {width: 75px;height: 50px;padding-right: 10px;float: left;}</style>",o=$(t);$("body").append('<div id="test" style="opacity:0"></div>'),$("#test").append(o);var r=o.find("#report-header").html(),l=o.find("#logo-container").html(),c=o.find("#report-footer").html(),d=o.find("#keepHtml").html(),u=[],p=$('<div style="width:780px">'+l+r+'<div id=" report-body">'+d+'<div id="diagnosis"><div>诊断内容：</div></div></div></div>'),h=1e3,m=o.find(".diagnosis div").length;console.info("诊断内容的高度",o.position()),o.offsetHeight>h&&m?o.find(".diagnosis div").each(function(t,e){var n=$(e);console.log("jqEle.position().top",n.position().top),n.position().top>h?(0===u.length&&a(),$("#test").append(p).css("dispaly","none"),p.find("#diagnosis").append(e.innerHTML),p.height()>h&&a()):p.find("#diagnosis").append(e.innerHTML),t===m-1&&a(!0)}):(n(i+"<body>"+t+"</body>",0),$("#test").remove()),console.log("newPageDomList",u),u.forEach(function(t,e){n(i+"<body>"+t+"</body>",e),$("#test").remove()})},printPathologicalForm:function(t,e,a){function n(t,e){console.log("开始打印表格"),s.PRINT_INIT("打印表格"),s.SET_PRINT_PAGESIZE(3,0,0,"A4"),s.SET_PRINT_STYLE("FontSize",12),s.ADD_PRINT_BARCODE(10,550,80,80,"QRCode",e),s.ADD_PRINT_TEXT(20,640,100,30,"病理申请号"),s.ADD_PRINT_TEXT(45,640,100,30,e),s.ADD_PRINT_HTM("90","10","740","270mm",t),s.PRINT(),a&&a()}if(!this.init())return void(a&&a());$(".modal:first-child")[0]?$(".modal:first-child")[0].scrollTop=0:window.scrollTop=0;var i="<style>* {font-size:12px;font-family: '微软雅黑';}table td,th{text-align: center;vertical-align: middle;border-collapse: collapse;border-spacing: 0;line-height:24px}.table {width: 100%;max-width: 100%;margin-bottom: 20px;border-collapse: collapse;border-spacing: 0;}.table-responsive {width: 100%;margin-bottom: 15px;overflow-y: hidden;-ms-overflow-style: -ms-autohiding-scrollbar;overflow-x: auto;min-height: 0.01%;}.table-responsive > .table-bordered {border: 0;}#pathologicalForm tbody{padding :5px}.table-bordered > thead > tr > th{white-space: nowrap;border: 1px solid #555;}.table-bordered > tbody > tr > th{white-space: nowrap;border: 1px solid #555;}.table-bordered > tbody > tr > td{white-space: nowrap;border: 1px solid #555;}input{border:none;outline: none;border-bottom: 1px solid #000;background: red;}table input,select,textarea{border:none;outline: none;width:100%;height:100%;padding:0;margin:0;}table textarea{resize: none; width:100%;height:100%;vertical-align: middle;overflow-y:visible;}</style>",o=$(t).clone();$(o).find(t+" form").css("width",750),$(o).find(t+" form").removeClass("disabled"),$(o).find(".hideWhenPrint").remove(),$(o).find(".showWhenPrint").show(),$(o).find("input").each(function(t,e){var a=e.value;$(e).before("<div>"+a||" </div>"),$(e).remove()}),n(i+o.html(),e)},printDom:function(t,e){this.init()&&(s.PRINT_INIT(e),s.SET_PRINT_PAGESIZE(3,0,0,"A4"),s.SET_PRINT_STYLE("FontSize",12),s.ADD_PRINT_HTM("90","10","740","270mm",t),s.PRINT())},labWrite:function(a,n){var i=e.defer();return t({method:"get",url:d,params:{id:a,type:n}}).then(function(t){}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("photoService",["$http","$q","$uibModal","apiUrl","$window","webServerUrl","$filter",function(t,e,a,n,i,o,r){var s,l=o+"/"+r("date")(new Date,"yyyy_MM_dd"),c=[];return"localhost"===i.location.hostname&&(l=o),s={clearLocalPhoto:function(){c=[],i.open("cleanimgfile:","_self")},initStasticPath:function(){l=o},initAutoPath:function(){l=o+"/"+r("date")(new Date,"yyyy_MM_dd"),"localhost"===i.location.hostname&&(l=o)},getBase64:function(t){var a=e.defer(),n=new Image;return n.setAttribute("crossOrigin","anonymous"),n.src=t,n.onload=function(t){var e=document.createElement("canvas");e.width=1200,e.height=800;var n=e.getContext("2d");n.drawImage(this,0,0,1200,800);var i=e.toDataURL("image/jpg");a.resolve(i.replace(/^data:image\/(png|jpg);base64,/,""))},a.promise},enlargePhoto:function(t){var e=a.open({templateUrl:"app/site/drawMaterial/modal/showImg.html",controller:"ShowImgController",size:"lg",resolve:{imgUrl:function(){return t}}});return e.result},getLocalPhotoUrlList:function(){var t=e.defer(),a=new XMLHttpRequest;return a.open("GET",l,!0),a.onload=function(e){var n=$(a.responseText),i=[];n.find("a").each(function(t,e){var a=l+"/"+e.innerText;c.length?c.indexOf(a)<0&&(c.push(a),i.push(a)):(i.push(a),c.push(a))}),t.resolve(i)},a.send(),t.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("pdfService",["$http","$q","$timeout","$log","toolService",function(t,e,a,n,i){return{buildByHtml:function(t,e,a,n,o){var r=new jsPDF;r.addImage(t,"JPEG",10,10,190,a/e*180,void 0,"FAST"),i.fileUpload(r.output("dataurlstring"),13,o).then(function(){})}}}])}(),function(){"use strict";angular.module("pathcloud").factory("PathologyService",["$http","$q",function(t,e){var a="[api]";return{getSampleList:function(n){var i=e.defer();return t({method:"get",url:a+"/pathology/sample",params:n}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},registerPathology:function(n){var i=e.defer();return t({method:"post",url:a+"/pathology",data:n}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},inspectCategoryList:function(n){var i=e.defer();return t({method:"get",url:a+"/systemSetting/inspectCategory",params:n}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},inspectCategoryCreate:function(n){var i=e.defer();return t({method:"post",url:a+"/systemSetting/inspectCategory",data:n}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},inspectCategoryDelete:function(n){var i=e.defer();return t({method:"delete",url:a+"/systemSetting/inspectCategory/"+n}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},rejectPathology:function(n,i){var o=e.defer();return t({method:"put",url:a+"/application/reject/"+n,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getPathologyList:function(n){var i=e.defer();return t({method:"get",url:a+"/pathology",params:n}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("paramSettingService",["$http","$q",function(t,e,a){var n="[api]";return{setting:function(a){var i=e.defer();return t({method:"post",url:n+"/paramSetting",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},rejectReason:function(a){var i=e.defer();return t({method:"get",url:n+"/paramSetting/rejectReason",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},embedRemark:function(a){var i=e.defer();return t({method:"get",url:n+"/paramSetting/embedRemark",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},sectionRemark:function(a){var i=e.defer();return t({method:"get",url:n+"/paramSetting/sectionRemark",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},deleteRejectReason:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/rejectReason/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},deleteEmbedRemark:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/embedRemark/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},deleteSectionRemark:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/sectionRemark/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("notificationService",["$http","$q",function(t,e,a){var n="[api]";return{getNotificationLIst:function(a){var i=e.defer();return t({method:"get",url:n+"/notification",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getNotificationDetial:function(a){var i=e.defer();return t({method:"get",url:n+"/notification/"+a,param:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getNotificationTotal:function(){var a=e.defer();return t({method:"get",url:n+"/notification/sum"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("MaterialService",["$http","$q",function(t,e,a){var n="[api]";return{getTemplate:function(a,i){var o=e.defer();return t({method:"get",url:n+"/template",params:{parent:a,position:i}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},createTemplate:function(a){var i=e.defer();return t({method:"post",url:n+"/template",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},renameTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/template/rename/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},updateTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/template/edit/"+a,data:{content:i}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},deleteTemplate:function(a){var i=e.defer();return t({method:"delete",url:n+"/template/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getTemplateUsed:function(a){var i=e.defer();return t({method:"get",url:n+"/template/used",params:{position:a}}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},setTemplateUsed:function(a,i){var o=e.defer();return t({method:"put",url:n+"/template/setting/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getGrossingUser:function(){var a=e.defer();return t({method:"get",url:n+"/user/grossing"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getDepartments:function(a){var i=e.defer();return t({method:"get",url:n+"/paramSetting/departments",params:{filter:a}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getGrossingList:function(a){var i=e.defer();return t({method:"get",url:n+"/grossing",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},saveMaterial:function(a,i){var o=e.defer();return t({method:"post",url:n+"/grossing/"+i,data:a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getConfirmGrossingList:function(a){var i=e.defer();return t({method:"get",url:n+"/grossing/forConfirm",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getGrossingBasketList:function(a){var i=e.defer();return t({method:"get",url:n+"/basket/grossing",param:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},confirmMaterial:function(a){var i=e.defer();return t({method:"post",url:n+"/grossing/confirm",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getBiaoshi:function(){var a=e.defer();return t({method:"get",url:n+"/paramSetting/blockBiaoshi"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getCountType:function(){var a=e.defer();return t({method:"get",url:n+"/paramSetting/blockCountType"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},setCountType:function(a){var i=e.defer();return t({method:"put",url:n+"/paramSetting/blockCountType/"+a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getBlockUnit:function(){var a=e.defer();return t({method:"get",url:n+"/paramSetting/blockUnit"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},addBiaoshi:function(a){a.param="blockBiaoshi",console.log(a);var i=e.defer();return t({method:"post",url:n+"/paramSetting",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},addBlockUnit:function(a){a.param="blockUnit";var i=e.defer();return t({method:"post",url:n+"/paramSetting",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},delBiaoshi:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/blockBiaoshi/"+a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},delBlockUnit:function(a){var i=e.defer();return t({method:"delete",url:n+"/paramSetting/blockUnit/"+a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("IhcService",["$http","$q",function(t,e){var a="[api]";return{myBlocks:function(n){var i=e.defer();return t({method:"get",url:a+"/ihc/blocks",params:n}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},get:function(n,i){var o=e.defer();return t({method:"get",url:a+n,params:i}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data)}),o.promise},getLocal:function(a,n){var i=e.defer();return t({method:"get",url:a,params:n}).then(function(t){console.log("本地结果",t),t.data?i.resolve(t.data):i.reject(t.data)}),i.promise},post:function(n,i,o){var r=e.defer();return t({method:"post",url:a+n,data:i,headers:o}).then(function(t){console.log(t),0===t.data.code?r.resolve(t.data.data):r.reject(t.data)}),r.promise},put:function(n,i){var o=e.defer();return t({method:"put",url:a+n,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data)}),o.promise},"delete":function(n,i){var o=e.defer();return t({method:"delete",url:a+n,data:i,headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data)}),o.promise}}}])}(),function(){"use strict";angular.module("pathcloud").config(["$httpProvider",function(t){t.defaults.useXDomain=!0,t.interceptors.push("thfInterceptor")}]).factory("thfInterceptor",["$injector","$rootScope","$timeout",function(t,e,a){var n={request:function(e){var a=t.get("apiUrl"),n=t.get("printUrl");return e.url=e.url.replace("[api]",a),e.url=e.url.replace("[printUrl]",n),e.withCredentials=!0,e.headers.Accept="application/json",e},response:function(t){return t},responseError:function(e){var a=t.get("toastr"),n=t.get("$state");if(403==e.status&&(n.go("app.home"),a.error("您没有权限访问该页面","权限不足")),401==e.status){var i=t.get("$rootScope");i.redirect={name:"login"===n.current.name?"app.home":n.current.name,params:n.params},n.go("login")}return e}};return n}])}(),function(){"use strict";angular.module("pathcloud").factory("GrossingService",["$http","$q",function(t,e,a){var n="[api]";return{getUserBasketList:function(a){var i=e.defer();return t({method:"get",url:n+"/basket/grossing",params:{status:a}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getBasketList:function(a,i){var o=e.defer();return t({method:"get",url:n+"/basket/dehydrate/"+a,params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getDehydrateList:function(a){var i=e.defer();return t({method:"get",url:n+"/grossing/forDehydrate",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},addOrUpdateGrossing:function(a){var i=e.defer();return t({method:"post",url:n+"/dehydrator",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDehydratorList:function(a){var i=e.defer();return t({method:"get",url:n+"/dehydrator",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getNoLengthDehydratorList:function(){var a=e.defer();return t({method:"get",url:n+"/dehydrator/list"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},deleteGrossing:function(a){var i=e.defer();return t({method:"delete",url:n+"/dehydrator/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDehydratorAndStatusList:function(){var a=e.defer();return t({method:"get",url:n+"/dehydrator/status"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getDehydratorError:function(a,i){var o=e.defer();return t({method:"get",url:n+"/dehydrator/"+a+"/errmsg",params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},removealarm:function(a){var i=e.defer();return t({method:"put",url:n+"/dehydrator/"+a+"/removealarm "}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},startDehydrate:function(a){var i=e.defer();return t({method:"post",url:n+"/dehydrate/start",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},stopDehydrate:function(a){var i=e.defer();return t({method:"post",url:n+"/dehydrate/end",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},checkName:function(a){var i=e.defer();return t({method:"get",url:n+"/dehydrator/check/name/"+a}).then(function(t){i.resolve(t.data.data)}),i.promise},checkSn:function(a){var i=e.defer();return t({method:"get",url:n+"/dehydrator/check/sn/"+a}).then(function(t){i.resolve(t.data.data)}),i.promise},dehydratorBlocks:function(a,i){var o=e.defer();return t({method:"get",url:n+"/dehydrator/"+a+"/blocks",params:i}).then(function(t){o.resolve(t.data.data)}),o.promise},pauseDehydrate:function(a){var i=e.defer();return t({method:"post",url:n+"/dehydrate/pause",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("embedService",["$http","$q",function(t,e,a){var n="[api]";return{getBlockInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/embed/"+a,params:{blockSerialNumber:a,prePathId:i}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},confirmEmbed:function(a,i){var o=e.defer();return t({method:"post",url:n+"/embed/confirm/"+i,data:a}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},embedCount:function(){var a=e.defer();return t({method:"get",url:n+"/embed/count"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},embedSearch:function(a){var i=e.defer();return t({method:"get",url:n+"/embed/query",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},embedPerson:function(a){var i=e.defer();return t({method:"get",url:n+"/embed/person"}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("DyeService",["$http","$q",function(t,e,a){var n="[api]";return{getDyeInfo:function(a){var i=e.defer();return t({method:"get",url:n+"/dye/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data)}),i.promise},startDye:function(a){var i=e.defer();return t({method:"post",url:n+"/dye/confirm",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDyeData:function(a){var i=e.defer();return t({method:"get",url:n+"/dye/query",params:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getOperator:function(){var a=e.defer();return t({method:"get",url:n+"/dye/person"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getDyeCount:function(){var a=e.defer();return t({method:"get",url:n+"/dye/summary/16"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("DiagnosisService",["$http","$q",function(t,e,a){var n="[api]";return{checkSpecialApplyMarker:function(a,i){var o=e.defer();return t({method:"get",url:n+"/specialDye/check/"+a+"/"+i}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getDelayTotal:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/deadline",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDiagnosisList:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data)}),i.promise},getDataByPathology:function(a,i){var o=e.defer();return t({method:"get",url:n+"/diagnose/"+a,params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data)}),o.promise},slideScore:function(a,i){var o=e.defer();return t({method:"put",url:n+"/diagnose/score/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},confirmDiagnosis:function(a,i){var o=e.defer();return t({method:"post",url:n+"/diagnose/confirm/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getBlockDataByPathology:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/"+a+"/block"}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},applyHeavySection:function(a,i){var o=e.defer();return t({method:"post",url:n+"/diagnose/deep/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getPathologyData:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/query",params:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getDiagnosisDoctor:function(){var a=e.defer();return t({method:"get",url:n+"/user/diagnose"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getFirstDiagnosisDoctor:function(){var a=e.defer();return t({method:"get",url:n+"/user/firstDiagnose"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},applyAgainMaterial:function(a,i){var o=e.defer();return t({method:"post",url:n+"/diagnose/regrossing/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getMicroImages:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/file/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},deleteImages:function(a){var i=e.defer();return t({method:"delete",url:n+"/file/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getReportDoctor:function(){var a=e.defer();return t({method:"get",url:n+"/user/report"}).then(function(t){console.log(t),0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getReportInfo:function(a,i){var o=e.defer();return t({method:"get",url:n+"/diagnose/report/"+a,params:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},sendReport:function(a,i){var o=e.defer();return t({method:"post",url:n+"/diagnose/report/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},getDiagnosisInfo:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/history/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getSuperDiagnoseUser:function(){var a=e.defer();return t({method:"get",url:n+"/user/superDiagnose"}).then(function(t){0===t.data.code?a.resolve(t.data.data):a.reject(t.data.reason)}),a.promise},getDiagnoseTemplate:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnoseTemplate",params:{parent:a,position:2}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},createDiagnoseTemplate:function(a){var i=e.defer();return t({method:"post",url:n+"/diagnoseTemplate",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},renameDiagnoseTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/diagnoseTemplate/rename/"+a,data:{name:i.name,parent:i.parent,position:"2"}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},updateDiagnoseTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/diagnoseTemplate/edit/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},deleteDiagnoseTemplate:function(a){var i=e.defer();return t({method:"delete",url:n+"/diagnoseTemplate/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getCustomTemplate:function(a,i,o){var r=e.defer();return t({method:"get",url:n+"/template",params:{parent:a,position:i,category:o}}).then(function(t){console.log(t),0===t.data.code?r.resolve(t.data.data):r.reject(t.data.reason)}),r.promise},customDiagnoseTemplate:function(a){var i=e.defer();return t({method:"post",url:n+"/template",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},renameCustomTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/template/rename/"+a,data:{name:i.name,parent:i.parent,position:"5"}}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},deleteCustomTemplate:function(a){var i=e.defer();return t({method:"delete",url:n+"/template/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getReportTemplate:function(a){var i=e.defer();return t({method:"get",url:n+"/reportTemplate",params:{parent:0,position:4}}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},createReportTemplate:function(a){var i=e.defer();return t({method:"post",url:n+"/reportTemplate",data:a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},renameReportTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/reportTemplate/rename/"+a,data:{name:i.name,parent:i.parent}}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},updateReportTemplate:function(a,i){var o=e.defer();return t({method:"put",url:n+"/reportTemplate/edit/"+a,data:i}).then(function(t){console.log(t),0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},deleteReportTemplate:function(a){var i=e.defer();return t({method:"delete",url:n+"/reportTemplate/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getSpecialDyeBlocks:function(a){var i=e.defer();return t({method:"get",url:n+"/diagnose/"+a+"/dye"}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";angular.module("pathcloud").factory("DepartmentsService",["$http","$q","$rootScope","toolService",function(t,e,a,n){function i(){t({method:"GET",url:"[api]/paramSetting/departments"}).success(function(t){a.departments=t.data,n.setLocalStorageInfo("departments",a.departments)})}var o={};return o.get=function(){var t=n.getLocalStorageInfo("departments");t?a.departments=t:i()},o.store=function(){i()},o}])}(),function(){"use strict";angular.module("pathcloud").factory("CsvService",["$window",function(t){
return{download:function(t,e,a){var n=document.createElement("a"),i=new CSV(e,{header:t}).encode(),o=new Blob(["\ufeff"+i],{type:"csv/ANSI"}),r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.download=a+".csv",n.href=URL.createObjectURL(o),navigator.msSaveBlob?(navigator.msSaveBlob(o,a+".csv"),n.click()):n.dispatchEvent(r)},tableToExcel:function(e,a){var n="data:application/vnd.ms-excel;base64,",i='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',o=function(e){return t.btoa(unescape(encodeURIComponent(e)))},r=function(t,e){return t.replace(/{(\w+)}/g,function(t,a){return e[a]})},s=$(e),l={worksheet:a,table:s.html()},c=(n+o(r(i,l)),document.createElement("a"));c.href=n+o(r(i,l)),c.download=a+".xls",c.click()}}}])}(),function(){"use strict";angular.module("pathcloud").factory("ApplicationService",["$http","$q",function(t,e,a){var n="[api]";return{getFreezeBookedList:function(a){var i=e.defer();return t({method:"get",url:n+"/application/booking",params:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},createApplication:function(a){var i=e.defer();return t({method:"post",url:n+"/application",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},createApplicationResearch:function(a){var i=e.defer();return t({method:"post",url:n+"/application/research",data:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getApplicationList:function(a){var i=e.defer();return t({method:"get",url:n+"/application",params:a}).then(function(t){0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getOne:function(a,i){var o=e.defer();return i&&(a="pathology/"+a),t({method:"get",url:n+"/application/"+a}).then(function(t){0===t.data.code?o.resolve(t.data.data):o.reject(t.data.reason)}),o.promise},cancelOne:function(a){var i=e.defer();return t({method:"put",url:n+"/application/cancel/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},cancelFreeze:function(a){var i=e.defer();return t({method:"post",url:n+"/application/cancel/freeze/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise},getOneByPathologyNo:function(a){var i=e.defer();return t({method:"get",url:n+"/application/pathology/"+a}).then(function(t){console.log(t),0===t.data.code?i.resolve(t.data.data):i.reject(t.data.reason)}),i.promise}}}])}(),function(){"use strict";function t(){return{require:"ngModel",link:function(t,e,a,n){e.bind("keyup",function(){t.$apply(function(){var t=e.html();n.$setViewValue(t)})}),e.bind("blur",function(){t.$apply(function(){n.$setViewValue(e.html())})}),n.$render=function(){e.html(n.$viewValue)}}}}angular.module("pathcloud").directive("contenteditable",t)}(),function(){"use strict";function t(t){var e=1e3;return{restrict:"A",priority:-1,link:function(a,n){function i(a){o?(a.preventDefault(),a.stopImmediatePropagation()):(o=!0,t(function(){o=!1},e,!1))}var o=!1;a.$on("$destroy",function(){n.off("click",i)}),n.on("click",i)}}}t.$inject=["$timeout"],angular.module("pathcloud").directive("clickDebounce",t)}(),function(){"use strict";function t(t){return function(e,a,n){var i=t.innerHeight,o=60,r=100;a.css("min-height",i-o-r+"px")}}t.$inject=["$window"],angular.module("pathcloud").directive("autoHeight",t)}(),function(){"use strict";function t(t){return function(e,a,n){n.$observe("autoFocus",function(e){console.log("new"),console.log(e),"false"!=e&&t(function(){a[0].focus()})})}}t.$inject=["$timeout"],angular.module("pathcloud").directive("autoFocus",t)}(),angular.module("ng-echarts",[]).directive("ngEcharts",[function(){return{link:function(t,e,a,n){function i(){var a=t.config&&t.config.theme?t.config.theme:"default",n=echarts.init(e[0],a);t.config&&t.config.dataLoaded===!1&&n.showLoading(),t.config&&t.config.dataLoaded&&t.option&&(n.setOption(t.option),n.resize(),n.hideLoading()),t.config&&t.config.event&&angular.isArray(t.config.event)&&angular.forEach(t.config.event,function(t,e){for(var a in t)n.on(a,t[a])})}t.$watch(function(){return t.config},function(t){t&&i()},!0),t.$watch(function(){return t.option},function(t){t&&i()},!0)},scope:{option:"=ecOption",config:"=ecConfig"},restrict:"EA"}}]),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.jspdf=e()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},e=function(e){function a(t){var a={};this.subscribe=function(t,e,n){if("function"!=typeof e)return!1;a.hasOwnProperty(t)||(a[t]={});var i=Math.random().toString(35);return a[t][i]=[e,!!n],i},this.unsubscribe=function(t){for(var e in a)if(a[e][t])return delete a[e][t],!0;return!1},this.publish=function(n){if(a.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var r in a[n]){var s=a[n][r];try{s[0].apply(t,i)}catch(l){e.console&&console.error("jsPDF PubSub Error",l.message,l)}s[1]&&o.push(r)}o.length&&o.forEach(this.unsubscribe)}}}function i(l,c,d,u){var p={};"object"===("undefined"==typeof l?"undefined":t(l))&&(p=l,l=p.orientation,c=p.unit||c,d=p.format||d,u=p.compress||p.compressPdf||u),c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m,g,f,v,b,y,x,w,k=((""+d).toLowerCase(),!!u&&"function"==typeof Uint8Array),D=p.textColor||"0 g",T=p.drawColor||"0 G",S=p.fontSize||16,I=p.lineHeight||1.15,_=p.lineWidth||.200025,C=2,M=!1,L=[],A={},P={},N=0,E=[],$=[],R=[],q=[],z=[],B=0,O=0,j=0,F={title:"",subject:"",author:"",keywords:"",creator:""},H={},U=new a(H),G=function(t){return t.toFixed(2)},W=function(t){return t.toFixed(3)},Q=function(t){return("0"+parseInt(t)).slice(-2)},V=function(t){M?E[f].push(t):(j+=t.length+1,q.push(t))},Y=function(){return C++,L[C]=j,V(C+" 0 obj"),C},X=function(){var t=2*E.length+1;t+=z.length;var e={objId:t,content:""};return z.push(e),e},Z=function(){return C++,L[C]=function(){return j},C},J=function(t){L[t]=j},K=function(t){V("stream"),V(t),V("endstream")},tt=function(){var t,a,n,r,s,l,c,d,u,p=[];for(c=e.adler32cs||i.adler32cs,k&&"undefined"==typeof c&&(k=!1),t=1;N>=t;t++){if(p.push(Y()),d=(v=R[t].width)*m,u=(b=R[t].height)*m,V("<</Type /Page"),V("/Parent 1 0 R"),V("/Resources 2 0 R"),V("/MediaBox [0 0 "+G(d)+" "+G(u)+"]"),U.publish("putPage",{pageNumber:t,page:E[t]}),V("/Contents "+(C+1)+" 0 R"),V(">>"),V("endobj"),a=E[t].join("\n"),Y(),k){for(n=[],r=a.length;r--;)n[r]=a.charCodeAt(r);l=c.from(a),s=new o(6),s.append(new Uint8Array(n)),a=s.flush(),n=new Uint8Array(a.length+6),n.set(new Uint8Array([120,156])),n.set(a,2),n.set(new Uint8Array([255&l,l>>8&255,l>>16&255,l>>24&255]),a.length+2),a=String.fromCharCode.apply(null,n),V("<</Length "+a.length+" /Filter [/FlateDecode]>>")}else V("<</Length "+a.length+">>");K(a),V("endobj")}L[1]=j,V("1 0 obj"),V("<</Type /Pages");var h="/Kids [";for(r=0;N>r;r++)h+=p[r]+" 0 R ";V(h+"]"),V("/Count "+N),V(">>"),V("endobj"),U.publish("postPutPages")},et=function(t){t.objectNumber=Y(),V("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&V("/Encoding/"+t.encoding),V("/Subtype/Type1>>"),V("endobj")},at=function(){for(var t in A)A.hasOwnProperty(t)&&et(A[t])},nt=function(){U.publish("putXobjectDict")},it=function(){V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),V("/Font <<");for(var t in A)A.hasOwnProperty(t)&&V("/"+t+" "+A[t].objectNumber+" 0 R");V(">>"),V("/XObject <<"),nt(),V(">>")},ot=function(){at(),U.publish("putResources"),L[2]=j,V("2 0 obj"),V("<<"),it(),V(">>"),V("endobj"),U.publish("postPutResources")},rt=function(){U.publish("putAdditionalObjects");for(var t=0;t<z.length;t++){var e=z[t];L[e.objId]=j,V(e.objId+" 0 obj"),V(e.content),V("endobj")}C+=z.length,U.publish("postPutAdditionalObjects")},st=function(t,e,a){P.hasOwnProperty(e)||(P[e]={}),P[e][a]=t},lt=function(t,e,a,n){var i="F"+(Object.keys(A).length+1).toString(10),o=A[i]={id:i,PostScriptName:t,fontName:e,fontStyle:a,encoding:n,metadata:{}};return st(i,e,a),U.publish("addFont",o),i},ct=function(){for(var t="helvetica",e="times",a="courier",n="normal",i="bold",o="italic",r="bolditalic",s="StandardEncoding",l="zapfdingbats",c=[["Helvetica",t,n],["Helvetica-Bold",t,i],["Helvetica-Oblique",t,o],["Helvetica-BoldOblique",t,r],["Courier",a,n],["Courier-Bold",a,i],["Courier-Oblique",a,o],["Courier-BoldOblique",a,r],["Times-Roman",e,n],["Times-Bold",e,i],["Times-Italic",e,o],["Times-BoldItalic",e,r],["ZapfDingbats",l]],d=0,u=c.length;u>d;d++){var p=lt(c[d][0],c[d][1],c[d][2],s),h=c[d][0].split("-");st(p,h[0],h[1]||"")}U.publish("addFonts",{fonts:A,dictionary:P})},dt=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(a){var n=a.stack||"";~n.indexOf(" at ")&&(n=n.split(" at ")[1]);var i="Error in function "+n.split("\n")[0].split("<")[0]+": "+a.message;if(!e.console)throw new Error(i);e.console.error(i,a),e.alert&&alert(i)}},t.foo.bar=t,t.foo},ut=function(t,e){var a,n,i,o,r,s,l,c,d;if(e=e||{},i=e.sourceEncoding||"Unicode",r=e.outputEncoding,(e.autoencode||r)&&A[h].metadata&&A[h].metadata[i]&&A[h].metadata[i].encoding&&(o=A[h].metadata[i].encoding,!r&&A[h].encoding&&(r=A[h].encoding),!r&&o.codePages&&(r=o.codePages[0]),"string"==typeof r&&(r=o[r]),r)){for(l=!1,s=[],a=0,n=t.length;n>a;a++)c=r[t.charCodeAt(a)],c?s.push(String.fromCharCode(c)):s.push(t[a]),s[a].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(a=t.length;void 0===l&&0!==a;)t.charCodeAt(a-1)>>8&&(l=!0),a--;if(!l)return t;for(s=e.noBOM?[]:[254,255],a=0,n=t.length;n>a;a++){if(c=t.charCodeAt(a),d=c>>8,d>>8)throw new Error("Character at position "+a+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(d),s.push(c-(d<<8))}return String.fromCharCode.apply(void 0,s)},pt=function(t,e){return ut(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ht=function(){V("/Producer (jsPDF "+i.version+")");for(var t in F)F.hasOwnProperty(t)&&F[t]&&V("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+pt(F[t])+")");var e=new Date,a=e.getTimezoneOffset(),n=0>a?"+":"-",o=Math.floor(Math.abs(a/60)),r=Math.abs(a%60),s=[n,Q(o),"'",Q(r),"'"].join("");V(["/CreationDate (D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),s,")"].join(""))},mt=function(){switch(V("/Type /Catalog"),V("/Pages 1 0 R"),x||(x="fullwidth"),x){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+x;"%"===t.substr(t.length-1)&&(x=parseInt(x)/100),"number"==typeof x&&V("/OpenAction [3 0 R /XYZ null null "+G(x)+"]")}switch(w||(w="continuous"),w){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}y&&V("/PageMode /"+y),U.publish("putCatalog")},gt=function(){V("/Size "+(C+1)),V("/Root "+C+" 0 R"),V("/Info "+(C-1)+" 0 R")},ft=function(t,e){var a="string"==typeof e&&e.toLowerCase();if("string"==typeof t){var n=t.toLowerCase();s.hasOwnProperty(n)&&(t=s[n][0]/m,e=s[n][1]/m)}if(Array.isArray(t)&&(e=t[1],t=t[0]),a){switch(a.substr(0,1)){case"l":e>t&&(a="s");break;case"p":t>e&&(a="s")}"s"===a&&(g=t,t=e,e=g)}M=!0,E[++N]=[],R[N]={width:Number(t)||v,height:Number(e)||b},$[N]={},yt(N)},vt=function(){ft.apply(this,arguments),V(G(_*m)+" w"),V(T),0!==B&&V(B+" J"),0!==O&&V(O+" j"),U.publish("addPage",{pageNumber:N})},bt=function(t){t>0&&N>=t&&(E.splice(t,1),R.splice(t,1),N--,f>N&&(f=N),this.setPage(f))},yt=function(t){t>0&&N>=t&&(f=t,v=R[t].width,b=R[t].height)},xt=function(t,e){var a;switch(t=void 0!==t?t:A[h].fontName,e=void 0!==e?e:A[h].fontStyle,void 0!==t&&(t=t.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":case"helvetica":t="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":t="courier";break;case"serif":case"cursive":case"fantasy":default:t="times"}try{a=P[t][e]}catch(n){}return a||(a=P.times[e],null==a&&(a=P.times.normal)),a},wt=function(){M=!1,C=2,j=0,q=[],L=[],z=[],U.publish("buildDocument"),V("%PDF-"+r),tt(),rt(),ot(),Y(),V("<<"),ht(),V(">>"),V("endobj"),Y(),V("<<"),mt(),V(">>"),V("endobj");var t,e=j,a="0000000000";for(V("xref"),V("0 "+(C+1)),V(a+" 65535 f "),t=1;C>=t;t++){var n=L[t];V("function"==typeof n?(a+L[t]()).slice(-10)+" 00000 n ":(a+L[t]).slice(-10)+" 00000 n ")}return V("trailer"),V("<<"),gt(),V(">>"),V("startxref"),V(""+e),V("%%EOF"),M=!0,q.join("\n")},kt=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":("f"===t||"f*"===t||"B"===t||"B*"===t)&&(e=t),e},Dt=function(){for(var t=wt(),e=t.length,a=new ArrayBuffer(e),n=new Uint8Array(a);e--;)n[e]=t.charCodeAt(e);return a},Tt=function(){return new Blob([Dt()],{type:"application/pdf"})},St=dt(function(t,a){var i="dataur"===(""+t).substr(0,6)?"data:application/pdf;base64,"+btoa(wt()):0;switch(t){case void 0:return wt();case"save":if(navigator.getUserMedia&&(void 0===e.URL||void 0===e.URL.createObjectURL))return H.output("dataurlnewwindow");n(Tt(),a),"function"==typeof n.unload&&e.setTimeout&&setTimeout(n.unload,911);break;case"arraybuffer":return Dt();case"blob":return Tt();case"bloburi":case"bloburl":return e.URL&&e.URL.createObjectURL(Tt())||void 0;case"datauristring":case"dataurlstring":return i;case"dataurlnewwindow":var o=e.open(i);if(o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return e.document.location.href=i;default:throw new Error('Output type "'+t+'" is not supported.')}});switch(c){case"pt":m=1;break;case"mm":m=72/25.4000508;break;case"cm":m=72/2.54000508;break;case"in":m=72;break;case"px":m=96/72;break;case"pc":m=12;break;case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}H.internal={pdfEscape:pt,getStyle:kt,getFont:function(){return A[xt.apply(H,arguments)]},getFontSize:function(){return S},getLineHeight:function(){return S*I},write:function(t){V(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return G(t*m)},getVerticalCoordinateString:function(t){return G((b-t)*m)},collections:{},newObject:Y,newAdditionalObject:X,newObjectDeferred:Z,newObjectDeferredBegin:J,putStream:K,events:U,scaleFactor:m,pageSize:{get width(){return v},get height(){return b}},output:function(t,e){return St(t,e)},getNumberOfPages:function(){return E.length-1},pages:E,out:V,f2:G,getPageInfo:function(t){var e=2*(t-1)+3;return{objId:e,pageNumber:t,pageContext:$[t]}},getCurrentPageInfo:function(){var t=2*(f-1)+3;return{objId:t,pageNumber:f,pageContext:$[f]}},getPDFVersion:function(){return r}},H.addPage=function(){return vt.apply(this,arguments),this},H.setPage=function(){return yt.apply(this,arguments),this},H.insertPage=function(t){return this.addPage(),this.movePage(f,t),this},H.movePage=function(t,e){if(t>e){for(var a=E[t],n=R[t],i=$[t],o=t;o>e;o--)E[o]=E[o-1],R[o]=R[o-1],$[o]=$[o-1];E[e]=a,R[e]=n,$[e]=i,this.setPage(e)}else if(e>t){for(var a=E[t],n=R[t],i=$[t],o=t;e>o;o++)E[o]=E[o+1],R[o]=R[o+1],$[o]=$[o+1];E[e]=a,R[e]=n,$[e]=i,this.setPage(e)}return this},H.deletePage=function(){return bt.apply(this,arguments),this},H.setDisplayMode=function(t,e,a){return x=t,w=e,y=a,this},H.text=function(t,e,a,n,i,o){function r(t){return t=t.split("	").join(Array(p.TabLen||9).join(" ")),pt(t,n)}"number"==typeof t&&(g=a,a=e,e=t,t=g),"string"==typeof t&&(t=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t]),"string"==typeof i&&(o=i,i=null),"string"==typeof n&&(o=n,n=null),"number"==typeof n&&(i=n,n=null);var s,l="",c="Td";if(i){i*=Math.PI/180;var d=Math.cos(i),u=Math.sin(i);l=[G(d),G(u),G(-1*u),G(d),""].join(" "),c="Tm"}n=n||{},"noBOM"in n||(n.noBOM=!0),"autoencode"in n||(n.autoencode=!0);var f="",v=this.internal.getCurrentPageInfo().pageContext;if(!0===n.stroke?v.lastTextWasStroke!==!0&&(f="1 Tr\n",v.lastTextWasStroke=!0):(v.lastTextWasStroke&&(f="0 Tr\n"),v.lastTextWasStroke=!1),"undefined"==typeof this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof t)t=r(t);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var y=t.concat(),x=[],w=y.length;w--;)x.push(r(y.shift()));var k=Math.ceil((b-a-this._runningPageHeight)*m/(S*I));if(k>=0&&k<x.length+1,o){var T,_,C,M=S*I,L=t.map(function(t){return this.getStringUnitWidth(t)*S/m},this);if(C=Math.max.apply(Math,L),"center"===o)T=e-C/2,e-=L[0]/2;else{if("right"!==o)throw new Error('Unrecognized alignment option, use "center" or "right".');T=e-C,e-=L[0]}_=e,t=x[0];for(var A=1,w=x.length;w>A;A++){var P=C-L[A];"center"===o&&(P/=2),t+=") Tj\n"+(T-_+P)+" -"+M+" Td ("+x[A],_=T+P}}else t=x.join(") Tj\nT* (")}var N;return s||(N=G((b-a)*m)),V("BT\n/"+h+" "+S+" Tf\n"+S*I+" TL\n"+f+D+"\n"+l+G(e*m)+" "+N+" "+c+"\n("+t+") Tj\nET"),s&&this.text(s,e,a),this},H.lstext=function(t,e,a,n){for(var i=0,o=t.length;o>i;i++,e+=n)this.text(t[i],e,a)},H.line=function(t,e,a,n){return this.lines([[a-t,n-e]],t,e)},H.clip=function(){V("W"),V("S")},H.clip_fixed=function(t){V("evenodd"===t?"W*":"W"),V("n")},H.lines=function(t,e,a,n,i,o){var r,s,l,c,d,u,p,h,f,v,y;for("number"==typeof t&&(g=a,a=e,e=t,t=g),n=n||[1,1],V(W(e*m)+" "+W((b-a)*m)+" m "),r=n[0],s=n[1],c=t.length,v=e,y=a,l=0;c>l;l++)d=t[l],2===d.length?(v=d[0]*r+v,y=d[1]*s+y,V(W(v*m)+" "+W((b-y)*m)+" l")):(u=d[0]*r+v,p=d[1]*s+y,h=d[2]*r+v,f=d[3]*s+y,v=d[4]*r+v,y=d[5]*s+y,V(W(u*m)+" "+W((b-p)*m)+" "+W(h*m)+" "+W((b-f)*m)+" "+W(v*m)+" "+W((b-y)*m)+" c"));return o&&V(" h"),null!==i&&V(kt(i)),this},H.rect=function(t,e,a,n,i){kt(i);return V([G(t*m),G((b-e)*m),G(a*m),G(-n*m),"re"].join(" ")),null!==i&&V(kt(i)),this},H.triangle=function(t,e,a,n,i,o,r){return this.lines([[a-t,n-e],[i-a,o-n],[t-i,e-o]],t,e,[1,1],r,!0),this},H.roundedRect=function(t,e,a,n,i,o,r){var s=4/3*(Math.SQRT2-1);return this.lines([[a-2*i,0],[i*s,0,i,o-o*s,i,o],[0,n-2*o],[0,o*s,-(i*s),o,-i,o],[-a+2*i,0],[-(i*s),0,-i,-(o*s),-i,-o],[0,-n+2*o],[0,-(o*s),i*s,-o,i,-o]],t+i,e,[1,1],r),this},H.ellipse=function(t,e,a,n,i){var o=4/3*(Math.SQRT2-1)*a,r=4/3*(Math.SQRT2-1)*n;return V([G((t+a)*m),G((b-e)*m),"m",G((t+a)*m),G((b-(e-r))*m),G((t+o)*m),G((b-(e-n))*m),G(t*m),G((b-(e-n))*m),"c"].join(" ")),V([G((t-o)*m),G((b-(e-n))*m),G((t-a)*m),G((b-(e-r))*m),G((t-a)*m),G((b-e)*m),"c"].join(" ")),V([G((t-a)*m),G((b-(e+r))*m),G((t-o)*m),G((b-(e+n))*m),G(t*m),G((b-(e+n))*m),"c"].join(" ")),V([G((t+o)*m),G((b-(e+n))*m),G((t+a)*m),G((b-(e+r))*m),G((t+a)*m),G((b-e)*m),"c"].join(" ")),null!==i&&V(kt(i)),this},H.circle=function(t,e,a,n){return this.ellipse(t,e,a,a,n)},H.setProperties=function(t){for(var e in F)F.hasOwnProperty(e)&&t[e]&&(F[e]=t[e]);return this},H.setFontSize=function(t){return S=t,this},H.setFont=function(t,e){return h=xt(t,e),this},H.setFontStyle=H.setFontType=function(t){return h=xt(void 0,t),this},H.getFontList=function(){var t,e,a,n={};for(t in P)if(P.hasOwnProperty(t)){n[t]=a=[];for(e in P[t])P[t].hasOwnProperty(e)&&a.push(e)}return n},H.addFont=function(t,e,a){lt(t,e,a,"StandardEncoding")},H.setLineWidth=function(t){return V((t*m).toFixed(2)+" w"),this},H.setDrawColor=function(t,e,a,n){var i;return i=void 0===e||void 0===n&&t===e===a?"string"==typeof t?t+" G":G(t/255)+" G":void 0===n?"string"==typeof t?[t,e,a,"RG"].join(" "):[G(t/255),G(e/255),G(a/255),"RG"].join(" "):"string"==typeof t?[t,e,a,n,"K"].join(" "):[G(t),G(e),G(a),G(n),"K"].join(" "),V(i),this},H.setFillColor=function(e,a,n,i){var o;return void 0===a||void 0===i&&e===a===n?o="string"==typeof e?e+" g":G(e/255)+" g":void 0===i||"object"===("undefined"==typeof i?"undefined":t(i))?(o="string"==typeof e?[e,a,n,"rg"].join(" "):[G(e/255),G(a/255),G(n/255),"rg"].join(" "),i&&0===i.a&&(o=["255","255","255","rg"].join(" "))):o="string"==typeof e?[e,a,n,i,"k"].join(" "):[G(e),G(a),G(n),G(i),"k"].join(" "),V(o),this},H.setTextColor=function(t,e,a){if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var n=parseInt(t.substr(1),16);t=n>>16&255,e=n>>8&255,a=255&n}return D=0===t&&0===e&&0===a||"undefined"==typeof e?W(t/255)+" g":[W(t/255),W(e/255),W(a/255),"rg"].join(" "),this},H.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},H.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return B=e,V(e+" J"),this},H.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return O=e,V(e+" j"),this},H.output=St,H.save=function(t){H.output("save",t)};for(var It in i.API)i.API.hasOwnProperty(It)&&("events"===It&&i.API.events.length?!function(t,e){var a,n,i;for(i=e.length-1;-1!==i;i--)a=e[i][0],n=e[i][1],t.subscribe.apply(t,[a].concat("function"==typeof n?[n]:n))}(U,i.API.events):H[It]=i.API[It]);return ct(),h="F1",vt(d,l),U.publish("initialized"),H}var r="1.3",s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return i.API={events:[]},i.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);/**
 * jsPDF AcroForm Plugin
 * Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
(window.AcroForm=function(t){var a=window.AcroForm;a.scale=function(t){return t*(n.internal.scaleFactor/1)},a.antiScale=function(t){return 1/n.internal.scaleFactor*t};var n={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};e.API.acroformPlugin=n;var i=function(){for(var t in this.acroformPlugin.acroFormDictionaryRoot.Fields){var e=this.acroformPlugin.acroFormDictionaryRoot.Fields[t];e.hasAnnotation&&r.call(this,e)}},o=function(){if(this.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new a.AcroFormDictionary,this.acroformPlugin.internal=this.internal,this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",c),this.internal.events.subscribe("buildDocument",i),this.internal.events.subscribe("putCatalog",l),this.internal.events.subscribe("postPutPages",d)},r=function(t){var a={type:"reference",object:t};e.API.annotationPlugin.annotations[this.internal.getPageInfo(t.page).pageNumber].push(a)},s=function(t){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null),this.acroformPlugin.acroFormDictionaryRoot||o.call(this),this.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)},l=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},c=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID),delete this.acroformPlugin.acroFormDictionaryRoot._eventID,this.acroformPlugin.printedOut=!0},d=function(t){var e=!t;t||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));var t=t||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var n in t){var i=t[n],o=i.Rect;i.Rect&&(i.Rect=a.internal.calculateCoordinates.call(this,i.Rect)),this.internal.newObjectDeferredBegin(i.objId);var r="";if(r+=i.objId+" 0 obj\n",r+="<<\n"+i.getContent(),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=a.internal.calculateAppearanceStream.call(this,i);r+="/AP << /N "+s+" >>\n",this.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){r+="/AP << ";for(var l in i.appearanceStreamContent){var c=i.appearanceStreamContent[l];if(r+="/"+l+" ",r+="<< ",Object.keys(c).length>=1||Array.isArray(c))for(var n in c){var d=c[n];"function"==typeof d&&(d=d.call(this,i)),r+="/"+n+" "+d+" ",this.acroformPlugin.xForms.indexOf(d)>=0||this.acroformPlugin.xForms.push(d)}else{var d=c;"function"==typeof d&&(d=d.call(this,i)),r+="/"+n+" "+d+" \n",this.acroformPlugin.xForms.indexOf(d)>=0||this.acroformPlugin.xForms.push(d)}r+=" >>\n"}r+=">>\n"}r+=">>\nendobj\n",this.internal.out(r)}e&&u.call(this,this.acroformPlugin.xForms)},u=function(t){for(var e in t){var a=e,n=t[e];this.internal.newObjectDeferredBegin(n&&n.objId);var i="";i+=n?n.getString():"",this.internal.out(i),delete t[a]}};t.addField=function(t){return t instanceof a.TextField?h.call(this,t):t instanceof a.ChoiceField?m.call(this,t):t instanceof a.Button?p.call(this,t):t instanceof a.ChildClass?s.call(this,t):t&&s.call(this,t),t.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber,this};var p=function(t){var t=t||new a.Field;t.FT="/Btn";var e=t.Ff||0;t.pushbutton&&(e=a.internal.setBitPosition(e,17),delete t.pushbutton),t.radio&&(e=a.internal.setBitPosition(e,16),delete t.radio),t.noToggleToOff&&(e=a.internal.setBitPosition(e,15)),t.Ff=e,s.call(this,t)},h=function(t){var t=t||new a.Field;t.FT="/Tx";var e=t.Ff||0;t.multiline&&(e=4096|e),t.password&&(e=8192|e),t.fileSelect&&(e|=1<<20),t.doNotSpellCheck&&(e|=1<<22),t.doNotScroll&&(e|=1<<23),t.Ff=t.Ff||e,s.call(this,t)},m=function(t){var e=t||new a.Field;e.FT="/Ch";var n=e.Ff||0;e.combo&&(n=a.internal.setBitPosition(n,18),delete e.combo),e.edit&&(n=a.internal.setBitPosition(n,19),delete e.edit),e.sort&&(n=a.internal.setBitPosition(n,20),delete e.sort),e.multiSelect&&this.internal.getPDFVersion()>=1.4&&(n=a.internal.setBitPosition(n,22),delete e.multiSelect),e.doNotSpellCheck&&this.internal.getPDFVersion()>=1.4&&(n=a.internal.setBitPosition(n,23),delete e.doNotSpellCheck),e.Ff=n,s.call(this,e)}})(e.API);var a=window.AcroForm;a.internal={},a.createFormXObject=function(t){var e=new a.FormXObject,n=a.Appearance.internal.getHeight(t)||0,i=a.Appearance.internal.getWidth(t)||0;return e.BBox=[0,0,i,n],e},a.Appearance={CheckBox:{createAppearanceStream:function(){var t={N:{On:a.Appearance.CheckBox.YesNormal},D:{On:a.Appearance.CheckBox.YesPushDown,Off:a.Appearance.CheckBox.OffPushDown}};return t},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(t){var e=a.createFormXObject(t),n="";t.Q=1;var i=a.internal.calculateX(t,"3","ZapfDingbats",50);return n+="0.749023 g\n             0 0 "+a.Appearance.internal.getWidth(t)+" "+a.Appearance.internal.getHeight(t)+" re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 "+i.fontSize+" Tf 0 g\n             BT\n",n+=i.text,n+="ET\n             Q\n             EMC\n",e.stream=n,e},YesNormal:function(t){var e=a.createFormXObject(t),n="";t.Q=1;var i=a.internal.calculateX(t,"3","ZapfDingbats",.9*a.Appearance.internal.getHeight(t));return n+="1 g\n0 0 "+a.Appearance.internal.getWidth(t)+" "+a.Appearance.internal.getHeight(t)+" re\nf\nq\n0 0 1 rg\n0 0 "+(a.Appearance.internal.getWidth(t)-1)+" "+(a.Appearance.internal.getHeight(t)-1)+" re\nW\nn\n0 g\nBT\n/F13 "+i.fontSize+" Tf 0 g\n",n+=i.text,n+="ET\n             Q\n",e.stream=n,e},OffPushDown:function(t){var e=a.createFormXObject(t),n="";return n+="0.749023 g\n            0 0 "+a.Appearance.internal.getWidth(t)+" "+a.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=n,e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:a.Appearance.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=a.Appearance.RadioButton.Circle.YesNormal,e.D[t]=a.Appearance.RadioButton.Circle.YesPushDown,e},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(t){var e=a.createFormXObject(t),n="",i=a.Appearance.internal.getWidth(t)<=a.Appearance.internal.getHeight(t)?a.Appearance.internal.getWidth(t)/4:a.Appearance.internal.getHeight(t)/4;i*=.9;var o=a.Appearance.internal.Bezier_C;return n+="q\n1 0 0 1 "+a.Appearance.internal.getWidth(t)/2+" "+a.Appearance.internal.getHeight(t)/2+" cm\n"+i+" 0 m\n"+i+" "+i*o+" "+i*o+" "+i+" 0 "+i+" c\n-"+i*o+" "+i+" -"+i+" "+i*o+" -"+i+" 0 c\n-"+i+" -"+i*o+" -"+i*o+" -"+i+" 0 -"+i+" c\n"+i*o+" -"+i+" "+i+" -"+i*o+" "+i+" 0 c\nf\nQ\n",e.stream=n,e},YesPushDown:function(t){var e=a.createFormXObject(t),n="",i=a.Appearance.internal.getWidth(t)<=a.Appearance.internal.getHeight(t)?a.Appearance.internal.getWidth(t)/4:a.Appearance.internal.getHeight(t)/4;i*=.9;var o=2*i,r=o*a.Appearance.internal.Bezier_C,s=i*a.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n           1 0 0 1 "+a.Appearance.internal.getWidth(t)/2+" "+a.Appearance.internal.getHeight(t)/2+" cm\n"+o+" 0 m\n"+o+" "+r+" "+r+" "+o+" 0 "+o+" c\n-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c\n-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c\n"+r+" -"+o+" "+o+" -"+r+" "+o+" 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 "+a.Appearance.internal.getWidth(t)/2+" "+a.Appearance.internal.getHeight(t)/2+" cm\n"+i+" 0 m\n"+i+" "+s+" "+s+" "+i+" 0 "+i+" c\n-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c\n-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c\n"+s+" -"+i+" "+i+" -"+s+" "+i+" 0 c\n            f\n            Q\n",e.stream=n,e},OffPushDown:function(t){var e=a.createFormXObject(t),n="",i=a.Appearance.internal.getWidth(t)<=a.Appearance.internal.getHeight(t)?a.Appearance.internal.getWidth(t)/4:a.Appearance.internal.getHeight(t)/4;i*=.9;var o=2*i,r=o*a.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n 1 0 0 1 "+a.Appearance.internal.getWidth(t)/2+" "+a.Appearance.internal.getHeight(t)/2+" cm\n"+o+" 0 m\n"+o+" "+r+" "+r+" "+o+" 0 "+o+" c\n-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c\n-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c\n"+r+" -"+o+" "+o+" -"+r+" "+o+" 0 c\n            f\n            Q\n",e.stream=n,e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:a.Appearance.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=a.Appearance.RadioButton.Cross.YesNormal,e.D[t]=a.Appearance.RadioButton.Cross.YesPushDown,e},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(t){var e=a.createFormXObject(t),n="",i=a.Appearance.internal.calculateCross(t);return n+="q\n            1 1 "+(a.Appearance.internal.getWidth(t)-2)+" "+(a.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+i.x1.x+" "+i.x1.y+" m\n            "+i.x2.x+" "+i.x2.y+" l\n            "+i.x4.x+" "+i.x4.y+" m\n            "+i.x3.x+" "+i.x3.y+" l\n            s\n            Q\n",e.stream=n,e},YesPushDown:function(t){var e=a.createFormXObject(t),n=a.Appearance.internal.calculateCross(t),i="";return i+="0.749023 g\n            0 0 "+a.Appearance.internal.getWidth(t)+" "+a.Appearance.internal.getHeight(t)+" re\n            f\n            q\n            1 1 "+(a.Appearance.internal.getWidth(t)-2)+" "+(a.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+n.x1.x+" "+n.x1.y+" m\n            "+n.x2.x+" "+n.x2.y+" l\n            "+n.x4.x+" "+n.x4.y+" m\n            "+n.x3.x+" "+n.x3.y+" l\n            s\n            Q\n",e.stream=i,e},OffPushDown:function(t){var e=a.createFormXObject(t),n="";return n+="0.749023 g\n            0 0 "+a.Appearance.internal.getWidth(t)+" "+a.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=n,e}}},createDefaultAppearanceStream:function(t){var e="";return e+="/Helv 0 Tf 0 g"}},a.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=function(t,e){return t>e?e:t},n=a.Appearance.internal.getWidth(t),i=a.Appearance.internal.getHeight(t),o=e(n,i),r={x1:{x:(n-o)/2,y:(i-o)/2+o},x2:{x:(n-o)/2+o,y:(i-o)/2},x3:{x:(n-o)/2,y:(i-o)/2},x4:{x:(n-o)/2+o,y:(i-o)/2+o}};return r}},a.Appearance.internal.getWidth=function(t){return t.Rect[2]},a.Appearance.internal.getHeight=function(t){return t.Rect[3]},a.internal.inherit=function(t,e){Object.create||function(t){var e=function(){};return e.prototype=t,new e};t.prototype=Object.create(e.prototype),t.prototype.constructor=t},a.internal.arrayToPdfArray=function(t){if(Array.isArray(t)){var e=" [";for(var a in t){var n=t[a].toString();e+=n,e+=a<t.length-1?" ":""}return e+="]"}},a.internal.toPdfString=function(t){return t=t||"",0!==t.indexOf("(")&&(t="("+t),")"!=t.substring(t.length-1)&&(t+="("),t},a.PDFObject=function(){var t;Object.defineProperty(this,"objId",{get:function(){return t||(this.internal?t=this.internal.newObjectDeferred():e.API.acroformPlugin.internal&&(t=e.API.acroformPlugin.internal.newObjectDeferred())),t||console.log("Couldn't create Object ID"),t},configurable:!1})},a.PDFObject.prototype.toString=function(){return this.objId+" 0 R"},a.PDFObject.prototype.getString=function(){var t=this.objId+" 0 obj\n<<",e=this.getContent();return t+=e+">>\n",this.stream&&(t+="stream\n",t+=this.stream,t+="endstream\n"),t+="endobj\n"},a.PDFObject.prototype.getContent=function(){var t=function(t){var e="",n=Object.keys(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var i in n){var o=n[i],r=t[o];r&&(e+=Array.isArray(r)?"/"+o+" "+a.internal.arrayToPdfArray(r)+"\n":r instanceof a.PDFObject?"/"+o+" "+r.objId+" 0 R\n":"/"+o+" "+r+"\n")}return e},e="";return e+=t(this)},a.FormXObject=function(){a.PDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo;var t;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==t?t.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(e){t=e},get:function(){return t?t:null}})},a.internal.inherit(a.FormXObject,a.PDFObject),a.AcroFormDictionary=function(){a.PDFObject.call(this);var t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return t}}),this.DA},a.internal.inherit(a.AcroFormDictionary,a.PDFObject),a.Field=function(){a.PDFObject.call(this);var t;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(t){var e=t;return e}},set:function(e){t=e}});var e="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(t){e=t},get:function(){return e}});var n;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(t){n=t},get:function(){if(!n||n.length<1){if(this instanceof a.ChildClass)return;return"(FieldObject"+a.Field.FieldNum++ +")"}return"("==n.substring(0,1)&&n.substring(n.length-1)?n:"("+n+")"}});var i;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){return i?"("+i+")":void 0},set:function(t){i=t}});var o;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){return o?o:void 0},set:function(t){o=t}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})},a.Field.FieldNum=0,a.internal.inherit(a.Field,a.PDFObject),a.ChoiceField=function(){a.Field.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0,this.combo=!1,Object.defineProperty(this,"edit",{enumerable:!0,set:function(t){1==t?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1}),this.hasAppearanceStream=!0,Object.defineProperty(this,"V",{get:function(){a.internal.toPdfString()}})},a.internal.inherit(a.ChoiceField,a.Field),window.ChoiceField=a.ChoiceField,a.ListBox=function(){a.ChoiceField.call(this)},a.internal.inherit(a.ListBox,a.ChoiceField),window.ListBox=a.ListBox,a.ComboBox=function(){a.ListBox.call(this),this.combo=!0},a.internal.inherit(a.ComboBox,a.ListBox),window.ComboBox=a.ComboBox,a.EditBox=function(){a.ComboBox.call(this),this.edit=!0},a.internal.inherit(a.EditBox,a.ComboBox),window.EditBox=a.EditBox,a.Button=function(){a.Field.call(this),this.FT="/Btn"},a.internal.inherit(a.Button,a.Field),window.Button=a.Button,a.PushButton=function(){a.Button.call(this),this.pushbutton=!0},a.internal.inherit(a.PushButton,a.Button),window.PushButton=a.PushButton,a.RadioButton=function(){a.Button.call(this),this.radio=!0;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"__Kids",{get:function(){return t}});var e;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return e},set:function(t){e=t}})},a.internal.inherit(a.RadioButton,a.Button),window.RadioButton=a.RadioButton,a.ChildClass=function(t,e){a.Field.call(this),this.Parent=t,this._AppearanceType=a.Appearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(e),this.F=a.internal.setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=e},a.internal.inherit(a.ChildClass,a.Field),a.RadioButton.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"createMK"in t))return void console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.__Kids){var a=this.__Kids[e];a.appearanceStreamContent=t.createAppearanceStream(a._Name),a.MK=t.createMK()}},a.RadioButton.prototype.createOption=function(t){var n=this,i=(this.__Kids.length,new a.ChildClass(n,t));return this.__Kids.push(i),e.API.addField(i),i},a.CheckBox=function(){Button.call(this),this.appearanceStreamContent=a.Appearance.CheckBox.createAppearanceStream(),this.MK=a.Appearance.CheckBox.createMK(),this.AS="/On",this.V="/On"},a.internal.inherit(a.CheckBox,a.Button),window.CheckBox=a.CheckBox,a.TextField=function(){a.Field.call(this),this.DA=a.Appearance.createDefaultAppearanceStream(),this.F=4;var t;Object.defineProperty(this,"V",{get:function(){return t?"("+t+")":t},enumerable:!0,set:function(e){t=e}});var e;Object.defineProperty(this,"DV",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(t){e=t}});var n=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return n},set:function(t){n=t}});var i=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})},a.internal.inherit(a.TextField,a.Field),window.TextField=a.TextField,a.PasswordField=function(){TextField.call(this),Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})},a.internal.inherit(a.PasswordField,a.TextField),window.PasswordField=a.PasswordField,a.internal.calculateFontSpace=function(t,e,n){var n=n||"helvetica",i=a.internal.calculateFontSpace.canvas||(a.internal.calculateFontSpace.canvas=document.createElement("canvas")),o=i.getContext("2d");o.save();var r=e+" "+n;o.font=r;var s=o.measureText(t);o.fontcolor="black";var o=i.getContext("2d");s.height=1.5*o.measureText("3").width,o.restore();s.width;return s},a.internal.calculateX=function(t,e,n,i){var i=i||12,n=n||"helvetica",o={text:"",fontSize:""};e="("==e.substr(0,1)?e.substr(1):e,e=")"==e.substr(e.length-1)?e.substr(0,e.length-1):e;var r=e.split(" "),s=i,l=2,c=2,d=a.Appearance.internal.getHeight(t)||0;d=0>d?-d:d;var u=a.Appearance.internal.getWidth(t)||0;u=0>u?-u:u;var p=function(t,e,i){if(t+1<r.length){var o=e+" "+r[t+1],s=a.internal.calculateFontSpace(o,i+"px",n).width,l=u-2*c;return l>=s}return!1};s++;t:for(;;){var e="";s--;var h=a.internal.calculateFontSpace("3",s+"px",n).height,m=t.multiline?d-s:(d-h)/2;m+=l;var g=-c,f=g,v=m,b=0,y=0,x=0;if(0==s){s=12,e="(...) Tj\n",e+="% Width of Text: "+a.internal.calculateFontSpace(e,"1px").width+", FieldWidth:"+u+"\n";break}x=a.internal.calculateFontSpace(r[0]+" ",s+"px",n).width;var w="",k=0;for(var D in r){w+=r[D]+" ",w=" "==w.substr(w.length-1)?w.substr(0,w.length-1):w;var T=parseInt(D);x=a.internal.calculateFontSpace(w+" ",s+"px",n).width;var S=p(T,w,s),I=D>=r.length-1;if(!S||I){if(S||I){if(I)y=T;else if(t.multiline&&(h+l)*(k+2)+l>d)continue t}else{if(!t.multiline)continue t;if((h+l)*(k+2)+l>d)continue t;y=T}for(var _="",C=b;y>=C;C++)_+=r[C]+" ";switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,x=a.internal.calculateFontSpace(_,s+"px",n).width,t.Q){case 2:g=u-x-c;break;case 1:g=(u-x)/2;break;case 0:default:g=c}e+=g+" "+v+" Td\n",e+="("+_+") Tj\n",e+=-g+" 0 Td\n",v=-(s+l),f=g,x=0,b=y+1,k++,w=""}else w+=" "}break}return o.text=e,o.fontSize=s,o},a.internal.calculateAppearanceStream=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e="",n=t.V||t.DV,i=a.internal.calculateX(t,n);e+="/Tx BMC\nq\n/F1 "+i.fontSize+" Tf\n1 0 0 1 0 0 Tm\n",e+="BT\n",e+=i.text,e+="ET\n",e+="Q\nEMC\n";var o=new a.createFormXObject(t);o.stream=e;return o}},a.internal.calculateCoordinates=function(t,e,n,i){var o={};if(this.internal){var r=function(t){return t*this.internal.scaleFactor};Array.isArray(t)?(t[0]=a.scale(t[0]),t[1]=a.scale(t[1]),t[2]=a.scale(t[2]),t[3]=a.scale(t[3]),o.lowerLeft_X=t[0]||0,o.lowerLeft_Y=r.call(this,this.internal.pageSize.height)-t[3]-t[1]||0,o.upperRight_X=t[0]+t[2]||0,o.upperRight_Y=r.call(this,this.internal.pageSize.height)-t[1]||0):(t=a.scale(t),e=a.scale(e),n=a.scale(n),i=a.scale(i),o.lowerLeft_X=t||0,o.lowerLeft_Y=this.internal.pageSize.height-e||0,o.upperRight_X=t+n||0,o.upperRight_Y=this.internal.pageSize.height-e+i||0)}else Array.isArray(t)?(o.lowerLeft_X=t[0]||0,o.lowerLeft_Y=t[1]||0,o.upperRight_X=t[0]+t[2]||0,o.upperRight_Y=t[1]+t[3]||0):(o.lowerLeft_X=t||0,o.lowerLeft_Y=e||0,o.upperRight_X=t+n||0,o.upperRight_Y=e+i||0);return[o.lowerLeft_X,o.lowerLeft_Y,o.upperRight_X,o.upperRight_Y]},a.internal.calculateColor=function(t,e,a){var n=new Array(3);return n.r=0|t,n.g=0|e,n.b=0|a,n},a.internal.getBitPosition=function(t,e){t=t||0;var a=1;return a<<=e-1,t|a},a.internal.setBitPosition=function(t,e,a){t=t||0,a=a||1;var n=1;if(n<<=e-1,1==a)var t=t|n;else var t=t&~n;return t},/**
 * jsPDF addHTML PlugIn
 * Copyright (c) 2014 Diego Casorran
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.addHTML=function(t,e,a,n,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(n=e,i=a),"function"==typeof n&&(i=n,n=null);var o=this.internal,r=o.scaleFactor,s=o.pageSize.width,l=o.pageSize.height;if(n=n||{},n.onrendered=function(t){e=parseInt(e)||0,a=parseInt(a)||0;var o=n.dim||{},c=o.h||0,d=o.w||Math.min(s,t.width/r)-e,u="JPEG";if(n.format&&(u=n.format),t.height>l&&n.pagesplit){var p=function(){for(var n=0;;){var o=document.createElement("canvas");o.width=Math.min(s*r,t.width),o.height=Math.min(l*r,t.height-n);var c=o.getContext("2d");c.drawImage(t,0,n,t.width,o.height,0,0,o.width,o.height);var p=[o,e,n?0:a,o.width/r,o.height/r,u,null,"SLOW"];if(this.addImage.apply(this,p),n+=o.height,n>=t.height)break;this.addPage()}i(d,n,null,p)}.bind(this);if("CANVAS"===t.nodeName){var h=new Image;h.onload=p,h.src=t.toDataURL("image/png"),t=h}else p()}else{var m=Math.random().toString(35),g=[t,e,a,d,c,u,m,"SLOW"];this.addImage.apply(this,g),i(d,c,m,g)}}.bind(this),"undefined"!=typeof html2canvas&&!n.rstz)return html2canvas(t,n);if("undefined"!=typeof rasterizeHTML){var c="drawDocument";return"string"==typeof t&&(c=/^http/.test(t)?"drawURL":"drawHTML"),n.width=n.width||s*r,rasterizeHTML[c](t,void 0,n).then(function(t){n.onrendered(t.image)},function(t){i(null,t)})}return null}}(e.API),/** @preserve
 * jsPDF addImage plugin
 * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
 *               2013 Chris Dowling, https://github.com/gingerchris
 *               2013 Trinh Ho, https://github.com/ineedfat
 *               2013 Edwin Alejandro Perez, https://github.com/eaparango
 *               2013 Norah Smith, https://github.com/burnburnrocket
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 James Robb, https://github.com/jamesbrobb
 *
 * 
 */
function(e){var a="addImage_",n=["jpeg","jpg","png"],i=function k(t){var e=this.internal.newObject(),a=this.internal.write,n=this.internal.putStream;if(t.n=e,a("<</Type /XObject"),a("/Subtype /Image"),a("/Width "+t.w),a("/Height "+t.h),t.cs===this.color_spaces.INDEXED?a("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?e+2:e+1)+" 0 R]"):(a("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&a("/Decode [1 0 1 0 1 0 1 0]")),a("/BitsPerComponent "+t.bpc),"f"in t&&a("/Filter /"+t.f),"dp"in t&&a("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var i="",o=0,r=t.trns.length;r>o;o++)i+=t.trns[o]+" "+t.trns[o]+" ";a("/Mask ["+i+"]")}if("smask"in t&&a("/SMask "+(e+1)+" 0 R"),a("/Length "+t.data.length+">>"),n(t.data),a("endobj"),"smask"in t){var s="/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,l={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:s,data:t.smask};"f"in t&&(l.f=t.f),k.call(this,l)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),a("<< /Length "+t.pal.length+">>"),n(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),a("endobj"))},o=function(){var t=this.internal.collections[a+"images"];for(var e in t)i.call(this,t[e])},r=function(){var t,e=this.internal.collections[a+"images"],n=this.internal.write;for(var i in e)t=e[i],n("/I"+t.i,t.n,"0","R")},s=function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE},l=function(){var t=this.internal.collections[a+"images"];return t||(this.internal.collections[a+"images"]=t={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",r)),t},c=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var a in t)t.hasOwnProperty(a)&&e++;return e}(t)),e},d=function(t){return"undefined"==typeof t||null===t},u=function(t){return"string"==typeof t&&e.sHashCode(t)},p=function(t){return-1===n.indexOf(t)},h=function(t){return"function"!=typeof e["process"+t.toUpperCase()]},m=function(e){return"object"===("undefined"==typeof e?"undefined":t(e))&&1===e.nodeType},g=function(e,a,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var i=""+e.getAttribute("src");if(!n&&0===i.indexOf("data:image/"))return i;!a&&/\.png(?:[?#].*)?$/i.test(i)&&(a="png")}if("CANVAS"===e.nodeName)var o=e;else{var o=document.createElement("canvas");o.width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var r=o.getContext("2d");if(!r)throw"addImage requires canvas to be supported by browser.";if(n){var s,l,c,d,u,p,h,m,g=Math.PI/180;"object"===("undefined"==typeof n?"undefined":t(n))&&(s=n.x,l=n.y,c=n.bg,n=n.angle),m=n*g,d=Math.abs(Math.cos(m)),u=Math.abs(Math.sin(m)),p=o.width,h=o.height,o.width=h*u+p*d,o.height=h*d+p*u,isNaN(s)&&(s=o.width/2),isNaN(l)&&(l=o.height/2),r.clearRect(0,0,o.width,o.height),r.fillStyle=c||"white",r.fillRect(0,0,o.width,o.height),r.save(),r.translate(s,l),r.rotate(m),r.drawImage(e,-(p/2),-(h/2)),r.rotate(-m),r.translate(-s,-l),r.restore()}else r.drawImage(e,0,0,o.width,o.height)}return o.toDataURL("png"==(""+a).toLowerCase()?"image/png":"image/jpeg")},f=function(t,e){var a;if(e)for(var n in e)if(t===e[n].alias){a=e[n];break}return a},v=function(t,e,a){return t||e||(t=-96,e=-96),0>t&&(t=-1*a.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*a.h*72/e/this.internal.scaleFactor),0===t&&(t=e*a.w/a.h),0===e&&(e=t*a.h/a.w),[t,e]},b=function(t,e,a,n,i,o,r){var s=v.call(this,a,n,i),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a=s[0],n=s[1],r[o]=i,this.internal.write("q",l(a),"0 0",l(n),l(t),c(e+n),"cm /I"+i.i,"Do Q")};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return t=(t<<5)-t+e.charCodeAt(0),t&t},0)},e.isString=function(t){return"string"==typeof t},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return this.supportsArrayBuffer()?t instanceof ArrayBuffer:!1},e.isArrayBufferView=function(t){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array:!1},e.binaryStringToUint8Array=function(t){for(var e=t.length,a=new Uint8Array(e),n=0;e>n;n++)a[n]=t.charCodeAt(n);return a},e.arrayBufferToBinaryString=function(t){this.isArrayBuffer(t)&&(t=new Uint8Array(t));for(var e="",a=t.byteLength,n=0;a>n;n++)e+=String.fromCharCode(t[n]);return e},e.arrayBufferToBase64=function(t){for(var e,a,n,i,o,r="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(t),c=l.byteLength,d=c%3,u=c-d,p=0;u>p;p+=3)o=l[p]<<16|l[p+1]<<8|l[p+2],e=(16515072&o)>>18,a=(258048&o)>>12,n=(4032&o)>>6,i=63&o,r+=s[e]+s[a]+s[n]+s[i];return 1==d?(o=l[u],e=(252&o)>>2,a=(3&o)<<4,r+=s[e]+s[a]+"=="):2==d&&(o=l[u]<<8|l[u+1],e=(64512&o)>>10,a=(1008&o)>>4,n=(15&o)<<2,r+=s[e]+s[a]+s[n]+"="),r},e.createImageInfo=function(t,e,a,n,i,o,r,s,l,c,d,u,p){var h={alias:s,w:e,h:a,cs:n,bpc:i,i:r,data:t};return o&&(h.f=o),l&&(h.dp=l),c&&(h.trns=c),d&&(h.pal=d),u&&(h.smask=u),p&&(h.p=p),h},e.addImage=function(e,a,i,o,r,v,y,x,w){if("string"!=typeof a){var k=v;v=r,r=o,o=i,i=a,a=k}if("object"===("undefined"==typeof e?"undefined":t(e))&&!m(e)&&"imageData"in e){var D=e;e=D.imageData,a=D.format||a,i=D.x||i||0,o=D.y||o||0,r=D.w||r,v=D.h||v,y=D.alias||y,x=D.compression||x,w=D.rotation||D.angle||w}if(isNaN(i)||isNaN(o))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var T,S=l.call(this);if(!(T=f(e,S))){var I;if(m(e)&&(e=g(e,a,w)),d(y)&&(y=u(e)),!(T=f(y,S))){if(this.isString(e)){var _=this.extractInfoFromBase64DataURI(e);_?(a=_[2],e=atob(_[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(a="png")}if(a=(a||"JPEG").toLowerCase(),p(a))throw new Error("addImage currently only supports formats "+n+", not '"+a+"'");if(h(a))throw new Error("please ensure that the plugin for '"+a+"' support is added");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(I=e,e=this.binaryStringToUint8Array(e))),T=this["process"+a.toUpperCase()](e,c(S),y,s(x),I),!T)throw new Error("An unkwown error occurred whilst processing the image")}}return b.call(this,i,o,r,v,T,T.i,S),this};var y=function(t){var e,a,n;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),o=4,r=t.length;r>o;){if(o+=i,255!==t.charCodeAt(o))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(o+1)||193===t.charCodeAt(o+1)||194===t.charCodeAt(o+1)||195===t.charCodeAt(o+1)||196===t.charCodeAt(o+1)||197===t.charCodeAt(o+1)||198===t.charCodeAt(o+1)||199===t.charCodeAt(o+1))return a=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),e=256*t.charCodeAt(o+7)+t.charCodeAt(o+8),n=t.charCodeAt(o+9),[e,a,n];o+=2,i=256*t.charCodeAt(o)+t.charCodeAt(o+1)}},x=function(t){var e=t[0]<<8|t[1];if(65496!==e)throw new Error("Supplied data is not a JPEG");for(var a,n,i,o,r=t.length,s=(t[4]<<8)+t[5],l=4;r>l;){if(l+=s,a=w(t,l),s=(a[2]<<8)+a[3],(192===a[1]||194===a[1])&&255===a[0]&&s>7)return a=w(t,l+5),n=(a[2]<<8)+a[3],i=(a[0]<<8)+a[1],o=a[4],{width:n,height:i,numcomponents:o};l+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},w=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,a,n,i){var o,r=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,l=8;return this.isString(t)?(o=y(t),this.createImageInfo(t,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:r,l,s,e,a)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=x(t),t=i||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:r,l,s,e,a)):null)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(e.API),/**
 * jsPDF Annotations PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var a={annotations:[],f2:function(t){return t.toFixed(2)},notEmpty:function(t){return"undefined"!=typeof t&&""!=t?!0:void 0}};return e.API.annotationPlugin=a,e.API.events.push(["addPage",function(t){this.annotationPlugin.annotations[t.pageNumber]=[]}]),t.events.push(["putPage",function(t){for(var e=this.annotationPlugin.annotations[t.pageNumber],n=!1,i=0;i<e.length&&!n;i++){var o=e[i];switch(o.type){case"link":if(a.notEmpty(o.options.url)||a.notEmpty(o.options.pageNumber)){n=!0;break}case"reference":case"text":case"freetext":n=!0}}if(0!=n){this.internal.write("/Annots [");for(var r=this.annotationPlugin.f2,s=this.internal.scaleFactor,l=this.internal.pageSize.height,c=this.internal.getPageInfo(t.pageNumber),i=0;i<e.length;i++){var o=e[i];switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),p=o.title||"Note",h="/Rect ["+r(o.bounds.x*s)+" "+r(l-(o.bounds.y+o.bounds.h)*s)+" "+r((o.bounds.x+o.bounds.w)*s)+" "+r((l-o.bounds.y)*s)+"] ";b="<</Type /Annot /Subtype /Text "+h+"/Contents ("+o.contents+")",b+=" /Popup "+u.objId+" 0 R",b+=" /P "+c.objId+" 0 R",b+=" /T ("+p+") >>",d.content=b;var m=d.objId+" 0 R",g=30,h="/Rect ["+r((o.bounds.x+g)*s)+" "+r(l-(o.bounds.y+o.bounds.h)*s)+" "+r((o.bounds.x+o.bounds.w+g)*s)+" "+r((l-o.bounds.y)*s)+"] ";b="<</Type /Annot /Subtype /Popup "+h+" /Parent "+m,o.open&&(b+=" /Open true"),b+=" >>",u.content=b,this.internal.write(d.objId,"0 R",u.objId,"0 R");break;case"freetext":var h="/Rect ["+r(o.bounds.x*s)+" "+r((l-o.bounds.y)*s)+" "+r(o.bounds.x+o.bounds.w*s)+" "+r(l-(o.bounds.y+o.bounds.h)*s)+"] ",f=o.color||"#000000";b="<</Type /Annot /Subtype /FreeText "+h+"/Contents ("+o.contents+")",b+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+f+")",b+=" /Border [0 0 0]",b+=" >>",this.internal.write(b);break;case"link":if(o.options.name){var v=this.annotations._nameMap[o.options.name];o.options.pageNumber=v.page,o.options.top=v.y}else o.options.top||(o.options.top=0);var h="/Rect ["+r(o.x*s)+" "+r((l-o.y)*s)+" "+r(o.x+o.w*s)+" "+r(l-(o.y+o.h)*s)+"] ",b="";if(o.options.url)b="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /A <</S /URI /URI ("+o.options.url+") >>";else if(o.options.pageNumber){var t=this.internal.getPageInfo(o.options.pageNumber);switch(b="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /Dest ["+t.objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":b+=" /Fit]";break;case"FitH":b+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,b+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var y=r((l-o.options.top)*s);o.options.left=o.options.left||0,"undefined"==typeof o.options.zoom&&(o.options.zoom=0),b+=" /XYZ "+o.options.left+" "+y+" "+o.options.zoom+"]"}}""!=b&&(b+=" >>",this.internal.write(b))}}this.internal.write("]")}}]),t.createAnnotation=function(t){switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(t)}},t.link=function(t,e,a,n,i){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:t,y:e,w:a,h:n,options:i,type:"link"})},t.link=function(t,e,a,n,i){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:t,y:e,w:a,h:n,options:i,type:"link"})},t.textWithLink=function(t,e,a,n){var i=this.getTextWidth(t),o=this.internal.getLineHeight();return this.text(t,e,a),a+=.2*o,this.link(e,a-o,i,o,n),i},t.getTextWidth=function(t){var e=this.internal.getFontSize(),a=this.getStringUnitWidth(t)*e/this.internal.scaleFactor;return a},t.getLineHeight=function(){return this.internal.getLineHeight()},this}(e.API),/**
 * jsPDF Autoprint Plugin
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this}}(e.API),/**
 * jsPDF Canvas PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){return t.events.push(["initialized",function(){this.canvas.pdf=this}]),t.canvas={getContext:function(t){return this.pdf.context2d._canvas=this,this.pdf.context2d},style:{}},Object.defineProperty(t.canvas,"width",{get:function(){return this._width},set:function(t){this._width=t,this.getContext("2d").pageWrapX=t+1}}),Object.defineProperty(t.canvas,"height",{get:function(){return this._height},set:function(t){this._height=t,this.getContext("2d").pageWrapY=t+1}}),this}(e.API),/** ====================================================================
 * jsPDF Cell plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Hall, james@parall.ax
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * 
 * ====================================================================
 */
function(t){var e,a,n,i,o=3,r=13,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,c=function(t,e,a,n,i){s={x:t,y:e,w:a,h:n,ln:i}},d=function(){return s},u={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){i=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,a=this.table_font_size||this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var i,o,r=19.049976/25.4;o=document.createElement("font"),o.id="jsPDFCell";try{o.style.fontStyle=n}catch(s){o.style.fontWeight=n}o.style.fontName=e,o.style.fontSize=a+"pt";try{o.textContent=t}catch(s){o.innerText=t}return document.body.appendChild(o),i={w:(o.offsetWidth+1)*r,h:(o.offsetHeight+1)*r},document.body.removeChild(o),i},t.cellAddPage=function(){var t=this.margins||u;this.addPage(),c(t.left,t.top,void 0,void 0),l+=1},t.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1},t.cell=function(t,e,a,n,i,s,l){var p=d(),h=!1;if(void 0!==p.ln)if(p.ln===s)t=p.x+p.w,e=p.y;else{var m=this.margins||u;p.y+p.h+n+r>=this.internal.pageSize.height-m.bottom&&(this.cellAddPage(),h=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(s,!0)),e=d().y+d().h,h&&(e=r+10)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,a,n,"FD"):this.rect(t,e,a,n),"right"===l){i instanceof Array||(i=[i]);for(var g=0;g<i.length;g++){var f=i[g],v=this.getStringUnitWidth(f)*this.internal.getFontSize();this.text(f,t+a-v-o,e+this.internal.getLineHeight()*(g+1))}}else this.text(i,t+o,e+this.internal.getLineHeight());return c(t,e,a,n,s),this},t.arrayMax=function(t,e){var a,n,i,o=t[0];for(a=0,n=t.length;n>a;a+=1)i=t[a],e?-1===e(o,i)&&(o=i):i>o&&(o=i);return o},t.table=function(e,a,n,i,o){if(!n)throw"No data for PDF table";var r,c,d,p,h,m,g,f,v,b,y=[],x=[],w={},k={},D=[],T=[],S=!1,I=!0,_=12,C=u;if(C.width=this.internal.pageSize.width,o&&(o.autoSize===!0&&(S=!0),o.printHeaders===!1&&(I=!1),o.fontSize&&(_=o.fontSize),o.css&&"undefined"!=typeof o.css["font-size"]&&(_=16*o.css["font-size"]),o.margins&&(C=o.margins)),this.lnMod=0,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,this.printHeaders=I,this.margins=C,this.setFontSize(_),this.table_font_size=_,void 0===i||null===i)y=Object.keys(n[0]);else if(i[0]&&"string"!=typeof i[0]){var M=19.049976/25.4;for(c=0,d=i.length;d>c;c+=1)r=i[c],y.push(r.name),x.push(r.prompt),k[r.name]=r.width*M}else y=i;if(S)for(b=function(t){return t[r]},c=0,d=y.length;d>c;c+=1){for(r=y[c],w[r]=n.map(b),D.push(this.getTextDimensions(x[c]||r).w),m=w[r],g=0,p=m.length;p>g;g+=1)h=m[g],D.push(this.getTextDimensions(h).w);k[r]=t.arrayMax(D),D=[]}if(I){var L=this.calculateLineHeight(y,k,x.length?x:y);for(c=0,d=y.length;d>c;c+=1)r=y[c],T.push([e,a,k[r],L,String(x.length?x[c]:r)]);this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}for(c=0,d=n.length;d>c;c+=1){var L;for(f=n[c],L=this.calculateLineHeight(y,k,f),g=0,v=y.length;v>g;g+=1)r=y[g],this.cell(e,a,k[r],L,f[r],c+2,r.align)}return this.lastCellPos=s,this.table_x=e,this.table_y=a,this},t.calculateLineHeight=function(t,e,a){for(var n,i=0,r=0;r<t.length;r++){n=t[r],a[n]=this.splitTextToSize(String(a[n]),e[n]-o);var s=this.internal.getLineHeight()*a[n].length+o;s>i&&(i=s)}return i},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var a,n,o,s;if(this.printingHeaderRow=!0,void 0!==i){var d=i(this,l);c(d[0],d[1],d[2],d[3],-1)}this.setFontStyle("bold");var u=[];for(o=0,s=this.tableHeaderRow.length;s>o;o+=1)this.setFillColor(200,200,200),a=this.tableHeaderRow[o],e&&(this.margins.top=r,a[1]=this.margins&&this.margins.top||0,u.push(a)),n=[].concat(a),this.cell.apply(this,n.concat(t));u.length>0&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(e.API),/**
 * jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv
 *
 * Licensed under the MIT License. http://opensource.org/licenses/mit-license
 */
function(t){function e(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(t){this._isStrokeTransparent=t._isStrokeTransparent,this._strokeOpacity=t._strokeOpacity,this.strokeStyle=t.strokeStyle,this._isFillTransparent=t._isFillTransparent,this._fillOpacity=t._fillOpacity,this.fillStyle=t.fillStyle,this.font=t.font,this.lineWidth=t.lineWidth,this.lineJoin=t.lineJoin,this.lineCap=t.lineCap,this.textBaseline=t.textBaseline,this.textAlign=t.textAlign,this._fontSize=t._fontSize,this._transform=t._transform.slice(0),this.globalCompositeOperation=t.globalCompositeOperation,this.globalAlpha=t.globalAlpha,this._clip_path=t._clip_path.slice(0),this.ignoreClearRect=t.ignoreClearRect}}t.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new e,this.context2d.ctxStack=[],this.context2d.path=[]}]),t.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new e,f2:function(t){return t.toFixed(2)},fillRect:function(t,e,a,n){if(!this._isFillTransparent()){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:a,h:n});this.pdf.rect(i.x,i.y,i.w,i.h,"f")}},strokeRect:function(t,e,a,n){if(!this._isStrokeTransparent()){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:a,h:n});this.pdf.rect(i.x,i.y,i.w,i.h,"s")}},clearRect:function(t,e,a,n){if(!this.ctx.ignoreClearRect){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:a,h:n});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(i.x,i.y,i.w,i.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var t=new e;t.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=t},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(t,e,a,n){this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(t){var e={};if(this.internal.rxTransparent.test(t))e.r=0,e.g=0,e.b=0,e.a=0;else{var a=this.internal.rxRgb.exec(t);null!=a?(e.r=parseInt(a[1]),e.g=parseInt(a[2]),e.b=parseInt(a[3]),e.a=1):(a=this.internal.rxRgba.exec(t),null!=a?(e.r=parseInt(a[1]),e.g=parseInt(a[2]),e.b=parseInt(a[3]),e.a=parseFloat(a[4])):(e.a=1,"#"!=t.charAt(0)&&(t=i.colorNameToHex(t),t||(t="#000000")),4===t.length?(e.r=t.substring(1,2),e.r+=r,e.g=t.substring(2,3),e.g+=g,e.b=t.substring(3,4),e.b+=b):(e.r=t.substring(1,3),e.g=t.substring(3,5),e.b=t.substring(5,7)),e.r=parseInt(e.r,16),e.g=parseInt(e.g,16),e.b=parseInt(e.b,16)))}return e.style=t,e},setFillStyle:function(t){var e,a,n,o;if(this.internal.rxTransparent.test(t))e=0,a=0,n=0,o=0;else{var r=this.internal.rxRgb.exec(t);null!=r?(e=parseInt(r[1]),a=parseInt(r[2]),n=parseInt(r[3]),o=1):(r=this.internal.rxRgba.exec(t),null!=r?(e=parseInt(r[1]),a=parseInt(r[2]),n=parseInt(r[3]),o=parseFloat(r[4])):(o=1,"#"!=t.charAt(0)&&(t=i.colorNameToHex(t),t||(t="#000000")),4===t.length?(e=t.substring(1,2),e+=e,a=t.substring(2,3),a+=a,n=t.substring(3,4),n+=n):(e=t.substring(1,3),a=t.substring(3,5),n=t.substring(5,7)),e=parseInt(e,16),a=parseInt(a,16),n=parseInt(n,16)))}this.ctx.fillStyle=t,this.ctx._isFillTransparent=0==o,this.ctx._fillOpacity=o,this.pdf.setFillColor(e,a,n,{a:o}),this.pdf.setTextColor(e,a,n,{a:o})},setStrokeStyle:function(t){var e=this._getRgba(t);this.ctx.strokeStyle=e.style,this.ctx._isStrokeTransparent=0==e.a,this.ctx._strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):1===e.a?this.pdf.setDrawColor(e.r,e.g,e.b):this.pdf.setDrawColor(e.r,e.g,e.b)},fillText:function(t,e,a,n){if(!this._isFillTransparent()){e=this._wrapX(e),a=this._wrapY(a);var i=this._matrix_map_point(this.ctx._transform,[e,a]);e=i[0],a=i[1];var o=this._matrix_rotation(this.ctx._transform),r=57.2958*o;if(this.ctx._clip_path.length>0){var s;s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.pdf.internal.pages[1],s.push("q");var l=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=l}this.pdf.text(t,e,this._getBaseline(a),null,r),this.ctx._clip_path.length>0&&s.push("Q")}},strokeText:function(t,e,a,n){if(!this._isStrokeTransparent()){e=this._wrapX(e),a=this._wrapY(a);var i=this._matrix_map_point(this.ctx._transform,[e,a]);e=i[0],a=i[1];var o=this._matrix_rotation(this.ctx._transform),r=57.2958*o;if(this.ctx._clip_path.length>0){var s;s=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.pdf.internal.pages[1],s.push("q");var l=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=l}this.pdf.text(t,e,this._getBaseline(a),{stroke:!0},r),this.ctx._clip_path.length>0&&s.push("Q")}},setFont:function(t){this.ctx.font=t;var e=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;if(u=e.exec(t),null!=u){var a=u[1],n=(u[2],u[3]),i=u[4],o=u[5],r=u[6];i="px"===o?Math.floor(parseFloat(i)):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i),"bold"===n||"700"===n?this.pdf.setFontStyle("bold"):"italic"===a?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");var s,l=r,c=l.toLowerCase().split(/\s*,\s*/);s=-1!=c.indexOf("arial")?"Arial":-1!=c.indexOf("verdana")?"Verdana":-1!=c.indexOf("helvetica")?"Helvetica":-1!=c.indexOf("sans-serif")?"sans-serif":-1!=c.indexOf("fixed")?"Fixed":-1!=c.indexOf("monospace")?"Monospace":-1!=c.indexOf("terminal")?"Terminal":-1!=c.indexOf("courier")?"Courier":-1!=c.indexOf("times")?"Times":-1!=c.indexOf("cursive")?"Cursive":-1!=c.indexOf("fantasy")?"Fantasy":(-1!=c.indexOf("serif"),"Serif");var d;d="bold"===n?"bold":"normal",this.pdf.setFont(s,d)}else{var e=/(\d+)(pt|px|em)\s+(\w+)\s*(\w+)?/,u=e.exec(t);if(null!=u){var p=u[1],l=(u[2],u[3]),d=u[4];d||(d="normal"),p="em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(p)),this.pdf.setFontSize(p),this.pdf.setFont(l,d)}}},setTextBaseline:function(t){this.ctx.textBaseline=t},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(t){this.ctx.textAlign=t},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(t){this.ctx.lineWidth=t,this.pdf.setLineWidth(t)},setLineCap:function(t){this.ctx.lineCap=t,this.pdf.setLineCap(t)},setLineJoin:function(t){this.ctx.lineJoin=t,this.pdf.setLineJoin(t)},moveTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var a=this._matrix_map_point(this.ctx._transform,[t,e]);t=a[0],e=a[1];var n={type:"mt",x:t,y:e};this.path.push(n)},_wrapX:function(t){return this.pageWrapXEnabled?t%this.pageWrapX:t},_wrapY:function(t){return this.pageWrapYEnabled?(this._gotoPage(this._page(t)),(t-this.lastBreak)%this.pageWrapY):t},transform:function(t,e,a,n,i,o){this.ctx._transform=[t,e,a,n,i,o]},setTransform:function(t,e,a,n,i,o){this.ctx._transform=[t,e,a,n,i,o]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(t){if(this.pageWrapYEnabled){this.lastBreak=0;for(var e=0,a=0,n=0;n<this.pageBreaks.length;n++)if(t>=this.pageBreaks[n]){e++,0===this.lastBreak&&a++;var i=this.pageBreaks[n]-this.lastBreak;this.lastBreak=this.pageBreaks[n];var o=Math.floor(i/this.pageWrapY);a+=o}if(0===this.lastBreak){var o=Math.floor(t/this.pageWrapY)+1;a+=o}return a+e}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(t){},lineTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var a=this._matrix_map_point(this.ctx._transform,[t,e]);t=a[0],e=a[1];var n={type:"lt",x:t,y:e};this.path.push(n)},bezierCurveTo:function(t,e,a,n,i,o){t=this._wrapX(t),e=this._wrapY(e),a=this._wrapX(a),n=this._wrapY(n),i=this._wrapX(i),o=this._wrapY(o);var r;r=this._matrix_map_point(this.ctx._transform,[i,o]),i=r[0],o=r[1],r=this._matrix_map_point(this.ctx._transform,[t,e]),t=r[0],e=r[1],r=this._matrix_map_point(this.ctx._transform,[a,n]),a=r[0],n=r[1];var s={type:"bct",x1:t,y1:e,x2:a,y2:n,x:i,y:o};this.path.push(s)},quadraticCurveTo:function(t,e,a,n){t=this._wrapX(t),e=this._wrapY(e),a=this._wrapX(a),n=this._wrapY(n);var i;i=this._matrix_map_point(this.ctx._transform,[a,n]),a=i[0],n=i[1],i=this._matrix_map_point(this.ctx._transform,[t,e]),t=i[0],e=i[1];var o={type:"qct",x1:t,y1:e,x:a,y:n};this.path.push(o)},arc:function(t,e,a,n,i,o){t=this._wrapX(t),e=this._wrapY(e);var r=this._matrix_map_point(this.ctx._transform,[t,e]);t=r[0],e=r[1];var s={type:"arc",x:t,y:e,radius:a,startAngle:n,endAngle:i,anticlockwise:o};this.path.push(s)},drawImage:function(t,e,a,n,i,o,r,s,l){void 0!==o&&(e=o,a=r,n=s,i=l),e=this._wrapX(e),a=this._wrapY(a);var c,d=this._matrix_map_rect(this.ctx._transform,{x:e,y:a,w:n,h:i}),u=(this._matrix_map_rect(this.ctx._transform,{x:o,y:r,w:s,h:l}),/data:image\/(\w+).*/i),p=u.exec(t);c=null!=p?p[1]:"png",this.pdf.addImage(t,c,d.x,d.y,d.w,d.h)},_matrix_multiply:function(t,e){var a=e[0],n=e[1],i=e[2],o=e[3],r=e[4],s=e[5],l=a*t[0]+n*t[2],c=i*t[0]+o*t[2],d=r*t[0]+s*t[2]+t[4];return n=a*t[1]+n*t[3],o=i*t[1]+o*t[3],s=r*t[1]+s*t[3]+t[5],a=l,i=c,r=d,[a,n,i,o,r,s]},_matrix_rotation:function(t){return Math.atan2(t[2],t[0])},_matrix_decompose:function(t){var e=t[0],a=t[1],n=t[2],i=t[3],o=Math.sqrt(e*e+a*a);e/=o,a/=o;var r=e*n+a*i;n-=e*r,i-=a*r;var s=Math.sqrt(n*n+i*i);return n/=s,i/=s,r/=s,a*n>e*i&&(e=-e,a=-a,r=-r,o=-o),{scale:[o,0,0,s,0,0],translate:[1,0,0,1,t[4],t[5]],rotate:[e,a,-a,e,0,0],skew:[1,0,r,1,0,0]}},_matrix_map_point:function(t,e){var a=t[0],n=t[1],i=t[2],o=t[3],r=t[4],s=t[5],l=e[0],c=e[1],d=l*a+c*i+r,u=l*n+c*o+s;return[d,u]},_matrix_map_point_obj:function(t,e){var a=this._matrix_map_point(t,[e.x,e.y]);return{x:a[0],y:a[1]}},_matrix_map_rect:function(t,e){var a=this._matrix_map_point(t,[e.x,e.y]),n=this._matrix_map_point(t,[e.x+e.w,e.y+e.h]);return{x:a[0],y:a[1],w:n[0]-a[0],h:n[1]-a[1]}},_matrix_is_identity:function(t){return 1!=t[0]?!1:0!=t[1]?!1:0!=t[2]?!1:1!=t[3]?!1:0!=t[4]?!1:0!=t[5]?!1:!0},rotate:function(t){var e=[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},scale:function(t,e){var a=[t,0,0,e,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,a)},translate:function(t,e){var a=[1,0,0,1,t,e];this.ctx._transform=this._matrix_multiply(this.ctx._transform,a)},stroke:function(){if(this.ctx._clip_path.length>0){var t;t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.pdf.internal.pages[1],t.push("q");var e=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=e,this._stroke(!1),t.push("Q")}else this._stroke(!1)},_stroke:function(t){if(t||!this._isStrokeTransparent()){for(var e=[],a=!1,n=this.path,i=0;i<n.length;i++){var o=n[i];switch(o.type){case"mt":e.push({start:o,deltas:[],abs:[]});break;case"lt":var r=[o.x-n[i-1].x,o.y-n[i-1].y];e[e.length-1].deltas.push(r),e[e.length-1].abs.push(o);break;case"bct":var r=[o.x1-n[i-1].x,o.y1-n[i-1].y,o.x2-n[i-1].x,o.y2-n[i-1].y,o.x-n[i-1].x,o.y-n[i-1].y];e[e.length-1].deltas.push(r);break;case"qct":var s=n[i-1].x+2/3*(o.x1-n[i-1].x),l=n[i-1].y+2/3*(o.y1-n[i-1].y),c=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),u=o.x,p=o.y,r=[s-n[i-1].x,l-n[i-1].y,c-n[i-1].x,d-n[i-1].y,u-n[i-1].x,p-n[i-1].y];e[e.length-1].deltas.push(r);break;case"arc":e[e.length-1].arc=!0,e[e.length-1].abs.push(o);break;case"close":a=!0}}for(var i=0;i<e.length;i++){var h;if(h=i==e.length-1?"s":null,e[i].arc)for(var m=e[i].abs,g=0;g<m.length;g++){var f=m[g],v=360*f.startAngle/(2*Math.PI),b=360*f.endAngle/(2*Math.PI),y=f.x,x=f.y;this.internal.arc2(this,y,x,f.radius,v,b,f.anticlockwise,h,t)}else{var y=e[i].start.x,x=e[i].start.y;t?(this.pdf.lines(e[i].deltas,y,x,null,null),this.pdf.clip_fixed()):this.pdf.lines(e[i].deltas,y,x,null,h)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(t){if(this.ctx._clip_path.length>0){var e;e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.pdf.internal.pages[1],e.push("q");var a=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(t,!0),this.ctx._clip_path=this.path,this.path=a,this._fill(t,!1),e.push("Q")}else this._fill(t,!1)},_fill:function(t,e){if(!this._isFillTransparent()){var n,i="function"==typeof this.pdf.internal.newObject2;n=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.pdf.internal.pages[1];var o=[],r=window.outIntercept;if(i)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var s=this.pdf.internal.newStreamObject(),l=this.pdf.internal.newObject2();l.push("<</Type /ExtGState"),l.push("/SMask <</S /Alpha /G "+s.objId+" 0 R>>"),l.push(">>");var c="MASK"+l.objId;this.pdf.internal.addGraphicsState(c,l.objId);var d="/"+c+" gs";n.splice(0,0,"q"),n.splice(1,0,d),n.push("Q"),window.outIntercept=s;break;default:var u="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];u&&this.pdf.internal.out(u+" gs")}var p=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(p=this.ctx._fillOpacity),i){var h=this.pdf.internal.newObject2();h.push("<</Type /ExtGState"),h.push("/CA "+p),h.push("/ca "+p),h.push(">>");var c="GS_O_"+h.objId;this.pdf.internal.addGraphicsState(c,h.objId),this.pdf.internal.out("/"+c+" gs")}for(var m=this.path,g=0;g<m.length;g++){var f=m[g];switch(f.type){case"mt":o.push({start:f,deltas:[],abs:[]});break;case"lt":var v=[f.x-m[g-1].x,f.y-m[g-1].y];o[o.length-1].deltas.push(v),o[o.length-1].abs.push(f);break;case"bct":var v=[f.x1-m[g-1].x,f.y1-m[g-1].y,f.x2-m[g-1].x,f.y2-m[g-1].y,f.x-m[g-1].x,f.y-m[g-1].y];o[o.length-1].deltas.push(v);break;case"qct":var b=m[g-1].x+2/3*(f.x1-m[g-1].x),y=m[g-1].y+2/3*(f.y1-m[g-1].y),x=f.x+2/3*(f.x1-f.x),w=f.y+2/3*(f.y1-f.y),k=f.x,D=f.y,v=[b-m[g-1].x,y-m[g-1].y,x-m[g-1].x,w-m[g-1].y,k-m[g-1].x,D-m[g-1].y];o[o.length-1].deltas.push(v);break;case"arc":0==o.length&&o.push({start:{x:0,y:0},deltas:[],abs:[]}),o[o.length-1].arc=!0,o[o.length-1].abs.push(f);break;case"close":}}for(var g=0;g<o.length;g++){var T;if(g==o.length-1?(T="f","evenodd"===t&&(T+="*")):T=null,o[g].arc){for(var S=o[g].abs,I=0;I<S.length;I++){var _=S[I];if("undefined"!=typeof _.startAngle){var C=360*_.startAngle/(2*Math.PI),M=360*_.endAngle/(2*Math.PI),L=_.x,A=_.y;0==I&&this.internal.move2(this,L,A),this.internal.arc2(this,L,A,_.radius,C,M,_.anticlockwise,null,e)}else this.internal.line2(a,_.x,_.y)}var L=o[g].start.x,A=o[g].start.y;this.internal.line2(a,L,A),this.pdf.internal.out("h"),this.pdf.internal.out("f")}else{var L=o[g].start.x,A=o[g].start.y;e?(this.pdf.lines(o[g].deltas,L,A,null,null),this.pdf.clip_fixed()):this.pdf.lines(o[g].deltas,L,A,null,T)}}window.outIntercept=r}},pushMask:function(){var t="function"==typeof this.pdf.internal.newObject2;if(!t)return void console.log("jsPDF v2 not enabled");var e=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("<</Type /ExtGState"),a.push("/SMask <</S /Alpha /G "+e.objId+" 0 R>>"),a.push(">>");var n="MASK"+a.objId;this.pdf.internal.addGraphicsState(n,a.objId);var i="/"+n+" gs";this.pdf.internal.out(i)},clip:function(){if(this.ctx._clip_path.length>0)for(var t=0;t<this.path.length;t++)this.ctx._clip_path.push(this.path[t]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(t){var e=this.pdf;return{getWidth:function(){var a=e.internal.getFontSize(),n=e.getStringUnitWidth(t)*a/e.internal.scaleFactor;return n},get width(){return this.getWidth(t)}}},_getBaseline:function(t){var e=parseInt(this.pdf.internal.getFontSize()),a=.25*e;switch(this.ctx.textBaseline){case"bottom":return t-a;case"top":return t+e;case"hanging":return t+e-a;case"middle":return t+e/2-a;case"ideographic":return t;case"alphabetic":default:return t}}};var a=t.context2d;return Object.defineProperty(a,"fillStyle",{set:function(t){this.setFillStyle(t)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(a,"strokeStyle",{set:function(t){this.setStrokeStyle(t)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(a,"lineWidth",{set:function(t){this.setLineWidth(t)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(a,"lineCap",{set:function(t){this.setLineCap(t)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(a,"lineJoin",{set:function(t){this.setLineJoin(t)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(a,"miterLimit",{set:function(t){this.ctx.miterLimit=t},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(a,"textBaseline",{set:function(t){this.setTextBaseline(t)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(a,"textAlign",{set:function(t){this.setTextAlign(t)},get:function(){return this.getTextAlign()}}),Object.defineProperty(a,"font",{set:function(t){this.setFont(t)},get:function(){return this.ctx.font}}),Object.defineProperty(a,"globalCompositeOperation",{set:function(t){this.ctx.globalCompositeOperation=t},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(a,"globalAlpha",{set:function(t){this.ctx.globalAlpha=t},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(a,"ignoreClearRect",{set:function(t){this.ctx.ignoreClearRect=t},get:function(){return this.ctx.ignoreClearRect}}),a.internal={},a.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,a.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,a.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,a.internal.arc=function(t,e,a,n,i,o,r,s){for(var l=!0,c=this.pdf.internal.scaleFactor,d=this.pdf.internal.pageSize.height,u=this.pdf.internal.f2,p=i*(Math.PI/180),h=o*(Math.PI/180),m=this.createArc(n,p,h,r),g=0;g<m.length;g++){var f=m[g];l&&0==g?this.pdf.internal.out([u((f.x1+e)*c),u((d-(f.y1+a))*c),"m",u((f.x2+e)*c),u((d-(f.y2+a))*c),u((f.x3+e)*c),u((d-(f.y3+a))*c),u((f.x4+e)*c),u((d-(f.y4+a))*c),"c"].join(" ")):this.pdf.internal.out([u((f.x2+e)*c),u((d-(f.y2+a))*c),u((f.x3+e)*c),u((d-(f.y3+a))*c),u((f.x4+e)*c),u((d-(f.y4+a))*c),"c"].join(" ")),t._lastPoint={x:e,y:a}}null!==s&&this.pdf.internal.out(this.pdf.internal.getStyle(s))},a.internal.arc2=function(t,e,a,n,i,o,r,s,l){var c=e,d=a;l?(this.arc(t,c,d,n,i,o,r,null),this.pdf.clip_fixed()):this.arc(t,c,d,n,i,o,r,s)},a.internal.move2=function(t,e,a){var n=this.pdf.internal.scaleFactor,i=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2;this.pdf.internal.out([o(e*n),o((i-a)*n),"m"].join(" ")),t._lastPoint={x:e,y:a}},a.internal.line2=function(t,e,a){var n=this.pdf.internal.scaleFactor,i=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2,r={x:e,y:a};this.pdf.internal.out([o(r.x*n),o((i-r.y)*n),"l"].join(" ")),t._lastPoint=r},a.internal.createArc=function(t,e,a,n){var i=1e-5,o=2*Math.PI,r=e;(o>r||r>o)&&(r%=o);var s=a;(o>s||s>o)&&(s%=o);for(var l=[],c=Math.PI/2,d=n?-1:1,u=e,p=Math.min(o,Math.abs(s-r));p>i;){var h=u+d*Math.min(p,c);l.push(this.createSmallArc(t,u,h)),p-=Math.abs(h-u),u=h}return l},a.internal.createSmallArc=function(t,e,a){var n=(a-e)/2,i=t*Math.cos(n),o=t*Math.sin(n),r=i,s=-o,l=r*r+s*s,c=l+r*i+s*o,d=4/3*(Math.sqrt(2*l*c)-c)/(r*o-s*i),u=r-d*s,p=s+d*r,h=u,m=-p,g=n+e,f=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:u*f-p*v,y2:u*v+p*f,x3:h*f-m*v,y3:h*v+m*f,x4:t*Math.cos(a),y4:t*Math.sin(a)}},this}(e.API),/** @preserve
 * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Daniel Husar, https://github.com/danielhusar
 *               2014 Wolfgang Gassler, https://github.com/woolfg
 *               2014 Steven Spungin, https://github.com/flamenco
 *
 * 
 * ====================================================================
 */
function(e){var a,n,o,r,s,l,c,d,u,p,h,m,g,f,v,b,y,x,w,k;a=function(){function t(){}return function(e){return t.prototype=e,new t}}(),p=function(t){var e,a,n,i,o,r,s;for(a=0,n=t.length,e=void 0,i=!1,r=!1;!i&&a!==n;)e=t[a]=t[a].trimLeft(),e&&(i=!0),a++;for(a=n-1;n&&!r&&-1!==a;)e=t[a]=t[a].trimRight(),e&&(r=!0),a--;for(o=/\s+$/g,s=!0,a=0;a!==n;)"\u2028"!=t[a]&&(e=t[a].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[a]=e),a++;return t},h=function(t,e,a,n){return this.pdf=t,this.x=e,this.y=a,this.settings=n,this.watchFunctions=[],this.init(),this},m=function(t){var e,a,n;for(e=void 0,n=t.split(","),a=n.shift();!e&&a;)e=o[a.trim().toLowerCase()],a=n.shift();return e},g=function(t){t="auto"===t?"0px":t,t.indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px");var e,a,n;return a=void 0,e=16,(n=f[t])?n:(n={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:t}],n!==a?f[t]=n/e:(n=parseFloat(t))?f[t]=n/e:(n=t.match(/([\d\.]+)(px)/),3===n.length?f[t]=parseFloat(n[1])/e:f[t]=1))},u=function(t){var e,a,n;return n=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),e={},a=void 0,e["font-family"]=m(n("font-family"))||"times",e["font-style"]=r[n("font-style")]||"normal",e["text-align"]=s[n("text-align")]||"left",a=l[n("font-weight")]||"normal","bold"===a&&("normal"===e["font-style"]?e["font-style"]=a:e["font-style"]=a+e["font-style"]),e["font-size"]=g(n("font-size"))||1,e["line-height"]=g(n("line-height"))||1,e.display="inline"===n("display")?"inline":"block",a="block"===e.display,e["margin-top"]=a&&g(n("margin-top"))||0,e["margin-bottom"]=a&&g(n("margin-bottom"))||0,e["padding-top"]=a&&g(n("padding-top"))||0,e["padding-bottom"]=a&&g(n("padding-bottom"))||0,e["margin-left"]=a&&g(n("margin-left"))||0,e["margin-right"]=a&&g(n("margin-right"))||0,e["padding-left"]=a&&g(n("padding-left"))||0,e["padding-right"]=a&&g(n("padding-right"))||0,e["page-break-before"]=n("page-break-before")||"auto",e["float"]=c[n("cssFloat")]||"none",e.clear=d[n("clear")]||"none",e.color=n("color"),e},v=function(t,e,a){var n,i,o,r,s;if(o=!1,i=void 0,r=void 0,s=void 0,n=a["#"+t.id])if("function"==typeof n)o=n(t,e);else for(i=0,r=n.length;!o&&i!==r;)o=n[i](t,e),i++;if(n=a[t.nodeName],!o&&n)if("function"==typeof n)o=n(t,e);else for(i=0,r=n.length;!o&&i!==r;)o=n[i](t,e),i++;return o},k=function(t,e){var a,n,i,o,r,s,l,c,d,u;for(a=[],n=[],i=0,u=t.rows[0].cells.length,c=t.clientWidth;u>i;)d=t.rows[0].cells[i],n[i]={name:d.textContent.toLowerCase().replace(/\s+/g,""),prompt:d.textContent.replace(/\r?\n/g,""),width:d.clientWidth/c*e.pdf.internal.pageSize.width},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],r={},o=0;o<s.cells.length;)r[n[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;a.push(r),i++}return l={rows:a,headers:n}};var D={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},T=1;n=function(e,i,o){var r,s,l,c,d,p,h,m,g;for(s=e.childNodes,r=void 0,l=u(e),d="block"===l.display,d&&(i.setBlockBoundary(),i.setBlockStyle(l)),h=19.049976/25.4,c=0,p=s.length;p>c;){if(r=s[c],"object"===("undefined"==typeof r?"undefined":t(r))){if(i.executeWatchFunctions(r),1===r.nodeType&&"HEADER"===r.nodeName){var f=r,y=i.pdf.margins_doc.top;i.pdf.internal.events.subscribe("addPage",function(t){i.y=y,n(f,i,o),i.pdf.margins_doc.top=i.y+10,i.y+=10},!1)}if(8===r.nodeType&&"#comment"===r.nodeName)~r.textContent.indexOf("ADD_PAGE")&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top);else if(1!==r.nodeType||D[r.nodeName])if(3===r.nodeType){var x=r.nodeValue;if(r.nodeValue&&"LI"===r.parentNode.nodeName)if("OL"===r.parentNode.parentNode.nodeName)x=T++ +". "+x;else{var w=l["font-size"],S=(3-.75*w)*i.pdf.internal.scaleFactor,I=.75*w*i.pdf.internal.scaleFactor,_=1.74*w/i.pdf.internal.scaleFactor;g=function(t,e){this.pdf.circle(t+S,e+I,_,"FD")}}16&r.ownerDocument.body.compareDocumentPosition(r)&&i.addText(x,l)}else"string"==typeof r&&i.addText(r,l);else{var C;if("IMG"===r.nodeName){var M=r.getAttribute("src");C=b[i.pdf.sHashCode(M)||M]}if(C){i.pdf.internal.pageSize.height-i.pdf.margins_doc.bottom<i.y+r.height&&i.y>i.pdf.margins_doc.top&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top,i.executeWatchFunctions(r));var L=u(r),A=i.x,P=12/i.pdf.internal.scaleFactor,N=(L["margin-left"]+L["padding-left"])*P,E=(L["margin-right"]+L["padding-right"])*P,$=(L["margin-top"]+L["padding-top"])*P,R=(L["margin-bottom"]+L["padding-bottom"])*P;A+=void 0!==L["float"]&&"right"===L["float"]?i.settings.width-r.width-E:N,i.pdf.addImage(C,A,i.y+$,r.width,r.height),C=void 0,"right"===L["float"]||"left"===L["float"]?(i.watchFunctions.push(function(t,e,a,n){return i.y>=e?(i.x+=t,i.settings.width+=a,!0):n&&1===n.nodeType&&!D[n.nodeName]&&i.x+n.width>i.pdf.margins_doc.left+i.pdf.margins_doc.width?(i.x+=t,i.y=e,i.settings.width+=a,!0):!1}.bind(this,"left"===L["float"]?-r.width-N-E:0,i.y+r.height+$+R,r.width)),i.watchFunctions.push(function(t,e,a){return i.y<t&&e===i.pdf.internal.getNumberOfPages()?1===a.nodeType&&"both"===u(a).clear?(i.y=t,!0):!1:!0}.bind(this,i.y+r.height,i.pdf.internal.getNumberOfPages())),i.settings.width-=r.width+N+E,"left"===L["float"]&&(i.x+=r.width+N+E)):i.y+=r.height+$+R}else if("TABLE"===r.nodeName)m=k(r,i),i.y+=10,i.pdf.table(i.x,i.y,m.rows,m.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:i.pdf.margins_doc,css:u(r)}),i.y=i.pdf.lastCellPos.y+i.pdf.lastCellPos.h+20;else if("OL"===r.nodeName||"UL"===r.nodeName)T=1,v(r,i,o)||n(r,i,o),i.y+=10;else if("LI"===r.nodeName){var q=i.x;i.x+=20/i.pdf.internal.scaleFactor,i.y+=3,v(r,i,o)||n(r,i,o),i.x=q}else"BR"===r.nodeName?(i.y+=l["font-size"]*i.pdf.internal.scaleFactor,i.addText("\u2028",a(l))):v(r,i,o)||n(r,i,o)}}c++}return o.outY=i.y,d?i.setBlockBoundary(g):void 0},b={},y=function(t,e,a,n){function i(){e.pdf.internal.events.publish("imagesLoaded"),n(r)}function o(t,a,n){if(t){var o=new Image;r=++c,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=a||o.width||0,o.height=n||o.height||0),o.width+o.height)){var r=e.pdf.sHashCode(t)||t;b[r]=b[r]||o}--c||i()},o.src=t}}for(var r,s=t.getElementsByTagName("img"),l=s.length,c=0;l--;)o(s[l].getAttribute("src"),s[l].width,s[l].height);return c||i()},x=function(t,e,a){var i=t.getElementsByTagName("footer");if(i.length>0){i=i[0];var o=e.pdf.internal.write,r=e.y;e.pdf.internal.write=function(){},n(i,e,a);var s=Math.ceil(e.y-r)+5;e.y=r,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var l=function(t){var o=void 0!==t?t.pageNumber:1,r=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var l=i.getElementsByTagName("span"),c=0;c<l.length;++c)(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[c].innerHTML=o),(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[c].innerHTML="###jsPDFVarTotalPages###");n(i,e,a),e.pdf.margins_doc.bottom+=s,e.y=r},c=i.getElementsByTagName("span"),d=0;d<c.length;++d)(" "+c[d].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",l,!1),l(),D.FOOTER=1}},w=function(t,e,a,i,o,r){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,a,n,i;return n="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),i="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",a=document.createElement("div"),a.style.cssText=i,a.innerHTML='<iframe style="height:1px;width:1px" name="'+n+'" />',document.body.appendChild(a),e=window.frames[n],e.document.open(),e.document.writeln(t),e.document.close(),e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var s,l=new h(t,a,i,o);return y.call(this,e,l,o.elementHandlers,function(t){x(e,l,o.elementHandlers),n(e,l,o.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),s=l.dispose(),"function"==typeof r?r(s):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:l.x,y:l.y}},h.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},h.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},h.prototype.executeWatchFunctions=function(t){var e=!1,a=[];if(this.watchFunctions.length>0){for(var n=0;n<this.watchFunctions.length;++n)this.watchFunctions[n](t)===!0?e=!0:a.push(this.watchFunctions[n]);this.watchFunctions=a}return e},h.prototype.splitFragmentsIntoLines=function(t,e){var n,i,o,r,s,l,c,d,u,p,h,m,g,f,v;for(i=12,h=this.pdf.internal.scaleFactor,s={},o=void 0,p=void 0,r=void 0,l=void 0,v=void 0,u=void 0,d=void 0,c=void 0,m=[],g=[m],n=0,f=this.settings.width;t.length;)if(l=t.shift(),v=e.shift(),l)if(o=v["font-family"],p=v["font-style"],r=s[o+p],r||(r=this.pdf.internal.getFont(o,p).metadata.Unicode,s[o+p]=r),u={widths:r.widths,kerning:r.kerning,fontSize:v["font-size"]*i,textIndent:n},d=this.pdf.getStringUnitWidth(l,u)*u.fontSize/h,"\u2028"==l)m=[],g.push(m);else if(n+d>f){for(c=this.pdf.splitTextToSize(l,f,u),m.push([c.shift(),v]);c.length;)m=[[c.shift(),v]],g.push(m);n=this.pdf.getStringUnitWidth(m[0][0],u)*u.fontSize/h}else m.push([l,v]),n+=d;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(var b=0;b<g.length;++b){var y=this.pdf.getStringUnitWidth(g[b][0][0],u)*u.fontSize/h;b>0&&(g[b][0][1]=a(g[b][0][1]));var x=f-y;if("right"===v["text-align"])g[b][0][1]["margin-left"]=x;else if("center"===v["text-align"])g[b][0][1]["margin-left"]=x/2;else if("justify"===v["text-align"]){var w=g[b][0][0].split(" ").length-1;g[b][0][1]["word-spacing"]=x/w,b===g.length-1&&(g[b][0][1]["word-spacing"]=0)}}return g},h.prototype.RenderTextFragment=function(t,e){var a,n,i;i=0,a=12,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),e.color,"Td"),i=Math.max(i,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-1*a*i).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var o=this.getPdfColor(e.color);o!==this.lastTextColor&&(this.pdf.internal.write(o),this.lastTextColor=o),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(a*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},h.prototype.getPdfColor=function(t){var e,a,n,o,r=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/,s=r.exec(t);if(null!=s?(a=parseInt(s[1]),n=parseInt(s[2]),o=parseInt(s[3])):("#"!=t.charAt(0)&&(t=i.colorNameToHex(t),t||(t="#000000")),a=t.substring(1,3),a=parseInt(a,16),n=t.substring(3,5),n=parseInt(n,16),o=t.substring(5,7),o=parseInt(o,16)),"string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)){var l=parseInt(a.substr(1),16);a=l>>16&255,n=l>>8&255,o=255&l}var c=this.f3;return e=0===a&&0===n&&0===o||"undefined"==typeof n?c(a/255)+" g":[c(a/255),c(n/255),c(o/255),"rg"].join(" ")},h.prototype.f3=function(t){return t.toFixed(3)},h.prototype.renderParagraph=function(t){var e,a,n,i,o,r,s,l,c,d,u,h,m,g,f;if(i=p(this.paragraph.text),g=this.paragraph.style,e=this.paragraph.blockstyle,m=this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},i.join("").trim()){l=this.splitFragmentsIntoLines(i,g),s=void 0,c=void 0,a=12,n=a/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((e["margin-top"]||0)+(e["padding-top"]||0))*n),d=this.pdf.internal.write,o=void 0,r=void 0,this.y+=h,d("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var v=0;l.length;){for(s=l.shift(),c=0,o=0,r=s.length;o!==r;)s[o][0].trim()&&(c=Math.max(c,s[o][1]["line-height"],s[o][1]["font-size"]),f=7*s[o][1]["font-size"]),o++;var b=0,y=0;void 0!==s[0][1]["margin-left"]&&s[0][1]["margin-left"]>0&&(y=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]),b=y-v,v=y);var x=Math.max(e["margin-left"]||0,0)*n;for(d(b+x,(-1*a*c).toFixed(2),"Td"),o=0,r=s.length;o!==r;)s[o][0]&&this.RenderTextFragment(s[o][0],s[o][1]),o++;if(this.y+=c*n,this.executeWatchFunctions(s[0][1])&&l.length>0){var w=[],k=[];l.forEach(function(t){for(var e=0,a=t.length;e!==a;)t[e][0]&&(w.push(t[e][0]+" "),k.push(t[e][1])),++e}),l=this.splitFragmentsIntoLines(p(w),k),d("ET","Q"),d("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-f/2),d("ET","Q"),this.y+=u}},h.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},h.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},h.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},o={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},r={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},c={none:"none",right:"right",left:"left"},d={none:"none",both:"both"},f={normal:1},e.fromHTML=function(t,e,a,n,i,o){return this.margins_doc=o||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),w(this,t,isNaN(e)?4:e,isNaN(a)?4:a,n,i)}}(e.API),/** ==================================================================== 
 * jsPDF JavaScript plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 * 
 * 
 * ====================================================================
 */
function(t){var e,a,n;t.addJS=function(t){return n=t,this.internal.events.subscribe("postPutResources",function(t){e=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(e+1)+" 0 R] >>","endobj"),a=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",n,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==e&&void 0!==a&&this.internal.write("/Names <</JavaScript "+e+" 0 R>>")}),this}}(e.API),/**
 * jsPDF Outline PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){return t.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),n=0;n<a.length;n++){var i=a[n],o=e.exec(i);if(null!=o){var r=o[1];t.internal.newObjectDeferredBegin(r)}t.internal.write(i)}if(this.outline.createNamedDestinations){for(var s=this.internal.pages.length,l=[],n=0;s>n;n++){var c=t.internal.newObject();l.push(c);var d=t.internal.getPageInfo(n+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var u=t.internal.newObject();t.internal.write("<< /Names [ ");for(var n=0;n<l.length;n++)t.internal.write("(page_"+(n+1)+")"+l[n]+" 0 R");t.internal.write(" ] >>","endobj");t.internal.newObject();t.internal.write("<< /Dests "+u+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+namesOid+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}};t.outline.add=function(t,e,a){var n={title:e,options:a,children:[]};return null==t&&(t=this.root),t.children.push(n),n},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var a=0;a<e.children.length;a++)this.genIds_r(e.children[a])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var a=0;a<e.children.length;a++){var n=e.children[a];this.objStart(n),this.line("/Title "+this.makeString(n.title)),this.line("/Parent "+this.makeRef(e)),a>0&&this.line("/Prev "+this.makeRef(e.children[a-1])),a<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[a+1])),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1])));var i=this.count=this.count_r({count:0},n);if(i>0&&this.line("/Count "+i),n.options&&n.options.pageNumber){var o=t.internal.getPageInfo(n.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}this.objEnd()}for(var a=0;a<e.children.length;a++){var n=e.children[a];this.renderItems(n)}},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var a=0;a<e.children.length;a++)t.count++,this.count_r(t,e.children[a]);return t.count}}]),this}(e.API),/**@preserve
 *  ====================================================================
 * jsPDF PNG PlugIn
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * 
 * ====================================================================
 */
function(t){var e=function(){return"function"!=typeof PNG||"function"!=typeof l},a=function(e){return e!==t.image_compression.NONE&&n()},n=function(){var t="function"==typeof o;if(!t)throw new Error("requires deflate.js for compression");return t},i=function(e,a,n,i){var l=5,d=p;switch(i){case t.image_compression.FAST:l=3,d=u;break;case t.image_compression.MEDIUM:l=6,d=h;break;case t.image_compression.SLOW:l=9,d=m}e=c(e,a,n,d);var g=new Uint8Array(r(l)),f=s(e),v=new o(l),b=v.append(e),y=v.flush(),x=g.length+b.length+y.length,w=new Uint8Array(x+4);return w.set(g),w.set(b,g.length),w.set(y,g.length+b.length),w[x++]=f>>>24&255,w[x++]=f>>>16&255,w[x++]=f>>>8&255,w[x++]=255&f,t.arrayBufferToBinaryString(w)},r=function(t,e){var a=8,n=Math.LOG2E*Math.log(32768)-8,i=n<<4|a,o=i<<8,r=Math.min(3,(e-1&255)>>1);return o|=r<<6,o|=0,o+=31-o%31,[i,255&o&255]},s=function(t,e){for(var a,n=1,i=65535&n,o=n>>>16&65535,r=t.length,s=0;r>0;){a=r>e?e:r,r-=a;do i+=t[s++],o+=i;while(--a);i%=65521,o%=65521}return(o<<16|i)>>>0},c=function(t,e,a,n){for(var i,o,r,s=t.length/e,l=new Uint8Array(t.length+s),c=f(),d=0;s>d;d++){if(r=d*e,i=t.subarray(r,r+e),n)l.set(n(i,a,o),r+d);else{for(var u=0,p=c.length,h=[];p>u;u++)h[u]=c[u](i,a,o);var m=v(h.concat());l.set(h[m],r+d)}o=i}return l},d=function(t,e,a){var n=Array.apply([],t);return n.unshift(0),n},u=function(t,e,a){var n,i=[],o=0,r=t.length;for(i[0]=1;r>o;o++)n=t[o-e]||0,i[o+1]=t[o]-n+256&255;return i},p=function(t,e,a){var n,i=[],o=0,r=t.length;for(i[0]=2;r>o;o++)n=a&&a[o]||0,i[o+1]=t[o]-n+256&255;return i},h=function(t,e,a){var n,i,o=[],r=0,s=t.length;for(o[0]=3;s>r;r++)n=t[r-e]||0,i=a&&a[r]||0,o[r+1]=t[r]+256-(n+i>>>1)&255;return o},m=function(t,e,a){var n,i,o,r,s=[],l=0,c=t.length;for(s[0]=4;c>l;l++)n=t[l-e]||0,i=a&&a[l]||0,o=a&&a[l-e]||0,r=g(n,i,o),s[l+1]=t[l]-r+256&255;return s},g=function(t,e,a){var n=t+e-a,i=Math.abs(n-t),o=Math.abs(n-e),r=Math.abs(n-a);return o>=i&&r>=i?t:r>=o?e:a},f=function(){return[d,u,p,h,m]},v=function(t){for(var e,a,n,i=0,o=t.length;o>i;)e=b(t[i].slice(1)),(a>e||!a)&&(a=e,n=i),i++;return n},b=function(t){for(var e=0,a=t.length,n=0;a>e;)n+=Math.abs(t[e++]);return n},y=function(e){var a;switch(e){case t.image_compression.FAST:a=11;break;case t.image_compression.MEDIUM:a=13;break;case t.image_compression.SLOW:a=14;break;default:a=12}return a};t.processPNG=function(t,n,o,r,s){var l,c,d,u,p,h,m=this.color_spaces.DEVICE_RGB,g=this.decode.FLATE_DECODE,f=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(l=new PNG(t),t=l.imgData,f=l.bits,m=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var v,b,x=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer),w=x.length,k=new Uint8Array(w*l.colors),D=new Uint8Array(w),T=l.pixelBitlength-l.bits,S=0,I=0;w>S;S++){for(v=x[S],b=0;T>b;)k[I++]=v>>>b&255,b+=l.bits;D[S]=v>>>b&255}if(16===l.bits){for(var v,x=new Uint32Array(l.decodePixels().buffer),w=x.length,k=new Uint8Array(w*(32/l.pixelBitlength)*l.colors),D=new Uint8Array(w*(32/l.pixelBitlength)),_=l.colors>1,S=0,I=0,C=0;w>S;)v=x[S++],k[I++]=v>>>0&255,_&&(k[I++]=v>>>16&255,v=x[S++],k[I++]=v>>>0&255),D[C++]=v>>>16&255;f=8}a(r)?(t=i(k,l.width*l.colors,l.colors,r),h=i(D,l.width,1,r)):(t=k,h=D,g=null)}if(3===l.colorType&&(m=this.color_spaces.INDEXED,p=l.palette,l.transparency.indexed)){for(var M=l.transparency.indexed,L=0,S=0,w=M.length;w>S;++S)L+=M[S];if(L/=255,L===w-1&&-1!==M.indexOf(0))d=[M.indexOf(0)];else if(L!==w){for(var x=l.decodePixels(),D=new Uint8Array(x.length),S=0,w=x.length;w>S;S++)D[S]=M[x[S]];h=i(D,l.width,1)}}var A=y(r);return c=g===this.decode.FLATE_DECODE?"/Predictor "+A+" /Colors "+u+" /BitsPerComponent "+f+" /Columns "+l.width:"/Colors "+u+" /BitsPerComponent "+f+" /Columns "+l.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(h&&this.isArrayBuffer(h)||this.isArrayBufferView(h))&&(h=this.arrayBufferToBinaryString(h)),this.createImageInfo(t,l.width,l.height,m,f,g,n,o,c,d,p,h,A)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(e.API),/**
 * jsPDF Autoprint Plugin
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this}}(e.API),/** @preserve
 * jsPDF split_text_to_size plugin - MIT license.
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Diego Casorran, https://github.com/diegocr
 */
function(t){var e=t.getCharWidthsArray=function(t,e){e||(e={});var a,n,i,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,r=o.fof?o.fof:1,s=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,l=s.fof?s.fof:1,c=0,d=o[0]||r,u=[];for(a=0,n=t.length;n>a;a++)i=t.charCodeAt(a),u.push((o[i]||d)/r+(s[i]&&s[i][c]||0)/l),c=i;return u},a=function(t){for(var e=t.length,a=0;e;)e--,a+=t[e];return a},n=t.getStringUnitWidth=function(t,n){return a(e.call(this,t,n))},i=function(t,e,a,n){for(var i=[],o=0,r=t.length,s=0;o!==r&&s+e[o]<a;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==r;)s+e[o]>n&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},o=function(t,o,r){r||(r={});var s,l,c,d,u,p,h=[],m=[h],g=r.textIndent||0,f=0,v=0,b=t.split(" "),y=e(" ",r)[0];if(p=-1===r.lineIndent?b[0].length+2:r.lineIndent||0){var x=Array(p).join(" "),w=[];b.map(function(t){t=t.split(/\s*\n/),t.length>1?w=w.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):w.push(t[0])}),b=w,p=n(x,r)}for(c=0,d=b.length;d>c;c++){var k=0;if(s=b[c],p&&"\n"==s[0]&&(s=s.substr(1),k=1),l=e(s,r),v=a(l),g+f+v>o||k){if(v>o){for(u=i(s,l,o-(g+f),o),h.push(u.shift()),h=[u.pop()];u.length;)m.push([u.shift()]);v=a(l.slice(s.length-h[0].length))}else h=[s];m.push(h),g=v+p,f=y}else h.push(s),g+=f+v,f=y}if(p)var D=function(t,e){return(e?x:"")+t.join(" ")};else var D=function(t){return t.join(" ")};return m.map(D)};t.splitTextToSize=function(t,e,a){a||(a={});var n,i=a.fontSize||this.internal.getFontSize(),r=function(t){var e={0:1},a={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return n.metadata[i]?{widths:n.metadata[i].widths||e,kerning:n.metadata[i].kerning||a}:{widths:e,kerning:a}}.call(this,a);n=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;r.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/i:0,r.lineIndent=a.lineIndent;var l,c,d=[];for(l=0,c=n.length;c>l;l++)d=d.concat(o(n[l],s,r));return d}}(e.API),/** @preserve 
jsPDF standard_fonts_metrics plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
*/
function(t){var e=function(t){for(var e="0123456789abcdef",a="klmnopqrstuvwxyz",n={},i=0;i<a.length;i++)n[a[i]]=e[i];var o,r,s,l,c,d={},u=1,p=d,h=[],m="",g="",f=t.length-1;for(i=1;i!=f;)c=t[i],i+=1,"'"==c?r?(l=r.join(""),r=o):r=[]:r?r.push(c):"{"==c?(h.push([p,l]),p={},l=o):"}"==c?(s=h.pop(),s[0][s[1]]=p,l=o,p=s[0]):"-"==c?u=-1:l===o?n.hasOwnProperty(c)?(m+=n[c],l=parseInt(m,16)*u,u=1,m=""):m+=c:n.hasOwnProperty(c)?(g+=n[c],p[l]=parseInt(g,16)*u,u=1,l=o,g=""):g+=c;return d},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},n={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},i={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e,a,o,r="Unicode";e=i[r][t.PostScriptName],e&&(a=t.metadata[r]?t.metadata[r]:t.metadata[r]={},a.widths=e.widths,a.kerning=e.kerning),o=n[r][t.PostScriptName],o&&(a=t.metadata[r]?t.metadata[r]:t.metadata[r]={},a.encoding=o,o.codePages&&o.codePages.length&&(t.encoding=o.codePages[0]))}])}(e.API),/** @preserve
jsPDF SVG plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
*/
function(t){t.addSVG=function(t,e,a,n,i){function o(t,e){var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(a)}function r(t){var e="childframe",a=t.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),a.name=e,a.setAttribute("width",0),a.setAttribute("height",0),a.setAttribute("frameborder","0"),a.setAttribute("scrolling","no"),a.setAttribute("seamless","seamless"),a.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(a),a}function s(t,e){var a=(e.contentWindow||e.contentDocument).document;return a.write(t),a.close(),a.getElementsByTagName("svg")[0]}function l(t){for(var e=parseFloat(t[1]),a=parseFloat(t[2]),n=[],i=3,o=t.length;o>i;)"c"===t[i]?(n.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(n.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,a,n]}var c;if(e===c||a===c)throw new Error("addSVG needs values for 'x' and 'y'");var d=r(document),u=s(t,d),p=[1,1],h=parseFloat(u.getAttribute("width")),m=parseFloat(u.getAttribute("height"));h&&m&&(n&&i?p=[n/h,i/m]:n?p=[n/h,n/h]:i&&(p=[i/m,i/m]));var g,f,v,b,y=u.childNodes;for(g=0,f=y.length;f>g;g++)v=y[g],v.tagName&&"PATH"===v.tagName.toUpperCase()&&(b=l(v.getAttribute("d").split(" ")),b[0]=b[0]*p[0]+e,b[1]=b[1]*p[1]+a,this.lines.call(this,b[2],b[0],b[1],p));return this}}(e.API),/** ==================================================================== 
 * jsPDF total_pages plugin
 * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 * 
 * 
 * ====================================================================
 */
function(t){t.putTotalPages=function(t){for(var e=new RegExp(t,"g"),a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(e,this.internal.getNumberOfPages());return this}}(e.API),/** ==================================================================== 
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 * 
 * 
 * ====================================================================
 */
function(t){var e="",a="",n="";t.addMetadata=function(t,i){return a=i||"http://jspdf.default.namespaceuri/",e=t,this.internal.events.subscribe("postPutResources",function(){if(e){var t='<x:xmpmeta xmlns:x="adobe:ns:meta/">',i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+a+'"><jspdf:metadata>',o="</jspdf:metadata></rdf:Description></rdf:RDF>",r="</x:xmpmeta>",s=unescape(encodeURIComponent(t)),l=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(e)),d=unescape(encodeURIComponent(o)),u=unescape(encodeURIComponent(r)),p=l.length+c.length+d.length+s.length+u.length;n=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+l+c+d+u),this.internal.write("endstream"),this.internal.write("endobj")}else n=""}),this.internal.events.subscribe("putCatalog",function(){n&&this.internal.write("/Metadata "+n+" 0 R")}),this}}(e.API),/* Blob.js
 * A Blob implementation.
 * 2014-07-24
 *
 * By Eli Grey, http://eligrey.com
 * By Devin Samarin, https://github.com/dsamarin
 * License: X11/MIT
 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},n=function(t,e,a){this.data=t,this.size=t.length,this.type=e,this.encoding=a},i=a.prototype,o=n.prototype,r=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,d=t.URL||t.webkitURL||t,u=d.createObjectURL,p=d.revokeObjectURL,h=d,m=t.btoa,g=t.atob,f=t.ArrayBuffer,v=t.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=o.fake=!0;c--;)s.prototype[l[c]]=c+1;return d.createObjectURL||(h=t.URL=function(t){var e,a=document.createElementNS("http://www.w3.org/1999/xhtml","a");return a.href=t,"origin"in a||("data:"===a.protocol.toLowerCase()?a.origin=null:(e=t.match(b),a.origin=e&&e[1])),a}),h.createObjectURL=function(t){var e,a=t.type;return null===a&&(a="application/octet-stream"),t instanceof n?(e="data:"+a,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):m?e+";base64,"+m(t.data):e+","+encodeURIComponent(t.data)):u?u.call(d,t):void 0},h.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&p&&p.call(d,t)},i.append=function(t){var a=this.data;if(v&&(t instanceof f||t instanceof v)){for(var i="",o=new v(t),l=0,c=o.length;c>l;l++)i+=String.fromCharCode(o[l]);a.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!r)throw new s("NOT_READABLE_ERR");var d=new r;a.push(d.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&g?a.push(g(t.data)):"URI"===t.encoding?a.push(decodeURIComponent(t.data)):"raw"===t.encoding&&a.push(t.data):("string"!=typeof t&&(t+=""),a.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,a){var i=arguments.length;return 3>i&&(a=null),new n(this.data.slice(t,i>1?e:this.data.length),a,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},a}(t);t.Blob=function(t,e){var n=e?e.type||"":"",i=new a;if(t)for(var o=0,r=t.length;r>o;o++)Uint8Array&&t[o]instanceof Uint8Array?i.append(t[o].buffer):i.append(t[o]);var s=i.getBlob(n);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content||void 0);/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.1.20151003
 *
 * By Eli Grey, http://eligrey.com
 * License: MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var n=n||function(t){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,a=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},r=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),s=t.webkitRequestFileSystem,l=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",u=0,p=500,h=function(e){var n=function(){"string"==typeof e?a().revokeObjectURL(e):e.remove()};t.chrome?n():setTimeout(n,p)},m=function(t,e,a){e=[].concat(e);for(var n=e.length;n--;){var i=t["on"+e[n]];if("function"==typeof i)try{i.call(t,a||t)}catch(o){c(o)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},f=function(e,c,p){p||(e=g(e));var f,v,b,y=this,x=e.type,w=!1,k=function(){m(y,"writestart progress write writeend".split(" "))},D=function(){if(v&&r&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var t=n.result;v.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),y.readyState=y.DONE,k()},n.readAsDataURL(e),void(y.readyState=y.INIT)}if((w||!f)&&(f=a().createObjectURL(e)),v)v.location.href=f;else{var i=t.open(f,"_blank");void 0==i&&r&&(t.location.href=f)}y.readyState=y.DONE,k(),h(f)},T=function(t){return function(){return y.readyState!==y.DONE?t.apply(this,arguments):void 0}},S={create:!0,exclusive:!1};return y.readyState=y.INIT,c||(c="download"),i?(f=a().createObjectURL(e),void setTimeout(function(){n.href=f,n.download=c,o(n),k(),h(f),y.readyState=y.DONE})):(t.chrome&&x&&x!==d&&(b=e.slice||e.webkitSlice,e=b.call(e,0,e.size,d),w=!0),s&&"download"!==c&&(c+=".download"),(x===d||s)&&(v=t),l?(u+=e.size,void l(t.TEMPORARY,u,T(function(t){t.root.getDirectory("saved",S,T(function(t){var a=function(){t.getFile(c,S,T(function(t){t.createWriter(T(function(a){a.onwriteend=function(e){v.location.href=t.toURL(),y.readyState=y.DONE,m(y,"writeend",e),h(t)},a.onerror=function(){var t=a.error;t.code!==t.ABORT_ERR&&D()},"writestart progress write abort".split(" ").forEach(function(t){a["on"+t]=y["on"+t]}),a.write(e),y.abort=function(){a.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),D)}),D)};t.getFile(c,{create:!1},T(function(t){t.remove(),a()}),T(function(t){t.code===t.NOT_FOUND_ERR?a():D()}))}),D)}),D)):void D())},v=f.prototype,b=function(t,e,a){return new f(t,e,a)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,a){return a||(t=g(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(v.abort=function(){var t=this;t.readyState=t.DONE,m(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,b)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return n}),/*
 * Copyright (c) 2012 chick307 <chick307@gmail.com>
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
void function(t,e){"object"==typeof module?module.exports=e():"function"==typeof define?define(e):t.adler32cs=e()}(e,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,a=function(){if(!t)return function(){return!1};try{var a={};"function"==typeof a.Buffer&&(e=a.Buffer)}catch(n){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),n=function(){return null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))}}(),i=65521,o=function(t,e){for(var a=65535&t,n=t>>>16,o=0,r=e.length;r>o;o++)a=(a+(255&e.charCodeAt(o)))%i,n=(n+a)%i;return(n<<16|a)>>>0},r=function(t,e){for(var a=65535&t,n=t>>>16,o=0,r=e.length;r>o;o++)a=(a+e[o])%i,n=(n+a)%i;return(n<<16|a)>>>0},s={},l=s.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},i=e.prototype={};return i.constructor=e,e.from=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var a=n(t.toString());this.checksum=o(1,a)}),t&&(e.fromBuffer=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!a(t))throw new Error("First argument needs to be ArrayBuffer.");var n=new Uint8Array(t);return this.checksum=r(1,n)})),i.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=o(this.checksum,t)},i.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=n(t.toString());return this.checksum=o(this.checksum,e)},t&&(i.updateBuffer=function(t){if(!a(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=r(this.checksum,e)}),i.clone=function(){return new l(this.checksum)},e}();return s.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return o(1,t.toString())},s.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=n(t.toString());return o(1,e)},t&&(s.fromBuffer=function(t){if(!a(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return r(1,e)}),s});/**
 * CssColors
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
var i={};i._colorsTable={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i.colorNameToHex=function(t){return t=t.toLowerCase(),"undefined"!=typeof this._colorsTable[t]?this._colorsTable[t]:!1};/*
 Deflate.js - https://github.com/gildas-lormeau/zip.js
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright 
 notice, this list of conditions and the following disclaimer in 
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
var o=function(t){function e(){function t(t){var e,a,i,o,r,l,c=n.dyn_tree,d=n.stat_desc.static_tree,u=n.stat_desc.extra_bits,p=n.stat_desc.extra_base,m=n.stat_desc.max_length,g=0;for(o=0;s>=o;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;h>e;e++)a=t.heap[e],o=c[2*c[2*a+1]+1]+1,o>m&&(o=m,g++),c[2*a+1]=o,a>n.max_code||(t.bl_count[o]++,r=0,a>=p&&(r=u[a-p]),l=c[2*a],t.opt_len+=l*(o+r),d&&(t.static_len+=l*(d[2*a+1]+r)));if(0!==g){do{for(o=m-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[m]--,g-=2}while(g>0);for(o=m;0!==o;o--)for(a=t.bl_count[o];0!==a;)i=t.heap[--e],i>n.max_code||(c[2*i+1]!=o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),a--)}}function e(t,e){var a=0;do a|=1&t,t>>>=1,a<<=1;while(--e>0);return a>>>1}function a(t,a,n){var i,o,r,l=[],c=0;for(i=1;s>=i;i++)l[i]=c=c+n[i-1]<<1;for(o=0;a>=o;o++)r=t[2*o+1],0!==r&&(t[2*o]=e(l[r]++,r))}var n=this;n.build_tree=function(e){var i,o,r,s=n.dyn_tree,l=n.stat_desc.static_tree,c=n.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=h,i=0;c>i;i++)0!==s[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=2>d?++d:0,s[2*r]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=l[2*r+1]);for(n.max_code=d,i=Math.floor(e.heap_len/2);i>=1;i--)e.pqdownheap(s,i);r=c;do i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(s,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,s[2*r]=s[2*i]+s[2*o],e.depth[r]=Math.max(e.depth[i],e.depth[o])+1,s[2*i+1]=s[2*o+1]=r,e.heap[1]=r++,e.pqdownheap(s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),a(s,n.max_code,e.bl_count)}}function a(t,e,a,n,i){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=a,o.elems=n,o.max_length=i}function n(t,e,a,n,i){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=a,o.max_chain=n,o.func=i}function i(t,e,a,n){var i=t[2*e],o=t[2*a];return o>i||i==o&&n[e]<=n[a]}function o(){function t(){var t;for(Lt=2*It,Pt[Et-1]=0,t=0;Et-1>t;t++)Pt[t]=0;Qt=O[Vt].max_lazy,Xt=O[Vt].good_length,Zt=O[Vt].nice_length,Wt=O[Vt].max_chain,Ft=0,zt=0,Ut=0,Bt=Gt=tt-1,jt=0,Nt=0}function n(){var t;for(t=0;p>t;t++)Jt[2*t]=0;for(t=0;l>t;t++)Kt[2*t]=0;for(t=0;c>t;t++)te[2*t]=0;Jt[2*m]=1,ee.opt_len=ee.static_len=0,se=ce=0}function o(){ae.dyn_tree=Jt,ae.stat_desc=a.static_l_desc,ne.dyn_tree=Kt,ne.stat_desc=a.static_d_desc,ie.dyn_tree=te,ie.stat_desc=a.static_bl_desc,ue=0,pe=0,de=8,n()}function r(t,e){var a,n,i=-1,o=t[1],r=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,a=0;e>=a;a++)n=o,o=t[2*(a+1)+1],++r<s&&n==o||(l>r?te[2*n]+=r:0!==n?(n!=i&&te[2*n]++,te[2*f]++):10>=r?te[2*v]++:te[2*b]++,r=0,i=n,0===o?(s=138,l=3):n==o?(s=6,l=3):(s=7,l=4))}function s(){var t;for(r(Jt,ae.max_code),r(Kt,ne.max_code),ie.build_tree(ee),t=c-1;t>=3&&0===te[2*e.bl_order[t]+1];t--);return ee.opt_len+=3*(t+1)+5+5+4,t}function d(t){ee.pending_buf[ee.pending++]=t}function h(t){d(255&t),d(t>>>8&255)}function g(t){d(t>>8&255),d(255&t&255)}function E(t,e){var a,n=e;pe>y-n?(a=t,ue|=a<<pe&65535,h(ue),ue=a>>>y-pe,pe+=n-y):(ue|=t<<pe&65535,pe+=n)}function nt(t,e){var a=2*t;E(65535&e[a],65535&e[a+1])}function it(t,e){var a,n,i=-1,o=t[1],r=0,s=7,l=4;for(0===o&&(s=138,l=3),a=0;e>=a;a++)if(n=o,o=t[2*(a+1)+1],!(++r<s&&n==o)){if(l>r){do nt(n,te);while(0!==--r)}else 0!==n?(n!=i&&(nt(n,te),r--),nt(f,te),E(r-3,2)):10>=r?(nt(v,te),E(r-3,3)):(nt(b,te),E(r-11,7));r=0,i=n,0===o?(s=138,l=3):n==o?(s=6,l=3):(s=7,l=4)}}function ot(t,a,n){var i;for(E(t-257,5),E(a-1,5),E(n-4,4),i=0;n>i;i++)E(te[2*e.bl_order[i]+1],3);it(Jt,t-1),it(Kt,a-1)}function rt(){16==pe?(h(ue),ue=0,pe=0):pe>=8&&(d(255&ue),ue>>>=8,pe-=8)}function st(){E(J<<1,3),nt(m,a.static_ltree),rt(),9>1+de+10-pe&&(E(J<<1,3),nt(m,a.static_ltree),rt()),de=7}function lt(t,a){var n,i,o;if(ee.pending_buf[le+2*se]=t>>>8&255,ee.pending_buf[le+2*se+1]=255&t,ee.pending_buf[oe+se]=255&a,se++,0===t?Jt[2*a]++:(ce++,t--,Jt[2*(e._length_code[a]+u+1)]++,Kt[2*e.d_code(t)]++),0===(8191&se)&&Vt>2){for(n=8*se,i=Ft-zt,o=0;l>o;o++)n+=Kt[2*o]*(5+e.extra_dbits[o]);if(n>>>=3,ce<Math.floor(se/2)&&n<Math.floor(i/2))return!0}return se==re-1}function ct(t,a){var n,i,o,r,s=0;if(0!==se)do n=ee.pending_buf[le+2*s]<<8&65280|255&ee.pending_buf[le+2*s+1],i=255&ee.pending_buf[oe+s],s++,0===n?nt(i,t):(o=e._length_code[i],nt(o+u+1,t),r=e.extra_lbits[o],0!==r&&(i-=e.base_length[o],E(i,r)),n--,o=e.d_code(n),nt(o,a),r=e.extra_dbits[o],0!==r&&(n-=e.base_dist[o],E(n,r)));while(se>s);nt(m,t),de=t[2*m+1]}function dt(){pe>8?h(ue):pe>0&&d(255&ue),ue=0,pe=0}function ut(t,e,a){dt(),de=8,a&&(h(e),h(~e)),ee.pending_buf.set(Mt.subarray(t,t+e),ee.pending),ee.pending+=e}function pt(t,e,a){E((Z<<1)+(a?1:0),3),ut(t,e,!0)}function ht(t,e,i){var o,r,l=0;Vt>0?(ae.build_tree(ee),ne.build_tree(ee),l=s(),o=ee.opt_len+3+7>>>3,r=ee.static_len+3+7>>>3,o>=r&&(o=r)):o=r=e+5,o>=e+4&&-1!=t?pt(t,e,i):r==o?(E((J<<1)+(i?1:0),3),ct(a.static_ltree,a.static_dtree)):(E((K<<1)+(i?1:0),3),ot(ae.max_code+1,ne.max_code+1,l+1),ct(Jt,Kt)),n(),i&&dt()}function mt(t){ht(zt>=0?zt:-1,Ft-zt,t),zt=Ft,wt.flush_pending()}function gt(){var t,e,a,n;do{if(n=Lt-Ut-Ft,0===n&&0===Ft&&0===Ut)n=It;else if(-1==n)n--;else if(Ft>=It+It-at){Mt.set(Mt.subarray(It,It+It),0),Ht-=It,Ft-=It,zt-=It,t=Et,a=t;do e=65535&Pt[--a],Pt[a]=e>=It?e-It:0;while(0!==--t);t=It,a=t;do e=65535&At[--a],At[a]=e>=It?e-It:0;while(0!==--t);n+=It}if(0===wt.avail_in)return;t=wt.read_buf(Mt,Ft+Ut,n),Ut+=t,Ut>=tt&&(Nt=255&Mt[Ft],Nt=(Nt<<qt^255&Mt[Ft+1])&Rt)}while(at>Ut&&0!==wt.avail_in)}function ft(t){var e,a=65535;for(a>Dt-5&&(a=Dt-5);;){if(1>=Ut){if(gt(),0===Ut&&t==T)return F;if(0===Ut)break}if(Ft+=Ut,Ut=0,e=zt+a,(0===Ft||Ft>=e)&&(Ut=Ft-e,Ft=e,mt(!1),0===wt.avail_out))return F;if(Ft-zt>=It-at&&(mt(!1),0===wt.avail_out))return F}return mt(t==_),0===wt.avail_out?t==_?U:F:t==_?G:H}function vt(t){var e,a,n=Wt,i=Ft,o=Gt,r=Ft>It-at?Ft-(It-at):0,s=Zt,l=Ct,c=Ft+et,d=Mt[i+o-1],u=Mt[i+o];Gt>=Xt&&(n>>=2),s>Ut&&(s=Ut);do if(e=t,Mt[e+o]==u&&Mt[e+o-1]==d&&Mt[e]==Mt[i]&&Mt[++e]==Mt[i+1]){i+=2,e++;do;while(Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&c>i);if(a=et-(c-i),i=c-et,a>o){if(Ht=t,o=a,a>=s)break;d=Mt[i+o-1],u=Mt[i+o]}}while((t=65535&At[t&l])>r&&0!==--n);return Ut>=o?o:Ut}function bt(t){for(var e,a=0;;){if(at>Ut){if(gt(),at>Ut&&t==T)return F;if(0===Ut)break}if(Ut>=tt&&(Nt=(Nt<<qt^255&Mt[Ft+(tt-1)])&Rt,a=65535&Pt[Nt],At[Ft&Ct]=Pt[Nt],Pt[Nt]=Ft),0!==a&&It-at>=(Ft-a&65535)&&Yt!=k&&(Bt=vt(a)),Bt>=tt)if(e=lt(Ft-Ht,Bt-tt),Ut-=Bt,Qt>=Bt&&Ut>=tt){Bt--;do Ft++,Nt=(Nt<<qt^255&Mt[Ft+(tt-1)])&Rt,a=65535&Pt[Nt],At[Ft&Ct]=Pt[Nt],Pt[Nt]=Ft;while(0!==--Bt);Ft++}else Ft+=Bt,Bt=0,Nt=255&Mt[Ft],Nt=(Nt<<qt^255&Mt[Ft+1])&Rt;else e=lt(0,255&Mt[Ft]),Ut--,Ft++;if(e&&(mt(!1),0===wt.avail_out))return F}return mt(t==_),0===wt.avail_out?t==_?U:F:t==_?G:H}function yt(t){for(var e,a,n=0;;){if(at>Ut){if(gt(),at>Ut&&t==T)return F;if(0===Ut)break}if(Ut>=tt&&(Nt=(Nt<<qt^255&Mt[Ft+(tt-1)])&Rt,n=65535&Pt[Nt],At[Ft&Ct]=Pt[Nt],Pt[Nt]=Ft),Gt=Bt,Ot=Ht,Bt=tt-1,0!==n&&Qt>Gt&&It-at>=(Ft-n&65535)&&(Yt!=k&&(Bt=vt(n)),5>=Bt&&(Yt==w||Bt==tt&&Ft-Ht>4096)&&(Bt=tt-1)),Gt>=tt&&Gt>=Bt){a=Ft+Ut-tt,e=lt(Ft-1-Ot,Gt-tt),Ut-=Gt-1,Gt-=2;do++Ft<=a&&(Nt=(Nt<<qt^255&Mt[Ft+(tt-1)])&Rt,n=65535&Pt[Nt],At[Ft&Ct]=Pt[Nt],Pt[Nt]=Ft);while(0!==--Gt);if(jt=0,Bt=tt-1,Ft++,e&&(mt(!1),0===wt.avail_out))return F}else if(0!==jt){if(e=lt(0,255&Mt[Ft-1]),e&&mt(!1),Ft++,Ut--,0===wt.avail_out)return F}else jt=1,Ft++,Ut--}return 0!==jt&&(e=lt(0,255&Mt[Ft-1]),jt=0),mt(t==_),0===wt.avail_out?t==_?U:F:t==_?G:H}function xt(e){return e.total_in=e.total_out=0,e.msg=null,ee.pending=0,ee.pending_out=0,kt=V,St=T,o(),t(),C}var wt,kt,Dt,Tt,St,It,_t,Ct,Mt,Lt,At,Pt,Nt,Et,$t,Rt,qt,zt,Bt,Ot,jt,Ft,Ht,Ut,Gt,Wt,Qt,Vt,Yt,Xt,Zt,Jt,Kt,te,ee=this,ae=new e,ne=new e,ie=new e;ee.depth=[];var oe,re,se,le,ce,de,ue,pe;ee.bl_count=[],ee.heap=[],Jt=[],Kt=[],te=[],ee.pqdownheap=function(t,e){for(var a=ee.heap,n=a[e],o=e<<1;o<=ee.heap_len&&(o<ee.heap_len&&i(t,a[o+1],a[o],ee.depth)&&o++,!i(t,n,a[o],ee.depth));)a[e]=a[o],e=o,o<<=1;a[e]=n},ee.deflateInit=function(t,e,a,n,i,o){return n||(n=X),i||(i=R),o||(o=D),t.msg=null,e==x&&(e=6),1>i||i>$||n!=X||9>a||a>15||0>e||e>9||0>o||o>k?A:(t.dstate=ee,_t=a,It=1<<_t,Ct=It-1,$t=i+7,Et=1<<$t,Rt=Et-1,qt=Math.floor(($t+tt-1)/tt),Mt=new Uint8Array(2*It),At=[],Pt=[],re=1<<i+6,ee.pending_buf=new Uint8Array(4*re),Dt=4*re,le=Math.floor(re/2),oe=3*re,Vt=e,Yt=o,Tt=255&n,xt(t))},ee.deflateEnd=function(){return kt!=Q&&kt!=V&&kt!=Y?A:(ee.pending_buf=null,Pt=null,At=null,Mt=null,ee.dstate=null,kt==V?P:C)},ee.deflateParams=function(t,e,a){var n=C;return e==x&&(e=6),0>e||e>9||0>a||a>k?A:(O[Vt].func!=O[e].func&&0!==t.total_in&&(n=t.deflate(S)),Vt!=e&&(Vt=e,Qt=O[Vt].max_lazy,Xt=O[Vt].good_length,Zt=O[Vt].nice_length,Wt=O[Vt].max_chain),Yt=a,n)},ee.deflateSetDictionary=function(t,e,a){var n,i=a,o=0;if(!e||kt!=Q)return A;if(tt>i)return C;for(i>It-at&&(i=It-at,o=a-i),Mt.set(e.subarray(o,o+i),0),Ft=i,zt=i,Nt=255&Mt[0],Nt=(Nt<<qt^255&Mt[1])&Rt,n=0;i-tt>=n;n++)Nt=(Nt<<qt^255&Mt[n+(tt-1)])&Rt,At[n&Ct]=Pt[Nt],Pt[Nt]=n;return C},ee.deflate=function(t,e){var a,n,i,o,r;if(e>_||0>e)return A;if(!t.next_out||!t.next_in&&0!==t.avail_in||kt==Y&&e!=_)return t.msg=j[L-A],A;if(0===t.avail_out)return t.msg=j[L-N],N;if(wt=t,o=St,St=e,kt==Q&&(n=X+(_t-8<<4)<<8,i=(Vt-1&255)>>1,i>3&&(i=3),n|=i<<6,0!==Ft&&(n|=W),n+=31-n%31,kt=V,g(n)),0!==ee.pending){if(wt.flush_pending(),0===wt.avail_out)return St=-1,C}else if(0===wt.avail_in&&o>=e&&e!=_)return wt.msg=j[L-N],N;if(kt==Y&&0!==wt.avail_in)return t.msg=j[L-N],N;if(0!==wt.avail_in||0!==Ut||e!=T&&kt!=Y){switch(r=-1,O[Vt].func){case q:r=ft(e);break;case z:r=bt(e);break;case B:r=yt(e)}if((r==U||r==G)&&(kt=Y),r==F||r==U)return 0===wt.avail_out&&(St=-1),C;if(r==H){if(e==S)st();else if(pt(0,0,!1),e==I)for(a=0;Et>a;a++)Pt[a]=0;if(wt.flush_pending(),0===wt.avail_out)return St=-1,C}}return e!=_?C:M}}function r(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var s=15,l=30,c=19,d=29,u=256,p=u+1+d,h=2*p+1,m=256,g=7,f=16,v=17,b=18,y=16,x=-1,w=1,k=2,D=0,T=0,S=1,I=3,_=4,C=0,M=1,L=2,A=-2,P=-3,N=-5,E=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return 256>t?E[t]:E[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],a.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],a.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],a.static_l_desc=new a(a.static_ltree,e.extra_lbits,u+1,p,s),a.static_d_desc=new a(a.static_dtree,e.extra_dbits,0,l,s),a.static_bl_desc=new a(null,e.extra_blbits,0,c,g);var $=9,R=8,q=0,z=1,B=2,O=[new n(0,0,0,0,q),new n(4,4,8,4,z),new n(4,5,16,8,z),new n(4,6,32,32,z),new n(4,4,16,16,B),new n(8,16,32,32,B),new n(8,16,128,128,B),new n(8,32,128,256,B),new n(32,128,258,1024,B),new n(32,258,258,4096,B)],j=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],F=0,H=1,U=2,G=3,W=32,Q=42,V=113,Y=666,X=8,Z=0,J=1,K=2,tt=3,et=258,at=et+tt+1;return r.prototype={deflateInit:function(t,e){var a=this;return a.dstate=new o,e||(e=s),a.dstate.deflateInit(a,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):A},deflateEnd:function(){var t=this;if(!t.dstate)return A;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var a=this;return a.dstate?a.dstate.deflateParams(a,t,e):A},deflateSetDictionary:function(t,e){var a=this;return a.dstate?a.dstate.deflateSetDictionary(a,t,e):A},read_buf:function(t,e,a){var n=this,i=n.avail_in;return i>a&&(i=a),0===i?0:(n.avail_in-=i,t.set(n.next_in.subarray(n.next_in_index,n.next_in_index+i),e),n.next_in_index+=i,n.total_in+=i,i)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,a=new r,n=512,i=T,o=new Uint8Array(n);"undefined"==typeof t&&(t=x),a.deflateInit(t),a.next_out=o,e.append=function(t,e){var r,s,l=[],c=0,d=0,u=0;if(t.length){a.next_in_index=0,a.next_in=t,a.avail_in=t.length;do{if(a.next_out_index=0,a.avail_out=n,r=a.deflate(i),r!=C)throw"deflating: "+a.msg;a.next_out_index&&(a.next_out_index==n?l.push(new Uint8Array(o)):l.push(new Uint8Array(o.subarray(0,a.next_out_index)))),u+=a.next_out_index,e&&a.next_in_index>0&&a.next_in_index!=c&&(e(a.next_in_index),c=a.next_in_index)}while(a.avail_in>0||0===a.avail_out);return s=new Uint8Array(u),l.forEach(function(t){s.set(t,d),d+=t.length}),s}},e.flush=function(){var t,e,i=[],r=0,s=0;do{if(a.next_out_index=0,a.avail_out=n,t=a.deflate(_),t!=M&&t!=C)throw"deflating: "+a.msg;n-a.avail_out>0&&i.push(new Uint8Array(o.subarray(0,a.next_out_index))),s+=a.next_out_index}while(a.avail_in>0||0===a.avail_out);return a.deflateEnd(),e=new Uint8Array(s),i.forEach(function(t){e.set(t,r),r+=t.length}),e}}}(void 0);/*
  html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
  Copyright (c) 2016 Niklas von Hertzen

  Released under  License
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=t()}}(function(){var t;return function e(t,a,n){function i(r,s){if(!a[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[r]={exports:{}};t[r][0].call(d.exports,function(e){var a=t[r][1][e];return i(a?a:e)},d,d.exports,e,t,a,n)}return a[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,a,n){(function(e){/*! http://mths.be/punycode v1.2.4 by @mathias */
!function(i){function o(t){throw RangeError(E[t])}function r(t,e){for(var a=t.length;a--;)t[a]=e(t[a]);return t}function s(t,e){return r(t.split(N),e).join(".")}function l(t){for(var e,a,n=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(a=t.charCodeAt(i++),56320==(64512&a)?n.push(((1023&e)<<10)+(1023&a)+65536):(n.push(e),i--)):n.push(e);return n}function c(t){return r(t,function(t){var e="";return t>65535&&(t-=65536,e+=q(t>>>10&1023|55296),t=56320|1023&t),e+=q(t)}).join("")}function d(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:D}function u(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,a){var n=0;for(t=a?R(t/_):t>>1,t+=R(t/e);t>$*S>>1;n+=D)t=R(t/$);return R(n+($+1)*t/(t+I))}function h(t){var e,a,n,i,r,s,l,u,h,m,g=[],f=t.length,v=0,b=M,y=C;for(a=t.lastIndexOf(L),0>a&&(a=0),n=0;a>n;++n)t.charCodeAt(n)>=128&&o("not-basic"),g.push(t.charCodeAt(n));for(i=a>0?a+1:0;f>i;){for(r=v,s=1,l=D;i>=f&&o("invalid-input"),u=d(t.charCodeAt(i++)),(u>=D||u>R((k-v)/s))&&o("overflow"),v+=u*s,h=y>=l?T:l>=y+S?S:l-y,!(h>u);l+=D)m=D-h,s>R(k/m)&&o("overflow"),s*=m;e=g.length+1,y=p(v-r,e,0==r),R(v/e)>k-b&&o("overflow"),b+=R(v/e),v%=e,g.splice(v++,0,b)}return c(g)}function m(t){var e,a,n,i,r,s,c,d,h,m,g,f,v,b,y,x=[];for(t=l(t),f=t.length,e=M,a=0,r=C,s=0;f>s;++s)g=t[s],128>g&&x.push(q(g));for(n=i=x.length,i&&x.push(L);f>n;){for(c=k,s=0;f>s;++s)g=t[s],g>=e&&c>g&&(c=g);for(v=n+1,c-e>R((k-a)/v)&&o("overflow"),a+=(c-e)*v,e=c,s=0;f>s;++s)if(g=t[s],e>g&&++a>k&&o("overflow"),g==e){for(d=a,h=D;m=r>=h?T:h>=r+S?S:h-r,!(m>d);h+=D)y=d-m,b=D-m,x.push(q(u(m+y%b,0))),d=R(y/b);x.push(q(u(d,0))),r=p(a,v,n==i),a=0,++n}++a,++e}return x.join("")}function g(t){return s(t,function(t){return A.test(t)?h(t.slice(4).toLowerCase()):t})}function f(t){return s(t,function(t){return P.test(t)?"xn--"+m(t):t})}var v="object"==typeof n&&n,b="object"==typeof a&&a&&a.exports==v&&a,y="object"==typeof e&&e;(y.global===y||y.window===y)&&(i=y);var x,w,k=2147483647,D=36,T=1,S=26,I=38,_=700,C=72,M=128,L="-",A=/^xn--/,P=/[^ -~]/,N=/\x2E|\u3002|\uFF0E|\uFF61/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=D-T,R=Math.floor,q=String.fromCharCode;if(x={version:"1.2.4",ucs2:{decode:l,encode:c},decode:h,encode:m,toASCII:f,toUnicode:g},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return x});else if(v&&!v.nodeType)if(b)b.exports=x;else for(w in x)x.hasOwnProperty(w)&&(v[w]=x[w]);else i.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,a){function n(t,e,a){!t.defaultView||e===t.defaultView.pageXOffset&&a===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,a)}function i(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(a){s("Unable to copy canvas content from",t,a)}}function o(t,e){for(var a=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),n=t.firstChild;n;)(e===!0||1!==n.nodeType||"SCRIPT"!==n.nodeName)&&a.appendChild(o(n,e)),n=n.nextSibling;return 1===t.nodeType&&(a._scrollTop=t.scrollTop,a._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?i(t,a):("TEXTAREA"===t.nodeName||"SELECT"===t.nodeName)&&(a.value=t.value)),a}function r(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var e=t.firstChild;e;)r(e),e=e.nextSibling}}var s=t("./log");e.exports=function(t,e,a,i,s,l,c){var d=o(t.documentElement,s.javascriptEnabled),u=e.createElement("iframe");return u.className="html2canvas-container",u.style.visibility="hidden",u.style.position="fixed",u.style.left="-10000px",u.style.top="0px",u.style.border="0",u.width=a,u.height=i,u.scrolling="no",e.body.appendChild(u),new Promise(function(e){var a=u.contentWindow.document;u.contentWindow.onload=u.onload=function(){var t=setInterval(function(){a.body.childNodes.length>0&&(r(a.documentElement),clearInterval(t),"view"===s.type&&(u.contentWindow.scrollTo(l,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.contentWindow.scrollY===c&&u.contentWindow.scrollX===l||(a.documentElement.style.top=-c+"px",a.documentElement.style.left=-l+"px",a.documentElement.style.position="absolute")),e(u))},50)},a.open(),a.write("<!DOCTYPE html><html></html>"),n(t,l,c),a.replaceChild(a.adoptNode(d),a.documentElement),a.close()})}},{"./log":13}],3:[function(t,e,a){function n(t){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}n.prototype.darken=function(t){var e=1-t;return new n([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var i=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(t){var e=null;return null!==(e=t.match(i))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var o=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(t){var e=null;return null!==(e=t.match(o))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var r=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(t){var e=null;return null!==(e=t.match(r))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(t){t=t.toLowerCase();var e=l[t];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0;return!!e},n.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=n},{}],4:[function(e,a,n){function i(t,e){var a=D++;if(e=e||{},e.logging&&(v.options.logging=!0,v.options.start=Date.now()),e.async="undefined"==typeof e.async?!0:e.async,e.allowTaint="undefined"==typeof e.allowTaint?!1:e.allowTaint,e.removeContainer="undefined"==typeof e.removeContainer?!0:e.removeContainer,e.javascriptEnabled="undefined"==typeof e.javascriptEnabled?!1:e.javascriptEnabled,e.imageTimeout="undefined"==typeof e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:h,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url");var n=null!=e.width?e.width:window.innerWidth,i=null!=e.height?e.height:window.innerHeight;return x(u(t),e.proxy,document,n,i,e).then(function(t){return r(t.contentWindow.document.documentElement,t,e,n,i)})}var s=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return s.setAttribute(k+a,a),o(s.ownerDocument,e,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,a).then(function(t){return"function"==typeof e.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function o(t,e,a,n,i){return y(t,t,a,n,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(o){v("Document cloned");var s=k+i,l="["+s+"='"+i+"']";t.querySelector(l).removeAttribute(s);var c=o.contentWindow,d=c.document.querySelector(l),u="function"==typeof e.onclone?Promise.resolve(e.onclone(c.document)):Promise.resolve(!0);return u.then(function(){return r(d,o,e,a,n)})})}function r(t,e,a,n,i){var o=e.contentWindow,r=new p(o.document),u=new m(a,r),h=w(t),f="view"===a.type?n:c(o.document),b="view"===a.type?i:d(o.document),y=new a.renderer(f,b,u,a,document),x=new g(t,y,r,u,a);return x.ready.then(function(){v("Finished rendering");var n;return n="view"===a.type?l(y.canvas,{width:y.canvas.width,height:y.canvas.height,top:0,left:0,x:0,y:0}):t===o.document.body||t===o.document.documentElement||null!=a.canvas?y.canvas:l(y.canvas,{width:null!=a.width?a.width:h.width,height:null!=a.height?a.height:h.height,top:h.top,left:h.left,x:0,y:0}),s(e,a),n})}function s(t,e){e.removeContainer&&(t.parentNode.removeChild(t),v("Cleaned up container"))}function l(t,e){var a=document.createElement("canvas"),n=Math.min(t.width-1,Math.max(0,e.left)),i=Math.min(t.width,Math.max(1,e.left+e.width)),o=Math.min(t.height-1,Math.max(0,e.top)),r=Math.min(t.height,Math.max(1,e.top+e.height));a.width=e.width,a.height=e.height;var s=i-n,l=r-o;return v("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",s,"height:",l),v("Resulting crop with width",e.width,"and height",e.height,"with x",n,"and y",o),a.getContext("2d").drawImage(t,n,o,s,l,e.x,e.y,s,l),a}function c(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function d(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function u(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}var p=e("./support"),h=e("./renderers/canvas"),m=e("./imageloader"),g=e("./nodeparser"),f=e("./nodecontainer"),v=e("./log"),b=e("./utils"),y=e("./clone"),x=e("./proxy").loadUrlDocument,w=b.getBounds,k="data-html2canvas-node",D=0;i.CanvasRenderer=h,i.NodeContainer=f,i.log=v,i.utils=b;var T="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:i;a.exports=T,"function"==typeof t&&t.amd&&t("html2canvas",[],function(){return T})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e,a){function n(t){if(this.src=t,i("DummyImageContainer for",t),!this.promise||!this.image){i("Initiating DummyImageContainer"),n.prototype.image=new Image;var e=this.image;n.prototype.promise=new Promise(function(t,a){e.onload=t,e.onerror=a,e.src=o(),e.complete===!0&&t(e)})}}var i=t("./log"),o=t("./utils").smallImage;e.exports=n},{"./log":13,"./utils":26}],6:[function(t,e,a){function n(t,e){var a,n,o=document.createElement("div"),r=document.createElement("img"),s=document.createElement("span"),l="Hidden Text";o.style.visibility="hidden",o.style.fontFamily=t,o.style.fontSize=e,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),r.src=i(),r.width=1,r.height=1,r.style.margin=0,r.style.padding=0,r.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode(l)),o.appendChild(s),o.appendChild(r),a=r.offsetTop-s.offsetTop+1,o.removeChild(s),o.appendChild(document.createTextNode(l)),o.style.lineHeight="normal",r.style.verticalAlign="super",n=r.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=a,this.lineWidth=1,this.middle=n}var i=t("./utils").smallImage;e.exports=n},{"./utils":26}],7:[function(t,e,a){function n(){this.data={}}var i=t("./font");n.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new i(t,e)),this.data[t+"-"+e]},e.exports=n},{"./font":6}],8:[function(t,e,a){function n(e,a,n){this.image=null,this.src=e;var i=this,r=o(e);this.promise=(a?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(n.proxy,r,n)).then(function(e){var a=t("./core");return a(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(t){return i.image=t})}var i=t("./utils"),o=i.getBounds,r=t("./proxy").loadUrlDocument;n.prototype.proxyLoad=function(t,e,a){var n=this.src;return r(n.src,t,n.ownerDocument,e.width,e.height,a)},e.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e,a){function n(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=n},{}],10:[function(t,e,a){function n(t,e){this.src=t,this.image=new Image;var a=this;this.tainted=null,this.promise=new Promise(function(n,i){a.image.onload=n,a.image.onerror=i,e&&(a.image.crossOrigin="anonymous"),a.image.src=t,a.image.complete===!0&&n(a.image)})}e.exports=n},{}],11:[function(t,e,a){function n(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var i=t("./log"),o=t("./imagecontainer"),r=t("./dummyimagecontainer"),s=t("./proxyimagecontainer"),l=t("./framecontainer"),c=t("./svgcontainer"),d=t("./svgnodecontainer"),u=t("./lineargradientcontainer"),p=t("./webkitgradientcontainer"),h=t("./utils").bind;n.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.addImage=function(t,e){return function(a){a.args.forEach(function(n){this.imageExists(t,n)||(t.splice(0,0,e.call(this,a)),i("Added image #"+t.length,"string"==typeof n?n.substring(0,100):n))},this)}},n.prototype.hasImageBackground=function(t){return"none"!==t.method},n.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new o(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||this.options.allowTaint===!0||this.isSVG(e)?new o(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(e,!0):this.options.proxy?new s(e,this.options.proxy):new r(e):new c(e)}return"linear-gradient"===t.method?new u(t):"gradient"===t.method?new p(t):"svg"===t.method?new d(t.args[0],this.support.svg):"IFRAME"===t.method?new l(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new r(t)},n.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||c.prototype.isInline(t)},n.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},n.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},n.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},n.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout)["catch"](function(){var e=new r(t.src);return e.promise.then(function(e){t.image=e})})},n.prototype.get=function(t){var e=null;return this.images.some(function(a){return(e=a).src===t})?e:null},n.prototype.fetch=function(t){return this.images=t.reduce(h(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){i("Succesfully loaded image #"+(e+1),t)},function(a){i("Failed loading image #"+(e+1),t,a)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),i("Finished searching images"),this},n.prototype.timeout=function(t,e){var a,n=Promise.race([t.promise,new Promise(function(n,o){a=setTimeout(function(){i("Timed out loading image",t),o(t)},e)})]).then(function(t){return clearTimeout(a),t});return n["catch"](function(){clearTimeout(a)}),n},e.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e,a){function n(t){i.apply(this,arguments),this.type=i.TYPES.LINEAR;var e=n.REGEXP_DIRECTION.test(t.args[0])||!i.REGEXP_COLORSTOP.test(t.args[0]);e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var a=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=a;break;case"center":break;default:var i=.01*parseFloat(t,10);if(isNaN(i))break;0===e?(this.y0=i,this.y1=1-this.y0):(this.x0=i,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(i.REGEXP_COLORSTOP),a=+e[2],n=0===a?"%":e[3];return{color:new o(e[1]),stop:"%"===n?a/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(a,n){return null!==a.stop?(t.stop=(a.stop-this.colorStops[e-1].stop)/(n+1)+this.colorStops[e-1].stop,!0):!1},this)},this)}var i=t("./gradientcontainer"),o=t("./color");n.prototype=Object.create(i.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(t,e,a){var n=function(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},e.exports=n},{}],14:[function(t,e,a){function n(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function i(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}function o(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())});if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}function r(t){return-1!==t.toString().indexOf("%")}function s(t){return t.replace("px","")}function l(t){return parseFloat(t)}var c=t("./color"),d=t("./utils"),u=d.getBounds,p=d.parseBackgrounds,h=d.offsetBounds;n.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},n.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],a=this.css(t);return void 0===a&&e.some(function(e){return a=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)),void 0!==a},this),void 0===a?null:a},n.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},n.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},n.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new c(this.css(t)))},n.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},n.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},n.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},n.prototype.cssList=function(t,e){var a=(this.css(t)||"").split(",");return a=a[e||0]||a[0]||"auto",a=a.trim().split(" "),1===a.length&&(a=[a[0],r(a[0])?"auto":a[0]]),a},n.prototype.parseBackgroundSize=function(t,e,a){var n,i,o=this.cssList("backgroundSize",a);if(r(o[0]))n=t.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var s=t.width/t.height,l=e.width/e.height;return l>s^"contain"===o[0]?{width:t.height*l,height:t.height}:{width:t.width,height:t.width/l}}n=parseInt(o[0],10)}return i="auto"===o[0]&&"auto"===o[1]?e.height:"auto"===o[1]?n/e.width*e.height:r(o[1])?t.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(n=i/e.height*e.width),{width:n,height:i}},n.prototype.parseBackgroundPosition=function(t,e,a,n){var i,o,s=this.cssList("backgroundPosition",a);return i=r(s[0])?(t.width-(n||e).width)*(parseFloat(s[0])/100):parseInt(s[0],10),o="auto"===s[1]?i/e.width*e.height:r(s[1])?(t.height-(n||e).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(i=o/e.height*e.width),{left:i,top:o}},n.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},n.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var a=t.match(this.TEXT_SHADOW_PROPERTY),n=0;a&&n<a.length;n++){var i=a[n].match(this.TEXT_SHADOW_VALUES);e.push({color:new c(i[0]),offsetX:i[1]?parseFloat(i[1].replace("px","")):0,offsetY:i[2]?parseFloat(i[2].replace("px","")):0,blur:i[3]?i[3].replace("px",""):0})}return e},n.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},n.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?o(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e?e:[1,0,0,1,0,0]}return this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?h(this.node):u(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=i(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=n},{"./color":3,"./utils":26}],15:[function(t,e,a){function n(t,e,a,n,i){O("Starting NodeParser"),this.renderer=e,this.options=i,this.range=null,this.support=a,this.renderQueue=[],this.stack=new Q(!0,1,t.ownerDocument,null);var o=new F(t,null);if(i.background&&e.rectangle(0,0,e.width,e.height,new W(i.background)),t===t.ownerDocument.documentElement){var r=new F(o.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,r.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=$([o].concat(this.getChildren(o)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new G,O("Fetched nodes, total:",this.nodes.length),O("Calculate overflow clips"),this.calculateOverflowClips(),O("Start fetching images"),this.images=n.fetch(this.nodes.filter(_)),this.ready=this.images.ready.then(Y(function(){return O("Images loaded, starting parsing"),O("Creating stacking contexts"),this.createStackingContexts(),O("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),O("Render queue created with "+this.renderQueue.length+" items"),new Promise(Y(function(t){i.async?"function"==typeof i.async?i.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function i(t){return t.parent&&t.parent.clip.length}function o(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function r(){}function s(t,e,a,n){return t.map(function(i,o){if(i.width>0){var r=e.left,s=e.top,l=e.width,c=e.height-t[2].width;switch(o){case 0:c=t[0].width,i.args=u({c1:[r,s],c2:[r+l,s],c3:[r+l-t[1].width,s+c],c4:[r+t[3].width,s+c]},n[0],n[1],a.topLeftOuter,a.topLeftInner,a.topRightOuter,a.topRightInner);break;case 1:r=e.left+e.width-t[1].width,l=t[1].width,i.args=u({c1:[r+l,s],c2:[r+l,s+c+t[2].width],c3:[r,s+c],c4:[r,s+t[0].width]},n[1],n[2],a.topRightOuter,a.topRightInner,a.bottomRightOuter,a.bottomRightInner);break;case 2:s=s+e.height-t[2].width,c=t[2].width,i.args=u({c1:[r+l,s+c],c2:[r,s+c],c3:[r+t[3].width,s],c4:[r+l-t[3].width,s]},n[2],n[3],a.bottomRightOuter,a.bottomRightInner,a.bottomLeftOuter,a.bottomLeftInner);break;case 3:l=t[3].width,i.args=u({c1:[r,s+c+t[2].width],c2:[r,s],c3:[r+l,s+t[0].width],c4:[r+l,s+c]},n[3],n[0],a.bottomLeftOuter,a.bottomLeftInner,a.topLeftOuter,a.topLeftInner)}}return i})}function l(t,e,a,n){var i=4*((Math.sqrt(2)-1)/3),o=a*i,r=n*i,s=t+a,l=e+n;return{topLeft:d({x:t,y:l},{x:t,y:l-r},{x:s-o,y:e},{x:s,y:e}),topRight:d({x:t,y:e},{x:t+o,y:e},{x:s,y:l-r},{x:s,y:l}),bottomRight:d({x:s,y:e},{x:s,y:e+r},{x:t+o,y:l},{x:t,y:l}),bottomLeft:d({x:s,y:l},{x:s-o,y:l},{x:t,y:e+r},{x:t,y:e})}}function c(t,e,a){var n=t.left,i=t.top,o=t.width,r=t.height,s=e[0][0]<o/2?e[0][0]:o/2,c=e[0][1]<r/2?e[0][1]:r/2,d=e[1][0]<o/2?e[1][0]:o/2,u=e[1][1]<r/2?e[1][1]:r/2,p=e[2][0]<o/2?e[2][0]:o/2,h=e[2][1]<r/2?e[2][1]:r/2,m=e[3][0]<o/2?e[3][0]:o/2,g=e[3][1]<r/2?e[3][1]:r/2,f=o-d,v=r-h,b=o-p,y=r-g;return{topLeftOuter:l(n,i,s,c).topLeft.subdivide(.5),topLeftInner:l(n+a[3].width,i+a[0].width,Math.max(0,s-a[3].width),Math.max(0,c-a[0].width)).topLeft.subdivide(.5),topRightOuter:l(n+f,i,d,u).topRight.subdivide(.5),topRightInner:l(n+Math.min(f,o+a[3].width),i+a[0].width,f>o+a[3].width?0:d-a[3].width,u-a[0].width).topRight.subdivide(.5),bottomRightOuter:l(n+b,i+v,p,h).bottomRight.subdivide(.5),bottomRightInner:l(n+Math.min(b,o-a[3].width),i+Math.min(v,r+a[0].width),Math.max(0,p-a[1].width),h-a[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(n,i+y,m,g).bottomLeft.subdivide(.5),bottomLeftInner:l(n+a[3].width,i+y,Math.max(0,m-a[3].width),g-a[2].width).bottomLeft.subdivide(.5)}}function d(t,e,a,n){var i=function(t,e,a){return{x:t.x+(e.x-t.x)*a,y:t.y+(e.y-t.y)*a}};return{start:t,startControl:e,endControl:a,end:n,subdivide:function(o){var r=i(t,e,o),s=i(e,a,o),l=i(a,n,o),c=i(r,s,o),u=i(s,l,o),p=i(c,u,o);return[d(t,r,c,p),d(p,u,l,n)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,a.x,a.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",a.x,a.y,e.x,e.y,t.x,t.y])}}}function u(t,e,a,n,i,o,r){var s=[];return e[0]>0||e[1]>0?(s.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(s)):s.push(["line",t.c1[0],t.c1[1]]),a[0]>0||a[1]>0?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",r[0].end.x,r[0].end.y]),
r[0].curveToReversed(s)):(s.push(["line",t.c2[0],t.c2[1]]),s.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",t.c4[0],t.c4[1]]),s}function p(t,e,a,n,i,o,r){e[0]>0||e[1]>0?(t.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(t),n[1].curveTo(t)):t.push(["line",o,r]),(a[0]>0||a[1]>0)&&t.push(["line",i[0].start.x,i[0].start.y])}function h(t){return t.cssInt("zIndex")<0}function m(t){return t.cssInt("zIndex")>0}function g(t){return 0===t.cssInt("zIndex")}function f(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function v(t){return t instanceof Q}function b(t){return t.node.data.trim().length>0}function y(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function x(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var a=t.css("border"+e+"Radius"),n=a.split(" ");return n.length<=1&&(n[1]=n[0]),n.map(P)})}function w(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function k(t){var e=t.css("position"),a=-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto";return"auto"!==a}function D(t){return"static"!==t.css("position")}function T(t){return"none"!==t.css("float")}function S(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}function I(t){var e=this;return function(){return!t.apply(e,arguments)}}function _(t){return t.node.nodeType===Node.ELEMENT_NODE}function C(t){return t.isPseudoElement===!0}function M(t){return t.node.nodeType===Node.TEXT_NODE}function L(t){return function(e,a){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(a.cssInt("zIndex")+t.indexOf(a)/t.length)}}function A(t){return t.getOpacity()<1}function P(t){return parseInt(t,10)}function N(t){return t.width}function E(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function $(t){return[].concat.apply([],t)}function R(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function q(t){for(var e,a=[],n=0,i=!1;t.length;)z(t[n])===i?(e=t.splice(0,n),e.length&&a.push(j.ucs2.encode(e)),i=!i,n=0):n++,n>=t.length&&(e=t.splice(0,n),e.length&&a.push(j.ucs2.encode(e)));return a}function z(t){return-1!==[32,13,10,9,45].indexOf(t)}function B(t){return/[^\u0000-\u00ff]/.test(t)}var O=t("./log"),j=t("punycode"),F=t("./nodecontainer"),H=t("./textcontainer"),U=t("./pseudoelementcontainer"),G=t("./fontmetrics"),W=t("./color"),Q=t("./stackingcontext"),V=t("./utils"),Y=V.bind,X=V.getBounds,Z=V.parseBackgrounds,J=V.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(_(t)){C(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],a=t.parseClip();a&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+a.left,t.bounds.top+a.top,a.right-a.left,a.bottom-a.top]]),t.clip=i(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,C(t)&&t.cleanDOM()}else M(t)&&(t.clip=i(t)?t.parent.clip:[]);C(t)||(t.bounds=null)},this)},n.prototype.asyncRenderer=function(t,e,a){a=a||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():a+20>Date.now()?this.asyncRenderer(t,e,a):setTimeout(Y(function(){this.asyncRenderer(t,e)},this),0)},n.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(t,e){var a=t.createElement("style");a.innerHTML=e,t.body.appendChild(a)},n.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var a=this.getPseudoElement(t,":before"),n=this.getPseudoElement(t,":after");a&&e.push(a),n&&e.push(n)}return $(e)},n.prototype.getPseudoElement=function(t,e){var a=t.computedStyle(e);if(!a||!a.content||"none"===a.content||"-moz-alt-content"===a.content||"none"===a.display)return null;for(var n=R(a.content),i="url"===n.substr(0,3),r=document.createElement(i?"img":"html2canvaspseudoelement"),s=new U(r,t,e),l=a.length-1;l>=0;l--){var c=o(a.item(l));r.style[c]=a[c]}if(r.className=U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return r.src=Z(n)[0].args[0],[s];var d=document.createTextNode(n);return r.appendChild(d),[s,new H(d,s)]},n.prototype.getChildren=function(t){return $([].filter.call(t.node.childNodes,w).map(function(e){var a=[e.nodeType===Node.TEXT_NODE?new H(e,t):new F(e,t)].filter(E);return e.nodeType===Node.ELEMENT_NODE&&a.length&&"TEXTAREA"!==e.tagName?a[0].isElementVisible()?a.concat(this.getChildren(a[0])):[]:a},this))},n.prototype.newStackingContext=function(t,e){var a=new Q(e,t.getOpacity(),t.node,t.parent);t.cloneTo(a);var n=e?a.getParentStack(this):a.parent.stack;n.contexts.push(a),t.stack=a},n.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){_(t)&&(this.isRootElement(t)||A(t)||k(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):_(t)&&(D(t)&&g(t)||S(t)||T(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},n.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(t){return null===t.parent},n.prototype.sortStackingContexts=function(t){t.contexts.sort(L(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(t){return function(e,a,n){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var i=n.slice(0,a).join("").length;return this.getRangeBounds(t.node,i,e.length)}if(t.node&&"string"==typeof t.node.data){var o=t.node.splitText(e.length),r=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=o,r}}else(!this.support.rangeBounds||t.parent.hasTransform())&&(t.node=t.node.splitText(e.length));return{}}},n.prototype.getWrapperBounds=function(t,e){var a=t.ownerDocument.createElement("html2canvaswrapper"),n=t.parentNode,i=t.cloneNode(!0);a.appendChild(t.cloneNode(!0)),n.replaceChild(a,t);var o=e?J(a):X(a);return n.replaceChild(i,a),o},n.prototype.getRangeBounds=function(t,e,a){var n=this.range||(this.range=t.ownerDocument.createRange());return n.setStart(t,e),n.setEnd(t,e+a),n.getBoundingClientRect()},n.prototype.parse=function(t){var e=t.contexts.filter(h),a=t.children.filter(_),n=a.filter(I(T)),i=n.filter(I(D)).filter(I(f)),o=a.filter(I(D)).filter(T),s=n.filter(I(D)).filter(f),l=t.contexts.concat(n.filter(D)).filter(g),c=t.children.filter(M).filter(b),d=t.contexts.filter(m);e.concat(i).concat(o).concat(s).concat(l).concat(c).concat(d).forEach(function(t){this.renderQueue.push(t),v(t)&&(this.parse(t),this.renderQueue.push(new r))},this)},n.prototype.paint=function(t){try{t instanceof r?this.renderer.ctx.restore():M(t)?(C(t.parent)&&t.parent.appendToDOM(),this.paintText(t),C(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(e){if(O(e),this.options.strict)throw e}},n.prototype.paintNode=function(t){v(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},n.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(N))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var a=this.images.get(t.node);a?this.renderer.renderImage(t,e,t.borders,a):O("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var n=this.images.get(t.node.src);n?this.renderer.renderImage(t,e,t.borders,n):O("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},n.prototype.paintCheckbox=function(t){var e=t.parseBounds(),a=Math.min(e.width,e.height),n={width:a-1,height:a-1,top:e.top,left:e.left},i=[3,3],o=[i,i,i,i],r=[1,1,1,1].map(function(t){return{color:new W("#A5A5A5"),width:t}}),l=c(n,o,r);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new W("#DEDEDE")),this.renderer.renderBorders(s(r,n,l,o)),t.node.checked&&(this.renderer.font(new W("#424242"),"normal","normal","bold",a-3+"px","arial"),this.renderer.text("✔",n.left+a/6,n.top+a-1))},this)},n.prototype.paintRadio=function(t){var e=t.parseBounds(),a=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,a,new W("#DEDEDE"),1,new W("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+a/4)+1,Math.ceil(e.top+a/4)+1,Math.floor(a/2),new W("#424242"))},this)},n.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var a=t.node.ownerDocument,n=a.createElement("html2canvaswrapper"),i=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];i.forEach(function(e){try{n.style[e]=t.css(e)}catch(a){O("html2canvas: Parse: Exception caught in renderFormValue: "+a.message)}});var o=t.parseBounds();n.style.position="fixed",n.style.left=o.left+"px",n.style.top=o.top+"px",n.textContent=e,a.body.appendChild(n),this.paintText(new H(n.firstChild,t)),a.body.removeChild(n)}},n.prototype.paintText=function(t){t.applyTextTransform();var e=j.ucs2.decode(t.node.data),a=this.options.letterRendering&&!y(t)||B(t.node.data)?e.map(function(t){return j.ucs2.encode([t])}):q(e),n=t.parent.fontWeight(),i=t.parent.css("fontSize"),o=t.parent.css("fontFamily"),r=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),n,i,o),r.length?this.renderer.fontShadow(r[0].color,r[0].offsetX,r[0].offsetY,r[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){a.map(this.parseTextBounds(t),this).forEach(function(e,n){e&&(this.renderer.text(a[n],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(o,i)))},this)},this)},n.prototype.renderTextDecoration=function(t,e,a){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+a.baseline+a.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+a.middle+a.lineWidth),e.width,1,t.color("color"))}};var K={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(t){var e=t.parseBounds(),a=x(t),n=["Top","Right","Bottom","Left"].map(function(e,a){var n=t.css("border"+e+"Style"),i=t.color("border"+e+"Color");"inset"===n&&i.isBlack()&&(i=new W([255,255,255,i.a]));var o=K[n]?K[n][a]:null;return{width:t.cssInt("border"+e+"Width"),color:o?i[o[0]](o[1]):i,args:null}}),i=c(e,a,n);return{clip:this.parseBackgroundClip(t,i,n,a,e),borders:s(n,e,i,a)}},n.prototype.parseBackgroundClip=function(t,e,a,n,i){var o=t.css("backgroundClip"),r=[];switch(o){case"content-box":case"padding-box":p(r,n[0],n[1],e.topLeftInner,e.topRightInner,i.left+a[3].width,i.top+a[0].width),p(r,n[1],n[2],e.topRightInner,e.bottomRightInner,i.left+i.width-a[1].width,i.top+a[0].width),p(r,n[2],n[3],e.bottomRightInner,e.bottomLeftInner,i.left+i.width-a[1].width,i.top+i.height-a[2].width),p(r,n[3],n[0],e.bottomLeftInner,e.topLeftInner,i.left+a[3].width,i.top+i.height-a[2].width);break;default:p(r,n[0],n[1],e.topLeftOuter,e.topRightOuter,i.left,i.top),p(r,n[1],n[2],e.topRightOuter,e.bottomRightOuter,i.left+i.width,i.top),p(r,n[2],n[3],e.bottomRightOuter,e.bottomLeftOuter,i.left+i.width,i.top+i.height),p(r,n[3],n[0],e.bottomLeftOuter,e.topLeftOuter,i.left,i.top+i.height)}return r},e.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,a){function n(t,e,a){var n="withCredentials"in new XMLHttpRequest;if(!e)return Promise.reject("No proxy configured");var i=r(n),l=s(e,t,i);return n?d(l):o(a,l,i).then(function(t){return m(t.content)})}function i(t,e,a){var n="crossOrigin"in new Image,i=r(n),l=s(e,t,i);return n?Promise.resolve(l):o(a,l,i).then(function(t){return"data:"+t.type+";base64,"+t.content})}function o(t,e,a){return new Promise(function(n,i){var o=t.createElement("script"),r=function(){delete window.html2canvas.proxy[a],t.body.removeChild(o)};window.html2canvas.proxy[a]=function(t){r(),n(t)},o.src=e,o.onerror=function(t){r(),i(t)},t.body.appendChild(o)})}function r(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++g+"_"+Math.round(1e5*Math.random())}function s(t,e,a){return t+"?url="+encodeURIComponent(e)+(a.length?"&callback=html2canvas.proxy."+a:"")}function l(t){return function(e){var a,n=new DOMParser;try{a=n.parseFromString(e,"text/html")}catch(i){p("DOMParser not supported, falling back to createHTMLDocument"),a=document.implementation.createHTMLDocument("");try{a.open(),a.write(e),a.close()}catch(o){p("createHTMLDocument write not supported, falling back to document.body.innerHTML"),a.body.innerHTML=e}}var r=a.querySelector("base");if(!r||!r.href.host){var s=a.createElement("base");s.href=t,a.head.insertBefore(s,a.head.firstChild)}return a}}function c(t,e,a,i,o,r){return new n(t,e,window.document).then(l(t)).then(function(t){return h(t,a,i,o,r,0,0)})}var d=t("./xhr"),u=t("./utils"),p=t("./log"),h=t("./clone"),m=u.decode64,g=0;a.Proxy=n,a.ProxyURL=i,a.loadUrlDocument=c},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e,a){function n(t,e){var a=document.createElement("a");a.href=t,t=a.href,this.src=t,this.image=new Image;var n=this;this.promise=new Promise(function(a,o){n.image.crossOrigin="Anonymous",n.image.onload=a,n.image.onerror=o,new i(t,e,document).then(function(t){n.image.src=t})["catch"](o)})}var i=t("./proxy").ProxyURL;e.exports=n},{"./proxy":16}],18:[function(t,e,a){function n(t,e,a){i.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===a}var i=t("./nodecontainer");n.prototype.cloneTo=function(t){n.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},n.prototype=Object.create(i.prototype),n.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=n},{"./nodecontainer":14}],19:[function(t,e,a){function n(t,e,a,n,i){this.width=t,this.height=e,this.images=a,this.options=n,this.document=i}var i=t("./log");n.prototype.renderImage=function(t,e,a,n){var i=t.cssInt("paddingLeft"),o=t.cssInt("paddingTop"),r=t.cssInt("paddingRight"),s=t.cssInt("paddingBottom"),l=a.borders,c=e.width-(l[1].width+l[3].width+i+r),d=e.height-(l[0].width+l[2].width+o+s);this.drawImage(n,0,0,n.image.width||c,n.image.height||d,e.left+i+l[3].width,e.top+o+l[0].width,c,d)},n.prototype.renderBackground=function(t,e,a){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,a))},n.prototype.renderBackgroundColor=function(t,e){var a=t.color("backgroundColor");a.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,a)},n.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},n.prototype.renderBackgroundImage=function(t,e,a){var n=t.parseBackgroundImages();n.reverse().forEach(function(n,o,r){switch(n.method){case"url":var s=this.images.get(n.args[0]);s?this.renderBackgroundRepeating(t,e,s,r.length-(o+1),a):i("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(n.value);l?this.renderBackgroundGradient(l,e,a):i("Error loading background-image",n.args[0]);break;case"none":break;default:i("Unknown background-image type",n.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(t,e,a,n,i){var o=t.parseBackgroundSize(e,a.image,n),r=t.parseBackgroundPosition(e,a.image,n,o),s=t.parseBackgroundRepeat(n);switch(s){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(a,r,o,e,e.left+i[3],e.top+r.top+i[0],99999,o.height,i);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(a,r,o,e,e.left+r.left+i[3],e.top+i[0],o.width,99999,i);break;case"no-repeat":this.backgroundRepeatShape(a,r,o,e,e.left+r.left+i[3],e.top+r.top+i[0],o.width,o.height,i);break;default:this.renderBackgroundRepeat(a,r,o,{top:e.top,left:e.left},i[3],i[0])}},e.exports=n},{"./log":13}],20:[function(t,e,a){function n(t,e){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",t,"x",e)}function i(t){return t.length>0}var o=t("../renderer"),r=t("../lineargradientcontainer"),s=t("../log");n.prototype=Object.create(o.prototype),n.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},n.prototype.rectangle=function(t,e,a,n,i){this.setFillStyle(i).fillRect(t,e,a,n)},n.prototype.circle=function(t,e,a,n){this.setFillStyle(n),this.ctx.beginPath(),this.ctx.arc(t+a/2,e+a/2,a/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(t,e,a,n,i,o){this.circle(t,e,a,n),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},n.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},n.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},n.prototype.drawImage=function(t,e,a,n,i,o,r,s,l){(!this.taints(t)||this.options.allowTaint)&&this.ctx.drawImage(t.image,e,a,n,i,o,r,s,l)},n.prototype.clip=function(t,e,a){this.ctx.save(),t.filter(i).forEach(function(t){this.shape(t).clip()},this),e.call(a),this.ctx.restore()},n.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},n.prototype.font=function(t,e,a,n,i,o){this.setFillStyle(t).font=[e,a,n,i,o].join(" ").split(",")[0]},n.prototype.fontShadow=function(t,e,a,n){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",a).setVariable("shadowBlur",n)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},n.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},n.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},n.prototype.text=function(t,e,a){this.ctx.fillText(t,e,a)},n.prototype.backgroundRepeatShape=function(t,e,a,n,i,o,r,s,l){var c=[["line",Math.round(i),Math.round(o)],["line",Math.round(i+r),Math.round(o)],["line",Math.round(i+r),Math.round(s+o)],["line",Math.round(i),Math.round(s+o)]];this.clip([c],function(){this.renderBackgroundRepeat(t,e,a,n,l[3],l[0])},this)},n.prototype.renderBackgroundRepeat=function(t,e,a,n,i,o){var r=Math.round(n.left+e.left+i),s=Math.round(n.top+e.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,a),"repeat")),this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},n.prototype.renderBackgroundGradient=function(t,e){if(t instanceof r){var a=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){a.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,a)}},n.prototype.resizeImage=function(t,e){var a=t.image;if(a.width===e.width&&a.height===e.height)return a;var n,i=document.createElement("canvas");return i.width=e.width,i.height=e.height,n=i.getContext("2d"),n.drawImage(a,0,0,a.width,a.height,0,0,e.width,e.height),i},e.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e,a){function n(t,e,a,n){i.call(this,a,n),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var i=t("./nodecontainer");n.prototype=Object.create(i.prototype),n.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=n},{"./nodecontainer":14}],22:[function(t,e,a){function n(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(t){var e,a,n,i,o=!1;return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(a=t.createElement("boundtest"),a.style.height="123px",a.style.display="block",t.body.appendChild(a),e.selectNode(a),n=e.getBoundingClientRect(),i=n.height,123===i&&(o=!0),t.body.removeChild(a))),o},n.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},n.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),a=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),e.toDataURL()}catch(n){return!1}return!0},e.exports=n},{}],23:[function(t,e,a){function n(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):i(t)}).then(function(t){return new Promise(function(a){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,a))})})}var i=t("./xhr"),o=t("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},n.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},n.prototype.createCanvas=function(t){var e=this;return function(a,n){var i=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=i.lowerCanvasEl,i.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(a,n)).renderAll(),t(i.lowerCanvasEl)}},n.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):o(t)},e.exports=n},{"./utils":26,"./xhr":28}],24:[function(t,e,a){function n(t,e){this.src=t,this.image=null;var a=this;this.promise=e?new Promise(function(e,n){a.image=new Image,a.image.onload=e,a.image.onerror=n,a.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),a.image.complete===!0&&e(a.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,a.createCanvas.call(a,e))})})}var i=t("./svgcontainer");n.prototype=Object.create(i.prototype),e.exports=n},{"./svgcontainer":23}],25:[function(t,e,a){function n(t,e){o.call(this,t,e)}function i(t,e,a){return t.length>0?e+a.toUpperCase():void 0}var o=t("./nodecontainer");n.prototype=Object.create(o.prototype),n.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,i);case"uppercase":return e.toUpperCase();default:return e}},e.exports=n},{"./nodecontainer":14}],26:[function(t,e,a){a.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},a.bind=function(t,e){return function(){return t.apply(e,arguments)}},/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
a.decode64=function(t){var e,a,n,i,o,r,s,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=t.length,u="";for(e=0;d>e;e+=4)a=c.indexOf(t[e]),n=c.indexOf(t[e+1]),i=c.indexOf(t[e+2]),o=c.indexOf(t[e+3]),r=a<<2|n>>4,s=(15&n)<<4|i>>2,l=(3&i)<<6|o,u+=64===i?String.fromCharCode(r):64===o||-1===o?String.fromCharCode(r,s):String.fromCharCode(r,s,l);return u},a.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),a=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+a,left:e.left,width:a,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},a.offsetBounds=function(t){var e=t.offsetParent?a.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},a.parseBackgrounds=function(t){var e,a,n,i,o,r,s,l=" \r\n	",c=[],d=0,u=0,p=function(){e&&('"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&s.push(a),"-"===e.substr(0,1)&&(i=e.indexOf("-",1)+1)>0&&(n=e.substr(0,i),e=e.substr(i)),c.push({prefix:n,method:e.toLowerCase(),value:o,args:s,image:null})),s=[],e=n=a=o=""};return s=[],e=n=a=o="",t.split("").forEach(function(t){if(!(0===d&&l.indexOf(t)>-1)){switch(t){case'"':r?r===t&&(r=null):r=t;break;case"(":if(r)break;if(0===d)return d=1,void(o+=t);u++;break;case")":if(r)break;if(1===d){if(0===u)return d=0,o+=t,void p();u--}break;case",":if(r)break;if(0===d)return void p();if(1===d&&0===u&&!e.match(/^url$/i))return s.push(a),a="",void(o+=t)}o+=t,0===d?e+=t:a+=t}}),p(),c}},{}],27:[function(t,e,a){function n(t){i.apply(this,arguments),this.type="linear"===t.args[0]?i.TYPES.LINEAR:i.TYPES.RADIAL}var i=t("./gradientcontainer");n.prototype=Object.create(i.prototype),e.exports=n},{"./gradientcontainer":9}],28:[function(t,e,a){function n(t){return new Promise(function(e,a){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){200===n.status?e(n.responseText):a(new Error(n.statusText))},n.onerror=function(){a(new Error("Network Error"))},n.send()})}e.exports=n},{}]},{},[4])(4)}),/*
# PNG.js
# Copyright (c) 2011 Devon Govett
# MIT LICENSE
# 
# 
*/
function(t){var e;e=function(){function e(t){var e,a,n,i,o,r,s,l,c,d,u,p,h,m,g;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(e=this.readUInt32(),d=function(){var t,e;for(e=[],s=t=0;4>t;s=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,r.delay=1e3*o/i,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case"IDAT":case"fdAT":for("fdAT"===d&&(this.pos+=4,e-=4),t=(null!=r?r.data:void 0)||this.imgData,s=h=0;e>=0?e>h:h>e;s=e>=0?++h:--h)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if(u=n-this.transparency.indexed.length,u>0)for(s=m=0;u>=0?u>m:m>u;s=u>=0?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":p=this.read(e),l=p.indexOf(0),c=String.fromCharCode.apply(String,p.slice(0,l)),this.text[c]=String.fromCharCode.apply(String,p.slice(l+1));break;case"IEND":return r&&this.animation.frames.push(r),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(g=this.colorType)||6===g,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var a,n,i,o,r,s,c,d;e.load=function(t,a,n){var i;return"function"==typeof a&&(n=a),i=new XMLHttpRequest,i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t,o;return t=new Uint8Array(i.response||i.mozResponseArrayBuffer),o=new e(t),"function"==typeof(null!=a?a.getContext:void 0)&&o.render(a),"function"==typeof n?n(o):void 0},i.send(null)},o=0,i=1,r=2,n=0,a=1,e.prototype.read=function(t){var e,a,n;for(n=[],e=a=0;t>=0?t>a:a>t;e=t>=0?++a:--a)n.push(this.data[this.pos++]);return n},e.prototype.readUInt32=function(){var t,e,a,n;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,a=this.data[this.pos++]<<8,n=this.data[this.pos++],t|e|a|n},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,a,n,i,o,r,s,c,d,u,p,h,m,g,f,v,b,y,x,w,k,D,T;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new l(t),t=t.getBytes(),h=this.pixelBitlength/8,v=h*this.width,m=new Uint8Array(v*this.height),r=t.length,f=0,g=0,a=0;r>g;){switch(t[g++]){case 0:for(i=x=0;v>x;i=x+=1)m[a++]=t[g++];break;case 1:for(i=w=0;v>w;i=w+=1)e=t[g++],o=h>i?0:m[a-h],m[a++]=(e+o)%256;break;case 2:for(i=k=0;v>k;i=k+=1)e=t[g++],n=(i-i%h)/h,b=f&&m[(f-1)*v+n*h+i%h],m[a++]=(b+e)%256;break;case 3:for(i=D=0;v>D;i=D+=1)e=t[g++],n=(i-i%h)/h,o=h>i?0:m[a-h],b=f&&m[(f-1)*v+n*h+i%h],m[a++]=(e+Math.floor((o+b)/2))%256;break;case 4:for(i=T=0;v>T;i=T+=1)e=t[g++],n=(i-i%h)/h,o=h>i?0:m[a-h],0===f?b=y=0:(b=m[(f-1)*v+n*h+i%h],y=n&&m[(f-1)*v+(n-1)*h+i%h]),s=o+b-y,c=Math.abs(s-o),u=Math.abs(s-b),p=Math.abs(s-y),d=u>=c&&p>=c?o:p>=u?b:y,m[a++]=(e+d)%256;break;default:throw new Error("Invalid filter algorithm: "+t[g-1])}f++}return m},e.prototype.decodePalette=function(){var t,e,a,n,i,o,r,s,l,c;for(n=this.palette,r=this.transparency.indexed||[],o=new Uint8Array((r.length||0)+n.length),i=0,a=n.length,t=0,e=s=0,l=n.length;l>s;e=s+=3)o[i++]=n[e],o[i++]=n[e+1],o[i++]=n[e+2],o[i++]=null!=(c=r[t++])?c:255;return o},e.prototype.copyToImageData=function(t,e){var a,n,i,o,r,s,l,c,d,u,p;if(n=this.colors,d=null,a=this.hasAlphaChannel,this.palette.length&&(d=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),n=4,a=!0),i=t.data||t,c=i.length,r=d||e,o=s=0,1===n)for(;c>o;)l=d?4*e[o/4]:s,u=r[l++],i[o++]=u,i[o++]=u,i[o++]=u,i[o++]=a?r[l++]:255,s=l;else for(;c>o;)l=d?4*e[o/4]:s,i[o++]=r[l++],i[o++]=r[l++],i[o++]=r[l++],i[o++]=a?r[l++]:255,s=l},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{c=t.document.createElement("canvas"),d=c.getContext("2d")}catch(u){return-1}return s=function(t){var e;return d.width=t.width,d.height=t.height,d.clearRect(0,0,t.width,t.height),d.putImageData(t,0,0),e=new Image,e.src=c.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,a,n,i,o,r,l,c;if(this.animation){for(l=this.animation.frames,c=[],a=o=0,r=l.length;r>o;a=++o)e=l[a],n=t.createImageData(e.width,e.height),i=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(n,i),e.imageData=n,c.push(e.image=s(n));return c}},e.prototype.renderFrame=function(t,e){var a,o,s;return o=this.animation.frames,a=o[e],s=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),(null!=s?s.disposeOp:void 0)===i?t.clearRect(s.xOffset,s.yOffset,s.width,s.height):(null!=s?s.disposeOp:void 0)===r&&t.putImageData(s.imageData,s.xOffset,s.yOffset),a.blendOp===n&&t.clearRect(a.xOffset,a.yOffset,a.width,a.height),t.drawImage(a.image,a.xOffset,a.yOffset)},e.prototype.animate=function(t){var e,a,n,i,o,r,s=this;return a=0,r=this.animation,i=r.numFrames,n=r.frames,o=r.numPlays,(e=function(){var r,l;return r=a++%i,l=n[r],s.renderFrame(t,r),i>1&&o>a/i?s.animation._timeout=setTimeout(e,l.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,a;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(a=e.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),e.putImageData(a,0,0))},e}(),t.PNG=e}("undefined"!=typeof window&&window||void 0);/*
 * Extracted from pdf.js
 * https://github.com/andreasgal/pdf.js
 *
 * Copyright (c) 2011 Mozilla Foundation
 *
 * Contributors: Andreas Gal <gal@mozilla.com>
 *               Chris G Jones <cjones@mozilla.com>
 *               Shaon Barman <shaon.barman@gmail.com>
 *               Vivien Nicolas <21@vingtetun.org>
 *               Justin D'Arcangelo <justindarc@gmail.com>
 *               Yury Delendik
 *
 * 
 */
var s=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,a=e?e.byteLength:0;if(a>t)return e;for(var n=512;t>n;)n<<=1;for(var i=new Uint8Array(n),o=0;a>o;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var a=e+t;!this.eof&&this.bufferLength<a;)this.readBlock();var n=this.bufferLength;a>n&&(a=n)}else{for(;!this.eof;)this.readBlock();var a=this.bufferLength}return this.pos=a,this.buffer.subarray(e,a)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,a){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,a)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),l=function(){function t(t){throw new Error(t)}function e(e){var a=0,n=e[a++],i=e[a++];(-1==n||-1==i)&&t("Invalid header in flate stream"),8!=(15&n)&&t("Unknown compression method in flate stream"),((n<<8)+i)%31!=0&&t("Bad FCHECK in flate stream"),32&i&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=a,this.codeSize=0,this.codeBuf=0,s.call(this)}if("undefined"==typeof Uint32Array)return void 0;var a=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],r=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(s.prototype),e.prototype.getBits=function(e){for(var a,n=this.codeSize,i=this.codeBuf,o=this.bytes,r=this.bytesPos;e>n;)"undefined"==typeof(a=o[r++])&&t("Bad encoding in flate stream"),i|=a<<n,n+=8;return a=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,this.bytesPos=r,a},e.prototype.getCode=function(e){for(var a=e[0],n=e[1],i=this.codeSize,o=this.codeBuf,r=this.bytes,s=this.bytesPos;n>i;){var l;"undefined"==typeof(l=r[s++])&&t("Bad encoding in flate stream"),o|=l<<i,i+=8}var c=a[o&(1<<n)-1],d=c>>16,u=65535&c;return(0==i||d>i||0==d)&&t("Bad encoding in flate stream"),this.codeBuf=o>>d,this.codeSize=i-d,this.bytesPos=s,u},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,a=0,n=0;e>n;++n)t[n]>a&&(a=t[n]);for(var i=1<<a,o=new Uint32Array(i),r=1,s=0,l=2;a>=r;++r,s<<=1,l<<=1)for(var c=0;e>c;++c)if(t[c]==r){for(var d=0,u=s,n=0;r>n;++n)d=d<<1|1&u,u>>=1;for(var n=d;i>n;n+=l)o[n]=r<<16|c;++s}return[o,a]},e.prototype.readBlock=function(){function e(t,e,a,n,i){for(var o=t.getBits(a)+n;o-->0;)e[D++]=i}var s=this.getBits(3);if(1&s&&(this.eof=!0),s>>=1,0==s){var l,c=this.bytes,d=this.bytesPos;"undefined"==typeof(l=c[d++])&&t("Bad block header in flate stream");var u=l;"undefined"==typeof(l=c[d++])&&t("Bad block header in flate stream"),u|=l<<8,"undefined"==typeof(l=c[d++])&&t("Bad block header in flate stream");var p=l;"undefined"==typeof(l=c[d++])&&t("Bad block header in flate stream"),p|=l<<8,p!=(65535&~u)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var h=this.bufferLength,m=this.ensureBuffer(h+u),g=h+u;this.bufferLength=g;for(var f=h;g>f;++f){if("undefined"==typeof(l=c[d++])){this.eof=!0;break}m[f]=l}return void(this.bytesPos=d)}var v,b;if(1==s)v=o,b=r;else if(2==s){for(var y=this.getBits(5)+257,x=this.getBits(5)+1,w=this.getBits(4)+4,k=Array(a.length),D=0;w>D;)k[a[D++]]=this.getBits(3);for(var T=this.generateHuffmanTable(k),S=0,D=0,I=y+x,_=new Array(I);I>D;){var C=this.getCode(T);16==C?e(this,_,2,3,S):17==C?e(this,_,3,3,S=0):18==C?e(this,_,7,11,S=0):_[D++]=S=C}v=this.generateHuffmanTable(_.slice(0,y)),b=this.generateHuffmanTable(_.slice(y,I))}else t("Unknown block type in flate stream");for(var m=this.buffer,M=m?m.length:0,L=this.bufferLength;;){var A=this.getCode(v);if(256>A)L+1>=M&&(m=this.ensureBuffer(L+1),M=m.length),m[L++]=A;else{if(256==A)return void(this.bufferLength=L);A-=257,A=n[A];var P=A>>16;P>0&&(P=this.getBits(P));var S=(65535&A)+P;A=this.getCode(b),A=i[A],P=A>>16,P>0&&(P=this.getBits(P));var N=(65535&A)+P;L+S>=M&&(m=this.ensureBuffer(L+S),M=m.length);for(var E=0;S>E;++E,++L)m[L]=m[L-N]}}},e}();return function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";"undefined"==typeof t.btoa&&(t.btoa=function(t){var a,n,i,o,r,s,l,c,d=0,u=0,p="",h=[];if(!t)return t;do a=t.charCodeAt(d++),n=t.charCodeAt(d++),i=t.charCodeAt(d++),c=a<<16|n<<8|i,o=c>>18&63,r=c>>12&63,s=c>>6&63,l=63&c,h[u++]=e.charAt(o)+e.charAt(r)+e.charAt(s)+e.charAt(l);while(d<t.length);p=h.join("");var m=t.length%3;return(m?p.slice(0,m-3):p)+"===".slice(m||3)}),"undefined"==typeof t.atob&&(t.atob=function(t){var a,n,i,o,r,s,l,c,d=0,u=0,p="",h=[];if(!t)return t;t+="";do o=e.indexOf(t.charAt(d++)),r=e.indexOf(t.charAt(d++)),s=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=o<<18|r<<12|s<<6|l,a=c>>16&255,n=c>>8&255,i=255&c,64==s?h[u++]=String.fromCharCode(a):64==l?h[u++]=String.fromCharCode(a,n):h[u++]=String.fromCharCode(a,n,i);while(d<t.length);return p=h.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),a=e.length>>>0,n=new Array(a),i=arguments.length>1?arguments[1]:void 0,o=0;a>o;o++)o in e&&(n[o]=t.call(i,e[o],o,e));return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var a=Object(this),n=a.length>>>0,i=0;n>i;i++)i in a&&t.call(e,a[i],i,a)}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=a.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError;var o,r,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(r=0;n>r;r++)t.call(i,a[r])&&s.push(a[r]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0),e}),/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function a(t){var e="length"in t&&t.length,a=K.type(t);return"function"===a||K.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===a||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,a){if(K.isFunction(e))return K.grep(t,function(t,n){return!!e.call(t,n,t)!==a});if(e.nodeType)return K.grep(t,function(t){return t===e!==a});if("string"==typeof e){if(st.test(e))return K.filter(e,t,a);e=K.filter(e,t)}return K.grep(t,function(t){return W.call(e,t)>=0!==a})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=mt[t]={};return K.each(t.match(ht)||[],function(t,a){e[a]=!0}),e}function r(){Z.removeEventListener("DOMContentLoaded",r,!1),t.removeEventListener("load",r,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+s.uid++}function l(t,e,a){var n;if(void 0===a&&1===t.nodeType)if(n="data-"+e.replace(xt,"-$1").toLowerCase(),a=t.getAttribute(n),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:yt.test(a)?K.parseJSON(a):a}catch(i){}bt.set(t,e,a)}else a=void 0;return a}function c(){return!0}function d(){return!1}function u(){try{return Z.activeElement}catch(t){}}function p(t,e){return K.nodeName(t,"table")&&K.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function h(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function m(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var a=0,n=t.length;n>a;a++)vt.set(t[a],"globalEval",!e||vt.get(e[a],"globalEval"))}function f(t,e){var a,n,i,o,r,s,l,c;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),r=vt.set(e,o),c=o.events)){delete r.handle,r.events={};for(i in c)for(a=0,n=c[i].length;n>a;a++)K.event.add(e,i,c[i][a])}bt.hasData(t)&&(s=bt.access(t),l=K.extend({},s),bt.set(e,l))}}function v(t,e){var a=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&K.nodeName(t,e)?K.merge([t],a):a}function b(t,e){var a=e.nodeName.toLowerCase();"input"===a&&Tt.test(t.type)?e.checked=t.checked:("input"===a||"textarea"===a)&&(e.defaultValue=t.defaultValue)}function y(e,a){var n,i=K(a.createElement(e)).appendTo(a.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(i[0]))?n.display:K.css(i[0],"display");return i.detach(),o}function x(t){var e=Z,a=Ot[t];return a||(a=y(t,e),"none"!==a&&a||(Bt=(Bt||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),a=y(t,e),Bt.detach()),Ot[t]=a),a}function w(t,e,a){var n,i,o,r,s=t.style;return a=a||Ht(t),a&&(r=a.getPropertyValue(e)||a[e]),a&&(""!==r||K.contains(t.ownerDocument,t)||(r=K.style(t,e)),Ft.test(r)&&jt.test(e)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=a.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==r?r+"":r}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t,e){if(e in t)return e;for(var a=e[0].toUpperCase()+e.slice(1),n=e,i=Yt.length;i--;)if(e=Yt[i]+a,e in t)return e;return n}function T(t,e,a){var n=Gt.exec(e);return n?Math.max(0,n[1]-(a||0))+(n[2]||"px"):e}function S(t,e,a,n,i){for(var o=a===(n?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===a&&(r+=K.css(t,a+kt[o],!0,i)),n?("content"===a&&(r-=K.css(t,"padding"+kt[o],!0,i)),"margin"!==a&&(r-=K.css(t,"border"+kt[o]+"Width",!0,i))):(r+=K.css(t,"padding"+kt[o],!0,i),"padding"!==a&&(r+=K.css(t,"border"+kt[o]+"Width",!0,i)));return r}function I(t,e,a){var n=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ht(t),r="border-box"===K.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ft.test(i))return i;n=r&&(X.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,a||(r?"border":"content"),n,o)+"px"}function _(t,e){for(var a,n,i,o=[],r=0,s=t.length;s>r;r++)n=t[r],n.style&&(o[r]=vt.get(n,"olddisplay"),a=n.style.display,e?(o[r]||"none"!==a||(n.style.display=""),""===n.style.display&&Dt(n)&&(o[r]=vt.access(n,"olddisplay",x(n.nodeName)))):(i=Dt(n),"none"===a&&i||vt.set(n,"olddisplay",i?a:K.css(n,"display"))));for(r=0;s>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[r]||"":"none"));return t}function C(t,e,a,n,i){return new C.prototype.init(t,e,a,n,i)}function M(){return setTimeout(function(){Xt=void 0}),Xt=K.now()}function L(t,e){var a,n=0,i={height:t};for(e=e?1:0;4>n;n+=2-e)a=kt[n],i["margin"+a]=i["padding"+a]=t;return e&&(i.opacity=i.width=t),i}function A(t,e,a){for(var n,i=(ae[e]||[]).concat(ae["*"]),o=0,r=i.length;r>o;o++)if(n=i[o].call(a,e,t))return n}function P(t,e,a){var n,i,o,r,s,l,c,d,u=this,p={},h=t.style,m=t.nodeType&&Dt(t),g=vt.get(t,"fxshow");a.queue||(s=K._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,K.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(a.overflow=[h.overflow,h.overflowX,h.overflowY],c=K.css(t,"display"),d="none"===c?vt.get(t,"olddisplay")||x(t.nodeName):c,"inline"===d&&"none"===K.css(t,"float")&&(h.display="inline-block")),a.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=a.overflow[0],h.overflowX=a.overflow[1],h.overflowY=a.overflow[2]}));for(n in e)if(i=e[n],Jt.exec(i)){if(delete e[n],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||K.style(t,n)}else c=void 0;if(K.isEmptyObject(p))"inline"===("none"===c?x(t.nodeName):c)&&(h.display=c);else{g?"hidden"in g&&(m=g.hidden):g=vt.access(t,"fxshow",{}),o&&(g.hidden=!m),m?K(t).show():u.done(function(){K(t).hide()}),u.done(function(){var e;vt.remove(t,"fxshow");for(e in p)K.style(t,e,p[e])});for(n in p)r=A(m?g[n]:0,n,u),n in g||(g[n]=r.start,m&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function N(t,e){var a,n,i,o,r;for(a in t)if(n=K.camelCase(a),i=e[n],o=t[a],K.isArray(o)&&(i=o[1],o=t[a]=o[0]),a!==n&&(t[n]=o,delete t[a]),r=K.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete t[n];for(a in o)a in t||(t[a]=o[a],e[a]=i)}else e[n]=i}function E(t,e,a){var n,i,o=0,r=ee.length,s=K.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Xt||M(),a=Math.max(0,c.startTime+c.duration-e),n=a/c.duration||0,o=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return s.notifyWith(t,[c,o,a]),1>o&&l?a:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},a),originalProperties:e,originalOptions:a,startTime:Xt||M(),duration:a.duration,tweens:[],createTween:function(e,a){var n=K.Tween(t,c.opts,e,a,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var a=0,n=e?c.tweens.length:0;if(i)return this;for(i=!0;n>a;a++)c.tweens[a].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),d=c.props;for(N(d,c.opts.specialEasing);r>o;o++)if(n=ee[o].call(c,t,d,c.opts))return n;return K.map(d,A,c),K.isFunction(c.opts.start)&&c.opts.start.call(t,c),K.fx.timer(K.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(t){return function(e,a){"string"!=typeof e&&(a=e,e="*");var n,i=0,o=e.toLowerCase().match(ht)||[];if(K.isFunction(a))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(a)):(t[n]=t[n]||[]).push(a)}}function R(t,e,a,n){function i(s){var l;return o[s]=!0,K.each(t[s]||[],function(t,s){var c=s(e,a,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),l}var o={},r=t===ye;return i(e.dataTypes[0])||!o["*"]&&i("*")}function q(t,e){var a,n,i=K.ajaxSettings.flatOptions||{};for(a in e)void 0!==e[a]&&((i[a]?t:n||(n={}))[a]=e[a]);return n&&K.extend(!0,t,n),t}function z(t,e,a){for(var n,i,o,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in a)o=l[0];else{for(i in a){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}r||(r=i)}o=o||r}return o?(o!==l[0]&&l.unshift(o),a[o]):void 0}function B(t,e,a,n){var i,o,r,s,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(o=d.shift();o;)if(t.responseFields[o]&&(a[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(i in c)if(s=i.split(" "),s[1]===o&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[i]:c[i]!==!0&&(o=s[0],d.unshift(s[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function O(t,e,a,n){var i;if(K.isArray(e))K.each(e,function(e,i){a||Te.test(t)?n(t,i):O(t+"["+("object"==typeof i?e:"")+"]",i,a,n)});else if(a||"object"!==K.type(e))n(t,e);else for(i in e)O(t+"["+i+"]",e[i],a,n)}function j(t){return K.isWindow(t)?t:9===t.nodeType&&t.defaultView}var F=[],H=F.slice,U=F.concat,G=F.push,W=F.indexOf,Q={},V=Q.toString,Y=Q.hasOwnProperty,X={},Z=t.document,J="2.1.4",K=function(t,e){return new K.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,at=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};K.fn=K.prototype={jquery:J,constructor:K,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=K.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return K.each(this,t,e)},map:function(t){return this.pushStack(K.map(this,function(e,a){return t.call(e,a,e)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,a=+t+(0>t?e:0);return this.pushStack(a>=0&&e>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:F.sort,splice:F.splice},K.extend=K.fn.extend=function(){var t,e,a,n,i,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||K.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)a=r[e],n=t[e],r!==n&&(c&&n&&(K.isPlainObject(n)||(i=K.isArray(n)))?(i?(i=!1,o=a&&K.isArray(a)?a:[]):o=a&&K.isPlainObject(a)?a:{},r[e]=K.extend(c,o,n)):void 0!==n&&(r[e]=n));return r},K.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==K.type(t)||t.nodeType||K.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[V.call(t)]||"object":typeof t},globalEval:function(t){var e,a=eval;t=K.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):a(t))},camelCase:function(t){return t.replace(et,"ms-").replace(at,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,o=0,r=t.length,s=a(t);if(n){if(s)for(;r>o&&(i=e.apply(t[o],n),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],n),i===!1)break}else if(s)for(;r>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?K.merge(n,"string"==typeof t?[t]:t):G.call(n,t)),n},inArray:function(t,e,a){return null==e?-1:W.call(e,t,a)},merge:function(t,e){for(var a=+e.length,n=0,i=t.length;a>n;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,a){for(var n,i=[],o=0,r=t.length,s=!a;r>o;o++)n=!e(t[o],o),n!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,r=t.length,s=a(t),l=[];if(s)for(;r>o;o++)i=e(t[o],o,n),null!=i&&l.push(i);else for(o in t)i=e(t[o],o,n),null!=i&&l.push(i);return U.apply([],l)},guid:1,proxy:function(t,e){var a,n,i;return"string"==typeof e&&(a=t[e],e=t,t=a),K.isFunction(t)?(n=H.call(arguments,2),i=function(){return t.apply(e||this,n.concat(H.call(arguments)))},i.guid=t.guid=t.guid||K.guid++,i):void 0},now:Date.now,support:X}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,a,n){var i,o,r,s,l,c,u,h,m,g;if((e?e.ownerDocument||e:O)!==P&&A(e),e=e||P,a=a||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return a;if(!n&&E){if(11!==s&&(i=bt.exec(t)))if(r=i[1]){if(9===s){if(o=e.getElementById(r),!o||!o.parentNode)return a;if(o.id===r)return a.push(o),a}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&z(e,o)&&o.id===r)return a.push(o),a}else{if(i[2])return J.apply(a,e.getElementsByTagName(t)),a;if((r=i[3])&&w.getElementsByClassName)return J.apply(a,e.getElementsByClassName(r)),a}if(w.qsa&&(!$||!$.test(t))){if(h=u=B,m=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(u=e.getAttribute("id"))?h=u.replace(xt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);m=yt.test(t)&&d(e.parentNode)||e,g=c.join(",")}if(g)try{return J.apply(a,m.querySelectorAll(g)),a}catch(f){}finally{u||e.removeAttribute("id")}}}return _(t.replace(lt,"$1"),e,a,n)}function a(){function t(a,n){return e.push(a+" ")>k.cacheLength&&delete t[e.shift()],t[a+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function i(t){var e=P.createElement("div");try{return!!t(e)}catch(a){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var a=t.split("|"),n=t.length;n--;)k.attrHandle[a[n]]=e}function r(t,e){var a=e&&t,n=a&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Q)-(~t.sourceIndex||Q);if(n)return n;if(a)for(;a=a.nextSibling;)if(a===e)return-1;return t?1:-1}function s(t){return function(e){var a=e.nodeName.toLowerCase();return"input"===a&&e.type===t}}function l(t){return function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(a,n){for(var i,o=t([],a.length,e),r=o.length;r--;)a[i=o[r]]&&(a[i]=!(n[i]=a[i]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function p(t){for(var e=0,a=t.length,n="";a>e;e++)n+=t[e].value;return n}function h(t,e,a){var n=e.dir,i=a&&"parentNode"===n,o=F++;return e.first?function(e,a,o){for(;e=e[n];)if(1===e.nodeType||i)return t(e,a,o)}:function(e,a,r){var s,l,c=[j,o];if(r){for(;e=e[n];)if((1===e.nodeType||i)&&t(e,a,r))return!0}else for(;e=e[n];)if(1===e.nodeType||i){if(l=e[B]||(e[B]={}),(s=l[n])&&s[0]===j&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=t(e,a,r))return!0}}}function m(t){return t.length>1?function(e,a,n){for(var i=t.length;i--;)if(!t[i](e,a,n))return!1;return!0}:t[0]}function g(t,a,n){for(var i=0,o=a.length;o>i;i++)e(t,a[i],n);return n}function f(t,e,a,n,i){for(var o,r=[],s=0,l=t.length,c=null!=e;l>s;s++)(o=t[s])&&(!a||a(o,n,i))&&(r.push(o),c&&e.push(s));return r}function v(t,e,a,i,o,r){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,r)),n(function(n,r,s,l){var c,d,u,p=[],h=[],m=r.length,v=n||g(e||"*",s.nodeType?[s]:s,[]),b=!t||!n&&e?v:f(v,p,t,s,l),y=a?o||(n?t:m||i)?[]:r:b;if(a&&a(b,y,s,l),i)for(c=f(y,h),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(y[h[d]]=!(b[h[d]]=u));if(n){if(o||t){if(o){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(b[d]=u);o(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=o?tt(n,u):p[d])>-1&&(n[c]=!(r[c]=u))}}else y=f(y===r?y.splice(m,y.length):y),o?o(null,r,y,l):J.apply(r,y)})}function b(t){for(var e,a,n,i=t.length,o=k.relative[t[0].type],r=o||k.relative[" "],s=o?1:0,l=h(function(t){return t===e},r,!0),c=h(function(t){return tt(e,t)>-1},r,!0),d=[function(t,a,n){var i=!o&&(n||a!==C)||((e=a).nodeType?l(t,a,n):c(t,a,n));return e=null,i}];i>s;s++)if(a=k.relative[t[s].type])d=[h(m(d),a)];else{if(a=k.filter[t[s].type].apply(null,t[s].matches),a[B]){for(n=++s;i>n&&!k.relative[t[n].type];n++);return v(s>1&&m(d),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),a,n>s&&b(t.slice(s,n)),i>n&&b(t=t.slice(n)),i>n&&p(t))}d.push(a)}return m(d)}function y(t,a){var i=a.length>0,o=t.length>0,r=function(n,r,s,l,c){var d,u,p,h=0,m="0",g=n&&[],v=[],b=C,y=n||o&&k.find.TAG("*",c),x=j+=null==b?1:Math.random()||.1,w=y.length;for(c&&(C=r!==P&&r);m!==w&&null!=(d=y[m]);m++){if(o&&d){for(u=0;p=t[u++];)if(p(d,r,s)){l.push(d);break}c&&(j=x)}i&&((d=!p&&d)&&h--,n&&g.push(d))}if(h+=m,i&&m!==h){for(u=0;p=a[u++];)p(g,v,r,s);if(n){if(h>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=f(v)}J.apply(l,v),c&&!n&&v.length>0&&h+a.length>1&&e.uniqueSort(l)}return c&&(j=x,C=b),g};return i?n(r):r}var x,w,k,D,T,S,I,_,C,M,L,A,P,N,E,$,R,q,z,B="sizzle"+1*new Date,O=t.document,j=0,F=0,H=a(),U=a(),G=a(),W=function(t,e){return t===e&&(L=!0),0},Q=1<<31,V={}.hasOwnProperty,Y=[],X=Y.pop,Z=Y.push,J=Y.push,K=Y.slice,tt=function(t,e){for(var a=0,n=t.length;n>a;a++)if(t[a]===e)return a;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",at="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=nt.replace("w","w#"),ot="\\["+at+"*("+nt+")(?:"+at+"*([*^$|!~]?=)"+at+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+at+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(at+"+","g"),lt=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),ct=new RegExp("^"+at+"*,"+at+"*"),dt=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),ut=new RegExp("="+at+"*([^\\]'\"]*?)"+at+"*\\]","g"),pt=new RegExp(rt),ht=new RegExp("^"+it+"$"),mt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),kt=function(t,e,a){var n="0x"+e-65536;return n!==n||a?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Dt=function(){A()};try{J.apply(Y=K.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(Tt){J={apply:Y.length?function(t,e){Z.apply(t,K.call(e))}:function(t,e){for(var a=t.length,n=0;t[a++]=e[n++];);t.length=a-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,a,n=t?t.ownerDocument||t:O;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,N=n.documentElement,a=n.defaultView,a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",Dt,!1):a.attachEvent&&a.attachEvent("onunload",Dt)),E=!T(n),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName),w.getById=i(function(t){return N.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),w.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&E){var a=e.getElementById(t);return a&&a.parentNode?[a]:[]}},k.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){var a="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return a&&a.value===e}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var a,n=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;a=o[i++];)1===a.nodeType&&n.push(a);return n}return o},k.find.CLASS=w.getElementsByClassName&&function(t,e){return E?e.getElementsByClassName(t):void 0},R=[],$=[],(w.qsa=vt.test(n.querySelectorAll))&&(i(function(t){N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+at+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||$.push("\\["+at+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||$.push("~="),t.querySelectorAll(":checked").length||$.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||$.push(".#.+[+~]")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&$.push("name"+at+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")})),(w.matchesSelector=vt.test(q=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(t){w.disconnectedMatch=q.call(t,"div"),q.call(t,"[s!='']:x"),R.push("!=",rt)}),$=$.length&&new RegExp($.join("|")),R=R.length&&new RegExp(R.join("|")),e=vt.test(N.compareDocumentPosition),z=e||vt.test(N.contains)?function(t,e){var a=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(a.contains?a.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return L=!0,0;var a=!t.compareDocumentPosition-!e.compareDocumentPosition;return a?a:(a=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&a||!w.sortDetached&&e.compareDocumentPosition(t)===a?t===n||t.ownerDocument===O&&z(O,t)?-1:e===n||e.ownerDocument===O&&z(O,e)?1:M?tt(M,t)-tt(M,e):0:4&a?-1:1)}:function(t,e){if(t===e)return L=!0,0;var a,i=0,o=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:M?tt(M,t)-tt(M,e):0;if(o===s)return r(t,e);for(a=t;a=a.parentNode;)l.unshift(a);for(a=e;a=a.parentNode;)c.unshift(a);for(;l[i]===c[i];)i++;return i?r(l[i],c[i]):l[i]===O?-1:c[i]===O?1:0},n):P},e.matches=function(t,a){return e(t,null,null,a)},e.matchesSelector=function(t,a){if((t.ownerDocument||t)!==P&&A(t),a=a.replace(ut,"='$1']"),!(!w.matchesSelector||!E||R&&R.test(a)||$&&$.test(a)))try{var n=q.call(t,a);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(i){}return e(a,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&A(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&A(t);var a=k.attrHandle[e.toLowerCase()],n=a&&V.call(k.attrHandle,e.toLowerCase())?a(t,e,!E):void 0;return void 0!==n?n:w.attributes||!E?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,a=[],n=0,i=0;if(L=!w.detectDuplicates,M=!w.sortStable&&t.slice(0),t.sort(W),L){for(;e=t[i++];)e===t[i]&&(n=a.push(i));for(;n--;)t.splice(a[n],1)}return M=null,t},D=e.getText=function(t){var e,a="",n=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)a+=D(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[n++];)a+=D(e);return a},k=e.selectors={cacheLength:50,createPseudo:n,match:mt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,kt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,a=!t[6]&&t[2];return mt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":a&&pt.test(a)&&(e=S(a,!0))&&(e=a.indexOf(")",a.length-e)-a.length)&&(t[0]=t[0].slice(0,e),t[2]=a.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+at+")"+t+"("+at+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,a,n){return function(i){var o=e.attr(i,t);return null==o?"!="===a:a?(o+="","="===a?o===n:"!="===a?o!==n:"^="===a?n&&0===o.indexOf(n):"*="===a?n&&o.indexOf(n)>-1:"$="===a?n&&o.slice(-n.length)===n:"~="===a?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===a?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,a,n,i){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,a,l){var c,d,u,p,h,m,g=o!==r?"nextSibling":"previousSibling",f=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s;if(f){if(o){for(;g;){for(u=e;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=g="only"===t&&!m&&"nextSibling"}return!0}if(m=[r?f.firstChild:f.lastChild],r&&b){for(d=f[B]||(f[B]={}),c=d[t]||[],h=c[0]===j&&c[1],p=c[0]===j&&c[2],u=h&&f.childNodes[h];u=++h&&u&&u[g]||(p=h=0)||m.pop();)if(1===u.nodeType&&++p&&u===e){d[t]=[j,h,p];break}}else if(b&&(c=(e[B]||(e[B]={}))[t])&&c[0]===j)p=c[1];else for(;(u=++h&&u&&u[g]||(p=h=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(b&&((u[B]||(u[B]={}))[t]=[j,p]),u!==e)););return p-=i,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(t,a){var i,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(a):o.length>1?(i=[t,t,"",a],k.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,i=o(t,a),r=i.length;r--;)n=tt(t,i[r]),t[n]=!(e[n]=i[r])}):function(t){return o(t,0,i)}):o}},pseudos:{not:n(function(t){var e=[],a=[],i=I(t.replace(lt,"$1"));return i[B]?n(function(t,e,a,n){for(var o,r=i(t,null,n,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,i(e,null,o,a),e[0]=null,!a.pop()}}),has:n(function(t){return function(a){return e(t,a).length>0}}),contains:n(function(t){return t=t.replace(wt,kt),function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:n(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,kt).toLowerCase(),function(e){var a;do if(a=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return a=a.toLowerCase(),a===t||0===a.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var a=t.location&&t.location.hash;return a&&a.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,a){return[0>a?a+e:a]}),even:c(function(t,e){for(var a=0;e>a;a+=2)t.push(a);return t}),odd:c(function(t,e){for(var a=1;e>a;a+=2)t.push(a);return t}),lt:c(function(t,e,a){for(var n=0>a?a+e:a;--n>=0;)t.push(n);return t}),gt:c(function(t,e,a){for(var n=0>a?a+e:a;++n<e;)t.push(n);return t})}},k.pseudos.nth=k.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=l(x);return u.prototype=k.filters=k.pseudos,k.setFilters=new u,S=e.tokenize=function(t,a){var n,i,o,r,s,l,c,d=U[t+" "];if(d)return a?0:d.slice(0);for(s=t,l=[],c=k.preFilter;s;){(!n||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=dt.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(lt," ")}),s=s.slice(n.length));for(r in k.filter)!(i=mt[r].exec(s))||c[r]&&!(i=c[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return a?s.length:s?e.error(t):U(t,l).slice(0)},I=e.compile=function(t,e){var a,n=[],i=[],o=G[t+" "];if(!o){for(e||(e=S(t)),a=e.length;a--;)o=b(e[a]),o[B]?n.push(o):i.push(o);o=G(t,y(i,n)),o.selector=t}return o},_=e.select=function(t,e,a,n){var i,o,r,s,l,c="function"==typeof t&&t,u=!n&&S(t=c.selector||t);if(a=a||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&w.getById&&9===e.nodeType&&E&&k.relative[o[1].type]){if(e=(k.find.ID(r.matches[0].replace(wt,kt),e)||[])[0],!e)return a;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=mt.needsContext.test(t)?0:o.length;i--&&(r=o[i],!k.relative[s=r.type]);)if((l=k.find[s])&&(n=l(r.matches[0].replace(wt,kt),yt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(i,1),t=n.length&&p(o),!t)return J.apply(a,n),a;break}}return(c||I(t,u))(n,e,!E,a,yt.test(t)&&d(e.parentNode)||e),a},w.sortStable=B.split("").sort(W).join("")===B,w.detectDuplicates=!!L,A(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,a){return a?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,a){return a||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,a){var n;return a?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);K.find=it,K.expr=it.selectors,K.expr[":"]=K.expr.pseudos,K.unique=it.uniqueSort,K.text=it.getText,K.isXMLDoc=it.isXML,K.contains=it.contains;var ot=K.expr.match.needsContext,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;K.filter=function(t,e,a){var n=e[0];return a&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?K.find.matchesSelector(n,t)?[n]:[]:K.find.matches(t,K.grep(e,function(t){return 1===t.nodeType}))},K.fn.extend({find:function(t){var e,a=this.length,n=[],i=this;
if("string"!=typeof t)return this.pushStack(K(t).filter(function(){for(e=0;a>e;e++)if(K.contains(i[e],this))return!0}));for(e=0;a>e;e++)K.find(t,i[e],n);return n=this.pushStack(a>1?K.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ot.test(t)?K(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,dt=K.fn.init=function(t,e){var a,n;if(!t)return this;if("string"==typeof t){if(a="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!a||!a[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(a[1]){if(e=e instanceof K?e[0]:e,K.merge(this,K.parseHTML(a[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),rt.test(a[1])&&K.isPlainObject(e))for(a in e)K.isFunction(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return n=Z.getElementById(a[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):K.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(K):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))};dt.prototype=K.fn,lt=K(Z);var ut=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(t,e,a){for(var n=[],i=void 0!==a;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&K(t).is(a))break;n.push(t)}return n},sibling:function(t,e){for(var a=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&a.push(t);return a}}),K.fn.extend({has:function(t){var e=K(t,this),a=e.length;return this.filter(function(){for(var t=0;a>t;t++)if(K.contains(this,e[t]))return!0})},closest:function(t,e){for(var a,n=0,i=this.length,o=[],r=ot.test(t)||"string"!=typeof t?K(t,e||this.context):0;i>n;n++)for(a=this[n];a&&a!==e;a=a.parentNode)if(a.nodeType<11&&(r?r.index(a)>-1:1===a.nodeType&&K.find.matchesSelector(a,t))){o.push(a);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(t){return t?"string"==typeof t?W.call(K(t),this[0]):W.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(K.unique(K.merge(this.get(),K(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,a){return K.dir(t,"parentNode",a)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,a){return K.dir(t,"nextSibling",a)},prevUntil:function(t,e,a){return K.dir(t,"previousSibling",a)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return t.contentDocument||K.merge([],t.childNodes)}},function(t,e){K.fn[t]=function(a,n){var i=K.map(this,e,a);return"Until"!==t.slice(-5)&&(n=a),n&&"string"==typeof n&&(i=K.filter(n,i)),this.length>1&&(pt[t]||K.unique(i),ut.test(t)&&i.reverse()),this.pushStack(i)}});var ht=/\S+/g,mt={};K.Callbacks=function(t){t="string"==typeof t?mt[t]||o(t):K.extend({},t);var e,a,n,i,r,s,l=[],c=!t.once&&[],d=function(o){for(e=t.memory&&o,a=!0,s=i||0,i=0,r=l.length,n=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(c?c.length&&d(c.shift()):e?l=[]:u.disable())},u={add:function(){if(l){var a=l.length;!function o(e){K.each(e,function(e,a){var n=K.type(a);"function"===n?t.unique&&u.has(a)||l.push(a):a&&a.length&&"string"!==n&&o(a)})}(arguments),n?r=l.length:e&&(i=a,d(e))}return this},remove:function(){return l&&K.each(arguments,function(t,e){for(var a;(a=K.inArray(e,l,a))>-1;)l.splice(a,1),n&&(r>=a&&r--,s>=a&&s--)}),this},has:function(t){return t?K.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||u.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||a&&!c||(e=e||[],e=[t,e.slice?e.slice():e],n?c.push(e):d(e)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],a="pending",n={state:function(){return a},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred(function(a){K.each(e,function(e,o){var r=K.isFunction(t[e])&&t[e];i[o[1]](function(){var t=r&&r.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[o[0]+"With"](this===n?a.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?K.extend(t,n):n}},i={};return n.pipe=n.then,K.each(e,function(t,o){var r=o[2],s=o[3];n[o[1]]=r.add,s&&r.add(function(){a=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=r.fireWith}),n.promise(i),t&&t.call(i,i),i},when:function(t){var e,a,n,i=0,o=H.call(arguments),r=o.length,s=1!==r||t&&K.isFunction(t.promise)?r:0,l=1===s?t:K.Deferred(),c=function(t,a,n){return function(i){a[t]=this,n[t]=arguments.length>1?H.call(arguments):i,n===e?l.notifyWith(a,n):--s||l.resolveWith(a,n)}};if(r>1)for(e=new Array(r),a=new Array(r),n=new Array(r);r>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(c(i,n,o)).fail(l.reject).progress(c(i,a,e)):--s;return s||l.resolveWith(n,o),l.promise()}});var gt;K.fn.ready=function(t){return K.ready.promise().done(t),this},K.extend({isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){(t===!0?--K.readyWait:K.isReady)||(K.isReady=!0,t!==!0&&--K.readyWait>0||(gt.resolveWith(Z,[K]),K.fn.triggerHandler&&(K(Z).triggerHandler("ready"),K(Z).off("ready"))))}}),K.ready.promise=function(e){return gt||(gt=K.Deferred(),"complete"===Z.readyState?setTimeout(K.ready):(Z.addEventListener("DOMContentLoaded",r,!1),t.addEventListener("load",r,!1))),gt.promise(e)},K.ready.promise();var ft=K.access=function(t,e,a,n,i,o,r){var s=0,l=t.length,c=null==a;if("object"===K.type(a)){i=!0;for(s in a)K.access(t,e,s,a[s],!0,o,r)}else if(void 0!==n&&(i=!0,K.isFunction(n)||(r=!0),c&&(r?(e.call(t,n),e=null):(c=e,e=function(t,e,a){return c.call(K(t),a)})),e))for(;l>s;s++)e(t[s],a,r?n:n.call(t[s],s,e(t[s],a)));return i?t:c?e.call(t):l?e(t[0],a):o};K.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},a=t[this.expando];if(!a){a=s.uid++;try{e[this.expando]={value:a},Object.defineProperties(t,e)}catch(n){e[this.expando]=a,K.extend(t,e)}}return this.cache[a]||(this.cache[a]={}),a},set:function(t,e,a){var n,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=a;else if(K.isEmptyObject(o))K.extend(this.cache[i],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var a=this.cache[this.key(t)];return void 0===e?a:a[e]},access:function(t,e,a){var n;return void 0===e||e&&"string"==typeof e&&void 0===a?(n=this.get(t,e),void 0!==n?n:this.get(t,K.camelCase(e))):(this.set(t,e,a),void 0!==a?a:e)},remove:function(t,e){var a,n,i,o=this.key(t),r=this.cache[o];if(void 0===e)this.cache[o]={};else{K.isArray(e)?n=e.concat(e.map(K.camelCase)):(i=K.camelCase(e),e in r?n=[e,i]:(n=i,n=n in r?[n]:n.match(ht)||[])),a=n.length;for(;a--;)delete r[n[a]]}},hasData:function(t){return!K.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,bt=new s,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xt=/([A-Z])/g;K.extend({hasData:function(t){return bt.hasData(t)||vt.hasData(t)},data:function(t,e,a){return bt.access(t,e,a)},removeData:function(t,e){bt.remove(t,e)},_data:function(t,e,a){return vt.access(t,e,a)},_removeData:function(t,e){vt.remove(t,e)}}),K.fn.extend({data:function(t,e){var a,n,i,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(i=bt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(a=r.length;a--;)r[a]&&(n=r[a].name,0===n.indexOf("data-")&&(n=K.camelCase(n.slice(5)),l(o,n,i[n])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){bt.set(this,t)}):ft(this,function(e){var a,n=K.camelCase(t);if(o&&void 0===e){if(a=bt.get(o,t),void 0!==a)return a;if(a=bt.get(o,n),void 0!==a)return a;if(a=l(o,n,void 0),void 0!==a)return a}else this.each(function(){var a=bt.get(this,n);bt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==a&&bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){bt.remove(this,t)})}}),K.extend({queue:function(t,e,a){var n;return t?(e=(e||"fx")+"queue",n=vt.get(t,e),a&&(!n||K.isArray(a)?n=vt.access(t,e,K.makeArray(a)):n.push(a)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var a=K.queue(t,e),n=a.length,i=a.shift(),o=K._queueHooks(t,e),r=function(){K.dequeue(t,e)};"inprogress"===i&&(i=a.shift(),n--),i&&("fx"===e&&a.unshift("inprogress"),delete o.stop,i.call(t,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var a=e+"queueHooks";return vt.get(t,a)||vt.access(t,a,{empty:K.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",a])})})}}),K.fn.extend({queue:function(t,e){var a=2;return"string"!=typeof t&&(e=t,t="fx",a--),arguments.length<a?K.queue(this[0],t):void 0===e?this:this.each(function(){var a=K.queue(this,t,e);K._queueHooks(this,t),"fx"===t&&"inprogress"!==a[0]&&K.dequeue(this,t)})},dequeue:function(t){return this.each(function(){K.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var a,n=1,i=K.Deferred(),o=this,r=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)a=vt.get(o[r],t+"queueHooks"),a&&a.empty&&(n++,a.empty.add(s));return s(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),a=Z.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),e.appendChild(a),X.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";X.focusinBubbles="onfocusin"in t;var It=/^key/,_t=/^(?:mouse|pointer|contextmenu)|click/,Ct=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(t,e,a,n,i){var o,r,s,l,c,d,u,p,h,m,g,f=vt.get(t);if(f)for(a.handler&&(o=a,a=o.handler,i=o.selector),a.guid||(a.guid=K.guid++),(l=f.events)||(l=f.events={}),(r=f.handle)||(r=f.handle=function(e){return typeof K!==St&&K.event.triggered!==e.type?K.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(ht)||[""],c=e.length;c--;)s=Mt.exec(e[c])||[],h=g=s[1],m=(s[2]||"").split(".").sort(),h&&(u=K.event.special[h]||{},h=(i?u.delegateType:u.bindType)||h,u=K.event.special[h]||{},d=K.extend({type:h,origType:g,data:n,handler:a,guid:a.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:m.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,u.setup&&u.setup.call(t,n,m,r)!==!1||t.addEventListener&&t.addEventListener(h,r,!1)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=a.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),K.event.global[h]=!0)},remove:function(t,e,a,n,i){var o,r,s,l,c,d,u,p,h,m,g,f=vt.hasData(t)&&vt.get(t);if(f&&(l=f.events)){for(e=(e||"").match(ht)||[""],c=e.length;c--;)if(s=Mt.exec(e[c])||[],h=g=s[1],m=(s[2]||"").split(".").sort(),h){for(u=K.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,p=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=p.length;o--;)d=p[o],!i&&g!==d.origType||a&&a.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(t,d));r&&!p.length&&(u.teardown&&u.teardown.call(t,m,f.handle)!==!1||K.removeEvent(t,h,f.handle),delete l[h])}else for(h in l)K.event.remove(t,h+e[c],a,n,!0);K.isEmptyObject(l)&&(delete f.handle,vt.remove(t,"events"))}},trigger:function(e,a,n,i){var o,r,s,l,c,d,u,p=[n||Z],h=Y.call(e,"type")?e.type:e,m=Y.call(e,"namespace")?e.namespace.split("."):[];if(r=s=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!Ct.test(h+K.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[K.expando]?e:new K.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),a=null==a?[e]:K.makeArray(a,[e]),u=K.event.special[h]||{},i||!u.trigger||u.trigger.apply(n,a)!==!1)){if(!i&&!u.noBubble&&!K.isWindow(n)){for(l=u.delegateType||h,Ct.test(l+h)||(r=r.parentNode);r;r=r.parentNode)p.push(r),s=r;s===(n.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||t)}for(o=0;(r=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:u.bindType||h,d=(vt.get(r,"events")||{})[e.type]&&vt.get(r,"handle"),d&&d.apply(r,a),d=c&&r[c],d&&d.apply&&K.acceptData(r)&&(e.result=d.apply(r,a),e.result===!1&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),a)!==!1||!K.acceptData(n)||c&&K.isFunction(n[h])&&!K.isWindow(n)&&(s=n[c],s&&(n[c]=null),K.event.triggered=h,n[h](),K.event.triggered=void 0,s&&(n[c]=s)),e.result}},dispatch:function(t){t=K.event.fix(t);var e,a,n,i,o,r=[],s=H.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],c=K.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(r=K.event.handlers.call(this,t,l),e=0;(i=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,a=0;(o=i.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var a,n,i,o,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],a=0;s>a;a++)o=e[a],i=o.selector+" ",void 0===n[i]&&(n[i]=o.needsContext?K(i,this).index(l)>=0:K.find(i,this,null,[l]).length),n[i]&&n.push(o);n.length&&r.push({elem:l,handlers:n})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var a,n,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(a=t.target.ownerDocument||Z,n=a.documentElement,i=a.body,t.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,a,n,i=t.type,o=t,r=this.fixHooks[i];for(r||(this.fixHooks[i]=r=_t.test(i)?this.mouseHooks:It.test(i)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new K.Event(o),e=n.length;e--;)a=n[e],t[a]=o[a];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return K.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,a,n){var i=K.extend(new K.Event,a,{type:t,isSimulated:!0,originalEvent:{}});n?K.event.trigger(i,null,e):K.event.dispatch.call(e,i),i.isDefaultPrevented()&&a.preventDefault()}},K.removeEvent=function(t,e,a){t.removeEventListener&&t.removeEventListener(e,a,!1)},K.Event=function(t,e){return this instanceof K.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:d):this.type=t,e&&K.extend(this,e),this.timeStamp=t&&t.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(t,e)},K.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var a,n=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==n&&!K.contains(n,i))&&(t.type=o.origType,a=o.handler.apply(this,arguments),t.type=e),a}}}),X.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(t,e){var a=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){var n=this.ownerDocument||this,i=vt.access(n,e);i||n.addEventListener(t,a,!0),vt.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=vt.access(n,e)-1;i?vt.access(n,e,i):(n.removeEventListener(t,a,!0),vt.remove(n,e))}}}),K.fn.extend({on:function(t,e,a,n,i){var o,r;if("object"==typeof t){"string"!=typeof e&&(a=a||e,e=void 0);for(r in t)this.on(r,e,a,t[r],i);return this}if(null==a&&null==n?(n=e,a=e=void 0):null==n&&("string"==typeof e?(n=a,a=void 0):(n=a,a=e,e=void 0)),n===!1)n=d;else if(!n)return this;return 1===i&&(o=n,n=function(t){return K().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=K.guid++)),this.each(function(){K.event.add(this,t,n,a,e)})},one:function(t,e,a,n){return this.on(t,e,a,n,1)},off:function(t,e,a){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,K(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(a=e,e=void 0),a===!1&&(a=d),this.each(function(){K.event.remove(this,t,a,e)})},trigger:function(t,e){return this.each(function(){K.event.trigger(t,e,this)})},triggerHandler:function(t,e){var a=this[0];return a?K.event.trigger(t,e,a,!0):void 0}});var Lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,At=/<([\w:]+)/,Pt=/<|&#?\w+;/,Nt=/<(?:script|style|link)/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,K.extend({clone:function(t,e,a){var n,i,o,r,s=t.cloneNode(!0),l=K.contains(t.ownerDocument,t);if(!(X.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(r=v(s),o=v(t),n=0,i=o.length;i>n;n++)b(o[n],r[n]);if(e)if(a)for(o=o||v(t),r=r||v(s),n=0,i=o.length;i>n;n++)f(o[n],r[n]);else f(t,s);return r=v(s,"script"),r.length>0&&g(r,!l&&v(t,"script")),s},buildFragment:function(t,e,a,n){for(var i,o,r,s,l,c,d=e.createDocumentFragment(),u=[],p=0,h=t.length;h>p;p++)if(i=t[p],i||0===i)if("object"===K.type(i))K.merge(u,i.nodeType?[i]:i);else if(Pt.test(i)){for(o=o||d.appendChild(e.createElement("div")),r=(At.exec(i)||["",""])[1].toLowerCase(),s=zt[r]||zt._default,o.innerHTML=s[1]+i.replace(Lt,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;K.merge(u,o.childNodes),o=d.firstChild,o.textContent=""}else u.push(e.createTextNode(i));for(d.textContent="",p=0;i=u[p++];)if((!n||-1===K.inArray(i,n))&&(l=K.contains(i.ownerDocument,i),o=v(d.appendChild(i),"script"),l&&g(o),a))for(c=0;i=o[c++];)$t.test(i.type||"")&&a.push(i);return d},cleanData:function(t){for(var e,a,n,i,o=K.event.special,r=0;void 0!==(a=t[r]);r++){if(K.acceptData(a)&&(i=a[vt.expando],i&&(e=vt.cache[i]))){if(e.events)for(n in e.events)o[n]?K.event.remove(a,n):K.removeEvent(a,n,e.handle);vt.cache[i]&&delete vt.cache[i]}delete bt.cache[a[bt.expando]]}}}),K.fn.extend({text:function(t){return ft(this,function(t){return void 0===t?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var a,n=t?K.filter(t,this):this,i=0;null!=(a=n[i]);i++)e||1!==a.nodeType||K.cleanData(v(a)),a.parentNode&&(e&&K.contains(a.ownerDocument,a)&&g(v(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(K.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return K.clone(this,t,e)})},html:function(t){return ft(this,function(t){var e=this[0]||{},a=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!zt[(At.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Lt,"<$1></$2>");try{for(;n>a;a++)e=this[a]||{},1===e.nodeType&&(K.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,K.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var a,n,i,o,r,s,l=0,c=this.length,d=this,u=c-1,p=t[0],g=K.isFunction(p);if(g||c>1&&"string"==typeof p&&!X.checkClone&&Et.test(p))return this.each(function(a){var n=d.eq(a);g&&(t[0]=p.call(this,a,n.html())),n.domManip(t,e)});if(c&&(a=K.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(i=K.map(v(a,"script"),h),o=i.length;c>l;l++)r=a,l!==u&&(r=K.clone(r,!0,!0),o&&K.merge(i,v(r,"script"))),e.call(this[l],r,l);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,m),l=0;o>l;l++)r=i[l],$t.test(r.type||"")&&!vt.access(r,"globalEval")&&K.contains(s,r)&&(r.src?K._evalUrl&&K._evalUrl(r.src):K.globalEval(r.textContent.replace(qt,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){K.fn[t]=function(t){for(var a,n=[],i=K(t),o=i.length-1,r=0;o>=r;r++)a=r===o?this:this.clone(!0),K(i[r])[e](a),G.apply(n,a.get());return this.pushStack(n)}});var Bt,Ot={},jt=/^margin/,Ft=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Ht=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(r,null);a="1%"!==e.top,n="4px"===e.width,i.removeChild(o)}var a,n,i=Z.documentElement,o=Z.createElement("div"),r=Z.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),t.getComputedStyle&&K.extend(X,{pixelPosition:function(){return e(),a},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,a=r.appendChild(Z.createElement("div"));return a.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",r.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(a,null).marginRight),i.removeChild(o),r.removeChild(a),e}}))}(),K.swap=function(t,e,a,n){var i,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];i=a.apply(t,n||[]);for(o in e)t.style[o]=r[o];return i};var Ut=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+wt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+wt+")","i"),Qt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var a=w(t,"opacity");return""===a?"1":a}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,a,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,r,s=K.camelCase(e),l=t.style;return e=K.cssProps[s]||(K.cssProps[s]=D(l,s)),r=K.cssHooks[e]||K.cssHooks[s],void 0===a?r&&"get"in r&&void 0!==(i=r.get(t,!1,n))?i:l[e]:(o=typeof a,"string"===o&&(i=Wt.exec(a))&&(a=(i[1]+1)*i[2]+parseFloat(K.css(t,e)),o="number"),void(null!=a&&a===a&&("number"!==o||K.cssNumber[s]||(a+="px"),X.clearCloneStyle||""!==a||0!==e.indexOf("background")||(l[e]="inherit"),r&&"set"in r&&void 0===(a=r.set(t,a,n))||(l[e]=a))))}},css:function(t,e,a,n){var i,o,r,s=K.camelCase(e);return e=K.cssProps[s]||(K.cssProps[s]=D(t.style,s)),r=K.cssHooks[e]||K.cssHooks[s],r&&"get"in r&&(i=r.get(t,!0,a)),void 0===i&&(i=w(t,e,n)),"normal"===i&&e in Vt&&(i=Vt[e]),""===a||a?(o=parseFloat(i),a===!0||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],function(t,e){K.cssHooks[e]={get:function(t,a,n){return a?Ut.test(K.css(t,"display"))&&0===t.offsetWidth?K.swap(t,Qt,function(){return I(t,e,n)}):I(t,e,n):void 0},set:function(t,a,n){var i=n&&Ht(t);return T(t,a,n?S(t,e,n,"border-box"===K.css(t,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=k(X.reliableMarginRight,function(t,e){return e?K.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(t,e){K.cssHooks[t+e]={expand:function(a){for(var n=0,i={},o="string"==typeof a?a.split(" "):[a];4>n;n++)i[t+kt[n]+e]=o[n]||o[n-2]||o[0];return i}},jt.test(t)||(K.cssHooks[t+e].set=T)}),K.fn.extend({css:function(t,e){return ft(this,function(t,e,a){var n,i,o={},r=0;if(K.isArray(e)){for(n=Ht(t),i=e.length;i>r;r++)o[e[r]]=K.css(t,e[r],!1,n);return o}return void 0!==a?K.style(t,e,a):K.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?K(this).show():K(this).hide()})}}),K.Tween=C,C.prototype={constructor:C,init:function(t,e,a,n,i,o){this.elem=t,this.prop=a,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(K.cssNumber[a]?"":"px")},cur:function(){var t=C.propHooks[this.prop];return t&&t.get?t.get(this):C.propHooks._default.get(this)},run:function(t){var e,a=C.propHooks[this.prop];return this.options.duration?this.pos=e=K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.fx=C.prototype.init,K.fx.step={};var Xt,Zt,Jt=/^(?:toggle|show|hide)$/,Kt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[P],ae={"*":[function(t,e){var a=this.createTween(t,e),n=a.cur(),i=Kt.exec(e),o=i&&i[3]||(K.cssNumber[t]?"":"px"),r=(K.cssNumber[t]||"px"!==o&&+n)&&Kt.exec(K.css(a.elem,t)),s=1,l=20;if(r&&r[3]!==o){o=o||r[3],i=i||[],r=+n||1;do s=s||".5",r/=s,K.style(a.elem,t,r+o);while(s!==(s=a.cur()/n)&&1!==s&&--l)}return i&&(r=a.start=+r||+n||0,a.unit=o,a.end=i[1]?r+(i[1]+1)*i[2]:+i[2]),a}]};K.Animation=K.extend(E,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var a,n=0,i=t.length;i>n;n++)a=t[n],ae[a]=ae[a]||[],ae[a].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),K.speed=function(t,e,a){var n=t&&"object"==typeof t?K.extend({},t):{complete:a||!a&&e||K.isFunction(t)&&t,duration:t,easing:a&&e||e&&!K.isFunction(e)&&e};return n.duration=K.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in K.fx.speeds?K.fx.speeds[n.duration]:K.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){K.isFunction(n.old)&&n.old.call(this),n.queue&&K.dequeue(this,n.queue)},n},K.fn.extend({fadeTo:function(t,e,a,n){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,a,n)},animate:function(t,e,a,n){var i=K.isEmptyObject(t),o=K.speed(e,a,n),r=function(){var e=E(this,K.extend({},t),o);(i||vt.get(this,"finish"))&&e.stop(!0)};return r.finish=r,i||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,e,a){var n=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof t&&(a=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=K.timers,r=vt.get(this);if(i)r[i]&&r[i].stop&&n(r[i]);else for(i in r)r[i]&&r[i].stop&&te.test(i)&&n(r[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(a),e=!1,o.splice(i,1));(e||!a)&&K.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,a=vt.get(this),n=a[t+"queue"],i=a[t+"queueHooks"],o=K.timers,r=n?n.length:0;for(a.finish=!0,K.queue(this,t,[]),
i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete a.finish})}}),K.each(["toggle","show","hide"],function(t,e){var a=K.fn[e];K.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?a.apply(this,arguments):this.animate(L(e,!0),t,n,i)}}),K.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){K.fn[t]=function(t,a,n){return this.animate(e,t,a,n)}}),K.timers=[],K.fx.tick=function(){var t,e=0,a=K.timers;for(Xt=K.now();e<a.length;e++)t=a[e],t()||a[e]!==t||a.splice(e--,1);a.length||K.fx.stop(),Xt=void 0},K.fx.timer=function(t){K.timers.push(t),t()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Zt||(Zt=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Zt),Zt=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(t,e){return t=K.fx?K.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,a){var n=setTimeout(e,t);a.stop=function(){clearTimeout(n)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),a=e.appendChild(Z.createElement("option"));t.type="checkbox",X.checkOn=""!==t.value,X.optSelected=a.selected,e.disabled=!0,X.optDisabled=!a.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",X.radioValue="t"===t.value}();var ne,ie,oe=K.expr.attrHandle;K.fn.extend({attr:function(t,e){return ft(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){K.removeAttr(this,t)})}}),K.extend({attr:function(t,e,a){var n,i,o=t.nodeType;return t&&3!==o&&8!==o&&2!==o?typeof t.getAttribute===St?K.prop(t,e,a):(1===o&&K.isXMLDoc(t)||(e=e.toLowerCase(),n=K.attrHooks[e]||(K.expr.match.bool.test(e)?ie:ne)),void 0===a?n&&"get"in n&&null!==(i=n.get(t,e))?i:(i=K.find.attr(t,e),null==i?void 0:i):null!==a?n&&"set"in n&&void 0!==(i=n.set(t,a,e))?i:(t.setAttribute(e,a+""),a):void K.removeAttr(t,e)):void 0},removeAttr:function(t,e){var a,n,i=0,o=e&&e.match(ht);if(o&&1===t.nodeType)for(;a=o[i++];)n=K.propFix[a]||a,K.expr.match.bool.test(a)&&(t[n]=!1),t.removeAttribute(a)},attrHooks:{type:{set:function(t,e){if(!X.radioValue&&"radio"===e&&K.nodeName(t,"input")){var a=t.value;return t.setAttribute("type",e),a&&(t.value=a),e}}}}}),ie={set:function(t,e,a){return e===!1?K.removeAttr(t,a):t.setAttribute(a,a),a}},K.each(K.expr.match.bool.source.match(/\w+/g),function(t,e){var a=oe[e]||K.find.attr;oe[e]=function(t,e,n){var i,o;return n||(o=oe[e],oe[e]=i,i=null!=a(t,e,n)?e.toLowerCase():null,oe[e]=o),i}});var re=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(t,e){return ft(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[K.propFix[t]||t]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,a){var n,i,o,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?(o=1!==r||!K.isXMLDoc(t),o&&(e=K.propFix[e]||e,i=K.propHooks[e]),void 0!==a?i&&"set"in i&&void 0!==(n=i.set(t,a,e))?n:t[e]=a:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||re.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),X.optSelected||(K.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;K.fn.extend({addClass:function(t){var e,a,n,i,o,r,s="string"==typeof t&&t,l=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];c>l;l++)if(a=this[l],n=1===a.nodeType&&(a.className?(" "+a.className+" ").replace(se," "):" ")){for(o=0;i=e[o++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");r=K.trim(n),a.className!==r&&(a.className=r)}return this},removeClass:function(t){var e,a,n,i,o,r,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];c>l;l++)if(a=this[l],n=1===a.nodeType&&(a.className?(" "+a.className+" ").replace(se," "):"")){for(o=0;i=e[o++];)for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");r=t?K.trim(n):"",a.className!==r&&(a.className=r)}return this},toggleClass:function(t,e){var a=typeof t;return"boolean"==typeof e&&"string"===a?e?this.addClass(t):this.removeClass(t):this.each(K.isFunction(t)?function(a){K(this).toggleClass(t.call(this,a,this.className,e),e)}:function(){if("string"===a)for(var e,n=0,i=K(this),o=t.match(ht)||[];e=o[n++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(a===St||"boolean"===a)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",a=0,n=this.length;n>a;a++)if(1===this[a].nodeType&&(" "+this[a].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;K.fn.extend({val:function(t){var e,a,n,i=this[0];return arguments.length?(n=K.isFunction(t),this.each(function(a){var i;1===this.nodeType&&(i=n?t.call(this,a,K(this).val()):t,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(t){return null==t?"":t+""})),e=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(a=e.get(i,"value"))?a:(a=i.value,"string"==typeof a?a.replace(le,""):null==a?"":a)):void 0}}),K.extend({valHooks:{option:{get:function(t){var e=K.find.attr(t,"value");return null!=e?e:K.trim(K.text(t))}},select:{get:function(t){for(var e,a,n=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,r=o?null:[],s=o?i+1:n.length,l=0>i?s:o?i:0;s>l;l++)if(a=n[l],!(!a.selected&&l!==i||(X.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&K.nodeName(a.parentNode,"optgroup"))){if(e=K(a).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var a,n,i=t.options,o=K.makeArray(e),r=i.length;r--;)n=i[r],(n.selected=K.inArray(n.value,o)>=0)&&(a=!0);return a||(t.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(t,e){return K.isArray(e)?t.checked=K.inArray(K(t).val(),e)>=0:void 0}},X.checkOn||(K.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){K.fn[e]=function(t,a){return arguments.length>0?this.on(e,null,t,a):this.trigger(e)}}),K.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,a){return this.on(t,null,e,a)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,a,n){return this.on(e,t,a,n)},undelegate:function(t,e,a){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",a)}});var ce=K.now(),de=/\?/;K.parseJSON=function(t){return JSON.parse(t+"")},K.parseXML=function(t){var e,a;if(!t||"string"!=typeof t)return null;try{a=new DOMParser,e=a.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+t),e};var ue=/#.*$/,pe=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,fe=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,be={},ye={},xe="*/".concat("*"),we=t.location.href,ke=ve.exec(we.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:me.test(ke[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,K.ajaxSettings),e):q(K.ajaxSettings,t)},ajaxPrefilter:$(be),ajaxTransport:$(ye),ajax:function(t,e){function a(t,e,a,r){var l,d,v,b,x,k=e;2!==y&&(y=2,s&&clearTimeout(s),n=void 0,o=r||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,a&&(b=z(u,w,a)),b=B(u,b,w,l),l?(u.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(K.lastModified[i]=x),x=w.getResponseHeader("etag"),x&&(K.etag[i]=x)),204===t||"HEAD"===u.type?k="nocontent":304===t?k="notmodified":(k=b.state,d=b.data,v=b.error,l=!v)):(v=k,(t||!k)&&(k="error",0>t&&(t=0))),w.status=t,w.statusText=(e||k)+"",l?m.resolveWith(p,[d,k,w]):m.rejectWith(p,[w,k,v]),w.statusCode(f),f=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[w,u,l?d:v]),g.fireWith(p,[w,k]),c&&(h.trigger("ajaxComplete",[w,u]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,r,s,l,c,d,u=K.ajaxSetup({},e),p=u.context||u,h=u.context&&(p.nodeType||p.jquery)?K(p):K.event,m=K.Deferred(),g=K.Callbacks("once memory"),f=u.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!r)for(r={};e=he.exec(o);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var a=t.toLowerCase();return y||(t=b[a]=b[a]||t,v[t]=e),this},overrideMimeType:function(t){return y||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)f[e]=[f[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return n&&n.abort(e),a(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((t||u.url||we)+"").replace(ue,"").replace(fe,ke[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=K.trim(u.dataType||"*").toLowerCase().match(ht)||[""],null==u.crossDomain&&(l=ve.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===ke[1]&&l[2]===ke[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ke[3]||("http:"===ke[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=K.param(u.data,u.traditional)),R(be,u,e,w),2===y)return w;c=K.event&&u.global,c&&0===K.active++&&K.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ge.test(u.type),i=u.url,u.hasContent||(u.data&&(i=u.url+=(de.test(i)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=pe.test(i)?i.replace(pe,"$1_="+ce++):i+(de.test(i)?"&":"?")+"_="+ce++)),u.ifModified&&(K.lastModified[i]&&w.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&w.setRequestHeader("If-None-Match",K.etag[i])),(u.data&&u.hasContent&&u.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+xe+"; q=0.01":""):u.accepts["*"]);for(d in u.headers)w.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(u.beforeSend.call(p,w,u)===!1||2===y))return w.abort();x="abort";for(d in{success:1,error:1,complete:1})w[d](u[d]);if(n=R(ye,u,e,w)){w.readyState=1,c&&h.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{y=1,n.send(v,a)}catch(k){if(!(2>y))throw k;a(-1,k)}}else a(-1,"No Transport");return w},getJSON:function(t,e,a){return K.get(t,e,a,"json")},getScript:function(t,e){return K.get(t,void 0,e,"script")}}),K.each(["get","post"],function(t,e){K[e]=function(t,a,n,i){return K.isFunction(a)&&(i=i||n,n=a,a=void 0),K.ajax({url:t,type:e,dataType:i,data:a,success:n})}}),K._evalUrl=function(t){return K.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(t){var e;return K.isFunction(t)?this.each(function(e){K(this).wrapAll(t.call(this,e))}):(this[0]&&(e=K(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(K.isFunction(t)?function(e){K(this).wrapInner(t.call(this,e))}:function(){var e=K(this),a=e.contents();a.length?a.wrapAll(t):e.append(t)})},wrap:function(t){var e=K.isFunction(t);return this.each(function(a){K(this).wrapAll(e?t.call(this,a):t)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)};var De=/%20/g,Te=/\[\]$/,Se=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;K.param=function(t,e){var a,n=[],i=function(t,e){e=K.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,function(){i(this.name,this.value)});else for(a in t)O(a,t[a],e,i);return n.join("&").replace(De,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=K.prop(this,"elements");return t?K.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!K(this).is(":disabled")&&_e.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var a=K(this).val();return null==a?null:K.isArray(a)?K.map(a,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:a.replace(Se,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ce=0,Me={},Le={0:200,1223:204},Ae=K.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Me)Me[t]()}),X.cors=!!Ae&&"withCredentials"in Ae,X.ajax=Ae=!!Ae,K.ajaxTransport(function(t){var e;return X.cors||Ae&&!t.crossDomain?{send:function(a,n){var i,o=t.xhr(),r=++Ce;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");for(i in a)o.setRequestHeader(i,a[i]);e=function(t){return function(){e&&(delete Me[r],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(Le[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Me[r]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),K.ajaxTransport("script",function(t){if(t.crossDomain){var e,a;return{send:function(n,i){e=K("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",a=function(t){e.remove(),a=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){a&&a()}}}});var Pe=[],Ne=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||K.expando+"_"+ce++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",function(e,a,n){var i,o,r,s=e.jsonp!==!1&&(Ne.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=K.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ne,"$1"+i):e.jsonp!==!1&&(e.url+=(de.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||K.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){r=arguments},n.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=a.jsonpCallback,Pe.push(i)),r&&K.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),K.parseHTML=function(t,e,a){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(a=e,e=!1),e=e||Z;var n=rt.exec(t),i=!a&&[];return n?[e.createElement(n[1])]:(n=K.buildFragment([t],e,i),i&&i.length&&K(i).remove(),K.merge([],n.childNodes))};var Ee=K.fn.load;K.fn.load=function(t,e,a){if("string"!=typeof t&&Ee)return Ee.apply(this,arguments);var n,i,o,r=this,s=t.indexOf(" ");return s>=0&&(n=K.trim(t.slice(s)),t=t.slice(0,s)),K.isFunction(e)?(a=e,e=void 0):e&&"object"==typeof e&&(i="POST"),r.length>0&&K.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,r.html(n?K("<div>").append(K.parseHTML(t)).find(n):t)}).complete(a&&function(t,e){r.each(a,o||[t.responseText,e,t])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){K.fn[e]=function(t){return this.on(e,t)}}),K.expr.filters.animated=function(t){return K.grep(K.timers,function(e){return t===e.elem}).length};var $e=t.document.documentElement;K.offset={setOffset:function(t,e,a){var n,i,o,r,s,l,c,d=K.css(t,"position"),u=K(t),p={};"static"===d&&(t.style.position="relative"),s=u.offset(),o=K.css(t,"top"),l=K.css(t,"left"),c=("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1,c?(n=u.position(),r=n.top,i=n.left):(r=parseFloat(o)||0,i=parseFloat(l)||0),K.isFunction(e)&&(e=e.call(t,a,s)),null!=e.top&&(p.top=e.top-s.top+r),null!=e.left&&(p.left=e.left-s.left+i),"using"in e?e.using.call(t,p):u.css(p)}},K.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){K.offset.setOffset(this,t,e)});var e,a,n=this[0],i={top:0,left:0},o=n&&n.ownerDocument;return o?(e=o.documentElement,K.contains(e,n)?(typeof n.getBoundingClientRect!==St&&(i=n.getBoundingClientRect()),a=j(o),{top:i.top+a.pageYOffset-e.clientTop,left:i.left+a.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,a=this[0],n={top:0,left:0};return"fixed"===K.css(a,"position")?e=a.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),K.nodeName(t[0],"html")||(n=t.offset()),n.top+=K.css(t[0],"borderTopWidth",!0),n.left+=K.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-K.css(a,"marginTop",!0),left:e.left-n.left-K.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||$e;t&&!K.nodeName(t,"html")&&"static"===K.css(t,"position");)t=t.offsetParent;return t||$e})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,a){var n="pageYOffset"===a;K.fn[e]=function(i){return ft(this,function(e,i,o){var r=j(e);return void 0===o?r?r[a]:e[i]:void(r?r.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),K.each(["top","left"],function(t,e){K.cssHooks[e]=k(X.pixelPosition,function(t,a){return a?(a=w(t,e),Ft.test(a)?K(t).position()[e]+"px":a):void 0})}),K.each({Height:"height",Width:"width"},function(t,e){K.each({padding:"inner"+t,content:e,"":"outer"+t},function(a,n){K.fn[n]=function(n,i){var o=arguments.length&&(a||"boolean"!=typeof n),r=a||(n===!0||i===!0?"margin":"border");return ft(this,function(e,a,n){var i;return K.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===n?K.css(e,a,r):K.style(e,a,n,r)},e,o?n:void 0,o,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var Re=t.jQuery,qe=t.$;return K.noConflict=function(e){return t.$===K&&(t.$=qe),e&&t.jQuery===K&&(t.jQuery=Re),K},typeof e===St&&(t.jQuery=t.$=K),K}),/*! cropit - v0.5.1 <https://github.com/scottcheng/cropit> */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports.cropit=e(require("jquery")):t.cropit=e(t.jQuery)}(this,function(t){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){function n(t){return t&&t.__esModule?t:{"default":t}}var i=Array.prototype.slice,o=a(1),r=n(o),s=a(2),l=n(s),c=a(4),d=a(6),u=function(t,e){return t.each(function(){var t=r["default"].data(this,c.PLUGIN_KEY);t&&e(t)})},p=function(t,e,a){var n=t.first().data(c.PLUGIN_KEY);return n&&r["default"].isFunction(n[e])?n[e](a):null},h={init:function(t){return this.each(function(){if(!r["default"].data(this,c.PLUGIN_KEY)){var e=new l["default"](r["default"],this,t);r["default"].data(this,c.PLUGIN_KEY,e)}})},destroy:function(){return this.each(function(){r["default"].removeData(this,c.PLUGIN_KEY)})},isZoomable:function(){return p(this,"isZoomable")},"export":function(t){return p(this,"getCroppedImageData",t)}},m=function(t,e){return u(t,function(t){t[e]()})},g=function(t,e,a){if((0,d.exists)(a))return u(t,function(t){t[e]=a});var n=t.first().data(c.PLUGIN_KEY);return n[e]};r["default"].fn.cropit=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):["imageState","imageSrc","offset","previewSize","imageSize","zoom","initialZoom","exportZoom","minZoom","maxZoom"].indexOf(t)>=0?g.apply(void 0,[this].concat(i.call(arguments))):["rotateCW","rotateCCW","disable","reenable"].indexOf(t)>=0?m.apply(void 0,[this].concat(i.call(arguments))):h.init.apply(this,arguments)}},function(e,a){e.exports=t},function(t,e,a){function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),r=a(1),s=n(r),l=a(3),c=n(l),d=a(4),u=a(5),p=a(6),h=function(){function t(e,a,n){i(this,t),this.$el=(0,s["default"])(a);var o=(0,u.loadDefaults)(this.$el);this.options=s["default"].extend({},o,n),this.init()}return o(t,[{key:"init",value:function(){var t=this;this.image=new Image,this.preImage=new Image,this.image.onload=this.onImageLoaded.bind(this),this.preImage.onload=this.onPreImageLoaded.bind(this),this.image.onerror=this.preImage.onerror=function(){t.onImageError.call(t,d.ERRORS.IMAGE_FAILED_TO_LOAD)},this.$preview=this.options.$preview.css("position","relative"),this.$fileInput=this.options.$fileInput.attr({accept:"image/*"}),this.$zoomSlider=this.options.$zoomSlider.attr({min:0,max:1,step:.01}),this.previewSize={width:this.options.width||this.$preview.innerWidth(),height:this.options.height||this.$preview.innerHeight()},this.$image=(0,s["default"])("<img />").addClass(d.CLASS_NAMES.PREVIEW_IMAGE).attr("alt","").css({transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$imageContainer=(0,s["default"])("<div />").addClass(d.CLASS_NAMES.PREVIEW_IMAGE_CONTAINER).css({position:"absolute",overflow:"hidden",left:0,top:0,width:"100%",height:"100%"}).append(this.$image),this.$preview.append(this.$imageContainer),this.options.imageBackground&&(s["default"].isArray(this.options.imageBackgroundBorderWidth)?this.bgBorderWidthArray=this.options.imageBackgroundBorderWidth:this.bgBorderWidthArray=[0,1,2,3].map(function(){return t.options.imageBackgroundBorderWidth}),this.$bg=(0,s["default"])("<img />").addClass(d.CLASS_NAMES.PREVIEW_BACKGROUND).attr("alt","").css({position:"relative",left:this.bgBorderWidthArray[3],top:this.bgBorderWidthArray[0],transformOrigin:"top left",webkitTransformOrigin:"top left",willChange:"transform"}),this.$bgContainer=(0,s["default"])("<div />").addClass(d.CLASS_NAMES.PREVIEW_BACKGROUND_CONTAINER).css({position:"absolute",zIndex:0,top:-this.bgBorderWidthArray[0],right:-this.bgBorderWidthArray[1],bottom:-this.bgBorderWidthArray[2],left:-this.bgBorderWidthArray[3]}).append(this.$bg),this.bgBorderWidthArray[0]>0&&this.$bgContainer.css("overflow","hidden"),this.$preview.prepend(this.$bgContainer)),this.initialZoom=this.options.initialZoom,this.imageLoaded=!1,this.moveContinue=!1,this.zoomer=new c["default"],this.options.allowDragNDrop&&s["default"].event.props.push("dataTransfer"),this.bindListeners(),this.options.imageState&&this.options.imageState.src&&this.loadImage(this.options.imageState.src)}},{key:"bindListeners",value:function(){this.$fileInput.on("change.cropit",this.onFileChange.bind(this)),this.$imageContainer.on(d.EVENTS.PREVIEW,this.onPreviewEvent.bind(this)),this.$zoomSlider.on(d.EVENTS.ZOOM_INPUT,this.onZoomSliderChange.bind(this)),this.options.allowDragNDrop&&(this.$imageContainer.on("dragover.cropit dragleave.cropit",this.onDragOver.bind(this)),this.$imageContainer.on("drop.cropit",this.onDrop.bind(this)))}},{key:"unbindListeners",value:function(){this.$fileInput.off("change.cropit"),this.$imageContainer.off(d.EVENTS.PREVIEW),this.$imageContainer.off("dragover.cropit dragleave.cropit drop.cropit"),this.$zoomSlider.off(d.EVENTS.ZOOM_INPUT)}},{key:"onFileChange",value:function(t){this.options.onFileChange(t),this.$fileInput.get(0).files&&this.loadFile(this.$fileInput.get(0).files[0])}},{key:"loadFile",value:function(t){var e=new FileReader;t&&t.type.match("image")?(e.readAsDataURL(t),e.onload=this.onFileReaderLoaded.bind(this),e.onerror=this.onFileReaderError.bind(this)):t&&this.onFileReaderError()}},{key:"onFileReaderLoaded",value:function(t){this.loadImage(t.target.result)}},{key:"onFileReaderError",value:function(){this.options.onFileReaderError()}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",this.$preview.toggleClass(d.CLASS_NAMES.DRAG_HOVERED,"dragover"===t.type)}},{key:"onDrop",value:function(t){var e=this;t.preventDefault(),t.stopPropagation();var a=Array.prototype.slice.call(t.dataTransfer.files,0);a.some(function(t){return t.type.match("image")?(e.loadFile(t),!0):!1}),this.$preview.removeClass(d.CLASS_NAMES.DRAG_HOVERED)}},{key:"loadImage",value:function(t){var e=this;if(t)if(this.options.onImageLoading(),this.setImageLoadingClass(),0===t.indexOf("data"))this.preImage.src=t;else{var a=new XMLHttpRequest;a.onload=function(t){return t.target.status>=300?void e.onImageError.call(e,d.ERRORS.IMAGE_FAILED_TO_LOAD):void e.loadFile(t.target.response)},a.open("GET",t),a.responseType="blob",a.send()}}},{key:"onPreImageLoaded",value:function(){return this.shouldRejectImage({imageWidth:this.preImage.width,imageHeight:this.preImage.height,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?(this.onImageError(d.ERRORS.SMALL_IMAGE),void(this.image.src&&this.setImageLoadedClass())):void(this.image.src=this.preImage.src)}},{key:"onImageLoaded",value:function(){this.rotation=0,this.setupZoomer(this.options.imageState&&this.options.imageState.zoom||this._initialZoom),this.options.imageState&&this.options.imageState.offset?this.offset=this.options.imageState.offset:this.centerImage(),this.options.imageState={},this.$image.attr("src",this.image.src),this.options.imageBackground&&this.$bg.attr("src",this.image.src),this.setImageLoadedClass(),this.imageLoaded=!0,this.options.onImageLoaded()}},{key:"onImageError",value:function(){this.options.onImageError.apply(this,arguments),this.removeImageLoadingClass()}},{key:"setImageLoadingClass",value:function(){this.$preview.removeClass(d.CLASS_NAMES.IMAGE_LOADED).addClass(d.CLASS_NAMES.IMAGE_LOADING)}},{key:"setImageLoadedClass",value:function(){this.$preview.removeClass(d.CLASS_NAMES.IMAGE_LOADING).addClass(d.CLASS_NAMES.IMAGE_LOADED)}},{key:"removeImageLoadingClass",value:function(){this.$preview.removeClass(d.CLASS_NAMES.IMAGE_LOADING)}},{key:"getEventPosition",value:function(t){return t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0]&&(t=t.originalEvent.touches[0]),t.clientX&&t.clientY?{x:t.clientX,y:t.clientY}:void 0}},{key:"onPreviewEvent",value:function(t){return this.imageLoaded?(this.moveContinue=!1,this.$imageContainer.off(d.EVENTS.PREVIEW_MOVE),"mousedown"===t.type||"touchstart"===t.type?(this.origin=this.getEventPosition(t),this.moveContinue=!0,this.$imageContainer.on(d.EVENTS.PREVIEW_MOVE,this.onMove.bind(this))):(0,s["default"])(document.body).focus(),t.stopPropagation(),!1):void 0}},{key:"onMove",value:function(t){var e=this.getEventPosition(t);return this.moveContinue&&e&&(this.offset={x:this.offset.x+e.x-this.origin.x,y:this.offset.y+e.y-this.origin.y}),this.origin=e,t.stopPropagation(),!1}},{key:"fixOffset",value:function(t){if(!this.imageLoaded)return t;var e={x:t.x,y:t.y};return this.options.freeMove||(this.imageWidth*this.zoom>=this.previewSize.width?e.x=Math.min(0,Math.max(e.x,this.previewSize.width-this.imageWidth*this.zoom)):e.x=Math.max(0,Math.min(e.x,this.previewSize.width-this.imageWidth*this.zoom)),this.imageHeight*this.zoom>=this.previewSize.height?e.y=Math.min(0,Math.max(e.y,this.previewSize.height-this.imageHeight*this.zoom)):e.y=Math.max(0,Math.min(e.y,this.previewSize.height-this.imageHeight*this.zoom))),e.x=(0,p.round)(e.x),e.y=(0,p.round)(e.y),e}},{key:"centerImage",value:function(){this.image.width&&this.image.height&&this.zoom&&(this.offset={x:(this.previewSize.width-this.imageWidth*this.zoom)/2,y:(this.previewSize.height-this.imageHeight*this.zoom)/2})}},{key:"onZoomSliderChange",value:function(){if(this.imageLoaded){this.zoomSliderPos=Number(this.$zoomSlider.val());var t=this.zoomer.getZoom(this.zoomSliderPos);t!==this.zoom&&(this.zoom=t)}}},{key:"enableZoomSlider",value:function(){this.$zoomSlider.removeAttr("disabled"),this.options.onZoomEnabled()}},{key:"disableZoomSlider",value:function(){this.$zoomSlider.attr("disabled",!0),this.options.onZoomDisabled()}},{key:"setupZoomer",value:function(t){this.zoomer.setup({imageSize:this.imageSize,previewSize:this.previewSize,exportZoom:this.options.exportZoom,maxZoom:this.options.maxZoom,minZoom:this.options.minZoom,smallImage:this.options.smallImage}),this.zoom=(0,p.exists)(t)?t:this._zoom,this.isZoomable()?this.enableZoomSlider():this.disableZoomSlider()}},{key:"fixZoom",value:function(t){return this.zoomer.fixZoom(t)}},{key:"isZoomable",value:function(){return this.zoomer.isZoomable()}},{key:"renderImage",value:function(){var t="\n      translate("+this.rotatedOffset.x+"px, "+this.rotatedOffset.y+"px)\n      scale("+this.zoom+")\n      rotate("+this.rotation+"deg)";this.$image.css({transform:t,webkitTransform:t}),this.options.imageBackground&&this.$bg.css({transform:t,webkitTransform:t})}},{key:"rotateCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+90)%360}},{key:"rotateCCW",value:function(){this.shouldRejectImage({imageWidth:this.image.height,imageHeight:this.image.width,previewSize:this.previewSize,maxZoom:this.options.maxZoom,exportZoom:this.options.exportZoom,smallImage:this.options.smallImage})?this.rotation=(this.rotation+180)%360:this.rotation=(this.rotation+270)%360}},{key:"shouldRejectImage",value:function(t){var e=t.imageWidth,a=t.imageHeight,n=t.previewSize,i=t.maxZoom,o=t.exportZoom,r=t.smallImage;return"reject"!==r?!1:e*i<n.width*o||a*i<n.height*o}},{key:"getCroppedImageData",value:function(t){if(this.image.src){var e={type:"image/png",quality:.75,originalSize:!1,fillBg:"#fff"};t=s["default"].extend({},e,t);var a=t.originalSize?1/this.zoom:this.options.exportZoom,n={width:this.zoom*a*this.image.width,height:this.zoom*a*this.image.height},i=(0,s["default"])("<canvas />").attr({width:this.previewSize.width*a,height:this.previewSize.height*a}).get(0),o=i.getContext("2d");return"image/jpeg"===t.type&&(o.fillStyle=t.fillBg,o.fillRect(0,0,i.width,i.height)),o.translate(this.rotatedOffset.x*a,this.rotatedOffset.y*a),o.rotate(this.rotation*Math.PI/180),o.drawImage(this.image,0,0,n.width,n.height),i.toDataURL(t.type,t.quality)}}},{key:"disable",value:function(){this.unbindListeners(),this.disableZoomSlider(),this.$el.addClass(d.CLASS_NAMES.DISABLED)}},{key:"reenable",value:function(){this.bindListeners(),this.enableZoomSlider(),this.$el.removeClass(d.CLASS_NAMES.DISABLED)}},{key:"$",value:function(t){return this.$el?this.$el.find(t):null}},{key:"offset",set:function(t){t&&(0,p.exists)(t.x)&&(0,p.exists)(t.y)&&(this._offset=this.fixOffset(t),this.renderImage(),this.options.onOffsetChange(t))},get:function(){return this._offset}},{key:"zoom",set:function(t){if(t=this.fixZoom(t),this.imageLoaded){var e=this.zoom,a=this.previewSize.width/2-(this.previewSize.width/2-this.offset.x)*t/e,n=this.previewSize.height/2-(this.previewSize.height/2-this.offset.y)*t/e;this._zoom=t,this.offset={x:a,y:n}}else this._zoom=t;this.zoomSliderPos=this.zoomer.getSliderPos(this.zoom),this.$zoomSlider.val(this.zoomSliderPos),this.options.onZoomChange(t)},get:function(){return this._zoom}},{key:"rotatedOffset",get:function(){return{x:this.offset.x+(90===this.rotation?this.image.height*this.zoom:0)+(180===this.rotation?this.image.width*this.zoom:0),y:this.offset.y+(180===this.rotation?this.image.height*this.zoom:0)+(270===this.rotation?this.image.width*this.zoom:0)}}},{key:"rotation",set:function(t){this._rotation=t,this.imageLoaded&&this.setupZoomer()},get:function(){return this._rotation}},{key:"imageState",get:function(){return{src:this.image.src,offset:this.offset,zoom:this.zoom}}},{key:"imageSrc",get:function(){return this.image.src},set:function(t){this.loadImage(t)}},{key:"imageWidth",get:function(){return this.rotation%180===0?this.image.width:this.image.height}},{key:"imageHeight",get:function(){return this.rotation%180===0?this.image.height:this.image.width}},{key:"imageSize",get:function(){return{width:this.imageWidth,height:this.imageHeight}}},{key:"initialZoom",get:function(){return this.options.initialZoom},set:function(t){this.options.initialZoom=t,"min"===t?this._initialZoom=0:"image"===t?this._initialZoom=1:this._initialZoom=0}},{key:"exportZoom",get:function(){return this.options.exportZoom},set:function(t){this.options.exportZoom=t,this.setupZoomer()}},{key:"minZoom",get:function(){return this.options.minZoom},set:function(t){this.options.minZoom=t,this.setupZoomer()}},{key:"maxZoom",get:function(){return this.options.maxZoom},set:function(t){this.options.maxZoom=t,this.setupZoomer()}},{key:"previewSize",get:function(){return this._previewSize},set:function(t){!t||t.width<=0||t.height<=0||(this._previewSize={width:t.width,height:t.height},this.$preview.innerWidth(this.previewSize.width).innerHeight(this.previewSize.height),this.imageLoaded&&this.setupZoomer())}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e){function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(){a(this,t),this.minZoom=this.maxZoom=1}return n(t,[{key:"setup",value:function(t){var e=t.imageSize,a=t.previewSize,n=t.exportZoom,i=t.maxZoom,o=t.minZoom,r=t.smallImage,s=a.width/e.width,l=a.height/e.height;"fit"===o?this.minZoom=Math.min(s,l):this.minZoom=Math.max(s,l),"allow"===r&&(this.minZoom=Math.min(this.minZoom,1)),this.maxZoom=Math.max(this.minZoom,i/n)}},{key:"getZoom",value:function(t){return this.minZoom&&this.maxZoom?t*(this.maxZoom-this.minZoom)+this.minZoom:null}},{key:"getSliderPos",value:function(t){return this.minZoom&&this.maxZoom?this.minZoom===this.maxZoom?0:(t-this.minZoom)/(this.maxZoom-this.minZoom):null}},{key:"isZoomable",value:function(){return this.minZoom&&this.maxZoom?this.minZoom!==this.maxZoom:null}},{key:"fixZoom",value:function(t){return Math.max(this.minZoom,Math.min(this.maxZoom,t))}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a="cropit";e.PLUGIN_KEY=a;var n={PREVIEW:"cropit-preview",PREVIEW_IMAGE_CONTAINER:"cropit-preview-image-container",PREVIEW_IMAGE:"cropit-preview-image",PREVIEW_BACKGROUND_CONTAINER:"cropit-preview-background-container",PREVIEW_BACKGROUND:"cropit-preview-background",FILE_INPUT:"cropit-image-input",ZOOM_SLIDER:"cropit-image-zoom-input",DRAG_HOVERED:"cropit-drag-hovered",IMAGE_LOADING:"cropit-image-loading",IMAGE_LOADED:"cropit-image-loaded",DISABLED:"cropit-disabled"};e.CLASS_NAMES=n;var i={IMAGE_FAILED_TO_LOAD:{code:0,message:"Image failed to load."},SMALL_IMAGE:{code:1,message:"Image is too small."}};e.ERRORS=i;var o=function(t){return t.map(function(t){return""+t+".cropit"}).join(" ")},r={PREVIEW:o(["mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","touchleave"]),PREVIEW_MOVE:o(["mousemove","touchmove"]),ZOOM_INPUT:o(["mousemove","touchmove","change"])};e.EVENTS=r},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),i={elements:[{name:"$preview",description:"The HTML element that displays image preview.",defaultSelector:"."+n.CLASS_NAMES.PREVIEW},{name:"$fileInput",description:"File input element.",defaultSelector:"input."+n.CLASS_NAMES.FILE_INPUT},{name:"$zoomSlider",description:"Range input element that controls image zoom.",defaultSelector:"input."+n.CLASS_NAMES.ZOOM_SLIDER}].map(function(t){return t.type="jQuery element",t["default"]="$imageCropper.find('"+t.defaultSelector+"')",t}),values:[{name:"width",type:"number",description:"Width of image preview in pixels. If set, it will override the CSS property.","default":null},{name:"height",type:"number",description:"Height of image preview in pixels. If set, it will override the CSS property.","default":null},{name:"imageBackground",type:"boolean",description:"Whether or not to display the background image beyond the preview area.","default":!1},{name:"imageBackgroundBorderWidth",type:"array or number",description:"Width of background image border in pixels.\n        The four array elements specify the width of background image width on the top, right, bottom, left side respectively.\n        The background image beyond the width will be hidden.\n        If specified as a number, border with uniform width on all sides will be applied.","default":[0,0,0,0]},{name:"exportZoom",type:"number",description:"The ratio between the desired image size to export and the preview size.\n        For example, if the preview size is `300px * 200px`, and `exportZoom = 2`, then\n        the exported image size will be `600px * 400px`.\n        This also affects the maximum zoom level, since the exported image cannot be zoomed to larger than its original size.","default":1},{name:"allowDragNDrop",type:"boolean",description:"When set to true, you can load an image by dragging it from local file browser onto the preview area.","default":!0},{name:"minZoom",type:"string",description:"This options decides the minimal zoom level of the image.\n        If set to `'fill'`, the image has to fill the preview area, i.e. both width and height must not go smaller than the preview area.\n        If set to `'fit'`, the image can shrink further to fit the preview area, i.e. at least one of its edges must not go smaller than the preview area.","default":"fill"},{name:"maxZoom",type:"number",description:"Determines how big the image can be zoomed. E.g. if set to 1.5, the image can be zoomed to 150% of its original size.","default":1},{name:"initialZoom",type:"string",description:"Determines the zoom when an image is loaded.\n        When set to `'min'`, image is zoomed to the smallest when loaded.\n        When set to `'image'`, image is zoomed to 100% when loaded.","default":"min"},{name:"freeMove",type:"boolean",description:"When set to true, you can freely move the image instead of being bound to the container borders","default":!1},{name:"smallImage",type:"string",description:"When set to `'reject'`, `onImageError` would be called when cropit loads an image that is smaller than the container.\n        When set to `'allow'`, images smaller than the container can be zoomed down to its original size, overiding `minZoom` option.\n        When set to `'stretch'`, the minimum zoom of small images would follow `minZoom` option.","default":"reject"}],callbacks:[{name:"onFileChange",description:"Called when user selects a file in the select file input.",params:[{name:"event",type:"object",description:"File change event object"}]},{name:"onFileReaderError",description:"Called when `FileReader` encounters an error while loading the image file."},{name:"onImageLoading",description:"Called when image starts to be loaded."},{name:"onImageLoaded",description:"Called when image is loaded."},{name:"onImageError",description:"Called when image cannot be loaded.",params:[{name:"error",type:"object",description:"Error object."},{name:"error.code",type:"number",description:"Error code. `0` means generic image loading failure. `1` means image is too small."},{name:"error.message",type:"string",description:"A message explaining the error."}]},{name:"onZoomEnabled",description:"Called when image the zoom slider is enabled."},{name:"onZoomDisabled",description:"Called when image the zoom slider is disabled."},{name:"onZoomChange",description:"Called when zoom changes.",params:[{name:"zoom",type:"number",description:"New zoom."}]},{name:"onOffsetChange",description:"Called when image offset changes.",params:[{name:"offset",type:"object",description:"New offset, with `x` and `y` values."}]}].map(function(t){return t.type="function",t})},o=function(t){var e={};return t&&i.elements.forEach(function(a){e[a.name]=t.find(a.defaultSelector)}),i.values.forEach(function(t){e[t.name]=t["default"]}),i.callbacks.forEach(function(t){e[t.name]=function(){}}),e};e.loadDefaults=o,e["default"]=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return"undefined"!=typeof t};e.exists=a;var n=function(t){return+(Math.round(100*t)+"e-2")};e.round=n}])}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.echarts=e()}(this,function(){var t,e;!function(){function a(t,e){if(!e)return t;if(0===t.indexOf(".")){var a=e.split("/"),n=t.split("/"),i=a.length-1,o=n.length,r=0,s=0;t:for(var l=0;o>l;l++)switch(n[l]){case"..":if(!(i>r))break t;r++,s++;break;case".":s++;break;default:break t}return a.length=i-r,n=n.slice(s),a.concat(n).join("/")}return t}function n(t){function e(e,r){if("string"==typeof e){var s=n[e];return s||(s=o(a(e,t)),n[e]=s),s}e instanceof Array&&(r=r||function(){},r.apply(this,i(e,r,t)))}var n={};return e}function i(e,n,i){for(var s=[],l=r[i],c=0,d=Math.min(e.length,n.length);d>c;c++){var u,p=a(e[c],i);switch(p){case"require":u=l&&l.require||t;break;case"exports":u=l.exports;break;case"module":u=l;break;default:u=o(p)}s.push(u)}return s}function o(t){var e=r[t];if(!e)throw new Error("No "+t);if(!e.defined){var a=e.factory,n=a.apply(this,i(e.deps||[],a,t));"undefined"!=typeof n&&(e.exports=n),e.defined=1}return e.exports}var r={};e=function(t,e,a){r[t]={id:t,deps:e,factory:a,defined:0,exports:{},require:n(t)}},t=n("")}(),e("echarts/component/title",["require","../echarts","../util/graphic","../util/layout"],function(t){"use strict";var e=t("../echarts"),a=t("../util/graphic"),n=t("../util/layout");e.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),e.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var o=this.group,r=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=t.get("textBaseline"),d=new a.Text({style:{text:t.get("text"),textFont:r.getFont(),fill:r.getTextColor()},z2:10}),u=d.getBoundingRect(),p=t.get("subtext"),h=new a.Text({style:{text:p,textFont:s.getFont(),fill:s.getTextColor(),y:u.height+t.get("itemGap"),textBaseline:"top"},z2:10}),m=t.get("link"),g=t.get("sublink");d.silent=!m,h.silent=!g,m&&d.on("click",function(){window.open(m,"_"+t.get("target"))}),g&&h.on("click",function(){window.open(g,"_"+t.get("subtarget"))}),o.add(d),p&&o.add(h);var f=o.getBoundingRect(),v=t.getBoxLayoutParams();v.width=f.width,v.height=f.height;var b=n.getLayoutRect(v,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?b.x+=b.width:"center"===l&&(b.x+=b.width/2)),c||(c=t.get("top")||t.get("bottom"),"center"===c&&(c="middle"),"bottom"===c?b.y+=b.height:"middle"===c&&(b.y+=b.height/2),c=c||"top"),o.attr("position",[b.x,b.y]);var y={textAlign:l,textVerticalAlign:c};d.setStyle(y),h.setStyle(y),f=o.getBoundingRect();var x=b.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var k=new a.Rect({shape:{x:f.x-x[3],y:f.y-x[0],width:f.width+x[1]+x[3],height:f.height+x[0]+x[2]},style:w,silent:!0});a.subPixelOptimizeRect(k),o.add(k)}}})}),e("echarts/chart/line",["require","zrender/core/util","../echarts","./line/LineSeries","./line/LineView","../visual/symbol","../layout/points","../processor/dataSample","../component/grid"],function(t){var e=t("zrender/core/util"),a=t("../echarts"),n=a.PRIORITY;t("./line/LineSeries"),t("./line/LineView"),a.registerVisual(e.curry(t("../visual/symbol"),"line","circle","line")),a.registerLayout(e.curry(t("../layout/points"),"line")),a.registerProcessor(n.PROCESSOR.STATISTIC,e.curry(t("../processor/dataSample"),"line")),t("../component/grid")}),e("echarts/component/grid",["require","../util/graphic","zrender/core/util","../echarts","../coord/cartesian/Grid","./axis"],function(t){"use strict";var e=t("../util/graphic"),a=t("zrender/core/util"),n=t("../echarts");t("../coord/cartesian/Grid"),t("./axis"),n.extendComponentView({type:"grid",render:function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new e.Rect({shape:t.coordinateSystem.getRect(),style:a.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}),e("echarts/chart/pie",["require","zrender/core/util","../echarts","./pie/PieSeries","./pie/PieView","../action/createDataSelectAction","../visual/dataColor","./pie/pieLayout","../processor/dataFilter"],function(t){var e=t("zrender/core/util"),a=t("../echarts");t("./pie/PieSeries"),t("./pie/PieView"),t("../action/createDataSelectAction")("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisual(e.curry(t("../visual/dataColor"),"pie")),a.registerLayout(e.curry(t("./pie/pieLayout"),"pie")),a.registerProcessor(e.curry(t("../processor/dataFilter"),"pie"))}),e("echarts/chart/bar",["require","zrender/core/util","../coord/cartesian/Grid","./bar/BarSeries","./bar/BarView","../layout/barGrid","../echarts","../component/grid"],function(t){var e=t("zrender/core/util");t("../coord/cartesian/Grid"),t("./bar/BarSeries"),t("./bar/BarView");var a=t("../layout/barGrid"),n=t("../echarts");n.registerLayout(e.curry(a,"bar")),n.registerVisual(function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),t("../component/grid")}),e("echarts/echarts",["require","zrender/core/env","./model/Global","./ExtensionAPI","./CoordinateSystem","./model/OptionManager","./model/Component","./model/Series","./view/Component","./view/Chart","./util/graphic","./util/model","./util/throttle","zrender","zrender/core/util","zrender/tool/color","zrender/mixin/Eventful","zrender/core/timsort","./visual/seriesColor","./preprocessor/backwardCompat","./loading/default","./data/List","./model/Model","./util/number","./util/format","zrender/core/matrix","zrender/core/vector"],function(t){function e(t){return function(e,a,n){e=e&&e.toLowerCase(),$.prototype[t].call(this,e,a,n)}}function a(){$.call(this)}function n(t,e,n){function i(t,e){return t.prio-e.prio}n=n||{},"string"==typeof e&&(e=it[e]),this.id,this.group,this._dom=t;var o=this._zr=P.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=A.throttle(N.bind(o.flush,o),17),this._theme=N.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new k(this),this._coordSysMgr=new D,$.call(this),this._messageCenter=new a,this._initEvents(),this.resize=N.bind(this.resize,this),this._pendingActions=[],R(nt,i),R(et,i),o.animation.on("frame",this._onframe,this)}function i(t,e,a){var n,i=this._model,o=this._coordSysMgr.getCoordinateSystems();e=L.parseFinder(i,e);for(var r=0;r<o.length;r++){var s=o[r];if(s[t]&&null!=(n=s[t](i,e,a)))return n}console.warn("No coordinate system that supports "+t+" found by the given finder.")}function o(t,e,a,n,i){var o=t._model,r={};r[n+"Id"]=a[n+"Id"],r[n+"Index"]=a[n+"Index"],r[n+"Name"]=a[n+"Name"];var s={mainType:n,query:r};i&&(s.subType=i),o&&o.eachComponent(s,function(i,r){var s=t["series"===n?"_chartsMap":"_componentsMap"][i.__viewId];s&&s.__alive&&s[e](i,o,t._api,a)},t)}function r(t,e){var a=t.type,n=K[a],i=n.actionInfo,r=(i.update||"update").split(":"),s=r.pop();r=r[0]&&z(r[0]),this[W]=!0;var l=[t],c=!1;t.batch&&(c=!0,l=N.map(t.batch,function(e){return e=N.defaults(N.extend({},e),t),e.batch=null,e}));for(var d,u=[],p="highlight"===a||"downplay"===a,h=0;h<l.length;h++){var m=l[h];d=n.action(m,this._model),d=d||N.extend({},m),d.type=i.event||d.type,u.push(d),p?o(this,s,m,"series"):r&&o(this,s,m,r.main,r.sub)}"none"===s||p||r||(this[V]?(Z.prepareAndUpdate.call(this,t),this[V]=!1):Z[s].call(this,t)),d=c?{type:i.event||a,batch:u}:u[0],this[W]=!1,!e&&this._messageCenter.trigger(d.type,d)}function s(t){for(var e=this._pendingActions;e.length;){var a=e.shift();r.call(this,a,t)}}function l(t){!t&&this.trigger("updated")}function c(t,e,a){var n=this._api;q(this._componentsViews,function(i){var o=i.__model;i[t](o,e,n,a),b(o,i)},this),e.eachSeries(function(i,o){var r=this._chartsMap[i.__viewId];r[t](i,e,n,a),b(i,r),v(i,r)},this),f(this._zr,e)}function d(t,e){for(var a="component"===t,n=a?this._componentsViews:this._chartsViews,i=a?this._componentsMap:this._chartsMap,o=this._zr,r=0;r<n.length;r++)n[r].__alive=!1;e[a?"eachComponent":"eachSeries"](function(t,r){if(a){if("series"===t)return}else r=t;var s=r.id+"_"+r.type,l=i[s];if(!l){var c=z(r.type),d=a?_.getClass(c.main,c.sub):C.getClass(c.sub);if(!d)return;l=new d,l.init(e,this._api),i[s]=l,n.push(l),o.add(l.group)}r.__viewId=s,l.__alive=!0,l.__id=s,l.__model=r},this);for(var r=0;r<n.length;){var s=n[r];s.__alive?r++:(o.remove(s.group),s.dispose(e,this._api),n.splice(r,1),delete i[s.__id])}}function u(t,e){q(et,function(a){a.func(t,e)})}function p(t){var e={};t.eachSeries(function(t){var a=t.get("stack"),n=t.getData();if(a&&"list"===n.type){var i=e[a];i&&(n.stackedOn=i),e[a]=n}})}function h(t,e){var a=this._api;q(nt,function(n){n.isLayout&&n.func(t,a,e)})}function m(t,e,a){var n=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()}),q(nt,function(i){(!a||!i.isLayout)&&i.func(t,n,e)})}function g(t,e){var a=this._api;
q(this._componentsViews,function(n){var i=n.__model;n.render(i,t,a,e),b(i,n)},this),q(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,i){var o=this._chartsMap[n.__viewId];o.__alive=!0,o.render(n,t,a,e),o.group.silent=!!n.get("silent"),b(n,o),v(n,o)},this),f(this._zr,t),q(this._chartsViews,function(e){e.__alive||e.remove(t,a)},this)}function f(t,e){var a=t.storage,n=0;a.traverse(function(t){t.isGroup||n++}),n>e.get("hoverLayerThreshold")&&!x.node&&a.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function v(t,e){var a=0;e.group.traverse(function(t){"group"===t.type||t.ignore||a++});var n=+t.get("progressive"),i=a>t.get("progressiveThreshold")&&n&&!x.node;i&&e.group.traverse(function(t){t.isGroup||(t.progressive=i?Math.floor(a++/n):-1,i&&t.stopAnimation(!0))});var o=t.get("blendMode")||null;!x.canvasSupported&&o&&"source-over"!==o&&console.warn("Only canvas support blendMode"),e.group.traverse(function(t){t.isGroup||t.setStyle("blend",o)})}function b(t,e){var a=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=a&&(t.z=a),null!=n&&(t.zlevel=n))})}function y(t){function e(t,e){for(var a=0;a<t.length;a++){var n=t[a];n[o]=e}}var a=0,n=1,i=2,o="__connectUpdateStatus";N.each(tt,function(r,s){t._messageCenter.on(s,function(r){if(st[t.group]&&t[o]!==a){var s=t.makeActionFromEvent(r),l=[];N.each(rt,function(e){e!==t&&e.group===t.group&&l.push(e)}),e(l,a),q(l,function(t){t[o]!==n&&t.dispatchAction(s)}),e(l,i)}})})}var x=t("zrender/core/env"),w=t("./model/Global"),k=t("./ExtensionAPI"),D=t("./CoordinateSystem"),T=t("./model/OptionManager"),S=t("./model/Component"),I=t("./model/Series"),_=t("./view/Component"),C=t("./view/Chart"),M=t("./util/graphic"),L=t("./util/model"),A=t("./util/throttle"),P=t("zrender"),N=t("zrender/core/util"),E=t("zrender/tool/color"),$=t("zrender/mixin/Eventful"),R=t("zrender/core/timsort"),q=N.each,z=S.parseClassType,B=1e3,O=5e3,j=1e3,F=2e3,H=3e3,U=4e3,G=5e3,W="__flagInMainProcess",Q="__hasGradientOrPatternBg",V="__optionUpdated",Y=/^[a-zA-Z0-9_]+$/;a.prototype.on=e("on"),a.prototype.off=e("off"),a.prototype.one=e("one"),N.mixin(a,$);var X=n.prototype;X._onframe=function(){if(this[V]){var t=this[V].silent;this[W]=!0,Z.prepareAndUpdate.call(this),this[W]=!1,this[V]=!1,s.call(this,t),l.call(this,t)}},X.getDom=function(){return this._dom},X.getZr=function(){return this._zr},X.setOption=function(t,e,a){N.assert(!this[W],"`setOption` should not be called during main process.");var n;if(N.isObject(e)&&(a=e.lazyUpdate,n=e.silent,e=e.notMerge),this[W]=!0,!this._model||e){var i=new T(this._api),o=this._theme,r=this._model=new w(null,null,o,i);r.init(null,null,o,i)}this.__lastOnlyGraphic=!(!t||!t.graphic),N.each(t,function(t,e){"graphic"!==e&&(this.__lastOnlyGraphic=!1)},this),this._model.setOption(t,at),a?(this[V]={silent:n},this[W]=!1):(Z.prepareAndUpdate.call(this),this._zr.flush(),this[V]=!1,this[W]=!1,s.call(this,n),l.call(this,n))},X.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},X.getModel=function(){return this._model},X.getOption=function(){return this._model&&this._model.getOption()},X.getWidth=function(){return this._zr.getWidth()},X.getHeight=function(){return this._zr.getHeight()},X.getRenderedCanvas=function(t){if(x.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,a=e.storage.getDisplayList();return N.each(a,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},X.getDataURL=function(t){t=t||{};var e=t.excludeComponents,a=this._model,n=[],i=this;q(e,function(t){a.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var o=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return q(n,function(t){t.group.ignore=!1}),o},X.getConnectedDataURL=function(t){if(x.canvasSupported){var e=this.group,a=Math.min,n=Math.max,i=1/0;if(st[e]){var o=i,r=i,s=-i,l=-i,c=[],d=t&&t.pixelRatio||1;N.each(rt,function(i,d){if(i.group===e){var u=i.getRenderedCanvas(N.clone(t)),p=i.getDom().getBoundingClientRect();o=a(p.left,o),r=a(p.top,r),s=n(p.right,s),l=n(p.bottom,l),c.push({dom:u,left:p.left,top:p.top})}}),o*=d,r*=d,s*=d,l*=d;var u=s-o,p=l-r,h=N.createCanvas();h.width=u,h.height=p;var m=P.init(h);return q(c,function(t){var e=new M.Image({style:{x:t.left*d-o,y:t.top*d-r,image:t.dom}});m.add(e)}),m.refreshImmediately(),h.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},X.convertToPixel=N.curry(i,"convertToPixel"),X.convertFromPixel=N.curry(i,"convertFromPixel"),X.containPixel=function(t,e){var a,n=this._model;return t=L.parseFinder(n,t),N.each(t,function(t,n){n.indexOf("Models")>=0&&N.each(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)a|=!!i.containPoint(e);else if("seriesModels"===n){var o=this._chartsMap[t.__viewId];o&&o.containPoint?a|=o.containPoint(e,t):console.warn(n+": "+(o?"The found component do not support containPoint.":"No view mapping to the found component."))}else console.warn(n+": containPoint is not supported")},this)},this),!!a},X.getVisual=function(t,e){var a=this._model;t=L.parseFinder(a,t,{defaultMainType:"series"});var n=t.seriesModel;n||console.warn("There is no specified seires model");var i=n.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=o?i.getItemVisual(o,e):i.getVisual(e)};var Z={update:function(t){var e=this._model,a=this._api,n=this._coordSysMgr,i=this._zr;if(e){e.restoreData(),n.create(this._model,this._api),u.call(this,e,a),p.call(this,e),n.update(e,a),m.call(this,e,t),g.call(this,e,t);var o=e.get("backgroundColor")||"transparent",r=i.painter;if(r.isSingleCanvas&&r.isSingleCanvas())i.configLayer(0,{clearColor:o});else{if(!x.canvasSupported){var s=E.parse(o);o=E.stringify(s,"rgb"),0===s[3]&&(o="transparent")}o.colorStops||o.image?(i.configLayer(0,{clearColor:o}),this[Q]=!0,this._dom.style.background="transparent"):(this[Q]&&i.configLayer(0,{clearColor:null}),this[Q]=!1,this._dom.style.background=o)}}},updateView:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),m.call(this,e,t),c.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),m.call(this,e,t,!0),c.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(h.call(this,e,t),c.call(this,"updateLayout",e,t))},prepareAndUpdate:function(t){var e=this._model;d.call(this,"component",e),d.call(this,"chart",e),this.__lastOnlyGraphic?(q(this._componentsViews,function(a){var n=a.__model;n&&"graphic"===n.mainType&&(a.render(n,e,this._api,t),b(n,a))},this),this.__lastOnlyGraphic=!1):Z.update.call(this,t)}};X.resize=function(t){N.assert(!this[W],"`resize` should not be called during main process."),this[W]=!0,this._zr.resize(t);var e=this._model&&this._model.resetOption("media"),a=e?"prepareAndUpdate":"update";Z[a].call(this),this._loadingFX&&this._loadingFX.resize(),this[W]=!1;var n=t&&t.silent;s.call(this,n),l.call(this,n)},X.showLoading=function(t,e){if(N.isObject(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),!ot[t])return void console.warn("Loading effects "+t+" not exists.");var a=ot[t](this._api,e),n=this._zr;this._loadingFX=a,n.add(a)},X.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},X.makeActionFromEvent=function(t){var e=N.extend({},t);return e.type=tt[t.type],e},X.dispatchAction=function(t,e){if(N.isObject(e)||(e={silent:!!e}),K[t.type]){if(this[W])return void this._pendingActions.push(t);r.call(this,t,e.silent),e.flush?this._zr.flush(!0):e.flush!==!1&&x.browser.weChat&&this._throttledZrFlush(),s.call(this,e.silent),l.call(this,e.silent)}},X.on=e("on"),X.off=e("off"),X.one=e("one");var J=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];X._initEvents=function(){q(J,function(t){this._zr.on(t,function(e){var a,n=this.getModel(),i=e.target;if("globalout"===t)a={};else if(i&&null!=i.dataIndex){var o=i.dataModel||n.getSeriesByIndex(i.seriesIndex);a=o&&o.getDataParams(i.dataIndex,i.dataType)||{}}else i&&i.eventData&&(a=N.extend({},i.eventData));a&&(a.event=e,a.type=t,this.trigger(t,a))},this)},this),q(tt,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},X.isDisposed=function(){return this._disposed},X.clear=function(){this.setOption({series:[]},!0)},X.dispose=function(){if(this._disposed)return void console.warn("Instance "+this.id+" has been disposed");this._disposed=!0;var t=this._api,e=this._model;q(this._componentsViews,function(a){a.dispose(e,t)}),q(this._chartsViews,function(a){a.dispose(e,t)}),this._zr.dispose(),delete rt[this.id]},N.mixin(n,$);var K=[],tt={},et=[],at=[],nt=[],it={},ot={},rt={},st={},lt=new Date-0,ct=new Date-0,dt="_echarts_instance_",ut={version:"3.4.0",dependencies:{zrender:"3.3.0"}};return ut.init=function(t,e,a){if(P.version.replace(".","")-0<ut.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+P.version+" is too old for ECharts "+ut.version+". Current version need ZRender "+ut.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");!N.isDom(t)||"CANVAS"===t.nodeName.toUpperCase()||t.clientWidth&&t.clientHeight||console.warn("Can't get dom width or height");var i=new n(t,e,a);return i.id="ec_"+lt++,rt[i.id]=i,t.setAttribute&&t.setAttribute(dt,i.id),y(i),i},ut.connect=function(t){if(N.isArray(t)){var e=t;t=null,N.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+ct++,N.each(e,function(e){e.group=t})}return st[t]=!0,t},ut.disConnect=function(t){st[t]=!1},ut.dispose=function(t){N.isDom(t)?t=ut.getInstanceByDom(t):"string"==typeof t&&(t=rt[t]),t instanceof n&&!t.isDisposed()&&t.dispose()},ut.getInstanceByDom=function(t){var e=t.getAttribute(dt);return rt[e]},ut.getInstanceById=function(t){return rt[t]},ut.registerTheme=function(t,e){it[t]=e},ut.registerPreprocessor=function(t){at.push(t)},ut.registerProcessor=function(t,e){if("function"==typeof t&&(e=t,t=B),isNaN(t))throw new Error("Unkown processor priority");et.push({prio:t,func:e})},ut.registerAction=function(t,e,a){"function"==typeof e&&(a=e,e="");var n=N.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,N.assert(Y.test(n)&&Y.test(e)),K[n]||(K[n]={action:a,actionInfo:t}),tt[e]=n},ut.registerCoordinateSystem=function(t,e){D.register(t,e)},ut.registerLayout=function(t,e){if("function"==typeof t&&(e=t,t=j),isNaN(t))throw new Error("Unkown layout priority");nt.push({prio:t,func:e,isLayout:!0})},ut.registerVisual=function(t,e){if("function"==typeof t&&(e=t,t=H),isNaN(t))throw new Error("Unkown visual priority");nt.push({prio:t,func:e})},ut.registerLoading=function(t,e){ot[t]=e},ut.extendComponentModel=function(t){return S.extend(t)},ut.extendComponentView=function(t){return _.extend(t)},ut.extendSeriesModel=function(t){return I.extend(t)},ut.extendChartView=function(t){return C.extend(t)},ut.setCanvasCreator=function(t){N.createCanvas=t},ut.registerVisual(F,t("./visual/seriesColor")),ut.registerPreprocessor(t("./preprocessor/backwardCompat")),ut.registerLoading("default",t("./loading/default")),ut.registerAction({type:"highlight",event:"highlight",update:"highlight"},N.noop),ut.registerAction({type:"downplay",event:"downplay",update:"downplay"},N.noop),ut.List=t("./data/List"),ut.Model=t("./model/Model"),ut.graphic=t("./util/graphic"),ut.number=t("./util/number"),ut.format=t("./util/format"),ut.throttle=A.throttle,ut.matrix=t("zrender/core/matrix"),ut.vector=t("zrender/core/vector"),ut.color=t("zrender/tool/color"),ut.util={},q(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone"],function(t){ut.util[t]=N[t]}),ut.PRIORITY={PROCESSOR:{FILTER:B,STATISTIC:O},VISUAL:{LAYOUT:j,GLOBAL:F,CHART:H,COMPONENT:U,BRUSH:G}},ut}),e("echarts/component/legend",["require","./legend/LegendModel","./legend/legendAction","./legend/LegendView","../echarts","./legend/legendFilter"],function(t){t("./legend/LegendModel"),t("./legend/legendAction"),t("./legend/LegendView");var e=t("../echarts");e.registerProcessor(t("./legend/legendFilter"))}),e("echarts/component/tooltip",["require","./tooltip/TooltipModel","./tooltip/TooltipView","../echarts"],function(t){t("./tooltip/TooltipModel"),t("./tooltip/TooltipView"),t("../echarts").registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),t("../echarts").registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),e("echarts/scale/Time",["require","zrender/core/util","../util/number","../util/format","./Interval"],function(t){var e=t("zrender/core/util"),a=t("../util/number"),n=t("../util/format"),i=t("./Interval"),o=i.prototype,r=Math.ceil,s=Math.floor,l=1e3,c=60*l,d=60*c,u=24*d,p=function(t,e,a,n){for(;n>a;){var i=a+n>>>1;t[i][2]<e?a=i+1:n=i}return a},h=i.extend({type:"time",getLabel:function(t){var e=this._stepLvl,a=new Date(t);return n.formatTime(e[0],a)},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1]&&(i[0]-=u,i[1]+=u),i[1]===-(1/0)&&i[0]===1/0){var o=new Date;i[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),i[0]=i[1]-u}this.niceTicks(t);var l=this._interval;e||(i[0]=a.round(s(i[0]/l)*l)),n||(i[1]=a.round(r(i[1]/l)*l))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0],i=n/t,o=m.length,l=p(m,i,0,o),c=m[Math.min(l,o-1)],d=c[2];if("year"===c[0]){var u=n/d,h=a.nice(u/t,!0);d*=h}var g=[r(e[0]/d)*d,s(e[1]/d)*d];this._stepLvl=c,this._interval=d,this._niceExtent=g},parse:function(t){return+a.parseDate(t)}});e.each(["contain","normalize"],function(t){h.prototype[t]=function(e){return o[t].call(this,this.parse(e))}});var m=[["hh:mm:ss",1,l],["hh:mm:ss",5,5*l],["hh:mm:ss",10,10*l],["hh:mm:ss",15,15*l],["hh:mm:ss",30,30*l],["hh:mm\nMM-dd",1,c],["hh:mm\nMM-dd",5,5*c],["hh:mm\nMM-dd",10,10*c],["hh:mm\nMM-dd",15,15*c],["hh:mm\nMM-dd",30,30*c],["hh:mm\nMM-dd",1,d],["hh:mm\nMM-dd",2,2*d],["hh:mm\nMM-dd",6,6*d],["hh:mm\nMM-dd",12,12*d],["MM-dd\nyyyy",1,u],["week",7,7*u],["month",1,31*u],["quarter",3,380*u/4],["half-year",6,380*u/2],["year",1,380*u]];return h.create=function(){return new h},h}),e("echarts/scale/Log",["require","zrender/core/util","./Scale","../util/number","./Interval"],function(t){function e(t,e){return c(t,l(e))}var a=t("zrender/core/util"),n=t("./Scale"),i=t("../util/number"),o=t("./Interval"),r=n.prototype,s=o.prototype,l=i.getPrecisionSafe,c=i.round,d=Math.floor,u=Math.ceil,p=Math.pow,h=Math.log,m=n.extend({type:"log",base:10,$constructor:function(){n.apply(this,arguments),this._originalScale=new o},getTicks:function(){var t=this._originalScale,n=this._extent,o=t.getExtent();return a.map(s.getTicks.call(this),function(a){var r=i.round(p(this.base,a));return r=a===n[0]&&t.__fixMin?e(r,o[0]):r,r=a===n[1]&&t.__fixMax?e(r,o[1]):r},this)},getLabel:s.getLabel,scale:function(t){return t=r.scale.call(this,t),p(this.base,t)},setExtent:function(t,e){var a=this.base;t=h(t)/h(a),e=h(e)/h(a),s.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,a=r.getExtent.call(this);a[0]=p(t,a[0]),a[1]=p(t,a[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(a[0]=e(a[0],i[0])),n.__fixMax&&(a[1]=e(a[1],i[1])),a},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=h(t[0])/h(e),t[1]=h(t[1])/h(e),r.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,!0,function(t){return t>0}))},niceTicks:function(t){t=t||10;var e=this._extent,a=e[1]-e[0];if(!(a===1/0||0>=a)){var n=i.quantity(a),o=t/a*n;for(.5>=o&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var r=[i.round(u(e[0]/n)*n),i.round(d(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:function(t,e,a){s.niceExtent.call(this,t,e,a);var n=this._originalScale;n.__fixMin=e,n.__fixMax=a}});return a.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=h(e)/h(this.base),r[t].call(this,e)}}),m.create=function(){return new m},m}),e("echarts/util/layout",["require","zrender/core/util","zrender/core/BoundingRect","./number","./format"],function(t){"use strict";function e(t,e,a,n,i){var o=0,r=0;null==n&&(n=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(l,c){var d,u,p=l.position,h=l.getBoundingRect(),m=e.childAt(c+1),g=m&&m.getBoundingRect();if("horizontal"===t){var f=h.width+(g?-g.x+h.x:0);d=o+f,d>n||l.newline?(o=0,d=f,r+=s+a,s=h.height):s=Math.max(s,h.height)}else{var v=h.height+(g?-g.y+h.y:0);u=r+v,u>i||l.newline?(o+=s+a,r=0,u=v,s=h.width):s=Math.max(s,h.width)}l.newline||(p[0]=o,p[1]=r,"horizontal"===t?o=d+a:r=u+a)})}var a=t("zrender/core/util"),n=t("zrender/core/BoundingRect"),i=t("./number"),o=t("./format"),r=i.parsePercent,s=a.each,l={},c=l.LOCATION_PARAMS=["left","right","top","bottom","width","height"];return l.box=e,l.vbox=a.curry(e,"vertical"),l.hbox=a.curry(e,"horizontal"),l.getAvailableSize=function(t,e,a){var n=e.width,i=e.height,s=r(t.x,n),l=r(t.y,i),c=r(t.x2,n),d=r(t.y2,i);return(isNaN(s)||isNaN(parseFloat(t.x)))&&(s=0),(isNaN(c)||isNaN(parseFloat(t.x2)))&&(c=n),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(d)||isNaN(parseFloat(t.y2)))&&(d=i),a=o.normalizeCssArray(a||0),{width:Math.max(c-s-a[1]-a[3],0),height:Math.max(d-l-a[0]-a[2],0)}},l.getLayoutRect=function(t,e,a){a=o.normalizeCssArray(a||0);var i=e.width,s=e.height,l=r(t.left,i),c=r(t.top,s),d=r(t.right,i),u=r(t.bottom,s),p=r(t.width,i),h=r(t.height,s),m=a[2]+a[0],g=a[1]+a[3],f=t.aspect;switch(isNaN(p)&&(p=i-d-g-l),isNaN(h)&&(h=s-u-m-c),isNaN(p)&&isNaN(h)&&(f>i/s?p=.8*i:h=.8*s),null!=f&&(isNaN(p)&&(p=f*h),isNaN(h)&&(h=p/f)),isNaN(l)&&(l=i-d-p-g),isNaN(c)&&(c=s-u-h-m),t.left||t.right){case"center":l=i/2-p/2-a[3];break;case"right":l=i-p-g}switch(t.top||t.bottom){case"middle":case"center":c=s/2-h/2-a[0];break;case"bottom":c=s-h-m}l=l||0,c=c||0,isNaN(p)&&(p=i-l-(d||0)),isNaN(h)&&(h=s-c-(u||0));var v=new n(l+a[3],c+a[0],p,h);return v.margin=a,v},l.positionElement=function(t,e,i,o,r){var s=!r||!r.hv||r.hv[0],c=!r||!r.hv||r.hv[1],d=r&&r.boundingMode||"all";if(s||c){var u;if("raw"===d)u="group"===t.type?new n(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var p=t.getLocalTransform();u=u.clone(),u.applyTransform(p)}e=l.getLayoutRect(a.defaults({width:u.width,height:u.height},e),i,o);var h=t.position,m=s?e.x-u.x:0,g=c?e.y-u.y:0;t.attr("position","raw"===d?[m,g]:[h[0]+m,h[1]+g])}},l.mergeLayoutParam=function(t,e,n){function i(a){var i={},l=0,c={},d=0,u=n.ignoreSize?1:2;if(s(a,function(e){c[e]=t[e]}),s(a,function(t){o(e,t)&&(i[t]=c[t]=e[t]),r(i,t)&&l++,r(c,t)&&d++}),d!==u&&l){if(l>=u)return i;for(var p=0;p<a.length;p++){var h=a[p];if(!o(i,h)&&o(t,h)){i[h]=t[h];break}}return i}return c}function o(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function l(t,e,a){s(t,function(t){e[t]=a[t]})}!a.isObject(n)&&(n={});var c=["width","left","right"],d=["height","top","bottom"],u=i(c),p=i(d);l(c,t,u),l(d,t,p)},l.getLayoutParams=function(t){return l.copyLayoutParams({},t)},l.copyLayoutParams=function(t,e){return e&&t&&s(c,function(a){e.hasOwnProperty(a)&&(t[a]=e[a])}),t},l}),e("echarts/util/graphic",["require","zrender/core/util","zrender/tool/path","zrender/graphic/Path","zrender/tool/color","zrender/core/matrix","zrender/core/vector","zrender/container/Group","zrender/graphic/Image","zrender/graphic/Text","zrender/graphic/shape/Circle","zrender/graphic/shape/Sector","zrender/graphic/shape/Ring","zrender/graphic/shape/Polygon","zrender/graphic/shape/Polyline","zrender/graphic/shape/Rect","zrender/graphic/shape/Line","zrender/graphic/shape/BezierCurve","zrender/graphic/shape/Arc","zrender/graphic/CompoundPath","zrender/graphic/LinearGradient","zrender/graphic/RadialGradient","zrender/core/BoundingRect"],function(t){"use strict";function e(t){return null!=t&&"none"!=t}function a(t){return"string"==typeof t?b.lift(t,-.1):t}function n(t){if(t.__hoverStlDirty){var n=t.style.stroke,i=t.style.fill,o=t.__hoverStl;o.fill=o.fill||(e(i)?a(i):null),o.stroke=o.stroke||(e(n)?a(n):null);var r={};for(var s in o)o.hasOwnProperty(s)&&(r[s]=t.style[s]);t.__normalStl=r,t.__hoverStlDirty=!1}}function i(t){t.__isHover||(n(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0)}function o(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function r(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&i(t)}):i(t)}function s(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&o(t)}):o(t)}function l(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&n(t)}function c(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&r(this)}function d(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&s(this)}function u(){this.__isEmphasis=!0,r(this)}function p(){this.__isEmphasis=!1,s(this)}function h(t,e,a,n,i,o){"function"==typeof i&&(o=i,i=null);var r=n&&n.isAnimationEnabled();if(r){var s=t?"Update":"",l=n.getShallow("animationDuration"+s),c=n.getShallow("animationEasing"+s),d=n.getShallow("animationDelay"+s);"function"==typeof d&&(d=d(i,n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null)),"function"==typeof l&&(l=l(i)),l>0?e.animateTo(a,l,d||0,c,o):(e.attr(a),o&&o())}else e.attr(a),o&&o()}var m=t("zrender/core/util"),g=t("zrender/tool/path"),f=Math.round,v=t("zrender/graphic/Path"),b=t("zrender/tool/color"),y=t("zrender/core/matrix"),x=t("zrender/core/vector"),w={};return w.Group=t("zrender/container/Group"),w.Image=t("zrender/graphic/Image"),w.Text=t("zrender/graphic/Text"),w.Circle=t("zrender/graphic/shape/Circle"),w.Sector=t("zrender/graphic/shape/Sector"),w.Ring=t("zrender/graphic/shape/Ring"),w.Polygon=t("zrender/graphic/shape/Polygon"),w.Polyline=t("zrender/graphic/shape/Polyline"),w.Rect=t("zrender/graphic/shape/Rect"),w.Line=t("zrender/graphic/shape/Line"),w.BezierCurve=t("zrender/graphic/shape/BezierCurve"),w.Arc=t("zrender/graphic/shape/Arc"),w.CompoundPath=t("zrender/graphic/CompoundPath"),w.LinearGradient=t("zrender/graphic/LinearGradient"),w.RadialGradient=t("zrender/graphic/RadialGradient"),w.BoundingRect=t("zrender/core/BoundingRect"),w.extendShape=function(t){return v.extend(t)},w.extendPath=function(t,e){return g.extendFromString(t,e)},w.makePath=function(t,e,a,n){var i=g.createFromString(t,e),o=i.getBoundingRect();if(a){var r=o.width/o.height;if("center"===n){var s,l=a.height*r;l<=a.width?s=a.height:(l=a.width,s=l/r);var c=a.x+a.width/2,d=a.y+a.height/2;a.x=c-l/2,a.y=d-s/2,a.width=l,a.height=s}w.resizePath(i,a)}return i},w.mergePath=g.mergePath,w.resizePath=function(t,e){if(t.applyTransform){var a=t.getBoundingRect(),n=a.calculateTransform(e);t.applyTransform(n)}},w.subPixelOptimizeLine=function(t){var e=w.subPixelOptimize,a=t.shape,n=t.style.lineWidth;return f(2*a.x1)===f(2*a.x2)&&(a.x1=a.x2=e(a.x1,n,!0)),f(2*a.y1)===f(2*a.y2)&&(a.y1=a.y2=e(a.y1,n,!0)),t},w.subPixelOptimizeRect=function(t){var e=w.subPixelOptimize,a=t.shape,n=t.style.lineWidth,i=a.x,o=a.y,r=a.width,s=a.height;return a.x=e(a.x,n,!0),a.y=e(a.y,n,!0),a.width=Math.max(e(i+r,n,!1)-a.x,0===r?0:1),a.height=Math.max(e(o+s,n,!1)-a.y,0===s?0:1),t},w.subPixelOptimize=function(t,e,a){var n=f(2*t);return(n+f(e))%2===0?n/2:(n+(a?1:-1))/2},w.setHoverStyle=function(t,e,a){t.__hoverSilentOnTouch=a&&a.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&l(t,e)}):l(t,e),t.on("mouseover",c).on("mouseout",d),t.on("emphasis",u).on("normal",p)},w.setText=function(t,e,a){var n=e.getShallow("position")||"inside",i=e.getShallow("offset"),o=n.indexOf("inside")>=0?"white":a,r=e.getModel("textStyle");m.extend(t,{textDistance:e.getShallow("distance")||5,textFont:r.getFont(),textPosition:n,textOffset:i,textFill:r.getTextColor()||o})},w.updateProps=function(t,e,a,n,i){h(!0,t,e,a,n,i)},w.initProps=function(t,e,a,n,i){h(!1,t,e,a,n,i)},w.getTransform=function(t,e){for(var a=y.identity([]);t&&t!==e;)y.mul(a,t.getLocalTransform(),a),t=t.parent;return a},w.applyTransform=function(t,e,a){return a&&(e=y.invert([],e)),x.applyTransform([],t,e)},w.transformDirection=function(t,e,a){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-i:"bottom"===t?i:0];return o=w.applyTransform(o,e,a),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},w.groupTransition=function(t,e,a,n){function i(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}function o(t){var e={position:x.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=m.extend({},t.shape)),e}if(t&&e){var r=i(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var n=o(t);t.attr(o(e)),w.updateProps(t,n,a,t.dataIndex)}}})}},w}),e("zrender/core/util",["require"],function(t){function e(t){if(null==t||"object"!=typeof t)return t;var a=t,n=P.call(t);if("[object Array]"===n){a=[];for(var i=0,o=t.length;o>i;i++)a[i]=e(t[i])}else if(A[n])a=t.constructor.from(t);else if(!L[n]&&!T(t)){a={};for(var r in t)t.hasOwnProperty(r)&&(a[r]=e(t[r]))}return a}function a(t,n,i){if(!k(n)||!k(t))return i?e(n):t;for(var o in n)if(n.hasOwnProperty(o)){var r=t[o],s=n[o];!k(s)||!k(r)||y(s)||y(r)||T(s)||T(r)||D(s)||D(r)?!i&&o in t||(t[o]=e(n[o],!0)):a(r,s,i)}return t}function n(t,e){for(var n=t[0],i=1,o=t.length;o>i;i++)n=a(n,t[i],e);return n}function i(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function o(t,e,a){for(var n in e)e.hasOwnProperty(n)&&(a?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function r(){return document.createElement("canvas")}function s(){return M||(M=B.createCanvas().getContext("2d")),M}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var a=0,n=t.length;n>a;a++)if(t[a]===e)return a}return-1}function c(t,e){function a(){}var n=t.prototype;a.prototype=e.prototype,t.prototype=new a;for(var i in n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function d(t,e,a){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,o(t,e,a)}function u(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,a){if(t&&e)if(t.forEach&&t.forEach===E)t.forEach(e,a);else if(t.length===+t.length)for(var n=0,i=t.length;i>n;n++)e.call(a,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(a,t[o],o,t)}function h(t,e,a){if(t&&e){if(t.map&&t.map===q)return t.map(e,a);for(var n=[],i=0,o=t.length;o>i;i++)n.push(e.call(a,t[i],i,t));return n}}function m(t,e,a,n){if(t&&e){if(t.reduce&&t.reduce===z)return t.reduce(e,a,n);for(var i=0,o=t.length;o>i;i++)a=e.call(n,a,t[i],i,t);return a}}function g(t,e,a){if(t&&e){if(t.filter&&t.filter===$)return t.filter(e,a);for(var n=[],i=0,o=t.length;o>i;i++)e.call(a,t[i],i,t)&&n.push(t[i]);return n}}function f(t,e,a){if(t&&e)for(var n=0,i=t.length;i>n;n++)if(e.call(a,t[n],n,t))return t[n]}function v(t,e){var a=R.call(arguments,2);return function(){return t.apply(e,a.concat(R.call(arguments)))}}function b(t){var e=R.call(arguments,1);return function(){return t.apply(this,e.concat(R.call(arguments)))}}function y(t){return"[object Array]"===P.call(t)}function x(t){return"function"==typeof t}function w(t){return"[object String]"===P.call(t)}function k(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function D(t){return!!L[P.call(t)]}function T(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function S(t){return t!==t}function I(t){for(var e=0,a=arguments.length;a>e;e++)if(null!=arguments[e])return arguments[e]}function _(){return Function.call.apply(R,arguments)}function C(t,e){if(!t)throw new Error(e)}var M,L={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},A={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},P=Object.prototype.toString,N=Array.prototype,E=N.forEach,$=N.filter,R=N.slice,q=N.map,z=N.reduce,B={inherits:c,mixin:d,clone:e,merge:a,mergeAll:n,extend:i,defaults:o,getContext:s,createCanvas:r,indexOf:l,slice:_,find:f,isArrayLike:u,each:p,map:h,reduce:m,filter:g,bind:v,curry:b,isArray:y,isString:w,isObject:k,isFunction:x,isBuildInObject:D,isDom:T,eqNaN:S,retrieve:I,assert:C,noop:function(){}};return B}),e("echarts/chart/line/LineSeries",["require","../helper/createListFromArray","../../model/Series"],function(t){"use strict";var e=t("../helper/createListFromArray"),a=t("../../model/Series");return a.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,a){var n=t.coordinateSystem;if("polar"!==n&&"cartesian2d"!==n)throw new Error("Line not support coordinateSystem besides cartesian and polar");return e(t.data,this,a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})}),e("echarts/visual/symbol",["require"],function(t){return function(t,e,a,n,i){n.eachRawSeriesByType(t,function(t){var i=t.getData(),o=t.get("symbol")||e,r=t.get("symbolSize");i.setVisual({legendSymbol:a||o,symbol:o,symbolSize:r}),n.isSeriesFiltered(t)||("function"==typeof r&&i.each(function(e){var a=t.getRawValue(e),n=t.getDataParams(e);i.setItemVisual(e,"symbolSize",r(a,n))}),i.each(function(t){var e=i.getItemModel(t),a=e.getShallow("symbol",!0),n=e.getShallow("symbolSize",!0);null!=a&&i.setItemVisual(t,"symbol",a),null!=n&&i.setItemVisual(t,"symbolSize",n)}))})}}),e("echarts/processor/dataSample",[],function(){var t={average:function(t){for(var e=0,a=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],a++);return 0===a?NaN:e/a},sum:function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a]||0;return e},max:function(t){for(var e=-(1/0),a=0;a<t.length;a++)t[a]>e&&(e=t[a]);return e},min:function(t){for(var e=1/0,a=0;a<t.length;a++)t[a]<e&&(e=t[a]);return e},nearest:function(t){return t[0]}},e=function(t,e){return Math.round(t.length/2)};return function(a,n,i){n.eachSeriesByType(a,function(a){var n=a.getData(),i=a.get("sampling"),o=a.coordinateSystem;if("cartesian2d"===o.type&&i){var r=o.getBaseAxis(),s=o.getOtherAxis(r),l=r.getExtent(),c=l[1]-l[0],d=Math.round(n.count()/c);if(d>1){var u;"string"==typeof i?u=t[i]:"function"==typeof i&&(u=i),u&&(n=n.downSample(s.dim,1/d,u,e),a.setData(n))}}},this)}}),e("echarts/chart/line/LineView",["require","zrender/core/util","../helper/SymbolDraw","../helper/Symbol","./lineAnimationDiff","../../util/graphic","../../util/model","./poly","../../view/Chart"],function(t){"use strict";function e(t,e){if(t.length===e.length){for(var a=0;a<t.length;a++){var n=t[a],i=e[a];if(n[0]!==i[0]||n[1]!==i[1])return}return!0}}function a(t){return"number"==typeof t?t:t?.3:0}function n(t){var e=t.getGlobalExtent();if(t.onBand){var a=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*a,e[1]-=n*a}return e}function i(t){return t>=0?1:-1}function o(t,e){var a=t.getBaseAxis(),n=t.getOtherAxis(a),o=a.onZero?0:n.scale.getExtent()[0],r=n.dim,s="x"===r||"radius"===r?1:0;return e.mapArray([r],function(n,l){for(var c,d=e.stackedOn;d&&i(d.get(r,l))===i(n);){c=d;break}var u=[];return u[s]=e.get(a.dim,l),u[1-s]=c?c.get(r,l,!0):o,t.dataToPoint(u)},!0)}function r(t,e,a){var i=n(t.getAxis("x")),o=n(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(o[0],o[1]),c=Math.max(i[0],i[1])-s,d=Math.max(o[0],o[1])-l,u=a.get("lineStyle.normal.width")||2,p=a.get("clipOverflow")?u/2:Math.max(c,d);
r?(l-=p,d+=2*p):(s-=p,c+=2*p);var h=new g.Rect({shape:{x:s,y:l,width:c,height:d}});return e&&(h.shape[r?"width":"height"]=0,g.initProps(h,{shape:{width:c,height:d}},a)),h}function s(t,e,a){var n=t.getAngleAxis(),i=t.getRadiusAxis(),o=i.getExtent(),r=n.getExtent(),s=Math.PI/180,l=new g.Sector({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*s,g.initProps(l,{shape:{endAngle:-r[1]*s}},a)),l}function l(t,e,a){return"polar"===t.type?s(t,e,a):r(t,e,a)}function c(t,e,a){for(var n=e.getBaseAxis(),i="x"===n.dim||"radius"===n.dim?0:1,o=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];o.push(l);var c=[];switch(a){case"end":c[i]=s[i],c[1-i]=l[1-i],o.push(c);break;case"middle":var d=(l[i]+s[i])/2,u=[];c[i]=u[i]=d,c[1-i]=l[1-i],u[1-i]=s[1-i],o.push(c),o.push(u);break;default:c[i]=l[i],c[1-i]=s[1-i],o.push(c)}}return t[r]&&o.push(t[r]),o}function d(t,e){var a=t.getVisual("visualMeta");if(a&&a.length&&t.count()){for(var n,i=a.length-1;i>=0;i--)if(a[i].dimension<2){n=a[i];break}if(!n||"cartesian2d"!==e.type)return void console.warn("Visual map on line style only support x or y dimension.");var o=n.dimension,r=t.dimensions[o],s=e.getAxis(r),l=u.map(n.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),c=l.length,d=n.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),d.reverse());var p=10,h=l[0].coord-p,m=l[c-1].coord+p,f=m-h;if(.001>f)return"transparent";u.each(l,function(t){t.offset=(t.coord-h)/f}),l.push({offset:c?l[c-1].offset:.5,color:d[1]||"transparent"}),l.unshift({offset:c?l[0].offset:.5,color:d[0]||"transparent"});var v=new g.LinearGradient(0,0,0,0,l,!0);return v[r]=h,v[r+"2"]=m,v}}var u=t("zrender/core/util"),p=t("../helper/SymbolDraw"),h=t("../helper/Symbol"),m=t("./lineAnimationDiff"),g=t("../../util/graphic"),f=t("../../util/model"),v=t("./poly"),b=t("../../view/Chart");return b.extend({type:"line",init:function(){var t=new g.Group,e=new p;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,n,i){var r=t.coordinateSystem,s=this.group,p=t.getData(),h=t.getModel("lineStyle.normal"),m=t.getModel("areaStyle.normal"),g=p.mapArray(p.getItemLayout,!0),f="polar"===r.type,v=this._coordSys,b=this._symbolDraw,y=this._polyline,x=this._polygon,w=this._lineGroup,k=t.get("animation"),D=!m.isEmpty(),T=o(r,p),S=t.get("showSymbol"),I=S&&!f&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(p,r),_=this._data;_&&_.eachItemGraphicEl(function(t,e){t.__temp&&(s.remove(t),_.setItemGraphicEl(e,null))}),S||b.remove(),s.add(w);var C=!f&&t.get("step");y&&v.type===r.type&&C===this._step?(D&&!x?x=this._newPolygon(g,T,r,k):x&&!D&&(w.remove(x),x=this._polygon=null),w.setClipPath(l(r,!1,t)),S&&b.updateData(p,I),p.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),e(this._stackedOnPoints,T)&&e(this._points,g)||(k?this._updateAnimation(p,T,r,i,C):(C&&(g=c(g,r,C),T=c(T,r,C)),y.setShape({points:g}),x&&x.setShape({points:g,stackedOnPoints:T})))):(S&&b.updateData(p,I),C&&(g=c(g,r,C),T=c(T,r,C)),y=this._newPolyline(g,r,k),D&&(x=this._newPolygon(g,T,r,k)),w.setClipPath(l(r,!0,t)));var M=d(p,r)||p.getVisual("color");y.useStyle(u.defaults(h.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var L=t.get("smooth");if(L=a(t.get("smooth")),y.setShape({smooth:L,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),x){var A=p.stackedOn,P=0;if(x.useStyle(u.defaults(m.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),A){var N=A.hostModel;P=a(N.get("smooth"))}x.setShape({smooth:L,stackedOnSmooth:P,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=p,this._coordSys=r,this._stackedOnPoints=T,this._points=g,this._step=C},dispose:function(){},highlight:function(t,e,a,n){var i=t.getData(),o=f.queryDataIndex(i,n);if(!(o instanceof Array)&&null!=o&&o>=0){var r=i.getItemGraphicEl(o);if(!r){var s=i.getItemLayout(o);if(!s)return;r=new h(i,o),r.position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,i.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else b.prototype.highlight.call(this,t,e,a,n)},downplay:function(t,e,a,n){var i=t.getData(),o=f.queryDataIndex(i,n);if(null!=o&&o>=0){var r=i.getItemGraphicEl(o);r&&(r.__temp?(i.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay())}else b.prototype.downplay.call(this,t,e,a,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new v.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_getSymbolIgnoreFunc:function(t,e){var a=e.getAxesByScale("ordinal")[0];return a&&a.isLabelIgnored?u.bind(a.isLabelIgnored,a):void 0},_updateAnimation:function(t,e,a,n,i){var o=this._polyline,r=this._polygon,s=t.hostModel,l=m(this._data,t,this._stackedOnPoints,e,this._coordSys,a),d=l.current,u=l.stackedOnCurrent,p=l.next,h=l.stackedOnNext;i&&(d=c(l.current,a,i),u=c(l.stackedOnCurrent,a,i),p=c(l.next,a,i),h=c(l.stackedOnNext,a,i)),o.shape.__points=l.current,o.shape.points=d,g.updateProps(o,{shape:{points:p}},s),r&&(r.setShape({points:d,stackedOnPoints:u}),g.updateProps(r,{shape:{points:p,stackedOnPoints:h}},s));for(var f=[],v=l.status,b=0;b<v.length;b++){var y=v[b].cmd;if("="===y){var x=t.getItemGraphicEl(v[b].idx1);x&&f.push({el:x,ptIdx:b})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<f.length;t++){var e=f[t].el;e.attr("position",o.shape.__points[f[t].ptIdx])}})},remove:function(t){var e=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),a.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})}),e("echarts/layout/points",["require"],function(t){return function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),a=t.coordinateSystem;if(a){var n=a.dimensions;"singleAxis"===a.type?e.each(n[0],function(t,n){e.setItemLayout(n,isNaN(t)?[NaN,NaN]:a.dataToPoint(t))}):e.each(n,function(t,n,i){e.setItemLayout(i,isNaN(t)||isNaN(n)?[NaN,NaN]:a.dataToPoint([t,n]))},!0)}})}}),e("echarts/coord/cartesian/Grid",["require","exports","../../util/layout","../../coord/axisHelper","zrender/core/util","./Cartesian2D","./Axis2D","./GridModel","../../CoordinateSystem"],function(t,e){function a(t,e,a){return t.getCoordSysModel()===e}function n(t){var e,a=t.model,n=a.getFormattedLabels(),i=a.getModel("axisLabel.textStyle"),o=1,r=n.length;r>40&&(o=Math.ceil(r/40));for(var s=0;r>s;s+=o)if(!t.isLabelIgnored(s)){var l=i.getTextRect(n[s]);e?e.union(l):e=l}return e}function i(t,e,a){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,a),this._model=t}function o(t,e){var a=t.getExtent(),n=a[0]+a[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function r(t,e){return d.map(v,function(e){var a=t.getReferringComponents(e)[0];if(!a)throw new Error(e+' "'+d.retrieve(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return a})}function s(t){return"cartesian2d"===t.get("coordinateSystem")}var l=t("../../util/layout"),c=t("../../coord/axisHelper"),d=t("zrender/core/util"),u=t("./Cartesian2D"),p=t("./Axis2D"),h=d.each,m=c.ifAxisCrossZero,g=c.niceScaleExtent;t("./GridModel");var f=i.prototype;f.type="grid",f.getRect=function(){return this._rect},f.update=function(t,e){function a(t){var e=n[t];for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(i&&("category"===i.type||!m(i)))return!0}return!1}var n=this._axesMap;this._updateScale(t,this._model),h(n.x,function(t){g(t,t.model)}),h(n.y,function(t){g(t,t.model)}),h(n.x,function(t){a("y")&&(t.onZero=!1)}),h(n.y,function(t){a("x")&&(t.onZero=!1)}),this.resize(this._model,e)},f.resize=function(t,e){function a(){h(r,function(t){var e=t.isHorizontal(),a=e?[0,i.width]:[0,i.height],n=t.inverse?1:0;t.setExtent(a[n],a[1-n]),o(t,e?i.x:i.y)})}var i=l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var r=this._axesList;a(),t.get("containLabel")&&(h(r,function(t){if(!t.model.get("axisLabel.inside")){var e=n(t);if(e){var a=t.isHorizontal()?"height":"width",o=t.model.get("axisLabel.margin");i[a]-=e[a]+o,"top"===t.position?i.y+=e.height+o:"left"===t.position&&(i.x+=e.width+o)}}}),a())},f.getAxis=function(t,e){var a=this._axesMap[t];if(null!=a){if(null==e)for(var n in a)if(a.hasOwnProperty(n))return a[n];return a[e]}},f.getCartesian=function(t,e){if(null!=t&&null!=e){var a="x"+t+"y"+e;return this._coordsMap[a]}for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},f.convertToPixel=function(t,e,a){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},f.convertFromPixel=function(t,e,a){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},f._findConvertTarget=function(t,e){var a,n,i=e.seriesModel,o=e.xAxisModel||i&&i.getReferringComponents("xAxis")[0],r=e.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(i)a=i.coordinateSystem,d.indexOf(l,a)<0&&(a=null);else if(o&&r)a=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(r)n=this.getAxis("y",r.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(a=this._coordsList[0])}return{cartesian:a,axis:n}},f.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},f._initCartesian=function(t,e,n){function i(n){return function(i,l){if(a(i,t,e)){var d=i.get("position");"x"===n?"top"!==d&&"bottom"!==d&&(d="bottom",o[d]&&(d="top"===d?"bottom":"top")):"left"!==d&&"right"!==d&&(d="left",o[d]&&(d="left"===d?"right":"left")),o[d]=!0;var u=new p(n,c.createScaleByModel(i),[0,0],i.get("type"),d),h="category"===u.type;u.onBand=h&&i.get("boundaryGap"),u.inverse=i.get("inverse"),u.onZero=i.get("axisLine.onZero"),i.axis=u,u.model=i,u.grid=this,u.index=l,this._axesList.push(u),r[n][l]=u,s[n]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",i("x"),this),e.eachComponent("yAxis",i("y"),this),s.x&&s.y?(this._axesMap=r,void h(r.x,function(t,e){h(r.y,function(a,n){var i="x"+e+"y"+n,o=new u(i);o.grid=this,this._coordsMap[i]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(a)},this)},this)):(this._axesMap={},void(this._axesList=[]))},f._updateScale=function(t,e){function n(t,e,a){h(a.coordDimToDataDim(e.dim),function(a){e.scale.unionExtentFromData(t,a)})}d.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeries(function(i){if(s(i)){var o=r(i,t),l=o[0],c=o[1];if(!a(l,e,t)||!a(c,e,t))return;var d=this.getCartesian(l.componentIndex,c.componentIndex),u=i.getData(),p=d.getAxis("x"),h=d.getAxis("y");"list"===u.type&&(n(u,p,i),n(u,h,i))}},this)};var v=["xAxis","yAxis"];return i.create=function(t,e){var a=[];return t.eachComponent("grid",function(n,o){var r=new i(n,t,e);r.name="grid_"+o,r.resize(n,e),n.coordinateSystem=r,a.push(r)}),t.eachSeries(function(e){if(s(e)){var a=r(e,t),n=a[0],i=a[1],o=n.getCoordSysModel();if(!o)throw new Error('Grid "'+d.retrieve(n.get("gridIndex"),n.get("gridId"),0)+'" not found');if(n.getCoordSysModel()!==i.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");var l=o.coordinateSystem;e.coordinateSystem=l.getCartesian(n.componentIndex,i.componentIndex)}}),a},i.dimensions=u.prototype.dimensions,t("../../CoordinateSystem").register("cartesian2d",i),i}),e("echarts/component/axis",["require","../coord/cartesian/AxisModel","./axis/AxisView"],function(t){"use strict";t("../coord/cartesian/AxisModel"),t("./axis/AxisView")}),e("echarts/chart/pie/PieSeries",["require","../../data/List","zrender/core/util","../../util/model","../../data/helper/completeDimensions","../../component/helper/selectableMixin","../../echarts"],function(t){"use strict";var e=t("../../data/List"),a=t("zrender/core/util"),n=t("../../util/model"),i=t("../../data/helper/completeDimensions"),o=t("../../component/helper/selectableMixin"),r=t("../../echarts").extendSeriesModel({type:"series.pie",init:function(t){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){r.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t,a){var n=i(["value"],t.data),o=new e(n,this);return o.initData(t.data),o},getDataParams:function(t){var e=this.getData(),a=r.superCall(this,"getDataParams",t),n=e.getSum("value");return a.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,a.$vars.push("percent"),a},_defaultLabelLine:function(t){n.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,a=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,a.show=a.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});return a.mixin(r,o),r}),e("echarts/visual/dataColor",["require"],function(t){return function(t,e){var a={};e.eachRawSeriesByType(t,function(t){var n=t.getRawData(),i={};if(!e.isSeriesFiltered(t)){var o=t.getData();o.each(function(t){var e=o.getRawIndex(t);i[e]=t}),n.each(function(e){var r=i[e],s=null!=r&&o.getItemVisual(r,"color",!0);if(s)n.setItemVisual(e,"color",s);else{var l=n.getItemModel(e),c=l.get("itemStyle.normal.color")||t.getColorFromPalette(n.getName(e),a);n.setItemVisual(e,"color",c),null!=r&&o.setItemVisual(r,"color",c)}})}})}}),e("echarts/chart/pie/PieView",["require","../../util/graphic","zrender/core/util","../../view/Chart"],function(t){function e(t,e,n,i){var o=e.getData(),r=this.dataIndex,s=o.getName(r),l=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),o.each(function(t){a(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),l,n)})}function a(t,e,a,n,i){var o=(e.startAngle+e.endAngle)/2,r=Math.cos(o),s=Math.sin(o),l=a?n:0,c=[r*l,s*l];i?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function n(t,e){function a(){r.ignore=r.hoverIgnore,s.ignore=s.hoverIgnore}function n(){r.ignore=r.normalIgnore,s.ignore=s.normalIgnore}o.Group.call(this);var i=new o.Sector({z2:2}),r=new o.Polyline,s=new o.Text;this.add(i),this.add(r),this.add(s),this.updateData(t,e,!0),this.on("emphasis",a).on("normal",n).on("mouseover",a).on("mouseout",n)}function i(t,e,a,n,i){var o=n.getModel("textStyle"),s="inside"===i||"inner"===i;return{fill:o.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:o.getFont(),text:r.retrieve(t.hostModel.getFormattedLabel(e,a),t.getName(e))}}var o=t("../../util/graphic"),r=t("zrender/core/util"),s=n.prototype;s.updateData=function(t,e,n){function i(){l.stopAnimation(!0),l.animateTo({shape:{r:u.r+10}},300,"elasticOut")}function s(){l.stopAnimation(!0),l.animateTo({shape:{r:u.r}},300,"elasticOut")}var l=this.childAt(0),c=t.hostModel,d=t.getItemModel(e),u=t.getItemLayout(e),p=r.extend({},u);if(p.label=null,n){l.setShape(p);var h=c.getShallow("animationType");"scale"===h?(l.shape.r=u.r0,o.initProps(l,{shape:{r:u.r}},c,e)):(l.shape.endAngle=u.startAngle,o.updateProps(l,{shape:{endAngle:u.endAngle}},c,e))}else o.updateProps(l,{shape:p},c,e);var m=d.getModel("itemStyle"),g=t.getItemVisual(e,"color");l.useStyle(r.defaults({lineJoin:"bevel",fill:g},m.getModel("normal").getItemStyle())),l.hoverStyle=m.getModel("emphasis").getItemStyle(),a(this,t.getItemLayout(e),d.get("selected"),c.get("selectedOffset"),c.get("animation")),l.off("mouseover").off("mouseout").off("emphasis").off("normal"),d.get("hoverAnimation")&&c.isAnimationEnabled()&&l.on("mouseover",i).on("mouseout",s).on("emphasis",i).on("normal",s),this._updateLabel(t,e),o.setHoverStyle(this)},s._updateLabel=function(t,e){var a=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),c=l.label,d=t.getItemVisual(e,"color");o.updateProps(a,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},r,e),o.updateProps(n,{style:{x:c.x,y:c.y}},r,e),n.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c.textAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var u=s.getModel("label.normal"),p=s.getModel("label.emphasis"),h=s.getModel("labelLine.normal"),m=s.getModel("labelLine.emphasis"),g=u.get("position")||p.get("position");n.setStyle(i(t,e,"normal",u,g)),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!p.get("show"),a.ignore=a.normalIgnore=!h.get("show"),a.hoverIgnore=!m.get("show"),a.setStyle({stroke:d,opacity:t.getItemVisual(e,"opacity")}),a.setStyle(h.getModel("lineStyle").getLineStyle()),n.hoverStyle=i(t,e,"emphasis",p,g),a.hoverStyle=m.getModel("lineStyle").getLineStyle();var f=h.get("smooth");f&&f===!0&&(f=.4),a.setShape({smooth:f})},r.inherits(n,o.Group);var l=t("../../view/Chart").extend({type:"pie",init:function(){var t=new o.Group;this._sectorGroup=t},render:function(t,a,i,o){if(!o||o.from!==this.uid){var s=t.getData(),l=this._data,c=this.group,d=a.get("animation"),u=!l,p=t.get("animationType"),h=r.curry(e,this.uid,t,d,i),m=t.get("selectedMode");if(s.diff(l).add(function(t){var e=new n(s,t);u&&"scale"!==p&&e.eachChild(function(t){t.stopAnimation(!0)}),m&&e.on("click",h),s.setItemGraphicEl(t,e),c.add(e)}).update(function(t,e){var a=l.getItemGraphicEl(e);a.updateData(s,t),a.off("click"),m&&a.on("click",h),c.add(a),s.setItemGraphicEl(t,a)}).remove(function(t){var e=l.getItemGraphicEl(t);c.remove(e)}).execute(),d&&u&&s.count()>0&&"scale"!==p){var g=s.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,v=r.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(g.cx,g.cy,f,g.startAngle,g.clockwise,v,t))}this._data=s}},dispose:function(){},_createClipPath:function(t,e,a,n,i,r,s){var l=new o.Sector({shape:{cx:t,cy:e,r0:0,r:a,startAngle:n,endAngle:n,clockwise:i}});return o.initProps(l,{shape:{endAngle:n+(i?1:-1)*Math.PI*2}},s,r),l},containPoint:function(t,e){var a=e.getData(),n=a.getItemLayout(0);if(n){var i=t[0]-n.cx,o=t[1]-n.cy,r=Math.sqrt(i*i+o*o);return r<=n.r&&r>=n.r0}}});return l}),e("echarts/action/createDataSelectAction",["require","../echarts","zrender/core/util"],function(t){var e=t("../echarts"),a=t("zrender/core/util");return function(t,n){a.each(n,function(a){a.update="updateView",e.registerAction(a,function(e,n){var i={};return n.eachComponent({mainType:"series",subType:t,query:e},function(t){t[a.method]&&t[a.method](e.name);var n=t.getData();n.each(function(e){var a=n.getName(e);i[a]=t.isSelected(a)||!1})}),{name:e.name,selected:i}})})}}),e("echarts/chart/pie/pieLayout",["require","../../util/number","./labelLayout","zrender/core/util"],function(t){var e=t("../../util/number"),a=e.parsePercent,n=t("./labelLayout"),i=t("zrender/core/util"),o=2*Math.PI,r=Math.PI/180;return function(t,s,l,c){s.eachSeriesByType(t,function(t){var s=t.get("center"),c=t.get("radius");i.isArray(c)||(c=[0,c]),i.isArray(s)||(s=[s,s]);var d=l.getWidth(),u=l.getHeight(),p=Math.min(d,u),h=a(s[0],d),m=a(s[1],u),g=a(c[0],p/2),f=a(c[1],p/2),v=t.getData(),b=-t.get("startAngle")*r,y=t.get("minAngle")*r,x=v.getSum("value"),w=Math.PI/(x||v.count())*2,k=t.get("clockwise"),D=t.get("roseType"),T=t.get("stillShowZeroSum"),S=v.getDataExtent("value");S[0]=0;var I=o,_=0,C=b,M=k?1:-1;if(v.each("value",function(t,a){var n;if(isNaN(t))return void v.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:k,cx:h,cy:m,r0:g,r:D?NaN:f});n="area"!==D?0===x&&T?w:t*w:o/(v.count()||1),y>n?(n=y,I-=y):_+=t;var i=C+M*n;v.setItemLayout(a,{angle:n,startAngle:C,endAngle:i,clockwise:k,cx:h,cy:m,r0:g,r:D?e.linearMap(t,S,[g,f]):f}),C=i},!0),o>I)if(.001>=I){var L=o/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=b+M*t*L,e.endAngle=b+M*(t+1)*L})}else w=I/_,C=b,v.each("value",function(t,e){var a=v.getItemLayout(e),n=a.angle===y?y:t*w;a.startAngle=C,a.endAngle=C+M*n,C+=M*n});n(t,f,d,u)})}}),e("echarts/chart/bar/BarSeries",["require","./BaseBarSeries"],function(t){return t("./BaseBarSeries").extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})}),e("echarts/processor/dataFilter",[],function(){return function(t,e){var a=e.findComponents({mainType:"legend"});a&&a.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),i=0;i<a.length;i++)if(!a[i].isSelected(n))return!1;return!0},this)},this)}}),e("echarts/chart/bar/BarView",["require","zrender/core/util","../../util/graphic","./helper","../../model/Model","./barItemStyle","../../echarts"],function(t){"use strict";function e(t,e,a,n,i,o,l){var c=new s.Rect({shape:r.extend({},n)});if(o){var d=c.shape,u=i?"height":"width",p={};d[u]=0,p[u]=n[u],s[l?"updateProps":"initProps"](c,{shape:p},o,e)}return c}function a(t,e,a){a.style.text="",s.updateProps(a,{shape:{width:0}},e,t,function(){a.parent&&a.parent.remove(a)})}function n(t,e,a){var n=t.getItemLayout(e),i=o(a,n),r=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+r*i/2,y:n.y+s*i/2,width:n.width-r*i,height:n.height-s*i}}function i(t,e,a,n,i,o,c){var d=e.getItemVisual(a,"color"),u=e.getItemVisual(a,"opacity"),p=n.getModel("itemStyle.normal"),h=n.getModel("itemStyle.emphasis").getBarItemStyle();t.setShape("r",p.get("barBorderRadius")||0),t.useStyle(r.defaults({fill:d,opacity:u},p.getBarItemStyle()));var m=c?i.height>0?"bottom":"top":i.width>0?"left":"right";l.setLabel(t.style,h,n,d,o,a,m),s.setHoverStyle(t,h)}function o(t,e){var a=t.get(c)||0;return Math.min(a,Math.abs(e.width),Math.abs(e.height))}var r=t("zrender/core/util"),s=t("../../util/graphic"),l=t("./helper"),c=["itemStyle","normal","barBorderWidth"];r.extend(t("../../model/Model").prototype,t("./barItemStyle"));var d=t("../../echarts").extendChartView({type:"bar",render:function(t,e,a){var n=t.get("coordinateSystem");return"cartesian2d"===n&&this._renderOnCartesian(t,e,a),this.group},dispose:r.noop,_renderOnCartesian:function(t,o,r){var l=this.group,c=t.getData(),d=this._data,u=t.coordinateSystem,p=u.getBaseAxis(),h=p.isHorizontal(),m=t.isAnimationEnabled()?t:null;c.diff(d).add(function(a){if(c.hasValue(a)){var o=c.getItemModel(a),r=n(c,a,o),s=e(c,a,o,r,h,m);c.setItemGraphicEl(a,s),l.add(s),i(s,c,a,o,r,t,h)}}).update(function(a,o){var r=d.getItemGraphicEl(o);if(!c.hasValue(a))return void l.remove(r);var u=c.getItemModel(a),p=n(c,a,u);r?s.updateProps(r,{shape:p},m,a):r=e(c,a,u,p,h,m,!0),c.setItemGraphicEl(a,r),l.add(r),i(r,c,a,u,p,t,h)}).remove(function(t){var e=d.getItemGraphicEl(t);e&&a(t,m,e)}).execute(),this._data=c},remove:function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(e){a(e.dataIndex,t,e)}):n.removeAll()}});return d}),e("echarts/layout/barGrid",["require","zrender/core/util","../util/number"],function(t){"use strict";function e(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function a(t){return t.dim+t.index}function n(t,n){var i={};o.each(t,function(t,n){var o=t.getData(),r=t.coordinateSystem,l=r.getBaseAxis(),c=l.getExtent(),d="category"===l.type?l.getBandWidth():Math.abs(c[1]-c[0])/o.count(),u=i[a(l)]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=u.stacks;i[a(l)]=u;var h=e(t);p[h]||u.autoWidthCount++,p[h]=p[h]||{width:0,maxWidth:0};var m=s(t.get("barWidth"),d),g=s(t.get("barMaxWidth"),d),f=t.get("barGap"),v=t.get("barCategoryGap");m&&!p[h].width&&(m=Math.min(u.remainedWidth,m),p[h].width=m,u.remainedWidth-=m),g&&(p[h].maxWidth=g),null!=f&&(u.gap=f),null!=v&&(u.categoryGap=v)});var r={};return o.each(i,function(t,e){r[e]={};var a=t.stacks,n=t.bandWidth,i=s(t.categoryGap,n),l=s(t.gap,1),c=t.remainedWidth,d=t.autoWidthCount,u=(c-i)/(d+(d-1)*l);u=Math.max(u,0),o.each(a,function(t,e){var a=t.maxWidth;!t.width&&a&&u>a&&(a=Math.min(a,c),c-=a,t.width=a,d--)}),u=(c-i)/(d+(d-1)*l),u=Math.max(u,0);var p,h=0;o.each(a,function(t,e){t.width||(t.width=u),p=t,h+=t.width*(1+l)}),p&&(h-=p.width*l);var m=-h/2;o.each(a,function(t,a){r[e][a]=r[e][a]||{offset:m,width:t.width},m+=t.width*(1+l)})}),r}function i(t,i,r){var s=n(o.filter(i.getSeriesByType(t),function(t){return!i.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),l={},c={};i.eachSeriesByType(t,function(t){var n=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),r=e(t),d=s[a(o)][r],u=d.offset,p=d.width,h=i.getOtherAxis(o),m=t.get("barMinHeight")||0,g=o.onZero?h.toGlobalCoord(h.dataToCoord(0)):h.getGlobalExtent()[0],f=i.dataToPoints(n,!0);l[r]=l[r]||[],c[r]=c[r]||[],n.setLayout({offset:u,size:p}),n.each(h.dim,function(t,e){if(!isNaN(t)){l[r][e]||(l[r][e]={p:g,n:g},c[r][e]={p:g,n:g});var a,i,o,s,d=t>=0?"p":"n",v=f[e],b=l[r][e][d],y=c[r][e][d];h.isHorizontal()?(a=b,i=v[1]+u,o=v[0]-y,s=p,c[r][e][d]+=o,Math.abs(o)<m&&(o=(0>o?-1:1)*m),l[r][e][d]+=o):(a=v[0]+u,i=b,o=p,s=v[1]-y,c[r][e][d]+=s,Math.abs(s)<m&&(s=(0>=s?-1:1)*m),l[r][e][d]+=s),n.setItemLayout(e,{x:a,y:i,width:o,height:s})}},!0)},this)}var o=t("zrender/core/util"),r=t("../util/number"),s=r.parsePercent;return i}),e("echarts/ExtensionAPI",["require","zrender/core/util"],function(t){"use strict";function e(t){a.each(n,function(e){this[e]=a.bind(t[e],t)},this)}var a=t("zrender/core/util"),n=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];return e}),e("zrender/core/env",[],function(){
// (c) 2010-2013 Thomas Fuchs
// Zepto.js may be freely distributed under the MIT license.
function t(t){var e={},a={},n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),r=/micromessenger/i.test(t);return n&&(a.firefox=!0,a.version=n[1]),i&&(a.ie=!0,a.version=i[1]),o&&(a.edge=!0,a.version=o[1]),r&&(a.weChat=!0),{browser:a,os:e,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&a.version>=11)}}var e={};return e="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:t(navigator.userAgent)}),e("echarts/CoordinateSystem",["require","zrender/core/util"],function(t){"use strict";function e(){this._coordinateSystems=[]}var a=t("zrender/core/util"),n={};return e.prototype={constructor:e,create:function(t,e){var i=[];a.each(n,function(a,n){var o=a.create(t,e);i=i.concat(o||[])}),this._coordinateSystems=i},update:function(t,e){a.each(this._coordinateSystems,function(a){a.update&&a.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},e.register=function(t,e){n[t]=e},e.get=function(t){return n[t]},e}),e("echarts/model/Global",["require","zrender/core/util","../util/model","./Model","./Component","./globalDefault","./mixin/colorPalette"],function(t){function e(t,e){l.each(e,function(e,a){v.hasClass(a)||("object"==typeof e?t[a]=t[a]?l.merge(t[a],e,!1):l.clone(e):null==t[a]&&(t[a]=e))})}function a(t){t=t,this.option={},this.option[y]=1,this._componentsMap={},this._seriesIndices=null,e(t,this._theme.option),l.merge(t,b,!1),this.mergeOption(t)}function n(t,e){l.isArray(e)||(e=e?[e]:[]);var a={};return u(e,function(e){a[e]=(t[e]||[]).slice()}),a}function i(t,e,a){var n=e.type?e.type:a?a.subType:v.determineSubType(t,e);return n}function o(t){return h(t,function(t){return t.componentIndex})||[]}function r(t,e){return e.hasOwnProperty("subType")?p(t,function(t){return t.subType===e.subType}):t}function s(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var l=t("zrender/core/util"),c=t("../util/model"),d=t("./Model"),u=l.each,p=l.filter,h=l.map,m=l.isArray,g=l.indexOf,f=l.isObject,v=t("./Component"),b=t("./globalDefault"),y="\x00_ec_inner",x=d.extend({constructor:x,init:function(t,e,a,n){a=a||{},this.option=null,this._theme=new d(a),this._optionManager=n},setOption:function(t,e){l.assert(!(y in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):a.call(this,i),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var r=n.getMediaOption(this,this._api);r.length&&u(r,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,s){var d=c.normalizeToArray(t[e]),p=c.mappingToExists(r[e],d);c.makeIdAndName(p),u(p,function(t,a){var n=t.option;f(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=i(e,n,t.exist))});var h=n(r,s);a[e]=[],r[e]=[],u(p,function(t,n){var i=t.exist,o=t.option;if(l.assert(f(o)||i,"Empty component definition"),o){var s=v.getClass(e,t.keyInfo.subType,!0);if(i&&i instanceof s)i.name=t.keyInfo.name,i.mergeOption(o,this),i.optionUpdated(o,!1);else{var c=l.extend({dependentModels:h,componentIndex:n},t.keyInfo);i=new s(o,this,this,c),l.extend(i,c),i.init(o,this,this,c),i.optionUpdated(null,!0)}}else i.mergeOption({},this),i.optionUpdated({},!1);r[e][n]=i,a[e][n]=i.option},this),"series"===e&&(this._seriesIndices=o(r.series))}var a=this.option,r=this._componentsMap,s=[];u(t,function(t,e){null!=t&&(v.hasClass(e)?s.push(e):a[e]=null==a[e]?l.clone(t):l.merge(a[e],t,!0))}),v.topologicalTravel(s,v.getAllClassMainTypes(),e,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var t=l.clone(this.option);return u(t,function(e,a){if(v.hasClass(a)){for(var e=c.normalizeToArray(e),n=e.length-1;n>=0;n--)c.isIdInner(e[n])&&e.splice(n,1);t[a]=e}}),delete t[y],t},getTheme:function(){return this._theme},getComponent:function(t,e){var a=this._componentsMap[t];return a?a[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var a=t.index,n=t.id,i=t.name,o=this._componentsMap[e];if(!o||!o.length)return[];var s;if(null!=a)m(a)||(a=[a]),s=p(h(a,function(t){return o[t]}),function(t){return!!t});else if(null!=n){var l=m(n);s=p(o,function(t){return l&&g(n,t.id)>=0||!l&&t.id===n})}else if(null!=i){var c=m(i);s=p(o,function(t){return c&&g(i,t.name)>=0||!c&&t.name===i})}else s=o;return r(s,t)},findComponents:function(t){function e(t){var e=i+"Index",a=i+"Id",n=i+"Name";return!t||null==t[e]&&null==t[a]&&null==t[n]?null:{mainType:i,index:t[e],id:t[a],name:t[n]}}function a(e){return t.filter?p(e,t.filter):e}var n=t.query,i=t.mainType,o=e(n),s=o?this.queryComponents(o):this._componentsMap[i];return a(r(s,t))},eachComponent:function(t,e,a){var n=this._componentsMap;if("function"==typeof t)a=e,e=t,u(n,function(t,n){u(t,function(t,i){e.call(a,n,t,i)})});else if(l.isString(t))u(n[t],e,a);else if(f(t)){var i=this.findComponents(t);u(i,e,a)}},getSeriesByName:function(t){var e=this._componentsMap.series;return p(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return p(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){s(this),u(this._seriesIndices,function(a){var n=this._componentsMap.series[a];t.call(e,n,a)},this)},eachRawSeries:function(t,e){u(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,a){s(this),u(this._seriesIndices,function(n){var i=this._componentsMap.series[n];i.subType===t&&e.call(a,i,n)},this)},eachRawSeriesByType:function(t,e,a){return u(this.getSeriesByType(t),e,a)},isSeriesFiltered:function(t){return s(this),l.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){s(this);var a=p(this._componentsMap.series,t,e);this._seriesIndices=o(a)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=o(t.series);var e=[];u(t,function(t,a){e.push(a)}),v.topologicalTravel(e,v.getAllClassMainTypes(),function(e,a){u(t[e],function(t){t.restoreData()})})}});return l.mixin(x,t("./mixin/colorPalette")),x}),e("echarts/model/Component",["require","./Model","zrender/core/util","../util/component","../util/clazz","../util/layout","./mixin/boxLayout"],function(t){function e(t){var e=[];return n.each(l.getClassesByMainType(t),function(t){i.apply(e,t.prototype.dependencies||[])}),n.map(e,function(t){return r.parseClassType(t).main})}var a=t("./Model"),n=t("zrender/core/util"),i=Array.prototype.push,o=t("../util/component"),r=t("../util/clazz"),s=t("../util/layout"),l=a.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){a.call(this,t,e,n,i),this.uid=o.getUID("componentModel")},init:function(t,e,a,n){this.mergeDefaultAndTheme(t,a)},mergeDefaultAndTheme:function(t,e){var a=this.layoutMode,i=a?s.getLayoutParams(t):{},o=e.getTheme();n.merge(t,o.get(this.mainType)),n.merge(t,this.getDefaultOption()),a&&s.mergeLayoutParam(t,i,a)},mergeOption:function(t,e){n.merge(this.option,t,!0);var a=this.layoutMode;a&&s.mergeLayoutParam(this.option,t,a)},optionUpdated:function(t,e){},getDefaultOption:function(){if(!r.hasOwn(this,"__defaultOption")){for(var t=[],e=this.constructor;e;){var a=e.prototype.defaultOption;a&&t.push(a),e=e.superClass}for(var i={},o=t.length-1;o>=0;o--)i=n.merge(i,t[o],!0);r.set(this,"__defaultOption",i)}return r.get(this,"__defaultOption")},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});return r.enableClassManagement(l,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(l),o.enableTopologicalTravel(l,e),n.mixin(l,t("./mixin/boxLayout")),l}),e("echarts/model/OptionManager",["require","zrender/core/util","../util/model","./Component"],function(t){function e(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function a(t,e,a){var n,i,o=[],r=[],l=t.timeline;if(t.baseOption&&(i=t.baseOption),(l||t.options)&&(i=i||{},o=(t.options||[]).slice()),t.media){i=i||{};var c=t.media;d(c,function(t){t&&t.option&&(t.query?r.push(t):n||(n=t))})}return i||(i=t),i.timeline||(i.timeline=l),d([i].concat(o).concat(s.map(r,function(t){return t.option})),function(t){d(e,function(e){e(t,a)})}),{baseOption:i,timelineOptions:o,mediaDefault:n,mediaList:r}}function n(t,e,a){var n={width:e,height:a,aspectratio:e/a},o=!0;return s.each(t,function(t,e){var a=e.match(m);if(a&&a[1]&&a[2]){var r=a[1],s=a[2].toLowerCase();i(n[s],t,r)||(o=!1)}}),o}function i(t,e,a){return"min"===a?t>=e:"max"===a?e>=t:t===e}function o(t,e){return t.join(",")===e.join(",")}function r(t,e){e=e||{},d(e,function(e,a){if(null!=e){var n=t[a];if(c.hasClass(a)){e=l.normalizeToArray(e),n=l.normalizeToArray(n);var i=l.mappingToExists(n,e);t[a]=p(i,function(t){return t.option&&t.exist?h(t.exist,t.option,!0):t.exist||t.option})}else t[a]=h(n,e,!0)}})}var s=t("zrender/core/util"),l=t("../util/model"),c=t("./Component"),d=s.each,u=s.clone,p=s.map,h=s.merge,m=/^(min|max)?(.+)$/;return e.prototype={constructor:e,setOption:function(t,e){t=u(t,!0);var n=this._optionBackup,i=a.call(this,t,e,!n);this._newBaseOption=i.baseOption,n?(r(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=p(e.timelineOptions,u),this._mediaList=p(e.mediaList,u),this._mediaDefault=u(e.mediaDefault),this._currentMediaIndices=[],u(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,a=this._timelineOptions;if(a.length){var n=t.getComponent("timeline");n&&(e=u(a[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),a=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,s=[],l=[];if(!i.length&&!r)return l;for(var c=0,d=i.length;d>c;c++)n(i[c].query,e,a)&&s.push(c);return!s.length&&r&&(s=[-1]),s.length&&!o(s,this._currentMediaIndices)&&(l=p(s,function(t){return u(-1===t?r.option:i[t].option)})),this._currentMediaIndices=s,l}},e}),e("echarts/view/Component",["require","zrender/container/Group","../util/component","../util/clazz"],function(t){var e=t("zrender/container/Group"),a=t("../util/component"),n=t("../util/clazz"),i=function(){this.group=new e,this.uid=a.getUID("viewComponent")};i.prototype={constructor:i,init:function(t,e){},render:function(t,e,a,n){},dispose:function(){}};var o=i.prototype;return o.updateView=o.updateLayout=o.updateVisual=function(t,e,a,n){},n.enableClassExtend(i),n.enableClassManagement(i,{registerWhenExtend:!0}),i}),e("echarts/model/Series",["require","zrender/core/util","../util/format","../util/clazz","../util/model","./Component","./mixin/colorPalette","zrender/core/env","../util/layout"],function(t){"use strict";var e=t("zrender/core/util"),a=t("../util/format"),n=t("../util/clazz"),i=t("../util/model"),o=t("./Component"),r=t("./mixin/colorPalette"),s=t("zrender/core/env"),l=t("../util/layout"),c=n.set,d=n.get,u=a.encodeHTML,p=a.addCommas,h=o.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(t,e,a,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,a),c(this,"dataBeforeProcessed",this.getInitialData(t,a)),this.restoreData()},mergeDefaultAndTheme:function(t,a){var n=this.layoutMode,o=n?l.getLayoutParams(t):{};e.merge(t,a.getTheme().get(this.subType)),e.merge(t,this.getDefaultOption()),i.defaultEmphasis(t.label,i.LABEL_OPTIONS),this.fillDataTextStyle(t.data),n&&l.mergeLayoutParam(t,o,n)},mergeOption:function(t,a){t=e.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&l.mergeLayoutParam(this.option,t,n);var i=this.getInitialData(t,a);i&&(c(this,"data",i),c(this,"dataBeforeProcessed",i.cloneShallow()))},fillDataTextStyle:function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&t[e].label&&i.defaultEmphasis(t[e].label,i.LABEL_OPTIONS)},getInitialData:function(){},getData:function(t){var e=d(this,"data");return null==t?e:e.getLinkedData(t)},setData:function(t){c(this,"data",t)},getRawData:function(){return d(this,"dataBeforeProcessed")},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,n,i){function o(t){var i=[];return e.each(t,function(t,e){var o,s=r.getDimensionInfo(e),l=s&&s.type;o="ordinal"===l?t+"":"time"===l?n?"":a.formatTime("yyyy/MM/dd hh:mm:ss",t):p(t),o&&i.push(o)}),i.join(", ")}var r=d(this,"data"),s=this.getRawValue(t),l=u(e.isArray(s)?o(s):p(s)),c=r.getName(t),h=r.getItemVisual(t,"color");e.isObject(h)&&h.colorStops&&(h=(h.colorStops[0]||{}).color),h=h||"transparent";var m='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+u(h)+'"></span>',g=this.name;return"\x00-"===g&&(g=""),n?m+u(this.name)+" : "+l:(g&&u(g)+"<br />")+m+(c?u(c)+" : "+l:l)},isAnimationEnabled:function(){if(s.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){c(this,"data",d(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(t,e){var a=this.ecModel,n=r.getColorFromPalette.call(this,t,e);return n||(n=a.getColorFromPalette(t,e)),n},getAxisTooltipDataIndex:null,getTooltipPosition:null});return e.mixin(h,i.dataFormatMixin),e.mixin(h,r),h}),e("echarts/view/Chart",["require","zrender/container/Group","../util/component","../util/clazz","../util/model","zrender/core/util"],function(t){function e(){this.group=new i,this.uid=o.getUID("viewChart")}function a(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)a(t.childAt(n),e)}function n(t,e,n){var i=s.queryDataIndex(t,e);null!=i?l.each(s.normalizeToArray(i),function(e){a(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){a(t,n)})}var i=t("zrender/container/Group"),o=t("../util/component"),r=t("../util/clazz"),s=t("../util/model"),l=t("zrender/core/util");e.prototype={type:"chart",init:function(t,e){},render:function(t,e,a,n){},highlight:function(t,e,a,i){n(t.getData(),i,"emphasis")},downplay:function(t,e,a,i){n(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var c=e.prototype;return c.updateView=c.updateLayout=c.updateVisual=function(t,e,a,n){this.render(t,e,a,n)},r.enableClassExtend(e,["dispose"]),r.enableClassManagement(e,{registerWhenExtend:!0}),e}),e("echarts/util/throttle",[],function(){var t={},e="\x00__throttleOriginMethod",a="\x00__throttleRate",n="\x00__throttleType";return t.throttle=function(t,e,a){function n(){c=(new Date).getTime(),d=null,t.apply(r,s||[])}var i,o,r,s,l=0,c=0,d=null;e=e||0;var u=function(){i=(new Date).getTime(),r=this,s=arguments,o=i-(a?l:c)-e,clearTimeout(d),a?d=setTimeout(n,e):o>=0?n():d=setTimeout(n,-o),l=i};return u.clear=function(){d&&(clearTimeout(d),d=null)},u},t.createOrUpdate=function(i,o,r,s){var l=i[o];if(l){var c=l[e]||l,d=l[n],u=l[a];if(u!==r||d!==s){if(null==r||!s)return i[o]=c;l=i[o]=t.throttle(c,r,"debounce"===s),l[e]=c,l[n]=s,l[a]=r}return l}},t.clear=function(t,a){var n=t[a];n&&n[e]&&(t[a]=n[e])},t}),e("zrender/zrender",["require","./core/guid","./core/env","./core/util","./Handler","./Storage","./animation/Animation","./dom/HandlerProxy","./Painter"],function(t){function e(t){delete u[t]}var a=t("./core/guid"),n=t("./core/env"),i=t("./core/util"),o=t("./Handler"),r=t("./Storage"),s=t("./animation/Animation"),l=t("./dom/HandlerProxy"),c=!n.canvasSupported,d={canvas:t("./Painter")},u={},p={};p.version="3.3.0",p.init=function(t,e){var n=new h(a(),t,e);return u[n.id]=n,n},p.dispose=function(t){if(t)t.dispose();else{for(var e in u)u.hasOwnProperty(e)&&u[e].dispose();u={}}return p},p.getInstance=function(t){return u[t]},p.registerPainter=function(t,e){d[t]=e};var h=function(t,e,a){a=a||{},this.dom=e,this.id=t;var u=this,p=new r,h=a.renderer;if(c){if(!d.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");h="vml"}else h&&d[h]||(h="canvas");var m=new d[h](e,p,a);this.storage=p,this.painter=m;var g=n.node?null:new l(m.getViewportRoot());this.handler=new o(p,m,g,m.root),this.animation=new s({stage:{update:i.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var f=p.delFromMap,v=p.addToMap;p.delFromMap=function(t){var e=p.get(t);f.call(p,t),e&&e.removeSelfFromZr(u)},p.addToMap=function(t){v.call(p,t),t.addSelfToZr(u)}};return h.prototype={constructor:h,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e,n){var i=a();return this.painter.pathToImage(i,t,e,n)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},on:function(t,e,a){this.handler.on(t,e,a)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e(this.id)}},p}),e("echarts/util/model",["require","./format","./number","../model/Model","zrender/core/util"],function(t){function e(t,e){return t&&t.hasOwnProperty(e)}var a=t("./format"),n=t("./number"),i=t("../model/Model"),o=t("zrender/core/util"),r=o.each,s=o.isObject,l={};return l.normalizeToArray=function(t){return t instanceof Array?t:null==t?[]:[t]},l.defaultEmphasis=function(t,e){if(t){var a=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};r(e,function(t){var e=o.retrieve(a[t],n[t]);null!=e&&(a[t]=e)})}},l.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"],l.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},l.isDataItemOption=function(t){return s(t)&&!(t instanceof Array)},l.converDataValue=function(t,e){var a=e&&e.type;return"ordinal"===a?t:("time"!==a||isFinite(t)||null==t||"-"===t||(t=+n.parseDate(t)),null==t||""===t?NaN:+t)},l.createDataFormatModel=function(t,e){var a=new i;return o.mixin(a,l.dataFormatMixin),a.seriesIndex=e.seriesIndex,a.name=e.name||"",a.mainType=e.mainType,a.subType=e.subType,a.getData=function(){return t},a},l.dataFormatMixin={getDataParams:function(t,e){var a=this.getData(e),n=this.seriesIndex,i=this.name,o=this.getRawValue(t,e),r=a.getRawIndex(t),s=a.getName(t,!0),l=a.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:n,seriesName:i,name:s,dataIndex:r,data:l,dataType:e,value:o,color:a.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,i){e=e||"normal";var o=this.getData(n),r=o.getItemModel(t),s=this.getDataParams(t,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=r.get(["label",e,"formatter"]);return"function"==typeof l?(s.status=e,l(s)):"string"==typeof l?a.formatTpl(l,s):void 0},getRawValue:function(t,e){var a=this.getData(e),n=a.getRawDataItem(t);return null!=n?!s(n)||n instanceof Array?n:n.value:void 0},formatTooltip:o.noop},l.mappingToExists=function(t,e){e=(e||[]).slice();var a=o.map(t||[],function(t,e){return{exist:t}});return r(e,function(t,n){if(s(t)){for(var i=0;i<a.length;i++)if(!a[i].option&&null!=t.id&&a[i].exist.id===t.id+"")return a[i].option=t,void(e[n]=null);for(var i=0;i<a.length;i++){var o=a[i].exist;if(!(a[i].option||null!=o.id&&null!=t.id||null==t.name||l.isIdInner(t)||l.isIdInner(o)||o.name!==t.name+""))return a[i].option=t,void(e[n]=null)}}}),r(e,function(t,e){if(s(t)){for(var n=0;n<a.length;n++){var i=a[n].exist;if(!a[n].option&&!l.isIdInner(i)&&null==t.id){a[n].option=t;break}}n>=a.length&&a.push({option:t})}}),a},l.makeIdAndName=function(t){var e={};r(t,function(t,a){var n=t.exist;n&&(e[n.id]=t)}),r(t,function(t,a){var n=t.option;o.assert(!n||null==n.id||!e[n.id]||e[n.id]===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&(e[n.id]=t),!t.keyInfo&&(t.keyInfo={})}),r(t,function(t,a){var n=t.exist,i=t.option,o=t.keyInfo;if(s(i)){if(o.name=null!=i.name?i.name+"":n?n.name:"\x00-",n)o.id=n.id;else if(null!=i.id)o.id=i.id+"";else{var r=0;do o.id="\x00"+o.name+"\x00"+r++;while(e[o.id])}e[o.id]=t}})},l.isIdInner=function(t){return s(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},l.compressBatches=function(t,e){function a(t,e,a){for(var n=0,i=t.length;i>n;n++)for(var o=t[n].seriesId,r=l.normalizeToArray(t[n].dataIndex),s=a&&a[o],c=0,d=r.length;d>c;c++){var u=r[c];s&&s[u]?s[u]=null:(e[o]||(e[o]={}))[u]=1}}function n(t,e){var a=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)a.push(+i);else{var o=n(t[i],!0);o.length&&a.push({seriesId:i,dataIndex:o})}return a}var i={},o={};return a(t||[],i),a(e||[],o,i),[n(i),n(o)]},l.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?o.isArray(e.dataIndex)?o.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?o.isArray(e.name)?o.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},l.parseFinder=function(t,a,n){if(o.isString(a)){var i={};i[a+"Index"]=0,a=i}var s=n&&n.defaultMainType;!s||e(a,s+"Index")||e(a,s+"Id")||e(a,s+"Name")||(a[s+"Index"]=0);var l={};return r(a,function(e,n){var e=a[n];if("dataIndex"===n||"dataIndexInside"===n)return void(l[n]=e);var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],o=i[1],r=i[2];if(o&&r){var s={mainType:o};s[r.toLowerCase()]=e;var c=t.queryComponents(s);l[o+"Models"]=c,l[o+"Model"]=c[0]}}),l},l}),e("zrender/tool/color",["require"],function(t){function e(t){return t=Math.round(t),0>t?0:t>255?255:t}function a(t){return t=Math.round(t),0>t?0:t>360?360:t}function n(t){return 0>t?0:t>1?1:t}function i(t){return e(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function o(t){return n(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function r(t,e,a){return 0>a?a+=1:a>1&&(a-=1),1>6*a?t+(e-t)*a*6:1>2*a?e:2>3*a?t+(e-t)*(2/3-a)*6:t}function s(t,e,a){return t+(e-t)*a}function l(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in b)return b[e].slice();if("#"!==e.charAt(0)){var a=e.indexOf("("),n=e.indexOf(")");if(-1!==a&&n+1===e.length){var r=e.substr(0,a),s=e.substr(a+1,n-(a+1)).split(","),l=1;switch(r){case"rgba":if(4!==s.length)return;l=o(s.pop());case"rgb":if(3!==s.length)return;return[i(s[0]),i(s[1]),i(s[2]),l];case"hsla":if(4!==s.length)return;return s[3]=o(s[3]),c(s);case"hsl":if(3!==s.length)return;return c(s);default:return}}}else{if(4===e.length){var d=parseInt(e.substr(1),16);if(!(d>=0&&4095>=d))return;return[(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,1]}if(7===e.length){var d=parseInt(e.substr(1),16);if(!(d>=0&&16777215>=d))return;return[(16711680&d)>>16,(65280&d)>>8,255&d,1]}}}}function c(t){var a=(parseFloat(t[0])%360+360)%360/360,n=o(t[1]),i=o(t[2]),s=.5>=i?i*(n+1):i+n-i*n,l=2*i-s,c=[e(255*r(l,s,a+1/3)),e(255*r(l,s,a)),e(255*r(l,s,a-1/3))];return 4===t.length&&(c[3]=t[3]),c}function d(t){if(t){var e,a,n=t[0]/255,i=t[1]/255,o=t[2]/255,r=Math.min(n,i,o),s=Math.max(n,i,o),l=s-r,c=(s+r)/2;if(0===l)e=0,a=0;else{a=.5>c?l/(s+r):l/(2-s-r);var d=((s-n)/6+l/2)/l,u=((s-i)/6+l/2)/l,p=((s-o)/6+l/2)/l;n===s?e=p-u:i===s?e=1/3+d-p:o===s&&(e=2/3+u-d),0>e&&(e+=1),e>1&&(e-=1)}var h=[360*e,a,c];return null!=t[3]&&h.push(t[3]),h}}function u(t,e){var a=l(t);if(a){for(var n=0;3>n;n++)0>e?a[n]=a[n]*(1-e)|0:a[n]=(255-a[n])*e+a[n]|0;return v(a,4===a.length?"rgba":"rgb")}}function p(t,e){var a=l(t);return a?((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1):void 0}function h(t,a,n){if(a&&a.length&&t>=0&&1>=t){n=n||[0,0,0,0];var i=t*(a.length-1),o=Math.floor(i),r=Math.ceil(i),l=a[o],c=a[r],d=i-o;return n[0]=e(s(l[0],c[0],d)),n[1]=e(s(l[1],c[1],d)),n[2]=e(s(l[2],c[2],d)),n[3]=e(s(l[3],c[3],d)),n}}function m(t,a,i){if(a&&a.length&&t>=0&&1>=t){var o=t*(a.length-1),r=Math.floor(o),c=Math.ceil(o),d=l(a[r]),u=l(a[c]),p=o-r,h=v([e(s(d[0],u[0],p)),e(s(d[1],u[1],p)),e(s(d[2],u[2],p)),n(s(d[3],u[3],p))],"rgba");return i?{color:h,leftIndex:r,rightIndex:c,value:o}:h}}function g(t,e,n,i){return t=l(t),t?(t=d(t),null!=e&&(t[0]=a(e)),null!=n&&(t[1]=o(n)),null!=i&&(t[2]=o(i)),v(c(t),"rgba")):void 0}function f(t,e){return t=l(t),t&&null!=e?(t[3]=n(e),v(t,"rgba")):void 0}function v(t,e){var a=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(a+=","+t[3]),e+"("+a+")"}var b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};return{parse:l,lift:u,toHex:p,fastMapToColor:h,mapToColor:m,modifyHSL:g,modifyAlpha:f,stringify:v}}),e("zrender/mixin/Eventful",["require"],function(t){var e=Array.prototype.slice,a=function(){this._$handlers={}};return a.prototype={constructor:a,one:function(t,e,a){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var i=0;i<n[t].length;i++)if(n[t][i].h===e)return this;return n[t].push({h:e,one:!0,ctx:a||this}),this},on:function(t,e,a){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var i=0;i<n[t].length;i++)if(n[t][i].h===e)return this;return n[t].push({h:e,one:!1,ctx:a||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var a=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(a[t]){for(var n=[],i=0,o=a[t].length;o>i;i++)a[t][i].h!=e&&n.push(a[t][i]);a[t]=n}a[t]&&0===a[t].length&&delete a[t]}else delete a[t];return this},trigger:function(t){if(this._$handlers[t]){var a=arguments,n=a.length;n>3&&(a=e.call(a,1));for(var i=this._$handlers[t],o=i.length,r=0;o>r;){switch(n){case 1:i[r].h.call(i[r].ctx);break;case 2:i[r].h.call(i[r].ctx,a[1]);break;case 3:i[r].h.call(i[r].ctx,a[1],a[2]);break;default:i[r].h.apply(i[r].ctx,a)}i[r].one?(i.splice(r,1),o--):r++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var a=arguments,n=a.length;n>4&&(a=e.call(a,1,a.length-1));for(var i=a[a.length-1],o=this._$handlers[t],r=o.length,s=0;r>s;){switch(n){case 1:o[s].h.call(i);break;case 2:o[s].h.call(i,a[1]);break;case 3:o[s].h.call(i,a[1],a[2]);break;default:o[s].h.apply(i,a)}o[s].one?(o.splice(s,1),r--):s++}}return this}},a}),e("zrender/core/timsort",[],function(){function t(t){for(var e=0;t>=l;)e|=1&t,t>>=1;return t+e}function e(t,e,n,i){var o=e+1;if(o===n)return 1;if(i(t[o++],t[e])<0){for(;n>o&&i(t[o],t[o-1])<0;)o++;a(t,e,o)}else for(;n>o&&i(t[o],t[o-1])>=0;)o++;return o-e}function a(t,e,a){for(a--;a>e;){var n=t[e];t[e++]=t[a],t[a--]=n}}function n(t,e,a,n,i){for(n===e&&n++;a>n;n++){
for(var o,r=t[n],s=e,l=n;l>s;)o=s+l>>>1,i(r,t[o])<0?l=o:s=o+1;var c=n-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=r}}function i(t,e,a,n,i,o){var r=0,s=0,l=1;if(o(t,e[a+i])>0){for(s=n-i;s>l&&o(t,e[a+i+l])>0;)r=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s),r+=i,l+=i}else{for(s=i+1;s>l&&o(t,e[a+i-l])<=0;)r=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s);var c=r;r=i-l,l=i-c}for(r++;l>r;){var d=r+(l-r>>>1);o(t,e[a+d])>0?r=d+1:l=d}return l}function o(t,e,a,n,i,o){var r=0,s=0,l=1;if(o(t,e[a+i])<0){for(s=i+1;s>l&&o(t,e[a+i-l])<0;)r=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s);var c=r;r=i-l,l=i-c}else{for(s=n-i;s>l&&o(t,e[a+i+l])>=0;)r=l,l=(l<<1)+1,0>=l&&(l=s);l>s&&(l=s),r+=i,l+=i}for(r++;l>r;){var d=r+(l-r>>>1);o(t,e[a+d])<0?l=d:r=d+1}return l}function r(t,e){function a(t,e){p[b]=t,h[b]=e,b+=1}function n(){for(;b>1;){var t=b-2;if(t>=1&&h[t-1]<=h[t]+h[t+1]||t>=2&&h[t-2]<=h[t]+h[t-1])h[t-1]<h[t+1]&&t--;else if(h[t]>h[t+1])break;s(t)}}function r(){for(;b>1;){var t=b-2;t>0&&h[t-1]<h[t+1]&&t--,s(t)}}function s(a){var n=p[a],r=h[a],s=p[a+1],c=h[a+1];h[a]=r+c,a===b-3&&(p[a+1]=p[a+2],h[a+1]=h[a+2]),b--;var d=o(t[s],t,n,r,0,e);n+=d,r-=d,0!==r&&(c=i(t[n+r-1],t,s,c,c-1,e),0!==c&&(c>=r?l(n,r,s,c):u(n,r,s,c)))}function l(a,n,r,s){var l=0;for(l=0;n>l;l++)y[l]=t[a+l];var d=0,u=r,p=a;if(t[p++]=t[u++],0!==--s){if(1===n){for(l=0;s>l;l++)t[p+l]=t[u+l];return void(t[p+s]=y[d])}for(var h,g,f,v=m;;){h=0,g=0,f=!1;do if(e(t[u],y[d])<0){if(t[p++]=t[u++],g++,h=0,0===--s){f=!0;break}}else if(t[p++]=y[d++],h++,g=0,1===--n){f=!0;break}while(v>(h|g));if(f)break;do{if(h=o(t[u],y,d,n,0,e),0!==h){for(l=0;h>l;l++)t[p+l]=y[d+l];if(p+=h,d+=h,n-=h,1>=n){f=!0;break}}if(t[p++]=t[u++],0===--s){f=!0;break}if(g=i(y[d],t,u,s,0,e),0!==g){for(l=0;g>l;l++)t[p+l]=t[u+l];if(p+=g,u+=g,s-=g,0===s){f=!0;break}}if(t[p++]=y[d++],1===--n){f=!0;break}v--}while(h>=c||g>=c);if(f)break;0>v&&(v=0),v+=2}if(m=v,1>m&&(m=1),1===n){for(l=0;s>l;l++)t[p+l]=t[u+l];t[p+s]=y[d]}else{if(0===n)throw new Error;for(l=0;n>l;l++)t[p+l]=y[d+l]}}else for(l=0;n>l;l++)t[p+l]=y[d+l]}function u(a,n,r,s){var l=0;for(l=0;s>l;l++)y[l]=t[r+l];var d=a+n-1,u=s-1,p=r+s-1,h=0,g=0;if(t[p--]=t[d--],0!==--n){if(1===s){for(p-=n,d-=n,g=p+1,h=d+1,l=n-1;l>=0;l--)t[g+l]=t[h+l];return void(t[p]=y[u])}for(var f=m;;){var v=0,b=0,x=!1;do if(e(y[u],t[d])<0){if(t[p--]=t[d--],v++,b=0,0===--n){x=!0;break}}else if(t[p--]=y[u--],b++,v=0,1===--s){x=!0;break}while(f>(v|b));if(x)break;do{if(v=n-o(y[u],t,a,n,n-1,e),0!==v){for(p-=v,d-=v,n-=v,g=p+1,h=d+1,l=v-1;l>=0;l--)t[g+l]=t[h+l];if(0===n){x=!0;break}}if(t[p--]=y[u--],1===--s){x=!0;break}if(b=s-i(t[d],y,0,s,s-1,e),0!==b){for(p-=b,u-=b,s-=b,g=p+1,h=u+1,l=0;b>l;l++)t[g+l]=y[h+l];if(1>=s){x=!0;break}}if(t[p--]=t[d--],0===--n){x=!0;break}f--}while(v>=c||b>=c);if(x)break;0>f&&(f=0),f+=2}if(m=f,1>m&&(m=1),1===s){for(p-=n,d-=n,g=p+1,h=d+1,l=n-1;l>=0;l--)t[g+l]=t[h+l];t[p]=y[u]}else{if(0===s)throw new Error;for(h=p-(s-1),l=0;s>l;l++)t[h+l]=y[l]}}else for(h=p-(s-1),l=0;s>l;l++)t[h+l]=y[l]}var p,h,m=c,g=0,f=d,v=0,b=0;g=t.length,2*d>g&&(f=g>>>1);var y=[];v=120>g?5:1542>g?10:119151>g?19:40,p=[],h=[],this.mergeRuns=n,this.forceMergeRuns=r,this.pushRun=a}function s(a,i,o,s){o||(o=0),s||(s=a.length);var c=s-o;if(!(2>c)){var d=0;if(l>c)return d=e(a,o,s,i),void n(a,o,s,o+d,i);var u=new r(a,i),p=t(c);do{if(d=e(a,o,s,i),p>d){var h=c;h>p&&(h=p),n(a,o,o+h,o+d,i),d=h}u.pushRun(o,d),u.mergeRuns(),c-=d,o+=d}while(0!==c);u.forceMergeRuns()}}var l=32,c=7,d=256;return s}),e("echarts/loading/default",["require","../util/graphic","zrender/core/util"],function(t){var e=t("../util/graphic"),a=t("zrender/core/util"),n=Math.PI;return function(t,i){i=i||{},a.defaults(i,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new e.Rect({style:{fill:i.maskColor},zlevel:i.zlevel,z:1e4}),r=new e.Arc({shape:{startAngle:-n/2,endAngle:-n/2+.1,r:10},style:{stroke:i.color,lineCap:"round",lineWidth:5},zlevel:i.zlevel,z:10001}),s=new e.Rect({style:{fill:"none",text:i.text,textPosition:"right",textDistance:10,textFill:i.textColor},zlevel:i.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*n/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*n/2}).delay(300).start("circularInOut");var l=new e.Group;return l.add(r),l.add(s),l.add(o),l.resize=function(){var e=t.getWidth()/2,a=t.getHeight()/2;r.setShape({cx:e,cy:a});var n=r.shape.r;s.setShape({x:e-n,y:a-n,width:2*n,height:2*n}),o.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}}),e("echarts/preprocessor/backwardCompat",["require","zrender/core/util","./helper/compatStyle"],function(t){function e(t,e){e=e.split(",");for(var a=t,n=0;n<e.length&&(a=a&&a[e[n]],null!=a);n++);return a}function a(t,e,a,n){e=e.split(",");for(var i,o=t,r=0;r<e.length-1;r++)i=e[r],null==o[i]&&(o[i]={}),o=o[i];(n||null==o[e[r]])&&(o[e[r]]=a)}function n(t){c(r,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var i=t("zrender/core/util"),o=t("./helper/compatStyle"),r=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],s=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=i.each;return function(t){c(t.series,function(t){if(i.isObject(t)){var r=t.type;if(o(t),("pie"===r||"gauge"===r)&&null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===r){var s=e(t,"pointer.color");null!=s&&a(t,"itemStyle.normal.color",s)}for(var c=0;c<l.length;c++)if(l[c]===t.type){n(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),c(s,function(e){var a=t[e];a&&(i.isArray(a)||(a=[a]),c(a,function(t){n(t)}))})}}),e("echarts/visual/seriesColor",["require","zrender/graphic/Gradient"],function(t){var e=t("zrender/graphic/Gradient");return function(t){function a(a){var n=(a.visualColorAccessPath||"itemStyle.normal.color").split("."),i=a.getData(),o=a.get(n)||a.getColorFromPalette(a.get("name"));i.setVisual("color",o),t.isSeriesFiltered(a)||("function"!=typeof o||o instanceof e||i.each(function(t){i.setItemVisual(t,"color",o(a.getDataParams(t)))}),i.each(function(t){var e=i.getItemModel(t),a=e.get(n,!0);null!=a&&i.setItemVisual(t,"color",a)}))}t.eachRawSeries(a)}}),e("echarts/model/Model",["require","zrender/core/util","../util/clazz","zrender/core/env","./mixin/lineStyle","./mixin/areaStyle","./mixin/textStyle","./mixin/itemStyle"],function(t){function e(t,e,a){this.parentModel=e,this.ecModel=a,this.option=t}function a(t,e,a){for(var n=0;n<e.length&&(!e[n]||(t=t&&"object"==typeof t?t[e[n]]:null,null!=t));n++);return null==t&&a&&(t=a.get(e)),t}function n(t,e){var a=o.get(t,"getParent");return a?a.call(t,e):t.parentModel}var i=t("zrender/core/util"),o=t("../util/clazz"),r=t("zrender/core/env");e.prototype={constructor:e,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:a(this.option,this.parsePath(t),!e&&n(this,t))},getShallow:function(t,e){var a=this.option,i=null==a?a:a[t],o=!e&&n(this,t);return null==i&&o&&(i=o.getShallow(t)),i},getModel:function(t,i){var o,r=null==t?this.option:a(this.option,t=this.parsePath(t));return i=i||(o=n(this,t))&&o.getModel(t),new e(r,i,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(i.clone(this.option))},setReadOnly:function(t){o.setReadOnly(this,t)},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){o.set(this,"getParent",t)},isAnimationEnabled:function(){if(!r.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},o.enableClassExtend(e);var s=i.mixin;return s(e,t("./mixin/lineStyle")),s(e,t("./mixin/areaStyle")),s(e,t("./mixin/textStyle")),s(e,t("./mixin/itemStyle")),e}),e("echarts/data/List",["require","../model/Model","./DataDiffer","zrender/core/util","../util/model"],function(t){function e(t){return d.isArray(t)||(t=[t]),t}function a(t,e){var a=t.dimensions,n=new g(d.map(a,t.getDimensionInfo,t),t.hostModel);m(n,t);for(var i=n._storage={},o=t._storage,r=0;r<a.length;r++){var s=a[r],l=o[s];d.indexOf(e,s)>=0?i[s]=new l.constructor(o[s].length):i[s]=o[s]}return n}var n="undefined",i="undefined"==typeof window?global:window,o=typeof i.Float64Array===n?Array:i.Float64Array,r=typeof i.Int32Array===n?Array:i.Int32Array,s={"float":o,"int":r,ordinal:Array,number:Array,time:Array},l=t("../model/Model"),c=t("./DataDiffer"),d=t("zrender/core/util"),u=t("../util/model"),p=d.isObject,h=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function(t,e){d.each(h.concat(e.__wrappedMethods||[]),function(a){e.hasOwnProperty(a)&&(t[a]=e[a])}),t.__wrappedMethods=e.__wrappedMethods},g=function(t,e){t=t||["x","y"];for(var a={},n=[],i=0;i<t.length;i++){var o,r={};"string"==typeof t[i]?(o=t[i],r={name:o,stackable:!1,type:"number"}):(r=t[i],o=r.name,r.type=r.type||"number"),n.push(o),a[o]=r}this.dimensions=n,this._dimensionInfos=a,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},f=g.prototype;f.type="list",f.hasItemOption=!0,f.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},f.getDimensionInfo=function(t){return d.clone(this._dimensionInfos[this.getDimension(t)])},f.initData=function(t,e,a){if(t=t||[],!d.isArray(t))throw new Error("Invalid data.");this._rawData=t;var n=this._storage={},i=this.indices=[],o=this.dimensions,r=t.length,l=this._dimensionInfos,c=[],p={};e=e||[];for(var h=0;h<o.length;h++){var m=l[o[h]],g=s[m.type];n[o[h]]=new g(r)}var f=this;a||(f.hasItemOption=!1),a=a||function(t,e,a,n){var i=u.getDataItemValue(t);return u.isDataItemOption(t)&&(f.hasItemOption=!0),u.converDataValue(i instanceof Array?i[n]:i,l[e])};for(var v=0;v<t.length;v++){for(var b=t[v],y=0;y<o.length;y++){var x=o[y],w=n[x];w[v]=a(b,x,v,y)}i.push(v)}for(var h=0;h<t.length;h++){e[h]||t[h]&&null!=t[h].name&&(e[h]=t[h].name);var k=e[h]||"",D=t[h]&&t[h].id;!D&&k&&(p[k]=p[k]||0,D=k,p[k]>0&&(D+="__ec__"+p[k]),p[k]++),D&&(c[h]=D)}this._nameList=e,this._idList=c},f.count=function(){return this.indices.length},f.get=function(t,e,a){var n=this._storage,i=this.indices[e];if(null==i)return NaN;var o=n[t]&&n[t][i];if(a){var r=this._dimensionInfos[t];if(r&&r.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(o>=0&&l>0||0>=o&&0>l)&&(o+=l),s=s.stackedOn}}return o},f.getValues=function(t,e,a){var n=[];d.isArray(t)||(a=e,e=t,t=this.dimensions);for(var i=0,o=t.length;o>i;i++)n.push(this.get(t[i],e,a));return n},f.hasValue=function(t){for(var e=this.dimensions,a=this._dimensionInfos,n=0,i=e.length;i>n;n++)if("ordinal"!==a[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},f.getDataExtent=function(t,e,a){t=this.getDimension(t);var n=this._storage[t],i=this.getDimensionInfo(t);e=i&&i.stackable&&e;var o,r=(this._extent||(this._extent={}))[t+!!e];if(r)return r;if(n){for(var s=1/0,l=-(1/0),c=0,d=this.count();d>c;c++)o=this.get(t,c,e),(!a||a(o,t,c))&&(s>o&&(s=o),o>l&&(l=o));return this._extent[t+!!e]=[s,l]}return[1/0,-(1/0)]},f.getSum=function(t,e){var a=this._storage[t],n=0;if(a)for(var i=0,o=this.count();o>i;i++){var r=this.get(t,i,e);isNaN(r)||(n+=r)}return n},f.indexOf=function(t,e){var a=this._storage,n=a[t],i=this.indices;if(n)for(var o=0,r=i.length;r>o;o++){var s=i[o];if(n[s]===e)return o}return-1},f.indexOfName=function(t){for(var e=this.indices,a=this._nameList,n=0,i=e.length;i>n;n++){var o=e[n];if(a[o]===t)return n}return-1},f.indexOfRawIndex=function(t){var e=this.indices,a=e[t];if(null!=a&&a===t)return t;for(var n=0,i=e.length-1;i>=n;){var o=(n+i)/2|0;if(e[o]<t)n=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},f.indexOfNearest=function(t,e,a,n){var i=this._storage,o=i[t];null==n&&(n=1/0);var r=-1;if(o)for(var s=Number.MAX_VALUE,l=0,c=this.count();c>l;l++){var d=e-this.get(t,l,a),u=Math.abs(d);n>=d&&(s>u||u===s&&d>0)&&(s=u,r=l)}return r},f.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},f.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)]},f.getName=function(t){return this._nameList[this.indices[t]]||""},f.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},f.each=function(t,a,n,i){"function"==typeof t&&(i=n,n=a,a=t,t=[]),t=d.map(e(t),this.getDimension,this);var o=[],r=t.length,s=this.indices;i=i||this;for(var l=0;l<s.length;l++)switch(r){case 0:a.call(i,l);break;case 1:a.call(i,this.get(t[0],l,n),l);break;case 2:a.call(i,this.get(t[0],l,n),this.get(t[1],l,n),l);break;default:for(var c=0;r>c;c++)o[c]=this.get(t[c],l,n);o[c]=l,a.apply(i,o)}},f.filterSelf=function(t,a,n,i){"function"==typeof t&&(i=n,n=a,a=t,t=[]),t=d.map(e(t),this.getDimension,this);var o=[],r=[],s=t.length,l=this.indices;i=i||this;for(var c=0;c<l.length;c++){var u;if(1===s)u=a.call(i,this.get(t[0],c,n),c);else{for(var p=0;s>p;p++)r[p]=this.get(t[p],c,n);r[p]=c,u=a.apply(i,r)}u&&o.push(l[c])}return this.indices=o,this._extent={},this},f.mapArray=function(t,e,a,n){"function"==typeof t&&(n=a,a=e,e=t,t=[]);var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},a,n),i},f.map=function(t,n,i,o){t=d.map(e(t),this.getDimension,this);var r=a(this,t),s=r.indices=this.indices,l=r._storage,c=[];return this.each(t,function(){var e=arguments[arguments.length-1],a=n&&n.apply(this,arguments);if(null!=a){"number"==typeof a&&(c[0]=a,a=c);for(var i=0;i<a.length;i++){var o=t[i],r=l[o],d=s[e];r&&(r[d]=a[i])}}},i,o),r},f.downSample=function(t,e,n,i){for(var o=a(this,[t]),r=this._storage,s=o._storage,l=this.indices,c=o.indices=[],d=[],u=[],p=Math.floor(1/e),h=s[t],m=this.count(),g=0;g<r[t].length;g++)s[t][g]=r[t][g];for(var g=0;m>g;g+=p){p>m-g&&(p=m-g,d.length=p);for(var f=0;p>f;f++){var v=l[g+f];d[f]=h[v],u[f]=v}var b=n(d),v=u[i(d,b)||0];h[v]=b,c.push(v)}return o},f.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new l(this._rawData[t],e,e&&e.ecModel)},f.diff=function(t){var e,a=this._idList,n=t&&t._idList,i="e\x00\x00";return new c(t?t.indices:[],this.indices,function(t){return null!=(e=n[t])?e:i+t},function(t){return null!=(e=a[t])?e:i+t})},f.getVisual=function(t){var e=this._visual;return e&&e[t]},f.setVisual=function(t,e){if(p(t))for(var a in t)t.hasOwnProperty(a)&&this.setVisual(a,t[a]);else this._visual=this._visual||{},this._visual[t]=e},f.setLayout=function(t,e){if(p(t))for(var a in t)t.hasOwnProperty(a)&&this.setLayout(a,t[a]);else this._layout[t]=e},f.getLayout=function(t){return this._layout[t]},f.getItemLayout=function(t){return this._itemLayouts[t]},f.setItemLayout=function(t,e,a){this._itemLayouts[t]=a?d.extend(this._itemLayouts[t]||{},e):e},f.clearItemLayouts=function(){this._itemLayouts.length=0},f.getItemVisual=function(t,e,a){var n=this._itemVisuals[t],i=n&&n[e];return null!=i||a?i:this.getVisual(e)},f.setItemVisual=function(t,e,a){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,p(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=a},f.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var v=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};return f.setItemGraphicEl=function(t,e){var a=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=a&&a.seriesIndex,"group"===e.type&&e.traverse(v,e)),this._graphicEls[t]=e},f.getItemGraphicEl=function(t){return this._graphicEls[t]},f.eachItemGraphicEl=function(t,e){d.each(this._graphicEls,function(a,n){a&&t&&t.call(e,a,n)})},f.cloneShallow=function(){var t=d.map(this.dimensions,this.getDimensionInfo,this),e=new g(t,this.hostModel);return e._storage=this._storage,m(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=d.extend({},this._extent)),e},f.wrapMethod=function(t,e){var a=this[t];"function"==typeof a&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=a.apply(this,arguments);return e.apply(this,[t].concat(d.slice(arguments)))})},f.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],f.CHANGABLE_METHODS=["filterSelf"],g}),e("echarts/util/number",["require"],function(t){function e(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var a={},n=1e-4;return a.linearMap=function(t,e,a,n){var i=e[1]-e[0],o=a[1]-a[0];if(0===i)return 0===o?a[0]:(a[0]+a[1])/2;if(n)if(i>0){if(t<=e[0])return a[0];if(t>=e[1])return a[1]}else{if(t>=e[0])return a[0];if(t<=e[1])return a[1]}else{if(t===e[0])return a[0];if(t===e[1])return a[1]}return(t-e[0])/i*o+a[0]},a.parsePercent=function(t,a){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?e(t).match(/%$/)?parseFloat(t)/100*a:parseFloat(t):null==t?NaN:+t},a.round=function(t,e){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),+(+t).toFixed(e)},a.asc=function(t){return t.sort(function(t,e){return t-e}),t},a.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,a=0;Math.round(t*e)/e!==t;)e*=10,a++;return a},a.getPrecisionSafe=function(t){var e=t.toString(),a=e.indexOf(".");return 0>a?0:e.length-1-a},a.getPixelPrecision=function(t,e){var a=Math.log,n=Math.LN10,i=Math.floor(a(t[1]-t[0])/n),o=Math.round(a(Math.abs(e[1]-e[0]))/n),r=Math.min(Math.max(-i+o,0),20);return isFinite(r)?r:20},a.MAX_SAFE_INTEGER=9007199254740991,a.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},a.isRadianAroundZero=function(t){return t>-n&&n>t},a.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=new Date(t);return isNaN(+e)&&(e=new Date(new Date(t.replace(/-/g,"/"))-new Date("1970/01/01"))),e}return new Date(Math.round(t))},a.quantity=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},a.nice=function(t,e){var n,i=a.quantity(t),o=t/i;return n=e?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,n*i},a.reformIntervals=function(t){function e(t,a,n){return t.interval[n]<a.interval[n]||t.interval[n]===a.interval[n]&&(t.close[n]-a.close[n]===(n?-1:1)||!n&&e(t,a,1))}t.sort(function(t,a){return e(t,a,0)?-1:1});for(var a=-(1/0),n=1,i=0;i<t.length;){for(var o=t[i].interval,r=t[i].close,s=0;2>s;s++)o[s]<=a&&(o[s]=a,r[s]=s?1:1-n),a=o[s],n=r[s];o[0]===o[1]&&r[0]*r[1]!==1?t.splice(i,1):i++}return t},a.isNumeric=function(t){return t-parseFloat(t)>=0},a}),e("echarts/util/format",["require","zrender/core/util","./number","zrender/contain/text"],function(t){var e=t("zrender/core/util"),a=t("./number"),n=t("zrender/contain/text"),i={};i.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))},i.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},i.normalizeCssArray=function(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t};var o=i.encodeHTML=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},r=["a","b","c","d","e","f","g"],s=function(t,e){return"{"+t+(null==e?"":e)+"}"};i.formatTpl=function(t,a,n){e.isArray(a)||(a=[a]);var i=a.length;if(!i)return"";for(var l=a[0].$vars||[],c=0;c<l.length;c++){var d=r[c],u=s(d,0);t=t.replace(s(d),n?o(u):u)}for(var p=0;i>p;p++)for(var h=0;h<l.length;h++){var u=a[p][l[h]];t=t.replace(s(r[h],p),n?o(u):u)}return t};var l=function(t){return 10>t?"0"+t:t};return i.formatTime=function(t,e){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var n=a.parseDate(e),i=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),s=n.getHours(),c=n.getMinutes(),d=n.getSeconds();return t=t.replace("MM",l(o)).toLowerCase().replace("yyyy",i).replace("yy",i%100).replace("dd",l(r)).replace("d",r).replace("hh",l(s)).replace("h",s).replace("mm",l(c)).replace("m",c).replace("ss",l(d)).replace("s",d)},i.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},i.truncateText=n.truncateText,i}),e("zrender/core/matrix",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(){var a=new t(6);return e.identity(a),a},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,a){var n=e[0]*a[0]+e[2]*a[1],i=e[1]*a[0]+e[3]*a[1],o=e[0]*a[2]+e[2]*a[3],r=e[1]*a[2]+e[3]*a[3],s=e[0]*a[4]+e[2]*a[5]+e[4],l=e[1]*a[4]+e[3]*a[5]+e[5];return t[0]=n,t[1]=i,t[2]=o,t[3]=r,t[4]=s,t[5]=l,t},translate:function(t,e,a){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+a[0],t[5]=e[5]+a[1],t},rotate:function(t,e,a){var n=e[0],i=e[2],o=e[4],r=e[1],s=e[3],l=e[5],c=Math.sin(a),d=Math.cos(a);return t[0]=n*d+r*c,t[1]=-n*c+r*d,t[2]=i*d+s*c,t[3]=-i*c+d*s,t[4]=d*o+c*l,t[5]=d*l-c*o,t},scale:function(t,e,a){var n=a[0],i=a[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t},invert:function(t,e){var a=e[0],n=e[2],i=e[4],o=e[1],r=e[3],s=e[5],l=a*r-o*n;return l?(l=1/l,t[0]=r*l,t[1]=-o*l,t[2]=-n*l,t[3]=a*l,t[4]=(n*s-r*i)*l,t[5]=(o*i-a*s)*l,t):null}};return e}),e("zrender/core/vector",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(e,a){var n=new t(2);return null==e&&(e=0),null==a&&(a=0),n[0]=e,n[1]=a,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(e){var a=new t(2);return a[0]=e[0],a[1]=e[1],a},set:function(t,e,a){return t[0]=e,t[1]=a,t},add:function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t},scaleAndAdd:function(t,e,a,n){return t[0]=e[0]+a[0]*n,t[1]=e[1]+a[1]*n,t},sub:function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t},div:function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t},normalize:function(t,a){var n=e.len(a);return 0===n?(t[0]=0,t[1]=0):(t[0]=a[0]/n,t[1]=a[1]/n),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,a,n){return t[0]=e[0]+n*(a[0]-e[0]),t[1]=e[1]+n*(a[1]-e[1]),t},applyTransform:function(t,e,a){var n=e[0],i=e[1];return t[0]=a[0]*n+a[2]*i+a[4],t[1]=a[1]*n+a[3]*i+a[5],t},min:function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t},max:function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t}};return e.length=e.len,e.lengthSquare=e.lenSquare,e.dist=e.distance,e.distSquare=e.distanceSquare,e}),e("echarts/component/legend/LegendModel",["require","zrender/core/util","../../model/Model","../../echarts"],function(t){"use strict";var e=t("zrender/core/util"),a=t("../../model/Model"),n=t("../../echarts").extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{}},mergeOption:function(t){n.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,a=0;a<t.length;a++){var n=t[a].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var n=e.map(this.get("data")||[],function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new a(t,this,this.ecModel)},this);this._data=n;var i=e.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var a=this.option.selected,n=this.get("selectedMode");if("single"===n){var i=this._data;e.each(i,function(t){a[t.get("name")]=!1})}a[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var a=this.option.selected;return!(a.hasOwnProperty(t)&&!a[t])&&e.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});return n}),e("echarts/component/legend/legendAction",["require","../../echarts","zrender/core/util"],function(t){function e(t,e,a){var i,o={},r="toggleSelected"===t;return a.eachComponent("legend",function(a){r&&null!=i?a[i?"select":"unSelect"](e.name):(a[t](e.name),i=a.isSelected(e.name));var s=a.getData();n.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=a.isSelected(e);e in o?o[e]=o[e]&&n:o[e]=n}})}),{name:e.name,selected:o}}var a=t("../../echarts"),n=t("zrender/core/util");a.registerAction("legendToggleSelect","legendselectchanged",n.curry(e,"toggleSelected")),a.registerAction("legendSelect","legendselected",n.curry(e,"select")),a.registerAction("legendUnSelect","legendunselected",n.curry(e,"unSelect"))}),e("echarts/component/legend/LegendView",["require","zrender/core/util","../../util/symbol","../../util/graphic","../helper/listComponent","../../echarts"],function(t){function e(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function a(t,e,a){var n=a.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&a.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function n(t,e,a){var n=a.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||t.get("legendHoverLink")&&a.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var i=t("zrender/core/util"),o=t("../../util/symbol"),r=t("../../util/graphic"),s=t("../helper/listComponent"),l=i.curry;return t("../../echarts").extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,o,c){var d=this.group;if(d.removeAll(),t.get("show")){var u=t.get("selectedMode"),p=t.get("align");"auto"===p&&(p="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var h={};i.each(t.getData(),function(i){var s=i.get("name");if(""===s||"\n"===s)return void d.add(new r.Group({newline:!0}));var m=o.getSeriesByName(s)[0];if(!h[s]){if(m){var g=m.getData(),f=g.getVisual("color");"function"==typeof f&&(f=f(m.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",b=g.getVisual("symbol"),y=this._createItem(s,i,t,v,b,p,f,u);y.on("click",l(e,s,c)).on("mouseover",l(a,m,null,c)).on("mouseout",l(n,m,null,c)),h[s]=!0}else o.eachRawSeries(function(o){if(!h[s]&&o.legendDataProvider){var r=o.legendDataProvider(),d=r.indexOfName(s);if(0>d)return;var m=r.getItemVisual(d,"color"),g="roundRect",f=this._createItem(s,i,t,g,null,p,m,u);f.on("click",l(e,s,c)).on("mouseover",l(a,o,s,c)).on("mouseout",l(n,o,s,c)),h[s]=!0}},this);h[s]||console.warn(s+" series not exists. Legend data should be same with series name or data name.")}},this),s.layout(d,t,c),s.addBackground(d,t)}},_createItem:function(t,e,a,n,s,l,c,d){var u=a.get("itemWidth"),p=a.get("itemHeight"),h=a.get("inactiveColor"),m=a.isSelected(t),g=new r.Group,f=e.getModel("textStyle"),v=e.get("icon"),b=e.getModel("tooltip"),y=b.parentModel;if(n=v||n,g.add(o.createSymbol(n,0,0,u,p,m?c:h)),!v&&s&&(s!==n||"none"==s)){var x=.8*p;"none"===s&&(s="circle"),g.add(o.createSymbol(s,(u-x)/2,(p-x)/2,x,x,m?c:h))}var w="left"===l?u+5:-5,k=l,D=a.get("formatter"),T=t;"string"==typeof D&&D?T=D.replace("{name}",null!=t?t:""):"function"==typeof D&&(T=D(t));var S=new r.Text({style:{text:T,x:w,y:p/2,fill:m?f.getTextColor():h,textFont:f.getFont(),textAlign:k,textVerticalAlign:"middle"}});g.add(S);var I=new r.Rect({shape:g.getBoundingRect(),invisible:!0,tooltip:b.get("show")?i.extend({content:t,formatter:y.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:a.componentIndex,name:t,$vars:["name"]}},b.option):null});return g.add(I),g.eachChild(function(t){t.silent=!0}),I.silent=!d,this.group.add(g),r.setHoverStyle(g),g}})}),e("echarts/component/legend/legendFilter",[],function(){return function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var a=0;a<e.length;a++)if(!e[a].isSelected(t.name))return!1;return!0})}}),e("echarts/component/tooltip/TooltipModel",["require","../../echarts"],function(t){t("../../echarts").extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})}),e("echarts/scale/Interval",["require","../util/number","../util/format","./Scale"],function(t){var e=t("../util/number"),a=t("../util/format"),n=t("./Scale"),i=Math.floor,o=Math.ceil,r=e.getPrecisionSafe,s=e.round,l=n.extend({type:"interval",_interval:0,setExtent:function(t,e){var a=this._extent;isNaN(t)||(a[0]=parseFloat(t)),isNaN(e)||(a[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,a=[],n=1e4;if(t){var i=this._niceExtent,o=r(t)+2;e[0]<i[0]&&a.push(e[0]);for(var l=i[0];l<=i[1];)if(a.push(l),l=s(l+t,o),a.length>n)return[];e[1]>(a.length?a[a.length-1]:i[1])&&a.push(e[1])}return a},getTicksLabels:function(){for(var t=[],e=this.getTicks(),a=0;a<e.length;a++)t.push(this.getLabel(e[a]));return t},getLabel:function(t){return a.addCommas(t)},niceTicks:function(t){t=t||5;var a=this._extent,n=a[1]-a[0];if(isFinite(n)){0>n&&(n=-n,a.reverse());var l=s(e.nice(n/t,!0),Math.max(r(a[0]),r(a[1]))+2),c=r(l)+2,d=[s(o(a[0]/l)*l,c),s(i(a[1]/l)*l,c)];this._interval=l,this._niceExtent=d}},niceExtent:function(t,e,a){var n=this._extent;if(n[0]===n[1])if(0!==n[0]){var r=n[0];a?n[0]-=r/2:(n[1]+=r/2,n[0]-=r/2)}else n[1]=1;var l=n[1]-n[0];isFinite(l)||(n[0]=0,n[1]=1),this.niceTicks(t);var c=this._interval;e||(n[0]=s(i(n[0]/c)*c)),a||(n[1]=s(o(n[1]/c)*c))}});return l.create=function(){return new l},l}),e("echarts/scale/Scale",["require","../util/clazz"],function(t){function e(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var a=t("../util/clazz"),n=e.prototype;return n.parse=function(t){return t},n.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},n.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},n.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},n.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.unionExtentFromData=function(t,e){this.unionExtent(t.getDataExtent(e,!0))},n.getExtent=function(){return this._extent.slice()},n.setExtent=function(t,e){var a=this._extent;
isNaN(t)||(a[0]=t),isNaN(e)||(a[1]=e)},n.getTicksLabels=function(){for(var t=[],e=this.getTicks(),a=0;a<e.length;a++)t.push(this.getLabel(e[a]));return t},a.enableClassExtend(e),a.enableClassManagement(e,{registerWhenExtend:!0}),e}),e("zrender/tool/path",["require","../graphic/Path","../core/PathProxy","./transformPath","../core/matrix"],function(t){function e(t,e,a,n,i,o,r,s,l,h,f){var v=l*(p/180),b=u(v)*(t-a)/2+d(v)*(e-n)/2,y=-1*d(v)*(t-a)/2+u(v)*(e-n)/2,x=b*b/(r*r)+y*y/(s*s);x>1&&(r*=c(x),s*=c(x));var w=(i===o?-1:1)*c((r*r*(s*s)-r*r*(y*y)-s*s*(b*b))/(r*r*(y*y)+s*s*(b*b)))||0,k=w*r*y/s,D=w*-s*b/r,T=(t+a)/2+u(v)*k-d(v)*D,S=(e+n)/2+d(v)*k+u(v)*D,I=g([1,0],[(b-k)/r,(y-D)/s]),_=[(b-k)/r,(y-D)/s],C=[(-1*b-k)/r,(-1*y-D)/s],M=g(_,C);m(_,C)<=-1&&(M=p),m(_,C)>=1&&(M=0),0===o&&M>0&&(M-=2*p),1===o&&0>M&&(M+=2*p),f.addData(h,T,S,r,s,I,M,v,o)}function a(t){if(!t)return[];var a,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(a=0;a<l.length;a++)n=n.replace(new RegExp(l[a],"g"),"|"+l[a]);var i,r=n.split("|"),s=0,c=0,d=new o,u=o.CMD;for(a=1;a<r.length;a++){var p,h=r[a],m=h.charAt(0),g=0,f=h.slice(1).replace(/e,-/g,"e-").split(",");f.length>0&&""===f[0]&&f.shift();for(var v=0;v<f.length;v++)f[v]=parseFloat(f[v]);for(;g<f.length&&!isNaN(f[g])&&!isNaN(f[0]);){var b,y,x,w,k,D,T,S=s,I=c;switch(m){case"l":s+=f[g++],c+=f[g++],p=u.L,d.addData(p,s,c);break;case"L":s=f[g++],c=f[g++],p=u.L,d.addData(p,s,c);break;case"m":s+=f[g++],c+=f[g++],p=u.M,d.addData(p,s,c),m="l";break;case"M":s=f[g++],c=f[g++],p=u.M,d.addData(p,s,c),m="L";break;case"h":s+=f[g++],p=u.L,d.addData(p,s,c);break;case"H":s=f[g++],p=u.L,d.addData(p,s,c);break;case"v":c+=f[g++],p=u.L,d.addData(p,s,c);break;case"V":c=f[g++],p=u.L,d.addData(p,s,c);break;case"C":p=u.C,d.addData(p,f[g++],f[g++],f[g++],f[g++],f[g++],f[g++]),s=f[g-2],c=f[g-1];break;case"c":p=u.C,d.addData(p,f[g++]+s,f[g++]+c,f[g++]+s,f[g++]+c,f[g++]+s,f[g++]+c),s+=f[g-2],c+=f[g-1];break;case"S":b=s,y=c;var _=d.len(),C=d.data;i===u.C&&(b+=s-C[_-4],y+=c-C[_-3]),p=u.C,S=f[g++],I=f[g++],s=f[g++],c=f[g++],d.addData(p,b,y,S,I,s,c);break;case"s":b=s,y=c;var _=d.len(),C=d.data;i===u.C&&(b+=s-C[_-4],y+=c-C[_-3]),p=u.C,S=s+f[g++],I=c+f[g++],s+=f[g++],c+=f[g++],d.addData(p,b,y,S,I,s,c);break;case"Q":S=f[g++],I=f[g++],s=f[g++],c=f[g++],p=u.Q,d.addData(p,S,I,s,c);break;case"q":S=f[g++]+s,I=f[g++]+c,s+=f[g++],c+=f[g++],p=u.Q,d.addData(p,S,I,s,c);break;case"T":b=s,y=c;var _=d.len(),C=d.data;i===u.Q&&(b+=s-C[_-4],y+=c-C[_-3]),s=f[g++],c=f[g++],p=u.Q,d.addData(p,b,y,s,c);break;case"t":b=s,y=c;var _=d.len(),C=d.data;i===u.Q&&(b+=s-C[_-4],y+=c-C[_-3]),s+=f[g++],c+=f[g++],p=u.Q,d.addData(p,b,y,s,c);break;case"A":x=f[g++],w=f[g++],k=f[g++],D=f[g++],T=f[g++],S=s,I=c,s=f[g++],c=f[g++],p=u.A,e(S,I,s,c,D,T,x,w,k,p,d);break;case"a":x=f[g++],w=f[g++],k=f[g++],D=f[g++],T=f[g++],S=s,I=c,s+=f[g++],c+=f[g++],p=u.A,e(S,I,s,c,D,T,x,w,k,p,d)}}("z"===m||"Z"===m)&&(p=u.Z,d.addData(p)),i=p}return d.toStatic(),d}function n(t,e){var n,i=a(t);return e=e||{},e.buildPath=function(t){t.setData(i.data),n&&r(t,n);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){n||(n=s.create()),s.mul(n,t,n),this.dirty(!0)},e}var i=t("../graphic/Path"),o=t("../core/PathProxy"),r=t("./transformPath"),s=t("../core/matrix"),l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,u=Math.cos,p=Math.PI,h=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(h(t)*h(e))},g=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};return{createFromString:function(t,e){return new i(n(t,e))},extendFromString:function(t,e){return i.extend(n(t,e))},mergePath:function(t,e){for(var a=[],n=t.length,o=0;n>o;o++){var r=t[o];r.__dirty&&r.buildPath(r.path,r.shape,!0),a.push(r.path)}var s=new i(e);return s.buildPath=function(t){t.appendPath(a);var e=t.getContext();e&&t.rebuildPath(e)},s}}}),e("zrender/graphic/Path",["require","./Displayable","../core/util","../core/PathProxy","../contain/path","./Pattern"],function(t){function e(t){a.call(this,t),this.path=new i}var a=t("./Displayable"),n=t("../core/util"),i=t("../core/PathProxy"),o=t("../contain/path"),r=t("./Pattern"),s=r.prototype.getCanvasPattern,l=Math.abs;return e.prototype={constructor:e,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var a=this.style,n=this.path,i=a.hasStroke(),o=a.hasFill(),r=a.fill,l=a.stroke,c=o&&!!r.colorStops,d=i&&!!l.colorStops,u=o&&!!r.image,p=i&&!!l.image;if(a.bind(t,this,e),this.setTransform(t),this.__dirty){var h=this.getBoundingRect();c&&(this._fillGradient=a.getGradient(t,r,h)),d&&(this._strokeGradient=a.getGradient(t,l,h))}c?t.fillStyle=this._fillGradient:u&&(t.fillStyle=s.call(r,t)),d?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=s.call(l,t));var m=a.lineDash,g=a.lineDashOffset,f=!!t.setLineDash,v=this.getGlobalScale();n.setScale(v[0],v[1]),this.__dirtyPath||m&&!f&&i?(n=this.path.beginPath(t),m&&!f&&(n.setLineDash(m),n.setLineDashOffset(g)),this.buildPath(n,this.shape,!1),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),o&&n.fill(t),m&&f&&(t.setLineDash(m),t.lineDashOffset=g),i&&n.stroke(t),m&&f&&t.setLineDash([]),this.restoreTransform(t),null!=a.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,e,a){},getBoundingRect:function(){var t=this._rect,e=this.style,a=!t;if(a){var n=this.path;this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||a){i.copy(t);var o=e.lineWidth,r=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),r>1e-10&&(i.width+=o/r,i.height+=o/r,i.x-=o/r/2,i.y-=o/r/2)}return i}return t},contain:function(t,e){var a=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),i=this.style;if(t=a[0],e=a[1],n.contain(t,e)){var r=this.path.data;if(i.hasStroke()){var s=i.lineWidth,l=i.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),o.containStroke(r,s/l,t,e)))return!0}if(i.hasFill())return o.contain(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):a.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var a=this.shape;if(a){if(n.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);else a[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},e.extend=function(t){var a=function(a){e.call(this,a),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var o in n)!i.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(i[o]=n[o])}t.init&&t.init.call(this,a)};n.inherits(a,e);for(var i in t)"style"!==i&&"shape"!==i&&(a.prototype[i]=t[i]);return a},n.inherits(e,a),e}),e("zrender/container/Group",["require","../core/util","../Element","../core/BoundingRect"],function(t){var e=t("../core/util"),a=t("../Element"),n=t("../core/BoundingRect"),i=function(t){t=t||{},a.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};return i.prototype={constructor:i,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,a=0;a<e.length;a++)if(e[a].name===t)return e[a]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var a=this._children,n=a.indexOf(e);n>=0&&(a.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,a=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof i&&t.addChildrenToStorage(e)),a&&a.refresh()},remove:function(t){var a=this.__zr,n=this.__storage,o=this._children,r=e.indexOf(o,t);return 0>r?this:(o.splice(r,1),t.parent=null,n&&(n.delFromMap(t.id),t instanceof i&&t.delChildrenFromStorage(n)),a&&a.refresh(),this)},removeAll:function(){var t,e,a=this._children,n=this.__storage;for(e=0;e<a.length;e++)t=a[e],n&&(n.delFromMap(t.id),t instanceof i&&t.delChildrenFromStorage(n)),t.parent=null;return a.length=0,this},eachChild:function(t,e){for(var a=this._children,n=0;n<a.length;n++){var i=a[n];t.call(e,i,n)}return this},traverse:function(t,e){for(var a=0;a<this._children.length;a++){var n=this._children[a];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var a=this._children[e];t.addToMap(a),a instanceof i&&a.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var a=this._children[e];t.delFromMap(a.id),a instanceof i&&a.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,a=new n(0,0,0,0),i=t||this._children,o=[],r=0;r<i.length;r++){var s=i[r];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(o);c?(a.copy(l),a.applyTransform(c),e=e||a.clone(),e.union(a)):(e=e||l.clone(),e.union(l))}}return e||a}},e.inherits(i,a),i}),e("echarts/component/tooltip/TooltipView",["require","./TooltipContent","../../util/graphic","zrender/core/util","../../util/format","../../util/number","../../util/model","zrender/core/env","../../model/Model","../../echarts"],function(t){function e(t,e){if(!t||!e)return!1;var a=m.round;return a(t[0])===a(e[0])&&a(t[1])===a(e[1])}function a(t,e,a,n){return{x1:t,y1:e,x2:a,y2:n}}function n(t,e,a,n){return{x:t,y:e,width:a,height:n}}function i(t,e,a,n,i,o){return{cx:t,cy:e,r0:a,r:n,startAngle:i,endAngle:o,clockwise:!0}}function o(t,e,a,n,i){var o=a.clientWidth,r=a.clientHeight,s=20;return t+o+s>n?t-=o+s:t+=s,e+r+s>i?e-=r+s:e+=s,[t,e]}function r(t,e,a,n,i){var o=a.clientWidth,r=a.clientHeight;return t=Math.min(t+o,n)-o,e=Math.min(e+r,i)-r,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function s(t,e,a){var n=a.clientWidth,i=a.clientHeight,o=5,r=0,s=0,l=e.width,c=e.height;switch(t){case"inside":r=e.x+l/2-n/2,s=e.y+c/2-i/2;break;case"top":r=e.x+l/2-n/2,s=e.y-i-o;break;case"bottom":r=e.x+l/2-n/2,s=e.y+c+o;break;case"left":r=e.x-n-o,s=e.y+c/2-i/2;break;case"right":r=e.x+l+o,s=e.y+c/2-i/2}return[r,s]}function l(t,e,a,n,i,l,c,d){var u=d.getWidth(),h=d.getHeight(),m=c&&c.getBoundingRect().clone();if(c&&m.applyTransform(c.transform),"function"==typeof t&&(t=t([e,a],l,i.el,m)),p.isArray(t))e=f(t[0],u),a=f(t[1],h);else if("string"==typeof t&&c){var g=s(t,m,i.el);e=g[0],a=g[1]}else{var g=o(e,a,i.el,u,h);e=g[0],a=g[1]}if(n){var g=r(e,a,i.el,u,h);e=g[0],a=g[1]}i.moveTo(e,a)}function c(t){var e=t.coordinateSystem,a=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"singleAxis"!==e.type||"item"===a)}var d=t("./TooltipContent"),u=t("../../util/graphic"),p=t("zrender/core/util"),h=t("../../util/format"),m=t("../../util/number"),g=t("../../util/model"),f=m.parsePercent,v=t("zrender/core/env"),b=t("../../model/Model");t("../../echarts").extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!v.node){var a=new d(e.getDom(),e);this._tooltipContent=a}},render:function(t,e,a){if(!v.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=a,this._lastHover={};var n=this._tooltipContent;n.update(),n.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var i=this._crossText;i&&this.group.add(i);var o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r.manuallyShowTip(t,e,a,{x:r._lastX,y:r._lastY})})}var s=this._api.getZr();s.off("click",this._tryShow),s.off("mousemove",this._mousemove),s.off("mouseout",this._hide),s.off("globalout",this._hide),"click"===o?s.on("click",this._tryShow,this):"mousemove"===o&&(s.on("mousemove",this._mousemove,this),s.on("mouseout",this._hide,this),s.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),a=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){a._tryShow(t)},e):this._tryShow(t)},manuallyShowTip:function(t,e,a,n){function i(t){var e=t.getData(),a=g.queryDataIndex(e,n);return null!=a&&!p.isArray(a)&&e.hasValue(a)?!0:void 0}if(n.from!==this.uid){var e=this._ecModel,o=n.seriesIndex,r=e.getSeriesByIndex(o),a=this._api,s="axis"===this._tooltipModel.get("trigger");if(null==n.x||null==n.y){if(s?(r&&!i(r)&&(r=null),r||e.eachSeries(function(t){c(t)&&!r&&i(t)&&(r=t)})):r=r||e.getSeriesByIndex(0),r){var l=r.getData(),d=g.queryDataIndex(l,n);if(null==d||p.isArray(d))return;var u,h,m=l.getItemGraphicEl(d),f=r.coordinateSystem;if(r.getTooltipPosition){var v=r.getTooltipPosition(d)||[];u=v[0],h=v[1]}else if(f&&f.dataToPoint){var v=f.dataToPoint(l.getValues(p.map(f.dimensions,function(t){return r.coordDimToDataDim(t)[0]}),d,!0));u=v&&v[0],h=v&&v[1]}else if(m){var b=m.getBoundingRect().clone();b.applyTransform(m.transform),u=b.x+b.width/2,h=b.y+b.height/2}null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,position:n.position,target:m,event:{}})}}else{var m=a.getZr().handler.findHover(n.x,n.y);this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:m,event:{}})}}},manuallyHideTip:function(t,e,a,n){n.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var a={};return e.eachSeries(function(t){if(c(t)){var e,n,i=t.coordinateSystem;"cartesian2d"===i.type?(e=i.getBaseAxis(),n=e.dim+e.index):"singleAxis"===i.type?(e=i.getAxis(),n=e.dim+e.type):(e=i.getBaseAxis(),n=e.dim+i.name),a[n]=a[n]||{coordSys:[],series:[]},a[n].coordSys.push(i),a[n].series.push(t)}},this),a},_tryShow:function(t){var e=t.target,a=this._tooltipModel,n=a.get("trigger"),i=this._ecModel,o=this._api;if(a)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,l=r.getData(),c=l.getItemModel(s);"axis"===(c.get("tooltip.trigger")||n)?this._showAxisTooltip(a,i,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(r,s,e.dataType,t)),o.dispatchAction({type:"showTip",from:this.uid,dataIndexInside:s,dataIndex:l.getRawIndex(s),seriesIndex:e.seriesIndex})}else if(e&&e.tooltip){var d=e.tooltip;if("string"==typeof d){var u=d;d={content:u,formatter:u}}var p=new b(d,a),h=p.get("content"),m=Math.random();this._showTooltipContent(p,h,p.get("formatterParams")||{},m,t.offsetX,t.offsetY,t.position,e,o)}else"item"===n?this._hide():this._showAxisTooltip(a,i,t),"cross"===a.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,a,n){var i=t.getModel("axisPointer"),o=i.get("type");if("cross"===o){var r=n.target;if(r&&null!=r.dataIndex){var s=a.getSeriesByIndex(r.seriesIndex),l=r.dataIndex;this._showItemTooltipContent(s,l,r.dataType,n)}}this._showAxisPointer();var c=!0;p.each(this._seriesGroupByAxis,function(a){var r=a.coordSys,s=r[0],l=[n.offsetX,n.offsetY];if(!s.containPoint(l))return void this._hideAxisPointer(s.name);c=!1;var d=s.dimensions,u=s.pointToData(l,!0);l=s.dataToPoint(u);var h=s.getBaseAxis(),m=i.get("axis");if("auto"===m&&(m=h.dim),h.isBlank()||p.eqNaN(l[0])||p.eqNaN(l[1]))return void this._hideAxisPointer(s.name);var g=!1,f=this._lastHover;if("cross"===o)e(f.data,u)&&(g=!0),f.data=u;else{var v=p.indexOf(d,m);f.data===u[v]&&(g=!0),f.data=u[v]}var b=t.get("animation");"cartesian2d"!==s.type||g?"polar"!==s.type||g?"singleAxis"!==s.type||g||this._showSinglePointer(i,s,m,l,b):this._showPolarPointer(i,s,m,l,b):this._showCartesianPointer(i,s,m,l,b),"cross"!==o&&this._dispatchAndShowSeriesTooltipContent(s,a.series,l,u,g,n.position)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),c&&this._hide()},_showCartesianPointer:function(t,e,i,o,r){function s(n,i,o){var r="x"===n?a(i[0],o[0],i[0],o[1]):a(o[0],i[1],o[1],i[1]),s=c._getPointerElement(e,t,n,r);u.subPixelOptimizeLine({shape:r,style:s.style}),h?u.updateProps(s,{shape:r},t):s.attr({shape:r})}function l(a,i,o){var r=e.getAxis(a),s=r.getBandWidth(),l=o[1]-o[0],d="x"===a?n(i[0]-s/2,o[0],s,l):n(o[0],i[1]-s/2,l,s),p=c._getPointerElement(e,t,a,d);h?u.updateProps(p,{shape:d},t):p.attr({shape:d})}var c=this,d=t.get("type"),p=e.getBaseAxis(),h=r&&"cross"!==d&&"category"===p.type&&p.getBandWidth()>20;if("cross"===d)s("x",o,e.getAxis("y").getGlobalExtent()),s("y",o,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,o,t);else{var m=e.getAxis("x"===i?"y":"x"),g=m.getGlobalExtent();"cartesian2d"===e.type&&("line"===d?s:l)(i,o,g)}},_showSinglePointer:function(t,e,n,i,o){function r(n,i,o){var r=e.getAxis(),l=r.orient,d="horizontal"===l?a(i[0],o[0],i[0],o[1]):a(o[0],i[1],o[1],i[1]),p=s._getPointerElement(e,t,n,d);c?u.updateProps(p,{shape:d},t):p.attr({shape:d})}var s=this,l=t.get("type"),c=o&&"cross"!==l&&"category"===e.getBaseAxis().type,d=e.getRect(),p=[d.y,d.y+d.height];r(n,i,p)},_showPolarPointer:function(t,e,n,o,r){function s(n,i,o){var r,s=e.pointToCoord(i);if("angle"===n){var l=e.coordToPoint([o[0],s[1]]),d=e.coordToPoint([o[1],s[1]]);r=a(l[0],l[1],d[0],d[1])}else r={cx:e.cx,cy:e.cy,r:s[0]};var p=c._getPointerElement(e,t,n,r);m?u.updateProps(p,{shape:r},t):p.attr({shape:r})}function l(a,n,o){var r,s=e.getAxis(a),l=s.getBandWidth(),d=e.pointToCoord(n),p=Math.PI/180;r="angle"===a?i(e.cx,e.cy,o[0],o[1],(-d[1]-l/2)*p,(-d[1]+l/2)*p):i(e.cx,e.cy,d[0]-l/2,d[0]+l/2,0,2*Math.PI);var h=c._getPointerElement(e,t,a,r);m?u.updateProps(h,{shape:r},t):h.attr({shape:r})}var c=this,d=t.get("type"),p=e.getAngleAxis(),h=e.getRadiusAxis(),m=r&&"cross"!==d&&"category"===e.getBaseAxis().type;if("cross"===d)s("angle",o,h.getExtent()),s("radius",o,p.getExtent()),this._updateCrossText(e,o,t);else{var g=e.getAxis("radius"===n?"angle":"radius"),f=g.getExtent();("line"===d?s:l)(n,o,f)}},_updateCrossText:function(t,e,a){var n=a.getModel("crossStyle"),i=n.getModel("textStyle"),o=this._tooltipModel,r=this._crossText;r||(r=this._crossText=new u.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(r));var s=t.pointToData(e),l=t.dimensions;s=p.map(s,function(e,a){var n=t.getAxis(l[a]);return e="category"===n.type||"time"===n.type?n.scale.getLabel(e):h.addCommas(e.toFixed(n.getPixelPrecision()))}),r.setStyle({fill:i.getTextColor()||n.get("color"),textFont:i.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),r.z=o.get("z"),r.zlevel=o.get("zlevel")},_getPointerElement:function(t,e,a,n){var i=this._tooltipModel,o=i.get("z"),r=i.get("zlevel"),s=this._axisPointers,l=t.name;if(s[l]=s[l]||{},s[l][a])return s[l][a];var c=e.get("type"),d=e.getModel(c+"Style"),p="shadow"===c,h=d[p?"getAreaStyle":"getLineStyle"](),m="polar"===t.type?p?"Sector":"radius"===a?"Circle":"Line":p?"Rect":"Line";p?h.stroke=null:h.fill=null;var g=s[l][a]=new u[m]({style:h,z:o,zlevel:r,silent:!0,shape:n});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,a,n,i,o){var r=this._tooltipModel,s=t.getBaseAxis(),c={x:1,radius:1,single:1}[s.dim]?0:1;if(e.length){var d,u=p.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndexInside:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(s.dim),n,s):t.getData().indexOfNearest(t.coordDimToDataDim(s.dim)[0],n[c],!1,"category"===s.type?.5:null)}});p.each(u,function(t,a){e[a].getData().hasValue(t.dataIndexInside)&&(d=a)}),d=d||0;var m=this._lastHover,g=this._api;m.payloadBatch&&!i&&g.dispatchAction({type:"downplay",batch:m.payloadBatch}),i||(g.dispatchAction({type:"highlight",batch:u}),m.payloadBatch=u);var f=u[d].dataIndexInside;if(g.dispatchAction({type:"showTip",dataIndexInside:f,dataIndex:e[d].getData().getRawIndex(f),seriesIndex:u[d].seriesIndex,from:this.uid}),s&&r.get("showContent")&&r.get("show")){var v=p.map(e,function(t,e){return t.getDataParams(u[e].dataIndexInside)});if(i)l(o||r.get("position"),a[0],a[1],r.get("confine"),this._tooltipContent,v,null,g);else{var b=u[d].dataIndexInside,y="time"===s.type?s.scale.getLabel(n[c]):e[d].getData().getName(b),x=(y?h.encodeHTML(y)+"<br />":"")+p.map(e,function(t,e){return t.formatTooltip(u[e].dataIndexInside,!0)}).join("<br />"),w="axis_"+t.name+"_"+b;this._showTooltipContent(r,x,v,w,a[0],a[1],o,null,g)}}}},_showItemTooltipContent:function(t,e,a,n){var i=this._api,o=t.getData(a),r=o.getItemModel(e),s=r.get("tooltip",!0);if("string"==typeof s){var l=s;s={formatter:l}}var c=this._tooltipModel,d=t.getModel("tooltip",c),u=new b(s,d,d.ecModel),p=t.getDataParams(e,a),h=t.formatTooltip(e,!1,a),m="item_"+t.name+"_"+e;this._showTooltipContent(u,h,p,m,n.offsetX,n.offsetY,n.position,n.target,i)},_showTooltipContent:function(t,e,a,n,i,o,r,s,c){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent,u=t.get("confine"),p=t.get("formatter");r=r||t.get("position");var m=e;if(p)if("string"==typeof p)m=h.formatTpl(p,a,!0);else if("function"==typeof p){var g=this,f=n,v=function(t,e){t===g._ticket&&(d.setContent(e),l(r,i,o,u,d,a,s,c))};g._ticket=f,m=p(a,f,v)}d.show(t),d.setContent(m),l(r,i,o,u,d,a,s,c)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&p.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&p.each(e,function(t){t.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!v.node){var a=e.getZr();this._tooltipContent.hide(),a.off("click",this._tryShow),a.off("mousemove",this._mousemove),a.off("mouseout",this._hide),a.off("globalout",this._hide)}}})}),e("zrender/graphic/Image",["require","./Displayable","../core/BoundingRect","../core/util","../core/LRU"],function(t){function e(t){a.call(this,t)}var a=t("./Displayable"),n=t("../core/BoundingRect"),i=t("../core/util"),o=t("../core/LRU"),r=new o(50);return e.prototype={constructor:e,type:"image",brush:function(t,e){var a,n=this.style,i=n.image;if(n.bind(t,this,e),a="string"==typeof i?this._image:i,!a&&i){var o=r.get(i);if(!o)return a=new Image,a.onload=function(){a.onload=null;for(var t=0;t<o.pending.length;t++)o.pending[t].dirty()},o={image:a,pending:[this]},a.src=i,r.put(i,o),void(this._image=a);if(a=o.image,this._image=a,!a.width||!a.height)return void o.pending.push(this)}if(a){var s=n.width||a.width,l=n.height||a.height,c=n.x||0,d=n.y||0;if(!a.width||!a.height)return;if(this.setTransform(t),n.sWidth&&n.sHeight){var u=n.sx||0,p=n.sy||0;t.drawImage(a,u,p,n.sWidth,n.sHeight,c,d,s,l)}else if(n.sx&&n.sy){var u=n.sx,p=n.sy,h=s-u,m=l-p;t.drawImage(a,u,p,h,m,c,d,s,l)}else t.drawImage(a,c,d,s,l);null==n.width&&(n.width=s),null==n.height&&(n.height=l),this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new n(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},i.inherits(e,a),e}),e("zrender/graphic/Text",["require","./Displayable","../core/util","../contain/text"],function(t){var e=t("./Displayable"),a=t("../core/util"),n=t("../contain/text"),i=function(t){e.call(this,t)};return i.prototype={constructor:i,type:"text",brush:function(t,e){var a=this.style,i=a.x||0,o=a.y||0,r=a.text;if(null!=r&&(r+=""),a.bind(t,this,e),r){this.setTransform(t);var s,l=a.textAlign,c=a.textFont||a.font;if(a.textVerticalAlign){var d=n.getBoundingRect(r,c,a.textAlign,"top");switch(s="middle",a.textVerticalAlign){case"middle":o-=d.height/2-d.lineHeight/2;break;case"bottom":o-=d.height-d.lineHeight/2;break;default:o+=d.lineHeight/2}}else s=a.textBaseline;t.font=c||"12px sans-serif",t.textAlign=l||"left",t.textAlign!==l&&(t.textAlign="left"),t.textBaseline=s||"alphabetic",t.textBaseline!==s&&(t.textBaseline="alphabetic");for(var u=n.measureText("国",t.font).width,p=r.split("\n"),h=0;h<p.length;h++)a.hasFill()&&t.fillText(p[h],i,o),a.hasStroke()&&t.strokeText(p[h],i,o),o+=u;this.restoreTransform(t)}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,a=n.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":a.y-=a.height/2;break;case"bottom":a.y-=a.height}a.x+=t.x||0,a.y+=t.y||0,this._rect=a}return this._rect}},a.inherits(i,e),i}),e("zrender/graphic/shape/Circle",["require","../Path"],function(t){"use strict";return t("../Path").extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,a){a&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})}),e("zrender/graphic/shape/Sector",["require","../../core/env","../Path"],function(t){var e=t("../../core/env"),a=t("../Path"),n=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];return a.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:e.browser.ie&&e.browser.version>=11?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var o=0;o<e.length;o++){var r=e[o]&&e[o].shape;if(r&&r.startAngle===r.endAngle){for(var s=0;s<n.length;s++)n[s][2]=i[n[s][0]],i[n[s][0]]=n[s][1];t=!0;break}}if(a.prototype.brush.apply(this,arguments),t)for(var s=0;s<n.length;s++)i[n[s][0]]=n[s][2]}:a.prototype.brush,buildPath:function(t,e){var a=e.cx,n=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(r),d=Math.sin(r);t.moveTo(c*i+a,d*i+n),t.lineTo(c*o+a,d*o+n),t.arc(a,n,o,r,s,!l),t.lineTo(Math.cos(s)*i+a,Math.sin(s)*i+n),0!==i&&t.arc(a,n,i,s,r,l),t.closePath()}})}),e("zrender/graphic/shape/Ring",["require","../Path"],function(t){return t("../Path").extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var a=e.cx,n=e.cy,i=2*Math.PI;t.moveTo(a+e.r,n),t.arc(a,n,e.r,0,i,!1),t.moveTo(a+e.r0,n),t.arc(a,n,e.r0,0,i,!0)}})}),e("zrender/graphic/shape/Polygon",["require","../helper/poly","../Path"],function(t){var e=t("../helper/poly");return t("../Path").extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,a){e.buildPath(t,a,!0)}})}),e("zrender/graphic/shape/Polyline",["require","../helper/poly","../Path"],function(t){var e=t("../helper/poly");return t("../Path").extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,a){e.buildPath(t,a,!1)}})}),e("zrender/graphic/shape/Line",["require","../Path"],function(t){return t("../Path").extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a=e.x1,n=e.y1,i=e.x2,o=e.y2,r=e.percent;0!==r&&(t.moveTo(a,n),1>r&&(i=a*(1-r)+i*r,o=n*(1-r)+o*r),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})}),e("zrender/graphic/shape/Rect",["require","../helper/roundRect","../Path"],function(t){var e=t("../helper/roundRect");return t("../Path").extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,a){var n=a.x,i=a.y,o=a.width,r=a.height;a.r?e.buildPath(t,a):t.rect(n,i,o,r),t.closePath()}})}),e("zrender/graphic/shape/BezierCurve",["require","../../core/curve","../../core/vector","../Path"],function(t){"use strict";function e(t,e,a){var n=t.cpx2,i=t.cpy2;return null===n||null===i?[(a?c:s)(t.x1,t.cpx1,t.cpx2,t.x2,e),(a?c:s)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(a?l:r)(t.x1,t.cpx1,t.x2,e),(a?l:r)(t.y1,t.cpy1,t.y2,e)]}var a=t("../../core/curve"),n=t("../../core/vector"),i=a.quadraticSubdivide,o=a.cubicSubdivide,r=a.quadraticAt,s=a.cubicAt,l=a.quadraticDerivativeAt,c=a.cubicDerivativeAt,d=[];return t("../Path").extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a=e.x1,n=e.y1,r=e.x2,s=e.y2,l=e.cpx1,c=e.cpy1,u=e.cpx2,p=e.cpy2,h=e.percent;0!==h&&(t.moveTo(a,n),null==u||null==p?(1>h&&(i(a,l,r,h,d),l=d[1],r=d[2],i(n,c,s,h,d),c=d[1],s=d[2]),t.quadraticCurveTo(l,c,r,s)):(1>h&&(o(a,l,u,r,h,d),l=d[1],u=d[2],r=d[3],o(n,c,p,s,h,d),c=d[1],p=d[2],s=d[3]),t.bezierCurveTo(l,c,u,p,r,s)))},pointAt:function(t){return e(this.shape,t,!1)},tangentAt:function(t){var a=e(this.shape,t,!0);return n.normalize(a,a)}})}),e("zrender/graphic/shape/Arc",["require","../Path"],function(t){return t("../Path").extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a=e.cx,n=e.cy,i=Math.max(e.r,0),o=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*i+a,c*i+n),t.arc(a,n,i,o,r,!s)}})}),e("zrender/graphic/CompoundPath",["require","./Path"],function(t){var e=t("./Path");return e.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,a=0;a<e.length;a++)t=t||e[a].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),a=0;a<t.length;a++)t[a].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var a=e.paths||[],n=0;n<a.length;n++)a[n].buildPath(t,a[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths,e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),e.prototype.getBoundingRect.call(this)}})}),e("zrender/graphic/LinearGradient",["require","../core/util","./Gradient"],function(t){"use strict";var e=t("../core/util"),a=t("./Gradient"),n=function(t,e,n,i,o,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=r||!1,a.call(this,o)};return n.prototype={constructor:n},e.inherits(n,a),n}),e("zrender/graphic/RadialGradient",["require","../core/util","./Gradient"],function(t){"use strict";var e=t("../core/util"),a=t("./Gradient"),n=function(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,a.call(this,i)};return n.prototype={constructor:n},e.inherits(n,a),n}),e("echarts/coord/axisHelper",["require","../scale/Ordinal","../scale/Interval","../scale/Time","../scale/Log","../scale/Scale","../util/number","zrender/core/util","zrender/contain/text"],function(t){var e=t("../scale/Ordinal"),a=t("../scale/Interval");t("../scale/Time"),t("../scale/Log");var n=t("../scale/Scale"),i=t("../util/number"),o=t("zrender/core/util"),r=t("zrender/contain/text"),s={};return s.getScaleExtent=function(t,e){var a,n,r,s=t.scale,l=s.type,c=e.getMin(),d=e.getMax(),u=null!=c,p=null!=d,h=s.getExtent();return"ordinal"===l?a=(e.get("data")||[]).length:(n=e.get("boundaryGap"),o.isArray(n)||(n=[n||0,n||0]),n[0]=i.parsePercent(n[0],1),n[1]=i.parsePercent(n[1],1),r=h[1]-h[0]),null==c&&(c="ordinal"===l?a?0:NaN:h[0]-n[0]*r),null==d&&(d="ordinal"===l?a?a-1:NaN:h[1]+n[1]*r),"dataMin"===c&&(c=h[0]),"dataMax"===d&&(d=h[1]),(null==c||!isFinite(c))&&(c=NaN),(null==d||!isFinite(d))&&(d=NaN),t.setBlank(o.eqNaN(c)||o.eqNaN(d)),e.getNeedCrossZero()&&(c>0&&d>0&&!u&&(c=0),0>c&&0>d&&!p&&(d=0)),[c,d]},s.niceScaleExtent=function(t,e){var a=t.scale,n=s.getScaleExtent(t,e),i=null!=e.getMin(),o=null!=e.getMax(),r=e.get("splitNumber");
"log"===a.type&&(a.base=e.get("logBase")),a.setExtent(n[0],n[1]),a.niceExtent(r,i,o);var l=e.get("minInterval");if(isFinite(l)&&!i&&!o&&"interval"===a.type){var c=a.getInterval(),d=Math.max(Math.abs(c),l)/c;n=a.getExtent();var u=(n[1]+n[0])/2;a.setExtent(d*(n[0]-u)+u,d*(n[1]-u)+u),a.niceExtent(r)}var c=e.get("interval");null!=c&&a.setInterval&&a.setInterval(c)},s.createScaleByModel=function(t,i){if(i=i||t.get("type"))switch(i){case"category":return new e(t.getCategories(),[1/0,-(1/0)]);case"value":return new a;default:return(n.getClass(i)||a).create(t)}},s.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),a=e[0],n=e[1];return!(a>0&&n>0||0>a&&0>n)},s.getAxisLabelInterval=function(t,e,a,n){var i,o=0,s=0,l=1;e.length>40&&(l=Math.floor(e.length/40));for(var c=0;c<t.length;c+=l){var d=t[c],u=r.getBoundingRect(e[c],a,"center","top");u[n?"x":"y"]+=d,u[n?"width":"height"]*=1.3,i?i.intersect(u)?(s++,o=Math.max(o,s)):(i.union(u),s=0):i=u.clone()}return 0===o&&l>1?l:(o+1)*l-1},s.getFormattedLabels=function(t,e){var a=t.scale,n=a.getTicksLabels(),i=a.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e),o.map(n,e)):"function"==typeof e?o.map(i,function(n,i){return e("category"===t.type?a.getLabel(n):n,i)},this):n},s}),e("zrender/core/BoundingRect",["require","./vector","./matrix"],function(t){"use strict";function e(t,e,a,n){0>a&&(t+=a,a=-a),0>n&&(e+=n,n=-n),this.x=t,this.y=e,this.width=a,this.height=n}var a=t("./vector"),n=t("./matrix"),i=a.applyTransform,o=Math.min,r=Math.max;return e.prototype={constructor:e,union:function(t){var e=o(t.x,this.x),a=o(t.y,this.y);this.width=r(t.x+t.width,this.x+this.width)-e,this.height=r(t.y+t.height,this.y+this.height)-a,this.x=e,this.y=a},applyTransform:function(){var t=[],e=[],a=[],n=[];return function(s){if(s){t[0]=a[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=a[1]=this.y+this.height,i(t,t,s),i(e,e,s),i(a,a,s),i(n,n,s),this.x=o(t[0],e[0],a[0],n[0]),this.y=o(t[1],e[1],a[1],n[1]);var l=r(t[0],e[0],a[0],n[0]),c=r(t[1],e[1],a[1],n[1]);this.width=l-this.x,this.height=c-this.y}}}(),calculateTransform:function(t){var e=this,a=t.width/e.width,i=t.height/e.height,o=n.create();return n.translate(o,o,[-e.x,-e.y]),n.scale(o,o,[a,i]),n.translate(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof e||(t=e.create(t));var a=this,n=a.x,i=a.x+a.width,o=a.y,r=a.y+a.height,s=t.x,l=t.x+t.width,c=t.y,d=t.y+t.height;return!(s>i||n>l||c>r||o>d)},contain:function(t,e){var a=this;return t>=a.x&&t<=a.x+a.width&&e>=a.y&&e<=a.y+a.height},clone:function(){return new e(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e}),e("echarts/coord/cartesian/Cartesian2D",["require","zrender/core/util","./Cartesian"],function(t){"use strict";function e(t){n.call(this,t)}var a=t("zrender/core/util"),n=t("./Cartesian");return e.prototype={constructor:e,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),a=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var a=this.getAxis("x"),n=this.getAxis("y");return[a.toGlobalCoord(a.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var a=this.getAxis("x"),n=this.getAxis("y");return[a.coordToData(a.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},a.inherits(e,n),e}),e("echarts/coord/cartesian/Axis2D",["require","zrender/core/util","../Axis","./axisLabelInterval"],function(t){var e=t("zrender/core/util"),a=t("../Axis"),n=t("./axisLabelInterval"),i=function(t,e,n,i,o){a.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};return i.prototype={constructor:i,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=n(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},e.inherits(i,a),i}),e("echarts/coord/cartesian/GridModel",["require","./AxisModel","../../model/Component"],function(t){"use strict";t("./AxisModel");var e=t("../../model/Component");return e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})}),e("echarts/model/globalDefault",[],function(){var t="";return"undefined"!=typeof navigator&&(t=navigator.platform||""),{color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:t.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}}),e("zrender/contain/text",["require","../core/util","../core/BoundingRect"],function(t){function e(t,e){var a=t+":"+e;if(r[a])return r[a];for(var n=(t+"").split("\n"),i=0,o=0,c=n.length;c>o;o++)i=Math.max(p.measureText(n[o],e).width,i);return s>l&&(s=0,r={}),s++,r[a]=i,i}function a(t,a,n,i){var o=((t||"")+"").split("\n").length,r=e(t,a),s=e("国",a),l=o*s,c=new d(0,0,r,l);switch(c.lineHeight=s,i){case"bottom":case"alphabetic":c.y-=s;break;case"middle":c.y-=s/2}switch(n){case"end":case"right":c.x-=c.width;break;case"center":c.x-=c.width/2}return c}function n(t,e,a,n){var i=e.x,o=e.y,r=e.height,s=e.width,l=a.height,c=r/2-l/2,d="left";switch(t){case"left":i-=n,o+=c,d="right";break;case"right":i+=n+s,o+=c,d="left";break;case"top":i+=s/2,o-=n+l,d="center";break;case"bottom":i+=s/2,o+=r+n,d="center";break;case"inside":i+=s/2,o+=c,d="center";break;case"insideLeft":i+=n,o+=c,d="left";break;case"insideRight":i+=s-n,o+=c,d="right";break;case"insideTop":i+=s/2,o+=n,d="center";break;case"insideBottom":i+=s/2,o+=r-l-n,d="center";break;case"insideTopLeft":i+=n,o+=n,d="left";break;case"insideTopRight":i+=s-n,o+=n,d="right";break;case"insideBottomLeft":i+=n,o+=r-l-n;break;case"insideBottomRight":i+=s-n,o+=r-l-n,d="right"}return{x:i,y:o,textAlign:d,textBaseline:"top"}}function i(t,a,n,i,r){if(!a)return"";r=r||{},i=u(i,"...");for(var s=u(r.maxIterations,2),l=u(r.minChar,0),c=e("国",n),d=e("a",n),p=u(r.placeholder,""),h=a=Math.max(0,a-1),m=0;l>m&&h>=d;m++)h-=d;var g=e(i);g>h&&(i="",g=0),h=a-g;for(var f=(t+"").split("\n"),m=0,v=f.length;v>m;m++){var b=f[m],y=e(b,n);if(!(a>=y)){for(var x=0;;x++){if(h>=y||x>=s){b+=i;break}var w=0===x?o(b,h,d,c):y>0?Math.floor(b.length*h/y):0;b=b.substr(0,w),y=e(b,n)}""===b&&(b=p),f[m]=b}}return f.join("\n")}function o(t,e,a,n){for(var i=0,o=0,r=t.length;r>o&&e>i;o++){var s=t.charCodeAt(o);i+=s>=0&&127>=s?a:n}return o}var r={},s=0,l=5e3,c=t("../core/util"),d=t("../core/BoundingRect"),u=c.retrieve,p={getWidth:e,getBoundingRect:a,adjustTextPositionOnRect:n,truncateText:i,measureText:function(t,e){var a=c.getContext();return a.font=e||"12px sans-serif",a.measureText(t)}};return p}),e("echarts/model/mixin/colorPalette",["require","../../util/clazz"],function(t){var e=t("../../util/clazz"),a=e.set,n=e.get;return{clearColorPalette:function(){a(this,"colorIdx",0),a(this,"colorNameMap",{})},getColorFromPalette:function(t,e){e=e||this;var i=n(e,"colorIdx")||0,o=n(e,"colorNameMap")||a(e,"colorNameMap",{});if(o[t])return o[t];var r=this.get("color",!0)||[];if(r.length){var s=r[i];return t&&(o[t]=s),a(e,"colorIdx",(i+1)%r.length),s}}}}),e("echarts/model/mixin/lineStyle",["require","./makeStyleMapper"],function(t){var e=t("./makeStyleMapper")([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getLineStyle:function(t){var a=e.call(this,t),n=this.getLineDash(a.lineWidth);return n&&(a.lineDash=n),a},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),a=Math.max(t,2),n=4*t;return"solid"===e||null==e?null:"dashed"===e?[n,n]:[a,a]}}}),e("echarts/util/clazz",["require","zrender/core/util"],function(t){function e(t){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function a(t,e){var a=i.slice(arguments,2);return this.superClass.prototype[e].apply(t,a)}function n(t,e,a){return this.superClass.prototype[e].apply(t,a)}var i=t("zrender/core/util"),o={},r=".",s="___EC__COMPONENT__CONTAINER___",l="\x00ec_\x00";o.set=function(t,e,a){return t[l+e]=a},o.get=function(t,e){return t[l+e]},o.hasOwn=function(t,e){return t.hasOwnProperty(l+e)};var c=o.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(r),e.main=t[0]||"",e.sub=t[1]||""),e};return o.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){i.each(e,function(e){t[e]||console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")});var o=this,r=function(){t.$constructor?t.$constructor.apply(this,arguments):o.apply(this,arguments)};return i.extend(r.prototype,t),r.extend=this.extend,r.superCall=a,r.superApply=n,i.inherits(r,this),r.superClass=o,r}},o.enableClassManagement=function(t,a){function n(t){var e=o[t.main];return e&&e[s]||(e=o[t.main]={},e[s]=!0),e}a=a||{};var o={};if(t.registerClass=function(t,a){if(a)if(e(a),a=c(a),a.sub){if(a.sub!==s){var i=n(a);i[a.sub]=t}}else o[a.main]&&console.warn(a.main+" exists."),o[a.main]=t;return t},t.getClass=function(t,e,a){var n=o[t];if(n&&n[s]&&(n=e?n[e]:null),a&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},t.getClassesByMainType=function(t){t=c(t);var e=[],a=o[t.main];return a&&a[s]?i.each(a,function(t,a){a!==s&&e.push(t)}):e.push(a),e},t.hasClass=function(t){return t=c(t),!!o[t.main]},t.getAllClassMainTypes=function(){var t=[];return i.each(o,function(e,a){t.push(a)}),t},t.hasSubTypes=function(t){t=c(t);var e=o[t.main];return e&&e[s]},t.parseClassType=c,a.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var a=r.call(this,e);return t.registerClass(a,e.type)})}return t},o.setReadOnly=function(t,e){},o}),e("echarts/model/mixin/areaStyle",["require","./makeStyleMapper"],function(t){return{getAreaStyle:t("./makeStyleMapper")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}}),e("echarts/model/mixin/textStyle",["require","zrender/contain/text"],function(t){function e(t,e){return t&&t.getShallow(e)}var a=t("zrender/contain/text");return{getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,a=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||e(a,"fontStyle"),this.getShallow("fontWeight")||e(a,"fontWeight"),(this.getShallow("fontSize")||e(a,"fontSize")||12)+"px",this.getShallow("fontFamily")||e(a,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){return a.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(t,e,n,i){return a.truncateText(t,e,this.getFont(),n,i)}}}),e("echarts/model/mixin/itemStyle",["require","./makeStyleMapper"],function(t){var e=t("./makeStyleMapper")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);return{getItemStyle:function(t){var a=e.call(this,t),n=this.getBorderLineDash();return n&&(a.lineDash=n),a},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}}),e("zrender/graphic/Displayable",["require","../core/util","./Style","../Element","./mixin/RectText"],function(t){function e(t){t=t||{},i.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new n(t.style),this._rect=null,this.__clipPaths=[]}var a=t("../core/util"),n=t("./Style"),i=t("../Element"),o=t("./mixin/RectText");return e.prototype={constructor:e,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var a=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(a[0],a[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?i.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new n(t),this.dirty(!1),this}},a.inherits(e,i),a.mixin(e,o),e}),e("zrender/tool/transformPath",["require","../core/PathProxy","../core/vector"],function(t){function e(t,e){var n,l,c,d,u,p,h=t.data,m=a.M,g=a.C,f=a.L,v=a.R,b=a.A,y=a.Q;for(c=0,d=0;c<h.length;){switch(n=h[c++],d=c,l=0,n){case m:l=1;break;case f:l=1;break;case g:l=3;break;case y:l=2;break;case b:var x=e[4],w=e[5],k=r(e[0]*e[0]+e[1]*e[1]),D=r(e[2]*e[2]+e[3]*e[3]),T=s(-e[1]/D,e[0]/k);h[c++]+=x,h[c++]+=w,h[c++]*=k,h[c++]*=D,h[c++]+=T,h[c++]+=T,c+=2,d=c;break;case v:p[0]=h[c++],p[1]=h[c++],i(p,p,e),h[d++]=p[0],h[d++]=p[1],p[0]+=h[c++],p[1]+=h[c++],i(p,p,e),h[d++]=p[0],h[d++]=p[1]}for(u=0;l>u;u++){var p=o[u];p[0]=h[c++],p[1]=h[c++],i(p,p,e),h[d++]=p[0],h[d++]=p[1]}}}var a=t("../core/PathProxy").CMD,n=t("../core/vector"),i=n.applyTransform,o=[[],[],[]],r=Math.sqrt,s=Math.atan2;return e}),e("zrender/graphic/Pattern",["require"],function(t){var e=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};return e.prototype.getCanvasPattern=function(t){return this._canvasPattern||(this._canvasPattern=t.createPattern(this.image,this.repeat))},e}),e("zrender/contain/path",["require","../core/PathProxy","./line","./cubic","./quadratic","./arc","./util","../core/curve","./windingLine"],function(t){"use strict";function e(t,e){return Math.abs(t-e)<v}function a(){var t=y[0];y[0]=y[1],y[1]=t}function n(t,e,n,i,o,r,s,l,c,d){if(d>e&&d>i&&d>r&&d>l||e>d&&i>d&&r>d&&l>d)return 0;var u=h.cubicRootAt(e,i,r,l,d,b);if(0===u)return 0;for(var p,m,g=0,f=-1,v=0;u>v;v++){var x=b[v],w=0===x||1===x?.5:1,k=h.cubicAt(t,n,o,s,x);c>k||(0>f&&(f=h.cubicExtrema(e,i,r,l,y),y[1]<y[0]&&f>1&&a(),p=h.cubicAt(e,i,r,l,y[0]),f>1&&(m=h.cubicAt(e,i,r,l,y[1]))),g+=2==f?x<y[0]?e>p?w:-w:x<y[1]?p>m?w:-w:m>l?w:-w:x<y[0]?e>p?w:-w:p>l?w:-w)}return g}function i(t,e,a,n,i,o,r,s){if(s>e&&s>n&&s>o||e>s&&n>s&&o>s)return 0;var l=h.quadraticRootAt(e,n,o,s,b);if(0===l)return 0;var c=h.quadraticExtremum(e,n,o);if(c>=0&&1>=c){for(var d=0,u=h.quadraticAt(e,n,o,c),p=0;l>p;p++){var m=0===b[p]||1===b[p]?.5:1,g=h.quadraticAt(t,a,i,b[p]);r>g||(d+=b[p]<c?e>u?m:-m:u>o?m:-m)}return d}var m=0===b[0]||1===b[0]?.5:1,g=h.quadraticAt(t,a,i,b[0]);return r>g?0:e>o?m:-m}function o(t,e,a,n,i,o,r,s){if(s-=e,s>a||-a>s)return 0;var l=Math.sqrt(a*a-s*s);b[0]=-l,b[1]=l;var c=Math.abs(n-i);if(1e-4>c)return 0;if(1e-4>c%f){n=0,i=f;var d=o?1:-1;return r>=b[0]+t&&r<=b[1]+t?d:0}if(o){var l=n;n=p(i),i=p(l)}else n=p(n),i=p(i);n>i&&(i+=f);for(var u=0,h=0;2>h;h++){var m=b[h];if(m+t>r){var g=Math.atan2(s,m),d=o?1:-1;0>g&&(g=f+g),(g>=n&&i>=g||g+f>=n&&i>=g+f)&&(g>Math.PI/2&&g<1.5*Math.PI&&(d=-d),u+=d)}}return u}function r(t,a,r,l,p){for(var h=0,f=0,v=0,b=0,y=0,x=0;x<t.length;){var w=t[x++];switch(w===s.M&&x>1&&(r||(h+=m(f,v,b,y,l,p))),1==x&&(f=t[x],v=t[x+1],b=f,y=v),w){case s.M:b=t[x++],y=t[x++],f=b,v=y;break;case s.L:if(r){if(g(f,v,t[x],t[x+1],a,l,p))return!0}else h+=m(f,v,t[x],t[x+1],l,p)||0;f=t[x++],v=t[x++];break;case s.C:if(r){if(c.containStroke(f,v,t[x++],t[x++],t[x++],t[x++],t[x],t[x+1],a,l,p))return!0}else h+=n(f,v,t[x++],t[x++],t[x++],t[x++],t[x],t[x+1],l,p)||0;f=t[x++],v=t[x++];break;case s.Q:if(r){if(d.containStroke(f,v,t[x++],t[x++],t[x],t[x+1],a,l,p))return!0}else h+=i(f,v,t[x++],t[x++],t[x],t[x+1],l,p)||0;f=t[x++],v=t[x++];break;case s.A:var k=t[x++],D=t[x++],T=t[x++],S=t[x++],I=t[x++],_=t[x++],C=(t[x++],1-t[x++]),M=Math.cos(I)*T+k,L=Math.sin(I)*S+D;x>1?h+=m(f,v,M,L,l,p):(b=M,y=L);var A=(l-k)*S/T+k;if(r){if(u.containStroke(k,D,S,I,I+_,C,a,A,p))return!0}else h+=o(k,D,S,I,I+_,C,A,p);f=Math.cos(I+_)*T+k,v=Math.sin(I+_)*S+D;break;case s.R:b=f=t[x++],y=v=t[x++];var P=t[x++],N=t[x++],M=b+P,L=y+N;if(r){if(g(b,y,M,y,a,l,p)||g(M,y,M,L,a,l,p)||g(M,L,b,L,a,l,p)||g(b,L,b,y,a,l,p))return!0}else h+=m(M,y,M,L,l,p),h+=m(b,L,b,y,l,p);break;case s.Z:if(r){if(g(f,v,b,y,a,l,p))return!0}else h+=m(f,v,b,y,l,p);f=b,v=y}}return r||e(v,y)||(h+=m(f,v,b,y,l,p)||0),0!==h}var s=t("../core/PathProxy").CMD,l=t("./line"),c=t("./cubic"),d=t("./quadratic"),u=t("./arc"),p=t("./util").normalizeRadian,h=t("../core/curve"),m=t("./windingLine"),g=l.containStroke,f=2*Math.PI,v=1e-4,b=[-1,-1,-1],y=[-1,-1];return{contain:function(t,e,a){return r(t,0,!1,e,a)},containStroke:function(t,e,a,n){return r(t,e,!0,a,n)}}}),e("zrender/core/PathProxy",["require","./curve","./vector","./bbox","./BoundingRect","../config"],function(t){"use strict";var e=t("./curve"),a=t("./vector"),n=t("./bbox"),i=t("./BoundingRect"),o=t("../config").devicePixelRatio,r={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},s=[],l=[],c=[],d=[],u=Math.min,p=Math.max,h=Math.cos,m=Math.sin,g=Math.sqrt,f=Math.abs,v="undefined"!=typeof Float32Array,b=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};return b.prototype={constructor:b,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=f(1/o/t)||0,this._uy=f(1/o/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(r.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var a=f(t-this._xi)>this._ux||f(e-this._yi)>this._uy||this._len<5;return this.addData(r.L,t,e),this._ctx&&a&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),a&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,a,n,i,o){return this.addData(r.C,t,e,a,n,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,a,n,i,o):this._ctx.bezierCurveTo(t,e,a,n,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,a,n){return this.addData(r.Q,t,e,a,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,a,n):this._ctx.quadraticCurveTo(t,e,a,n)),this._xi=a,this._yi=n,this},arc:function(t,e,a,n,i,o){return this.addData(r.A,t,e,a,a,n,i-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,a,n,i,o),this._xi=h(i)*a+t,this._yi=m(i)*a+t,this},arcTo:function(t,e,a,n,i){return this._ctx&&this._ctx.arcTo(t,e,a,n,i),this},rect:function(t,e,a,n){return this._ctx&&this._ctx.rect(t,e,a,n),this.addData(r.R,t,e,a,n),this},closePath:function(){this.addData(r.Z);var t=this._ctx,e=this._x0,a=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,a),t.closePath()),this._xi=e,this._yi=a,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,a=0;a<t.length;a++)e+=t[a];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!v||(this.data=new Float32Array(e));for(var a=0;e>a;a++)this.data[a]=t[a];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,a=0,n=this._len,i=0;e>i;i++)a+=t[i].len();v&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+a));for(var i=0;e>i;i++)for(var o=t[i].data,r=0;r<o.length;r++)this.data[n++]=o[r];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var a=0;a<arguments.length;a++)e[this._len++]=arguments[a];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var a,n,i=this._dashSum,o=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,d=t-l,h=e-c,m=g(d*d+h*h),f=l,v=c,b=r.length;for(d/=m,h/=m,0>o&&(o=i+o),o%=i,f-=o*d,v-=o*h;d>0&&t>=f||0>d&&f>=t||0==d&&(h>0&&e>=v||0>h&&v>=e);)n=this._dashIdx,a=r[n],f+=d*a,v+=h*a,this._dashIdx=(n+1)%b,d>0&&l>f||0>d&&f>l||h>0&&c>v||0>h&&v>c||s[n%2?"moveTo":"lineTo"](d>=0?u(f,t):p(f,t),h>=0?u(v,e):p(v,e));d=f-t,h=v-e,this._dashOffset=-g(d*d+h*h)},_dashedBezierTo:function(t,a,n,i,o,r){var s,l,c,d,u,p=this._dashSum,h=this._dashOffset,m=this._lineDash,f=this._ctx,v=this._xi,b=this._yi,y=e.cubicAt,x=0,w=this._dashIdx,k=m.length,D=0;for(0>h&&(h=p+h),h%=p,s=0;1>s;s+=.1)l=y(v,t,n,o,s+.1)-y(v,t,n,o,s),c=y(b,a,i,r,s+.1)-y(b,a,i,r,s),x+=g(l*l+c*c);for(;k>w&&(D+=m[w],!(D>h));w++);for(s=(D-h)/x;1>=s;)d=y(v,t,n,o,s),u=y(b,a,i,r,s),w%2?f.moveTo(d,u):f.lineTo(d,u),s+=m[w]/x,w=(w+1)%k;w%2!==0&&f.lineTo(o,r),l=o-d,c=r-u,this._dashOffset=-g(l*l+c*c)},_dashedQuadraticTo:function(t,e,a,n){var i=a,o=n;a=(a+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,a,n,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,v&&(this.data=new Float32Array(t)))},getBoundingRect:function(){s[0]=s[1]=c[0]=c[1]=Number.MAX_VALUE,l[0]=l[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,o=0,u=0,p=0,g=0;g<t.length;){var f=t[g++];switch(1==g&&(e=t[g],o=t[g+1],u=e,p=o),f){case r.M:u=t[g++],p=t[g++],e=u,o=p,c[0]=u,c[1]=p,d[0]=u,d[1]=p;break;case r.L:n.fromLine(e,o,t[g],t[g+1],c,d),e=t[g++],o=t[g++];break;case r.C:n.fromCubic(e,o,t[g++],t[g++],t[g++],t[g++],t[g],t[g+1],c,d),e=t[g++],o=t[g++];break;case r.Q:n.fromQuadratic(e,o,t[g++],t[g++],t[g],t[g+1],c,d),e=t[g++],o=t[g++];break;case r.A:var v=t[g++],b=t[g++],y=t[g++],x=t[g++],w=t[g++],k=t[g++]+w,D=(t[g++],1-t[g++]);1==g&&(u=h(w)*y+v,p=m(w)*x+b),n.fromArc(v,b,y,x,w,k,D,c,d),e=h(k)*y+v,o=m(k)*x+b;break;case r.R:u=e=t[g++],p=o=t[g++];var T=t[g++],S=t[g++];n.fromLine(u,p,u+T,p+S,c,d);break;case r.Z:e=u,o=p}a.min(s,s,c),a.max(l,l,d)}return 0===g&&(s[0]=s[1]=l[0]=l[1]=0),new i(s[0],s[1],l[0]-s[0],l[1]-s[1])},rebuildPath:function(t){for(var e,a,n,i,o,s,l=this.data,c=this._ux,d=this._uy,u=this._len,p=0;u>p;){var g=l[p++];switch(1==p&&(n=l[p],i=l[p+1],e=n,a=i),g){case r.M:e=n=l[p++],a=i=l[p++],t.moveTo(n,i);break;case r.L:o=l[p++],s=l[p++],(f(o-n)>c||f(s-i)>d||p===u-1)&&(t.lineTo(o,s),n=o,i=s);break;case r.C:t.bezierCurveTo(l[p++],l[p++],l[p++],l[p++],l[p++],l[p++]),n=l[p-2],i=l[p-1];break;case r.Q:t.quadraticCurveTo(l[p++],l[p++],l[p++],l[p++]),n=l[p-2],i=l[p-1];break;case r.A:var v=l[p++],b=l[p++],y=l[p++],x=l[p++],w=l[p++],k=l[p++],D=l[p++],T=l[p++],S=y>x?y:x,I=y>x?1:y/x,_=y>x?x/y:1,C=Math.abs(y-x)>.001,M=w+k;C?(t.translate(v,b),t.rotate(D),t.scale(I,_),t.arc(0,0,S,w,M,1-T),t.scale(1/I,1/_),t.rotate(-D),t.translate(-v,-b)):t.arc(v,b,S,w,M,1-T),1==p&&(e=h(w)*y+v,a=m(w)*x+b),n=h(M)*y+v,i=m(M)*x+b;break;case r.R:e=n=l[p],a=i=l[p+1],t.rect(l[p++],l[p++],l[p++],l[p++]);break;case r.Z:t.closePath(),n=e,i=a}}}},b.CMD=r,b}),e("echarts/scale/Ordinal",["require","zrender/core/util","./Scale"],function(t){var e=t("zrender/core/util"),a=t("./Scale"),n=a.prototype,i=a.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?e.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),n.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return n.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(n.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,a=e[0];a<=e[1];)t.push(a),a++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getDataExtent(e,!1))},niceTicks:e.noop,niceExtent:e.noop});return i.create=function(){return new i},i}),e("echarts/model/mixin/makeStyleMapper",["require","zrender/core/util"],function(t){var e=t("zrender/core/util");return function(t){for(var a=0;a<t.length;a++)t[a][1]||(t[a][1]=t[a][0]);return function(a){for(var n={},i=0;i<t.length;i++){var o=t[i][1];if(!(a&&e.indexOf(a,o)>=0)){var r=this.getShallow(o);null!=r&&(n[t[i][0]]=r)}}return n}}}),e("zrender/graphic/Style",["require"],function(t){function e(t,e,a){var n=e.x,i=e.x2,o=e.y,r=e.y2;e.global||(n=n*a.width+a.x,i=i*a.width+a.x,o=o*a.height+a.y,r=r*a.height+a.y);var s=t.createLinearGradient(n,o,i,r);return s}function a(t,e,a){var n=a.width,i=a.height,o=Math.min(n,i),r=e.x,s=e.y,l=e.r;e.global||(r=r*n+a.x,s=s*i+a.y,l*=o);var c=t.createRadialGradient(r,s,0,r,s,l);return c}var n=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],i=function(t){this.extendFrom(t)};i.prototype={constructor:i,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(t,e,a){for(var i=this,o=a&&a.style,r=!o,s=0;s<n.length;s++){var l=n[s],c=l[0];(r||i[c]!==o[c])&&(t[c]=i[c]||l[1])}if((r||i.fill!==o.fill)&&(t.fillStyle=i.fill),(r||i.stroke!==o.stroke)&&(t.strokeStyle=i.stroke),(r||i.opacity!==o.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(r||i.blend!==o.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var d=i.lineWidth;t.lineWidth=d/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t){var a=this;for(var n in t)!t.hasOwnProperty(n)||!e&&a.hasOwnProperty(n)||(a[n]=t[n])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,n,i){for(var o="radial"===n.type?a:e,r=o(t,n,i),s=n.colorStops,l=0;l<s.length;l++)r.addColorStop(s[l].offset,s[l].color);return r}};for(var o=i.prototype,r=0;r<n.length;r++){var s=n[r];s[0]in o||(o[s[0]]=s[1])}return i.getGradient=o.getGradient,i}),e("zrender/Element",["require","./core/guid","./mixin/Eventful","./mixin/Transformable","./mixin/Animatable","./core/util"],function(t){"use strict";var e=t("./core/guid"),a=t("./mixin/Eventful"),n=t("./mixin/Transformable"),i=t("./mixin/Animatable"),o=t("./core/util"),r=function(t){n.call(this,t),a.call(this,t),i.call(this,t),this.id=t.id||e()};return r.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var a=this[t];a||(a=this[t]=[]),a[0]=e[0],a[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(o.isObject(t))for(var a in t)t.hasOwnProperty(a)&&this.attrKV(a,t[a]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var a=0;a<e.length;a++)t.animation.addAnimator(e[a]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var a=0;a<e.length;a++)t.animation.removeAnimator(e[a]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},o.mixin(r,i),o.mixin(r,n),o.mixin(r,a),r}),e("zrender/graphic/mixin/RectText",["require","../../contain/text","../../core/BoundingRect"],function(t){function e(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var a=t("../../contain/text"),n=t("../../core/BoundingRect"),i=new n,o=function(){};return o.prototype={constructor:o,drawRectText:function(t,n,o){var r=this.style,s=r.text;if(null!=s&&(s+=""),s){t.save();var l,c,d=r.textPosition,u=r.textOffset,p=r.textDistance,h=r.textAlign,m=r.textFont||r.font,g=r.textBaseline,f=r.textVerticalAlign;o=o||a.getBoundingRect(s,m,h,g);var v=this.transform;if(r.textTransform?this.setTransform(t):v&&(i.copy(n),i.applyTransform(v),n=i),d instanceof Array){if(l=n.x+e(d[0],n.width),c=n.y+e(d[1],n.height),h=h||"left",g=g||"top",f){switch(f){case"middle":c-=o.height/2-o.lineHeight/2;break;case"bottom":c-=o.height-o.lineHeight/2;break;default:c+=o.lineHeight/2}g="middle"}}else{var b=a.adjustTextPositionOnRect(d,n,o,p);l=b.x,c=b.y,h=h||b.textAlign,g=g||b.textBaseline}u&&(l+=u[0],c+=u[1]),t.textAlign=h||"left",t.textBaseline=g||"alphabetic";var y=r.textFill,x=r.textStroke;y&&(t.fillStyle=y),x&&(t.strokeStyle=x),t.font=m||"12px sans-serif",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor||"transparent",t.shadowOffsetX=r.textShadowOffsetX,t.shadowOffsetY=r.textShadowOffsetY;var w=s.split("\n");r.textRotation&&(v&&t.translate(v[4],v[5]),t.rotate(r.textRotation),v&&t.translate(-v[4],-v[5]));for(var k=0;k<w.length;k++)y&&t.fillText(w[k],l,c),x&&t.strokeText(w[k],l,c),c+=o.lineHeight;t.restore()}}},o}),e("echarts/coord/cartesian/Cartesian",["require","zrender/core/util"],function(t){"use strict";function e(t){return this._axes[t]}var a=t("zrender/core/util"),n=function(t){this._axes={},this._dimList=[],this.name=t||""};return n.prototype={constructor:n,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return a.map(this._dimList,e,this)},getAxesByScale:function(t){return t=t.toLowerCase(),a.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var a=this._dimList,n=t instanceof Array?[]:{},i=0;i<a.length;i++){var o=a[i],r=this._axes[o];n[o]=r[e](t[o])}return n}},n}),e("echarts/model/mixin/boxLayout",["require"],function(t){return{getBoxLayoutParams:function(){return{left:this.get("left"),
top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}}),e("echarts/util/component",["require","zrender/core/util","./clazz"],function(t){var e=t("zrender/core/util"),a=t("./clazz"),n=a.parseClassType,i=0,o={},r="_";return o.getUID=function(t){return[t||"",i++,Math.random()].join(r)},o.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,a){t=n(t),e[t.main]=a},t.determineSubType=function(a,i){var o=i.type;if(!o){var r=n(a).main;t.hasSubTypes(a)&&e[r]&&(o=e[r](i))}return o},t},o.enableTopologicalTravel=function(t,a){function n(t){var n={},r=[];return e.each(t,function(s){var l=i(n,s),c=l.originalDeps=a(s),d=o(c,t);l.entryCount=d.length,0===l.entryCount&&r.push(s),e.each(d,function(t){e.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var a=i(n,t);e.indexOf(a.successor,t)<0&&a.successor.push(s)})}),{graph:n,noEntryList:r}}function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,a){var n=[];return e.each(t,function(t){e.indexOf(a,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,a,i,o){function r(t){c[t].entryCount--,0===c[t].entryCount&&d.push(t)}function s(t){u[t]=!0,r(t)}if(t.length){var l=n(a),c=l.graph,d=l.noEntryList,u={};for(e.each(t,function(t){u[t]=!0});d.length;){var p=d.pop(),h=c[p],m=!!u[p];m&&(i.call(o,p,h.originalDeps.slice()),delete u[p]),e.each(h.successor,m?s:r)}e.each(u,function(){throw new Error("Circle dependency may exists")})}}},o}),e("zrender/core/guid",[],function(){var t=2311;return function(){return t++}}),e("zrender/mixin/Animatable",["require","../animation/Animator","../core/util","../core/log"],function(t){"use strict";var e=t("../animation/Animator"),a=t("../core/util"),n=a.isString,i=a.isFunction,o=a.isObject,r=t("../core/log"),s=function(){this.animators=[]};return s.prototype={constructor:s,animate:function(t,n){var i,o=!1,s=this,l=this.__zr;if(t){var c=t.split("."),d=s;o="shape"===c[0];for(var u=0,p=c.length;p>u;u++)d&&(d=d[c[u]]);d&&(i=d)}else i=s;if(!i)return void r('Property "'+t+'" is not existed in element '+s.id);var h=s.animators,m=new e(i,n);return m.during(function(t){s.dirty(o)}).done(function(){h.splice(a.indexOf(h,m),1)}),h.push(m),l&&l.animation.addAnimator(m),m},stopAnimation:function(t){for(var e=this.animators,a=e.length,n=0;a>n;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,a,o,r){function s(){c--,c||r&&r()}n(a)?(r=o,o=a,a=0):i(o)?(r=o,o="linear",a=0):i(a)?(r=a,a=0):i(e)?(r=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,a,o,r);var l=this.animators.slice(),c=l.length;c||r&&r();for(var d=0;d<l.length;d++)l[d].done(s).start(o)},_animateToShallow:function(t,e,n,i,r){var s={},l=0;for(var c in n)if(n.hasOwnProperty(c))if(null!=e[c])o(n[c])&&!a.isArrayLike(n[c])?this._animateToShallow(t?t+"."+c:c,e[c],n[c],i,r):(s[c]=n[c],l++);else if(null!=n[c])if(t){var d={};d[t]={},d[t][c]=n[c],this.attr(d)}else this.attr(c,n[c]);return l>0&&this.animate(t,!1).when(null==i?500:i,s).delay(r||0),this}},s}),e("zrender/mixin/Transformable",["require","../core/matrix","../core/vector"],function(t){"use strict";function e(t){return t>o||-o>t}var a=t("../core/matrix"),n=t("../core/vector"),i=a.identity,o=5e-5,r=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},s=r.prototype;s.transform=null,s.needLocalTransform=function(){return e(this.rotation)||e(this.position[0])||e(this.position[1])||e(this.scale[0]-1)||e(this.scale[1]-1)},s.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),o=this.transform;return n||e?(o=o||a.create(),n?this.getLocalTransform(o):i(o),e&&(n?a.mul(o,t.transform,o):a.copy(o,t.transform)),this.transform=o,this.invTransform=this.invTransform||a.create(),void a.invert(this.invTransform,o)):void(o&&i(o))},s.getLocalTransform=function(t){t=t||[],i(t);var e=this.origin,n=this.scale,o=this.rotation,r=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),a.scale(t,t,n),o&&a.rotate(t,t,o),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=r[0],t[5]+=r[1],t},s.setTransform=function(t){var e=this.transform,a=t.dpr||1;e?t.setTransform(a*e[0],a*e[1],a*e[2],a*e[3],a*e[4],a*e[5]):t.setTransform(a,0,0,a,0,0)},s.restoreTransform=function(t){var e=(this.transform,t.dpr||1);t.setTransform(e,0,0,e,0,0)};var l=[];return s.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(a.mul(l,t.invTransform,n),n=l);var i=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],r=this.position,s=this.scale;e(i-1)&&(i=Math.sqrt(i)),e(o-1)&&(o=Math.sqrt(o)),n[0]<0&&(i=-i),n[3]<0&&(o=-o),r[0]=n[4],r[1]=n[5],s[0]=i,s[1]=o,this.rotation=Math.atan2(-n[1]/o,n[0]/i)}},s.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),a=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(a=-a),[e,a]},s.transformCoordToLocal=function(t,e){var a=[t,e],i=this.invTransform;return i&&n.applyTransform(a,a,i),a},s.transformCoordToGlobal=function(t,e){var a=[t,e],i=this.transform;return i&&n.applyTransform(a,a,i),a},r}),e("echarts/coord/cartesian/axisLabelInterval",["require","zrender/core/util","../axisHelper"],function(t){"use strict";var e=t("zrender/core/util"),a=t("../axisHelper");return function(t){var n=t.model,i=n.getModel("axisLabel"),o=i.get("interval");return"category"!==t.type||"auto"!==o?"auto"===o?0:o:a.getAxisLabelInterval(e.map(t.scale.getTicks(),t.dataToCoord,t),n.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal())}}),e("echarts/coord/Axis",["require","../util/number","zrender/core/util"],function(t){function e(t,e){var a=t[1]-t[0],n=e,i=a/n/2;t[0]+=i,t[1]-=i}var a=t("../util/number"),n=a.linearMap,i=t("zrender/core/util"),o=[0,1],r=function(t,e,a){this.dim=t,this.scale=e,this._extent=a||[0,0],this.inverse=!1,this.onBand=!1};return r.prototype={constructor:r,contain:function(t){var e=this._extent,a=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=a&&n>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return a.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var a=this._extent;a[0]=t,a[1]=e},dataToCoord:function(t,a){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(i=i.slice(),e(i,r.count())),n(t,o,i,a)},coordToData:function(t,a){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(i=i.slice(),e(i,r.count()));var s=n(t,i,o,a);return this.scale.scale(s)},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),a=[],n=0;n<e.length;n++)a.push(e[n][0]);return e[n-1]&&a.push(e[n-1][1]),a}return i.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return i.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],a=this.scale.count(),n=t[0],i=t[1],o=i-n,r=0;a>r;r++)e.push([o*r/a+n,o*(r+1)/a+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),a=e[1]-e[0]+(this.onBand?1:0);0===a&&(a=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/a},isBlank:function(){return this._isBlank},setBlank:function(t){this._isBlank=t}},r}),e("zrender/core/log",["require","../config"],function(t){var e=t("../config");return function(){if(0!==e.debugMode)if(1==e.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(e.debugMode>1)for(var t in arguments)console.log(arguments[t])}}),e("zrender/animation/Animator",["require","./Clip","../tool/color","../core/util"],function(t){function e(t,e){return t[e]}function a(t,e,a){t[e]=a}function n(t,e,a){return(e-t)*a+t}function i(t,e,a){return a>.5?e:t}function o(t,e,a,i,o){var r=t.length;if(1==o)for(var s=0;r>s;s++)i[s]=n(t[s],e[s],a);else for(var l=t[0].length,s=0;r>s;s++)for(var c=0;l>c;c++)i[s][c]=n(t[s][c],e[s][c],a)}function r(t,e,a){var n=t.length,i=e.length;if(n!==i){var o=n>i;if(o)t.length=i;else for(var r=n;i>r;r++)t.push(1===a?e[r]:v.call(e[r]))}for(var s=t[0]&&t[0].length,r=0;r<t.length;r++)if(1===a)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;s>l;l++)isNaN(t[r][l])&&(t[r][l]=e[r][l])}function s(t,e,a){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===a){for(var i=0;n>i;i++)if(t[i]!==e[i])return!1}else for(var o=t[0].length,i=0;n>i;i++)for(var r=0;o>r;r++)if(t[i][r]!==e[i][r])return!1;return!0}function l(t,e,a,n,i,o,r,s,l){var d=t.length;if(1==l)for(var u=0;d>u;u++)s[u]=c(t[u],e[u],a[u],n[u],i,o,r);else for(var p=t[0].length,u=0;d>u;u++)for(var h=0;p>h;h++)s[u][h]=c(t[u][h],e[u][h],a[u][h],n[u][h],i,o,r)}function c(t,e,a,n,i,o,r){var s=.5*(a-t),l=.5*(n-e);return(2*(e-a)+s+l)*r+(-3*(e-a)-2*s-l)*o+s*i+e}function d(t){if(f(t)){var e=t.length;if(f(t[0])){for(var a=[],n=0;e>n;n++)a.push(v.call(t[n]));return a}return v.call(t)}return t}function u(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function p(t,e,a,d,p){var g=t._getter,v=t._setter,b="spline"===e,y=d.length;if(y){var x,w=d[0].value,k=f(w),D=!1,T=!1,S=k&&f(w[0])?2:1;d.sort(function(t,e){return t.time-e.time}),x=d[y-1].time;for(var I=[],_=[],C=d[0].value,M=!0,L=0;y>L;L++){I.push(d[L].time/x);var A=d[L].value;if(k&&s(A,C,S)||!k&&A===C||(M=!1),C=A,"string"==typeof A){var P=m.parse(A);P?(A=P,D=!0):T=!0}_.push(A)}if(!M){for(var N=_[y-1],L=0;y-1>L;L++)k?r(_[L],N,S):!isNaN(_[L])||isNaN(N)||T||D||(_[L]=N);k&&r(g(t._target,p),N,S);var E,$,R,q,z,B,O=0,j=0;if(D)var F=[0,0,0,0];var H=function(t,e){var a;if(0>e)a=0;else if(j>e){for(E=Math.min(O+1,y-1),a=E;a>=0&&!(I[a]<=e);a--);a=Math.min(a,y-2)}else{for(a=O;y>a&&!(I[a]>e);a++);a=Math.min(a-1,y-2)}O=a,j=e;var r=I[a+1]-I[a];if(0!==r)if($=(e-I[a])/r,b)if(q=_[a],R=_[0===a?a:a-1],z=_[a>y-2?y-1:a+1],B=_[a>y-3?y-1:a+2],k)l(R,q,z,B,$,$*$,$*$*$,g(t,p),S);else{var s;if(D)s=l(R,q,z,B,$,$*$,$*$*$,F,1),s=u(F);else{if(T)return i(q,z,$);s=c(R,q,z,B,$,$*$,$*$*$)}v(t,p,s)}else if(k)o(_[a],_[a+1],$,g(t,p),S);else{var s;if(D)o(_[a],_[a+1],$,F,1),s=u(F);else{if(T)return i(_[a],_[a+1],$);s=n(_[a],_[a+1],$)}v(t,p,s)}},U=new h({target:t._target,life:x,loop:t._loop,delay:t._delay,onframe:H,ondestroy:a});return e&&"spline"!==e&&(U.easing=e),U}}}var h=t("./Clip"),m=t("../tool/color"),g=t("../core/util"),f=g.isArrayLike,v=Array.prototype.slice,b=function(t,n,i,o){this._tracks={},this._target=t,this._loop=n||!1,this._getter=i||e,this._setter=o||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return b.prototype={when:function(t,e){var a=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!a[n]){a[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==t&&a[n].push({time:0,value:d(i)})}a[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,a=0;e>a;a++)t[a].call(this)},start:function(t){var e,a=this,n=0,i=function(){n--,n||a._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var r=p(this,t,i,this._tracks[o],o);r&&(this._clipList.push(r),n++,this.animation&&this.animation.addClip(r),e=r)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<a._onframeList.length;n++)a._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,a=this.animation,n=0;n<e.length;n++){var i=e[n];t&&i.onframe(this._target,1),a&&a.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},b}),e("echarts/coord/cartesian/AxisModel",["require","../../model/Component","zrender/core/util","../axisModelCreator","../axisModelCommonMixin"],function(t){"use strict";function e(t,e){return e.type||(e.data?"category":"value")}var a=t("../../model/Component"),n=t("zrender/core/util"),i=t("../axisModelCreator"),o=a.extend({type:"cartesian2dAxis",axis:null,init:function(){o.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){o.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){o.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});n.merge(o.prototype,t("../axisModelCommonMixin"));var r={offset:0};return i("x",o,e,r),i("y",o,e,r),o}),e("echarts/coord/axisModelCreator",["require","./axisDefault","zrender/core/util","../model/Component","../util/layout"],function(t){var e=t("./axisDefault"),a=t("zrender/core/util"),n=t("../model/Component"),i=t("../util/layout"),o=["value","category","time","log"];return function(t,r,s,l){a.each(o,function(n){r.extend({type:t+"Axis."+n,mergeDefaultAndTheme:function(e,o){var r=this.layoutMode,l=r?i.getLayoutParams(e):{},c=o.getTheme();a.merge(e,c.get(n+"Axis")),a.merge(e,this.getDefaultOption()),e.type=s(t,e),r&&i.mergeLayoutParam(e,l,r)},defaultOption:a.mergeAll([{},e[n+"Axis"],l],!0)})}),n.registerSubTypeDefaulter(t+"Axis",a.curry(s,t))}}),e("echarts/coord/axisModelCommonMixin",["require","zrender/core/util","./axisHelper"],function(t){function e(t){return a.isObject(t)&&null!=t.value?t.value:t}var a=t("zrender/core/util"),n=t("./axisHelper");return{getFormattedLabels:function(){return n.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&a.map(this.get("data"),e)},getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return null==n||"dataMin"===n||a.eqNaN(n)||(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return null==n||"dataMax"===n||a.eqNaN(n)||(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},getCoordSysModel:a.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}}),e("zrender/animation/Clip",["require","./easing"],function(t){function e(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var a=t("./easing");return e.prototype={constructor:e,step:function(t){this._initialized||(this._startTime=t+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var n=this.easing,i="string"==typeof n?a[n]:n,o="function"==typeof i?i(e):e;return this.fire("frame",o),1==e?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime)%this._life;this._startTime=t-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},e}),e("echarts/coord/axisDefault",["require","zrender/core/util"],function(t){var e=t("zrender/core/util"),a={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},n=e.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},a),i=e.merge({boundaryGap:[0,0],splitNumber:5},a),o=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},i),r=e.defaults({logBase:10},i);return r.scale=!0,{categoryAxis:n,valueAxis:i,timeAxis:o,logAxis:r}}),e("zrender/animation/easing",[],function(){var t={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,a=.1,n=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,a=.1,n=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,a=.1,n=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=n/4):e=n*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):a*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(e){return 1-t.bounceOut(1-e)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5}};return t}),e("echarts/chart/bar/BaseBarSeries",["require","../../model/Series","../helper/createListFromArray"],function(t){"use strict";var e=t("../../model/Series"),a=t("../helper/createListFromArray");return e.extend({type:"series.__base_bar__",getInitialData:function(t,e){var n=t.coordinateSystem;if("cartesian2d"!==n)throw new Error("Bar only support cartesian2d coordinateSystem");return a(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var a=e.dataToPoint(t,!0),n=this.getData(),i=n.getLayout("offset"),o=n.getLayout("size"),r=e.getBaseAxis().isHorizontal()?0:1;return a[r]+=i+o/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})}),e("zrender/config",[],function(){var t=1;"undefined"!=typeof window&&(t=Math.max(window.devicePixelRatio||1,1));var e={debugMode:0,devicePixelRatio:t};return e}),e("echarts/chart/helper/createListFromArray",["require","../../data/List","../../data/helper/completeDimensions","zrender/core/util","../../util/model","../../CoordinateSystem"],function(t){"use strict";function e(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function a(t){var a=e(t);return null!=a&&!c.isArray(p(a))}function n(t,e,n){if(t=t||[],!c.isArray(t))throw new Error("Invalid data.");var i=e.get("coordinateSystem"),o=m[i],g=u.get(i),f=o&&o(t,e,n),v=f&&f.dimensions;v||(v=g&&g.dimensions||["x","y"],v=l(v,t,v.concat(["value"])));var b=f?f.categoryIndex:-1,y=new s(v,e),x=r(f,t),w={},k=b>=0&&a(t)?function(t,e,a,n){return d.isDataItemOption(t)&&(y.hasItemOption=!0),n===b?a:h(p(t),v[n])}:function(t,e,a,n){var i=p(t),o=h(i&&i[n],v[n]);d.isDataItemOption(t)&&(y.hasItemOption=!0);var r=f&&f.categoryAxesModels;return r&&r[e]&&"string"==typeof o&&(w[e]=w[e]||r[e].getCategories(),o=c.indexOf(w[e],o),0>o&&!isNaN(o)&&(o=+o)),o};return y.hasItemOption=!1,y.initData(t,x,k),y}function i(t){return"category"!==t&&"time"!==t}function o(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function r(t,e){var a,n=[],i=t&&t.dimensions[t.categoryIndex];if(i&&(a=t.categoryAxesModels[i.name]),a){var o=a.getCategories();if(o){var r=e.length;if(c.isArray(e[0])&&e[0].length>1){n=[];for(var s=0;r>s;s++)n[s]=o[e[s][t.categoryIndex||0]]}else n=o.slice(0)}}return n}var s=t("../../data/List"),l=t("../../data/helper/completeDimensions"),c=t("zrender/core/util"),d=t("../../util/model"),u=t("../../CoordinateSystem"),p=d.getDataItemValue,h=d.converDataValue,m={cartesian2d:function(t,e,a){var n=c.map(["xAxis","yAxis"],function(t){return a.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0]}),r=n[0],s=n[1];if(!r)throw new Error('xAxis "'+c.retrieve(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!s)throw new Error('yAxis "'+c.retrieve(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found');var d=r.get("type"),u=s.get("type"),p=[{name:"x",type:o(d),stackable:i(d)},{name:"y",type:o(u),stackable:i(u)}],h="category"===d,m="category"===u;l(p,t,["x","y","z"]);var g={};return h&&(g.x=r),m&&(g.y=s),{dimensions:p,categoryIndex:h?0:m?1:-1,categoryAxesModels:g}},singleAxis:function(t,e,a){var n=a.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];if(!n)throw new Error("singleAxis should be specified.");var r=n.get("type"),s="category"===r,c=[{name:"single",type:o(r),stackable:i(r)}];l(c,t);var d={};return s&&(d.single=n),{dimensions:c,categoryIndex:s?0:-1,categoryAxesModels:d}},polar:function(t,e,a){var n=a.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0],r=n.findAxisModel("angleAxis"),s=n.findAxisModel("radiusAxis");if(!r)throw new Error("angleAxis option not found");if(!s)throw new Error("radiusAxis option not found");var c=s.get("type"),d=r.get("type"),u=[{name:"radius",type:o(c),stackable:i(c)},{name:"angle",type:o(d),stackable:i(d)}],p="category"===d,h="category"===c;l(u,t,["radius","angle","value"]);var m={};return h&&(m.radius=s),p&&(m.angle=r),{dimensions:u,categoryIndex:p?1:h?0:-1,categoryAxesModels:m}},geo:function(t,e,a){return{dimensions:l([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};return n}),e("zrender/core/curve",["require","./vector"],function(t){"use strict";function e(t){return t>-x&&x>t}function a(t){return t>x||-x>t}function n(t,e,a,n,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*n+3*o*a)}function i(t,e,a,n,i){var o=1-i;return 3*(((e-t)*o+2*(a-e)*i)*o+(n-a)*i*i)}function o(t,a,n,i,o,r){var s=i+3*(a-n)-t,l=3*(n-2*a+t),c=3*(a-t),d=t-o,u=l*l-3*s*c,p=l*c-9*s*d,h=c*c-3*l*d,m=0;if(e(u)&&e(p))if(e(l))r[0]=0;else{var g=-c/l;g>=0&&1>=g&&(r[m++]=g)}else{var f=p*p-4*u*h;if(e(f)){var v=p/u,g=-l/s+v,x=-v/2;g>=0&&1>=g&&(r[m++]=g),x>=0&&1>=x&&(r[m++]=x)}else if(f>0){var w=y(f),T=u*l+1.5*s*(-p+w),S=u*l+1.5*s*(-p-w);T=0>T?-b(-T,D):b(T,D),S=0>S?-b(-S,D):b(S,D);var g=(-l-(T+S))/(3*s);g>=0&&1>=g&&(r[m++]=g)}else{var I=(2*u*l-3*s*p)/(2*y(u*u*u)),_=Math.acos(I)/3,C=y(u),M=Math.cos(_),g=(-l-2*C*M)/(3*s),x=(-l+C*(M+k*Math.sin(_)))/(3*s),L=(-l+C*(M-k*Math.sin(_)))/(3*s);g>=0&&1>=g&&(r[m++]=g),x>=0&&1>=x&&(r[m++]=x),L>=0&&1>=L&&(r[m++]=L)}}return m}function r(t,n,i,o,r){var s=6*i-12*n+6*t,l=9*n+3*o-3*t-9*i,c=3*n-3*t,d=0;if(e(l)){if(a(s)){var u=-c/s;u>=0&&1>=u&&(r[d++]=u)}}else{var p=s*s-4*l*c;if(e(p))r[0]=-s/(2*l);else if(p>0){var h=y(p),u=(-s+h)/(2*l),m=(-s-h)/(2*l);u>=0&&1>=u&&(r[d++]=u),m>=0&&1>=m&&(r[d++]=m)}}return d}function s(t,e,a,n,i,o){var r=(e-t)*i+t,s=(a-e)*i+e,l=(n-a)*i+a,c=(s-r)*i+r,d=(l-s)*i+s,u=(d-c)*i+c;o[0]=t,o[1]=r,o[2]=c,o[3]=u,o[4]=u,o[5]=d,o[6]=l,o[7]=n}function l(t,e,a,i,o,r,s,l,c,d,u){var p,h,m,g,f,b=.005,x=1/0;T[0]=c,T[1]=d;for(var k=0;1>k;k+=.05)S[0]=n(t,a,o,s,k),S[1]=n(e,i,r,l,k),g=v(T,S),x>g&&(p=k,x=g);x=1/0;for(var D=0;32>D&&!(w>b);D++)h=p-b,m=p+b,S[0]=n(t,a,o,s,h),S[1]=n(e,i,r,l,h),g=v(S,T),h>=0&&x>g?(p=h,x=g):(I[0]=n(t,a,o,s,m),I[1]=n(e,i,r,l,m),f=v(I,T),1>=m&&x>f?(p=m,x=f):b*=.5);return u&&(u[0]=n(t,a,o,s,p),u[1]=n(e,i,r,l,p)),y(x)}function c(t,e,a,n){var i=1-n;return i*(i*t+2*n*e)+n*n*a}function d(t,e,a,n){return 2*((1-n)*(e-t)+n*(a-e))}function u(t,n,i,o,r){var s=t-2*n+i,l=2*(n-t),c=t-o,d=0;if(e(s)){if(a(l)){var u=-c/l;u>=0&&1>=u&&(r[d++]=u)}}else{var p=l*l-4*s*c;if(e(p)){var u=-l/(2*s);u>=0&&1>=u&&(r[d++]=u)}else if(p>0){var h=y(p),u=(-l+h)/(2*s),m=(-l-h)/(2*s);u>=0&&1>=u&&(r[d++]=u),m>=0&&1>=m&&(r[d++]=m)}}return d}function p(t,e,a){var n=t+a-2*e;return 0===n?.5:(t-e)/n}function h(t,e,a,n,i){var o=(e-t)*n+t,r=(a-e)*n+e,s=(r-o)*n+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=r,i[5]=a}function m(t,e,a,n,i,o,r,s,l){var d,u=.005,p=1/0;T[0]=r,T[1]=s;for(var h=0;1>h;h+=.05){S[0]=c(t,a,i,h),S[1]=c(e,n,o,h);var m=v(T,S);p>m&&(d=h,p=m)}p=1/0;for(var g=0;32>g&&!(w>u);g++){var f=d-u,b=d+u;S[0]=c(t,a,i,f),S[1]=c(e,n,o,f);var m=v(S,T);if(f>=0&&p>m)d=f,p=m;else{I[0]=c(t,a,i,b),I[1]=c(e,n,o,b);var x=v(I,T);1>=b&&p>x?(d=b,p=x):u*=.5}}return l&&(l[0]=c(t,a,i,d),l[1]=c(e,n,o,d)),y(p)}var g=t("./vector"),f=g.create,v=g.distSquare,b=Math.pow,y=Math.sqrt,x=1e-8,w=1e-4,k=y(3),D=1/3,T=f(),S=f(),I=f();return{cubicAt:n,cubicDerivativeAt:i,cubicRootAt:o,cubicExtrema:r,cubicSubdivide:s,cubicProjectPoint:l,quadraticAt:c,quadraticDerivativeAt:d,quadraticRootAt:u,quadraticExtremum:p,quadraticSubdivide:h,quadraticProjectPoint:m}}),e("zrender/core/bbox",["require","./vector","./curve"],function(t){var e=t("./vector"),a=t("./curve"),n={},i=Math.min,o=Math.max,r=Math.sin,s=Math.cos,l=e.create(),c=e.create(),d=e.create(),u=2*Math.PI;n.fromPoints=function(t,e,a){if(0!==t.length){var n,r=t[0],s=r[0],l=r[0],c=r[1],d=r[1];for(n=1;n<t.length;n++)r=t[n],s=i(s,r[0]),l=o(l,r[0]),c=i(c,r[1]),d=o(d,r[1]);e[0]=s,e[1]=c,a[0]=l,a[1]=d}},n.fromLine=function(t,e,a,n,r,s){r[0]=i(t,a),r[1]=i(e,n),s[0]=o(t,a),s[1]=o(e,n)};var p=[],h=[];return n.fromCubic=function(t,e,n,r,s,l,c,d,u,m){var g,f=a.cubicExtrema,v=a.cubicAt,b=f(t,n,s,c,p);for(u[0]=1/0,u[1]=1/0,m[0]=-(1/0),m[1]=-(1/0),g=0;b>g;g++){var y=v(t,n,s,c,p[g]);u[0]=i(y,u[0]),m[0]=o(y,m[0])}for(b=f(e,r,l,d,h),g=0;b>g;g++){var x=v(e,r,l,d,h[g]);u[1]=i(x,u[1]),m[1]=o(x,m[1])}u[0]=i(t,u[0]),m[0]=o(t,m[0]),u[0]=i(c,u[0]),m[0]=o(c,m[0]),u[1]=i(e,u[1]),m[1]=o(e,m[1]),u[1]=i(d,u[1]),m[1]=o(d,m[1])},n.fromQuadratic=function(t,e,n,r,s,l,c,d){var u=a.quadraticExtremum,p=a.quadraticAt,h=o(i(u(t,n,s),1),0),m=o(i(u(e,r,l),1),0),g=p(t,n,s,h),f=p(e,r,l,m);c[0]=i(t,s,g),c[1]=i(e,l,f),d[0]=o(t,s,g),d[1]=o(e,l,f)},n.fromArc=function(t,a,n,i,o,p,h,m,g){var f=e.min,v=e.max,b=Math.abs(o-p);if(1e-4>b%u&&b>1e-4)return m[0]=t-n,m[1]=a-i,g[0]=t+n,void(g[1]=a+i);if(l[0]=s(o)*n+t,l[1]=r(o)*i+a,c[0]=s(p)*n+t,c[1]=r(p)*i+a,f(m,l,c),v(g,l,c),o%=u,0>o&&(o+=u),p%=u,0>p&&(p+=u),o>p&&!h?p+=u:p>o&&h&&(o+=u),h){var y=p;p=o,o=y}for(var x=0;p>x;x+=Math.PI/2)x>o&&(d[0]=s(x)*n+t,d[1]=r(x)*i+a,f(m,d,m),v(g,d,g))},n}),e("echarts/data/helper/completeDimensions",["require","zrender/core/util"],function(t){function e(t,e,o,r){if(!e)return t;var s=a(e[0]),l=n.isArray(s)&&s.length||1;o=o||[],r=r||"extra";for(var c=0;l>c;c++)if(!t[c]){var d=o[c]||r+(c-o.length);t[c]=i(e,c)?{type:"ordinal",name:d}:d}return t}function a(t){return n.isArray(t)?t:n.isObject(t)?t.value:t}var n=t("zrender/core/util"),i=e.guessOrdinal=function(t,e){for(var i=0,o=t.length;o>i;i++){var r=a(t[i]);if(!n.isArray(r))return!1;var r=r[e];if(null!=r&&isFinite(r))return!1;if(n.isString(r)&&"-"!==r)return!0}return!1};return e}),e("echarts/data/DataDiffer",["require"],function(t){"use strict";function e(t){return t}function a(t,a,n,i){this._old=t,this._new=a,this._oldKeyGetter=n||e,this._newKeyGetter=i||e}function n(t,e,a,n){for(var i=0;i<t.length;i++){var o=n(t[i],i),r=e[o];null==r?(a.push(o),e[o]=i):(r.length||(e[o]=r=[r]),r.push(i))}}return a.prototype={constructor:a,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,a=this._new,i=this._oldKeyGetter,o=this._newKeyGetter,r={},s={},l=[],c=[];for(n(e,r,l,i),n(a,s,c,o),t=0;t<e.length;t++){var d=l[t],u=s[d];if(null!=u){var p=u.length;p?(1===p&&(s[d]=null),u=u.unshift()):s[d]=null,this._update&&this._update(u,t)}else this._remove&&this._remove(t)}for(var t=0;t<c.length;t++){var d=c[t];if(s.hasOwnProperty(d)){var u=s[d];if(null==u)continue;if(u.length)for(var h=0,p=u.length;p>h;h++)this._add&&this._add(u[h]);else this._add&&this._add(u)}}}},a}),e("zrender/contain/quadratic",["require","../core/curve"],function(t){var e=t("../core/curve");return{containStroke:function(t,a,n,i,o,r,s,l,c){if(0===s)return!1;var d=s;if(c>a+d&&c>i+d&&c>r+d||a-d>c&&i-d>c&&r-d>c||l>t+d&&l>n+d&&l>o+d||t-d>l&&n-d>l&&o-d>l)return!1;var u=e.quadraticProjectPoint(t,a,n,i,o,r,l,c,null);return d/2>=u}}}),e("zrender/contain/cubic",["require","../core/curve"],function(t){var e=t("../core/curve");return{containStroke:function(t,a,n,i,o,r,s,l,c,d,u){if(0===c)return!1;var p=c;if(u>a+p&&u>i+p&&u>r+p&&u>l+p||a-p>u&&i-p>u&&r-p>u&&l-p>u||d>t+p&&d>n+p&&d>o+p&&d>s+p||t-p>d&&n-p>d&&o-p>d&&s-p>d)return!1;var h=e.cubicProjectPoint(t,a,n,i,o,r,s,l,d,u,null);return p/2>=h}}}),e("zrender/contain/line",[],function(){return{containStroke:function(t,e,a,n,i,o,r){if(0===i)return!1;var s=i,l=0,c=t;if(r>e+s&&r>n+s||e-s>r&&n-s>r||o>t+s&&o>a+s||t-s>o&&a-s>o)return!1;if(t===a)return Math.abs(o-t)<=s/2;l=(e-n)/(t-a),c=(t*n-a*e)/(t-a);var d=l*o-r+c,u=d*d/(l*l+1);return s/2*s/2>=u}}}),e("zrender/contain/arc",["require","./util"],function(t){var e=t("./util").normalizeRadian,a=2*Math.PI;return{containStroke:function(t,n,i,o,r,s,l,c,d){if(0===l)return!1;var u=l;c-=t,d-=n;var p=Math.sqrt(c*c+d*d);if(p-u>i||i>p+u)return!1;if(Math.abs(o-r)%a<1e-4)return!0;if(s){var h=o;o=e(r),r=e(h)}else o=e(o),r=e(r);o>r&&(r+=a);var m=Math.atan2(d,c);return 0>m&&(m+=a),m>=o&&r>=m||m+a>=o&&r>=m+a}}}),e("zrender/contain/windingLine",[],function(){return function(t,e,a,n,i,o){if(o>e&&o>n||e>o&&n>o)return 0;if(n===e)return 0;var r=e>n?1:-1,s=(o-e)/(n-e);(1===s||0===s)&&(r=e>n?.5:-.5);var l=s*(a-t)+t;return l>i?r:0}}),e("zrender/contain/util",["require"],function(t){var e=2*Math.PI;return{normalizeRadian:function(t){return t%=e,0>t&&(t+=e),t}}}),e("echarts/chart/bar/helper",["require","zrender/core/util","../../util/graphic"],function(t){function e(t,e,a,i,o){n.setText(t,e,a),t.text=i,"outside"===t.textPosition&&(t.textPosition=o)}var a=t("zrender/core/util"),n=t("../../util/graphic"),i={};return i.setLabel=function(t,n,i,o,r,s,l){var c=i.getModel("label.normal"),d=i.getModel("label.emphasis");c.get("show")?e(t,c,o,a.retrieve(r.getFormattedLabel(s,"normal"),r.getRawValue(s)),l):t.text="",d.get("show")?e(n,d,o,a.retrieve(r.getFormattedLabel(s,"emphasis"),r.getRawValue(s)),l):n.text=""},i}),e("echarts/chart/bar/barItemStyle",["require","../../model/mixin/makeStyleMapper"],function(t){var e=t("../../model/mixin/makeStyleMapper")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getBarItemStyle:function(t){var a=e.call(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(a.lineDash=n)}return a}}}),e("zrender/core/LRU",["require"],function(t){var e=function(){this.head=null,this.tail=null,this._len=0},a=e.prototype;a.insert=function(t){var e=new n(t);return this.insertEntry(e),e},a.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},a.remove=function(t){var e=t.prev,a=t.next;e?e.next=a:this.head=a,
a?a.prev=e:this.tail=e,t.next=t.prev=null,this._len--},a.len=function(){return this._len};var n=function(t){this.value=t,this.next,this.prev},i=function(t){this._list=new e,this._map={},this._maxSize=t||10},o=i.prototype;return o.put=function(t,e){var a=this._list,n=this._map;if(null==n[t]){var i=a.len();if(i>=this._maxSize&&i>0){var o=a.head;a.remove(o),delete n[o.key]}var r=a.insert(e);r.key=t,n[t]=r}},o.get=function(t){var e=this._map[t],a=this._list;return null!=e?(e!==a.tail&&(a.remove(e),a.insertEntry(e)),e.value):void 0},o.clear=function(){this._list.clear(),this._map={}},i}),e("zrender/graphic/helper/poly",["require","./smoothSpline","./smoothBezier"],function(t){var e=t("./smoothSpline"),a=t("./smoothBezier");return{buildPath:function(t,n,i){var o=n.points,r=n.smooth;if(o&&o.length>=2){if(r&&"spline"!==r){var s=a(o,r,i,n.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var l=o.length,c=0;(i?l:l-1)>c;c++){var d=s[2*c],u=s[2*c+1],p=o[(c+1)%l];t.bezierCurveTo(d[0],d[1],u[0],u[1],p[0],p[1])}}else{"spline"===r&&(o=e(o,i)),t.moveTo(o[0][0],o[0][1]);for(var c=1,h=o.length;h>c;c++)t.lineTo(o[c][0],o[c][1])}i&&t.closePath()}}}}),e("zrender/graphic/helper/smoothBezier",["require","../../core/vector"],function(t){var e=t("../../core/vector"),a=e.min,n=e.max,i=e.scale,o=e.distance,r=e.add;return function(t,s,l,c){var d,u,p,h,m=[],g=[],f=[],v=[];if(c){p=[1/0,1/0],h=[-(1/0),-(1/0)];for(var b=0,y=t.length;y>b;b++)a(p,p,t[b]),n(h,h,t[b]);a(p,p,c[0]),n(h,h,c[1])}for(var b=0,y=t.length;y>b;b++){var x=t[b];if(l)d=t[b?b-1:y-1],u=t[(b+1)%y];else{if(0===b||b===y-1){m.push(e.clone(t[b]));continue}d=t[b-1],u=t[b+1]}e.sub(g,u,d),i(g,g,s);var w=o(x,d),k=o(x,u),D=w+k;0!==D&&(w/=D,k/=D),i(f,g,-w),i(v,g,k);var T=r([],x,f),S=r([],x,v);c&&(n(T,T,p),a(T,T,h),n(S,S,p),a(S,S,h)),m.push(T),m.push(S)}return l&&m.push(m.shift()),m}}),e("zrender/graphic/helper/smoothSpline",["require","../../core/vector"],function(t){function e(t,e,a,n,i,o,r){var s=.5*(a-t),l=.5*(n-e);return(2*(e-a)+s+l)*r+(-3*(e-a)-2*s-l)*o+s*i+e}var a=t("../../core/vector");return function(t,n){for(var i=t.length,o=[],r=0,s=1;i>s;s++)r+=a.distance(t[s-1],t[s]);var l=r/2;l=i>l?i:l;for(var s=0;l>s;s++){var c,d,u,p=s/(l-1)*(n?i:i-1),h=Math.floor(p),m=p-h,g=t[h%i];n?(c=t[(h-1+i)%i],d=t[(h+1)%i],u=t[(h+2)%i]):(c=t[0===h?h:h-1],d=t[h>i-2?i-1:h+1],u=t[h>i-3?i-1:h+2]);var f=m*m,v=m*f;o.push([e(c[0],g[0],d[0],u[0],m,f,v),e(c[1],g[1],d[1],u[1],m,f,v)])}return o}}),e("zrender/graphic/helper/roundRect",["require"],function(t){return{buildPath:function(t,e){var a,n,i,o,r=e.x,s=e.y,l=e.width,c=e.height,d=e.r;0>l&&(r+=l,l=-l),0>c&&(s+=c,c=-c),"number"==typeof d?a=n=i=o=d:d instanceof Array?1===d.length?a=n=i=o=d[0]:2===d.length?(a=i=d[0],n=o=d[1]):3===d.length?(a=d[0],n=o=d[1],i=d[2]):(a=d[0],n=d[1],i=d[2],o=d[3]):a=n=i=o=0;var u;a+n>l&&(u=a+n,a*=l/u,n*=l/u),i+o>l&&(u=i+o,i*=l/u,o*=l/u),n+i>c&&(u=n+i,n*=c/u,i*=c/u),a+o>c&&(u=a+o,a*=c/u,o*=c/u),t.moveTo(r+a,s),t.lineTo(r+l-n,s),0!==n&&t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+c-i),0!==i&&t.quadraticCurveTo(r+l,s+c,r+l-i,s+c),t.lineTo(r+o,s+c),0!==o&&t.quadraticCurveTo(r,s+c,r,s+c-o),t.lineTo(r,s+a),0!==a&&t.quadraticCurveTo(r,s,r+a,s)}}}),e("zrender/graphic/Gradient",["require"],function(t){var e=function(t){this.colorStops=t||[]};return e.prototype={constructor:e,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},e}),e("zrender/Handler",["require","./core/util","./mixin/Draggable","./mixin/Eventful"],function(t){"use strict";function e(t,e,a){return{type:t,event:a,target:e,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch}}function a(){}function n(t,e,a){if(t[t.rectHover?"rectContain":"contain"](e,a)){for(var n=t;n;){if(n.silent||n.clipPath&&!n.clipPath.contain(e,a))return!1;n=n.parent}return!0}return!1}var i=t("./core/util"),o=t("./mixin/Draggable"),r=t("./mixin/Eventful");a.prototype.dispose=function(){};var s=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],l=function(t,e,n,l){r.call(this),this.storage=t,this.painter=e,this.painterRoot=l,n=n||new a,this.proxy=n,n.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,o.call(this),i.each(s,function(t){n.on&&n.on(t,this[t],this)},this)};return l.prototype={constructor:l,mousemove:function(t){var e=t.zrX,a=t.zrY,n=this.findHover(e,a,null),i=this._hovered,o=this.proxy;this._hovered=n,o.setCursor&&o.setCursor(n?n.cursor:"default"),i&&n!==i&&i.__zr&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(n,"mousemove",t),n&&n!==i&&this.dispatchToElement(n,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,a=t.toElement||t.relatedTarget;do a=a&&a.parentNode;while(a&&9!=a.nodeType&&!(e=a===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered=null},dispatch:function(t,e){var a=this[t];a&&a.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,a,n){for(var i="on"+a,o=e(a,t,n),r=t;r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(a,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(a,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(a,o)}))},findHover:function(t,e,a){for(var i=this.storage.getDisplayList(),o=i.length-1;o>=0;o--)if(!i[o].silent&&i[o]!==a&&!i[o].ignore&&n(i[o],t,e))return i[o]}},i.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){l.prototype[t]=function(e){var a=this.findHover(e.zrX,e.zrY,null);if("mousedown"===t)this._downel=a,this._upel=a;else if("mosueup"===t)this._upel=a;else if("click"===t&&this._downel!==this._upel)return;this.dispatchToElement(a,t,e)}}),i.mixin(l,r),i.mixin(l,o),l}),e("zrender/Storage",["require","./core/util","./core/env","./container/Group","./core/timsort"],function(t){"use strict";function e(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var a=t("./core/util"),n=t("./core/env"),i=t("./container/Group"),o=t("./core/timsort"),r=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};return r.prototype={constructor:r,traverse:function(t,e){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var a=this._roots,i=this._displayList,r=0,s=a.length;s>r;r++)this._updateAndAddDisplayable(a[r],null,t);i.length=this._displayListLen,n.canvasSupported&&o(i,e)},_updateAndAddDisplayable:function(t,e,a){if(!t.ignore||a){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var i=n,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,a)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof i&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof i&&n.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,o=t.length;o>e;e++)this.delRoot(t[e]);else{var r;r="string"==typeof t?this._elements[t]:t;var s=a.indexOf(this._roots,r);s>=0&&(this.delFromMap(r.id),this._roots.splice(s,1),r instanceof i&&r.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof i&&(t.__storage=this),t.dirty(!1),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,a=e[t];return a&&(delete e[t],a instanceof i&&(a.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:e},r}),e("zrender/animation/Animation",["require","../core/util","../core/event","./requestAnimationFrame","./Animator"],function(t){"use strict";var e=t("../core/util"),a=t("../core/event").Dispatcher,n=t("./requestAnimationFrame"),i=t("./Animator"),o=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,a.call(this)};return o.prototype={constructor:o,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),a=0;a<e.length;a++)this.addClip(e[a])},removeClip:function(t){var a=e.indexOf(this._clips,t);a>=0&&this._clips.splice(a,1)},removeAnimator:function(t){for(var e=t.getClips(),a=0;a<e.length;a++)this.removeClip(e[a]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,a=this._clips,n=a.length,i=[],o=[],r=0;n>r;r++){var s=a[r],l=s.step(t);l&&(i.push(l),o.push(s))}for(var r=0;n>r;)a[r]._needsRemove?(a[r]=a[n-1],a.pop(),n--):r++;n=i.length;for(var r=0;n>r;r++)o[r].fire(i[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(n(t),!e._paused&&e._update())}var e=this;this._running=!0,n(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var a=new i(t,e.loop,e.getter,e.setter);return this.addAnimator(a),a}},e.mixin(o,a),o}),e("zrender/dom/HandlerProxy",["require","../core/event","../core/util","../mixin/Eventful","../core/env","../core/GestureMgr"],function(t){function e(t){return"mousewheel"===t&&d.browser.firefox?"DOMMouseScroll":t}function a(t,e,a){var n=t._gestureMgr;"start"===a&&n.clear();var i=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null),t.dom);if("end"===a&&n.clear(),i){var o=i.type;e.gestureEvent=o,t.handler.dispatchToElement(i.target,o,i.event)}}function n(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function i(t){var e=t.pointerType;return"pen"===e||"touch"===e}function o(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}l.each(v,function(e){t._handlers[e]=l.bind(x[e],t)}),l.each(y,function(e){t._handlers[e]=l.bind(x[e],t)}),l.each(f,function(a){t._handlers[a]=e(x[a],t)})}function r(t){function a(a,n){l.each(a,function(a){p(t,e(a),n._handlers[a])},n)}c.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new u,this._handlers={},o(this),d.pointerEventsSupported?a(y,this):(d.touchEventsSupported&&a(v,this),a(f,this))}var s=t("../core/event"),l=t("../core/util"),c=t("../mixin/Eventful"),d=t("../core/env"),u=t("../core/GestureMgr"),p=s.addEventListener,h=s.removeEventListener,m=s.normalizeEvent,g=300,f=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],v=["touchstart","touchend","touchmove"],b={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},y=l.map(f,function(t){var e=t.replace("mouse","pointer");return b[e]?e:t}),x={mousemove:function(t){t=m(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){t=m(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){t=m(this.dom,t),t.zrByTouch=!0,this._lastTouchMoment=new Date,a(this,t,"start"),x.mousemove.call(this,t),x.mousedown.call(this,t),n(this)},touchmove:function(t){t=m(this.dom,t),t.zrByTouch=!0,a(this,t,"change"),x.mousemove.call(this,t),n(this)},touchend:function(t){t=m(this.dom,t),t.zrByTouch=!0,a(this,t,"end"),x.mouseup.call(this,t),+new Date-this._lastTouchMoment<g&&x.click.call(this,t),n(this)},pointerdown:function(t){x.mousedown.call(this,t)},pointermove:function(t){i(t)||x.mousemove.call(this,t)},pointerup:function(t){x.mouseup.call(this,t)},pointerout:function(t){i(t)||x.mouseout.call(this,t)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){x[t]=function(e){e=m(this.dom,e),this.trigger(t,e)}});var w=r.prototype;return w.dispose=function(){for(var t=f.concat(v),a=0;a<t.length;a++){var n=t[a];h(this.dom,e(n),this._handlers[n])}},w.setCursor=function(t){this.dom.style.cursor=t||"default"},l.mixin(r,c),r}),e("zrender/Painter",["require","./config","./core/util","./core/log","./core/BoundingRect","./core/timsort","./Layer","./animation/requestAnimationFrame","./graphic/Image"],function(t){"use strict";function e(t){return parseInt(t,10)}function a(t){return t?t.isBuildin?!0:"function"!=typeof t.resize||"function"!=typeof t.refresh?!1:!0:!1}function n(t){t.__unusedCount++}function i(t){1==t.__unusedCount&&t.clear()}function o(t,e,a){return v.copy(t.getBoundingRect()),t.transform&&v.applyTransform(t.transform),b.width=e,b.height=a,!v.intersect(b)}function r(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!0}function s(t,e){for(var a=0;a<t.length;a++){var n=t[a],i=n.path;n.setTransform(e),i.beginPath(e),n.buildPath(i,n.shape),e.clip(),n.restoreTransform(e)}}function l(t,e){var a=document.createElement("div");return a.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var c=t("./config"),d=t("./core/util"),u=t("./core/log"),p=t("./core/BoundingRect"),h=t("./core/timsort"),m=t("./Layer"),g=t("./animation/requestAnimationFrame"),f=5,v=new p(0,0,0,0),b=new p(0,0,0,0),y=function(t,e,a){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=a=d.extend({},a||{}),this.dpr=a.devicePixelRatio||c.devicePixelRatio,this._singleCanvas=n,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],r=this._layers={};if(this._layerConfig={},n){var s=t.width,u=t.height;this._width=s,this._height=u;var p=new m(t,this,1);p.initContext(),r[0]=p,o.push(0),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=l(this._width,this._height);t.appendChild(h)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};return y.prototype={constructor:y,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),a=this._zlevelList;this._paintList(e,t);for(var n=0;n<a.length;n++){var i=a[n],o=this._layers[i];!o.isBuildin&&o.refresh&&o.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var a=new t.constructor({style:t.style,shape:t.shape});a.__from=t,t.__hoverMir=a,a.setStyle(e),this._hoverElements.push(a)}},removeHover:function(t){var e=t.__hoverMir,a=this._hoverElements,n=d.indexOf(a,e);n>=0&&a.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,a=0;a<e.length;a++){var n=e[a].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,a=this._hoverlayer;if(a&&a.clear(),e){h(t,this.storage.displayableSortFunc),a||(a=this._hoverlayer=this.getLayer(1e5));var n={};a.ctx.save();for(var i=0;e>i;){var o=t[i],r=o.__from;r&&r.__zr?(i++,r.invisible||(o.transform=r.transform,o.invTransform=r.invTransform,o.__clipPaths=r.__clipPaths,this._doPaintEl(o,a,!0,n))):(t.splice(i,1),r.__hoverMir=null,e--)}a.ctx.restore()}},_startProgessive:function(){function t(){a===e._progressiveToken&&e.storage&&(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,g(t)):e._progressiveToken=-1)}var e=this;if(e._furtherProgressive){var a=e._progressiveToken=+new Date;e._progress++,g(t)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,d.each(this._progressiveLayers,function(t){t.__dirty&&t.clear()})},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuildinLayer(n),this._doPaintList(t,e),this.eachBuildinLayer(i)},_doPaintList:function(t,e){function a(t){var e=o.dpr||1;o.save(),o.globalAlpha=1,o.shadowBlur=0,n.__dirty=!0,o.setTransform(1,0,0,1,0,0),o.drawImage(t.dom,0,0,p*e,h*e),o.restore()}for(var n,i,o,r,s,l,c=0,p=this._width,h=this._height,m=this._progress,g=0,v=t.length;v>g;g++){var b=t[g],y=this._singleCanvas?0:b.zlevel,x=b.__frame;if(0>x&&s&&(a(s),s=null),i!==y&&(o&&o.restore(),r={},i=y,n=this.getLayer(i),n.isBuildin||u("ZLevel "+i+" has been used by unkown layer "+n.id),o=n.ctx,o.save(),n.__unusedCount=0,(n.__dirty||e)&&n.clear()),n.__dirty||e){if(x>=0){if(!s){if(s=this._progressiveLayers[Math.min(c++,f-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){g=s.__nextIdxNotProg-1;continue}l=s.__progress,s.__dirty||(m=l),s.__progress=m+1}x===m&&this._doPaintEl(b,s,!0,s.renderScope)}else this._doPaintEl(b,n,e,r);b.__dirty=!1}}s&&a(s),o&&o.restore(),this._furtherProgressive=!1,d.each(this._progressiveLayers,function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(t,e,a,n){var i=e.ctx,l=t.transform;if((e.__dirty||a)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||!o(t,this._width,this._height))){var c=t.__clipPaths;(n.prevClipLayer!==e||r(c,n.prevElClipPaths))&&(n.prevElClipPaths&&(n.prevClipLayer.ctx.restore(),n.prevClipLayer=n.prevElClipPaths=null,n.prevEl=null),c&&(i.save(),s(c,i),n.prevClipLayer=e,n.prevElClipPaths=c)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new m("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&d.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,o=i.length,r=null,s=-1,l=this._domRoot;if(n[t])return void u("ZLevel "+t+" has been used already");if(!a(e))return void u("Layer of zlevel "+t+" is not valid");if(o>0&&t>i[0]){for(s=0;o-1>s&&!(i[s]<t&&i[s+1]>t);s++);r=n[i[s]]}if(i.splice(s+1,0,t),r){var c=r.dom;c.nextSibling?l.insertBefore(e.dom,c.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);n[t]=e},eachLayer:function(t,e){var a,n,i=this._zlevelList;for(n=0;n<i.length;n++)a=i[n],t.call(e,this._layers[a],a)},eachBuildinLayer:function(t,e){var a,n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],a=this._layers[n],a.isBuildin&&t.call(e,a,n)},eachOtherLayer:function(t,e){var a,n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],a=this._layers[n],a.isBuildin||t.call(e,a,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,a=this._progressiveLayers,n={},i={};this.eachBuildinLayer(function(t,e){n[e]=t.elCount,t.elCount=0,t.__dirty=!1}),d.each(a,function(t,e){i[e]=t.elCount,t.elCount=0,t.__dirty=!1});for(var o,r,s=0,l=0,c=0,u=t.length;u>c;c++){var p=t[c],h=this._singleCanvas?0:p.zlevel,g=e[h],v=p.progressive;if(g&&(g.elCount++,g.__dirty=g.__dirty||p.__dirty),v>=0){r!==v&&(r=v,l++);var b=p.__frame=l-1;if(!o){var y=Math.min(s,f-1);o=a[y],o||(o=a[y]=new m("progressive",this,this.dpr),o.initContext()),o.__maxProgress=0}o.__dirty=o.__dirty||p.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,b),o.__maxProgress>=o.__progress&&(g.__dirty=!0)}else p.__frame=-1,o&&(o.__nextIdxNotProg=c,s++,o=null)}o&&(s++,o.__nextIdxNotProg=c),this.eachBuildinLayer(function(t,e){n[e]!==t.elCount&&(t.__dirty=!0)}),a.length=Math.min(s,f),d.each(a,function(t,e){i[e]!==t.elCount&&(p.__dirty=!0),t.__dirty&&(t.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var a=this._layerConfig;a[t]?d.merge(a[t],e,!0):a[t]=e;var n=this._layers[t];n&&d.merge(n,a[t],!0)}},delLayer:function(t){var e=this._layers,a=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],a.splice(d.indexOf(a,t),1))},resize:function(t,e){var a=this._domRoot;a.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),a.style.display="",this._width!=t||e!=this._height){a.style.width=t+"px",a.style.height=e+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);d.each(this._progressiveLayers,function(a){a.resize(t,e)}),this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new m("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clearColor=t.backgroundColor,e.clear();for(var a=this.storage.getDisplayList(!0),n={},i=0;i<a.length;i++){var o=a[i];this._doPaintEl(o,e,!0,n)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var a=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=a[n]&&"auto"!==a[n])return parseFloat(a[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||e(l[n])||e(s.style[n]))-(e(l[o])||0)-(e(l[r])||0)|0},_pathToImage:function(e,a,n,i,o){var r=document.createElement("canvas"),s=r.getContext("2d");r.width=n*o,r.height=i*o,s.clearRect(0,0,n*o,i*o);var l={position:a.position,rotation:a.rotation,scale:a.scale};a.position=[0,0,0],a.rotation=0,a.scale=[1,1],a&&a.brush(s);var c=t("./graphic/Image"),d=new c({id:e,style:{x:0,y:0,image:r}});return null!=l.position&&(d.position=a.position=l.position),null!=l.rotation&&(d.rotation=a.rotation=l.rotation),null!=l.scale&&(d.scale=a.scale=l.scale),d},_createPathToImage:function(){var t=this;return function(e,a,n,i){return t._pathToImage(e,a,n,i,t.dpr)}}},y}),e("zrender/mixin/Draggable",["require"],function(t){function e(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}return e.prototype={constructor:e,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var a=t.offsetX,n=t.offsetY,i=a-this._x,o=n-this._y;this._x=a,this._y=n,e.drift(i,o,t),this.dispatchToElement(e,"drag",t.event);var r=this.findHover(a,n,e),s=this._dropTarget;this._dropTarget=r,e!==r&&(s&&r!==s&&this.dispatchToElement(s,"dragleave",t.event),r&&r!==s&&this.dispatchToElement(r,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(e,"dragend",t.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},e}),e("zrender/animation/requestAnimationFrame",["require"],function(t){return"undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)}}),e("zrender/core/event",["require","../mixin/Eventful","./env"],function(t){"use strict";function e(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function a(t,e,a,i){return a=a||{},i||!l.canvasSupported?n(t,e,a):l.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(a.zrX=e.layerX,a.zrY=e.layerY):null!=e.offsetX?(a.zrX=e.offsetX,a.zrY=e.offsetY):n(t,e,a),a}function n(t,a,n){var i=e(t);n.zrX=a.clientX-i.left,n.zrY=a.clientY-i.top}function i(t,e,n){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,o=i&&i.indexOf("touch")>=0;if(o){var r="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];r&&a(t,r,e,n)}else a(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;return e}function o(t,e,a){c?t.addEventListener(e,a):t.attachEvent("on"+e,a)}function r(t,e,a){c?t.removeEventListener(e,a):t.detachEvent("on"+e,a)}var s=t("../mixin/Eventful"),l=t("./env"),c="undefined"!=typeof window&&!!window.addEventListener,d=c?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};return{clientToLocal:a,normalizeEvent:i,addEventListener:o,removeEventListener:r,stop:d,Dispatcher:s}}),e("zrender/core/GestureMgr",["require","./event"],function(t){"use strict";function e(t){var e=t[1][0]-t[0][0],a=t[1][1]-t[0][1];return Math.sqrt(e*e+a*a)}function a(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var n=t("./event"),i=function(){this._track=[]};i.prototype={constructor:i,recognize:function(t,e,a){return this._doTrack(t,e,a),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,a){var i=t.touches;if(i){for(var o={points:[],touches:[],target:e,event:t},r=0,s=i.length;s>r;r++){var l=i[r],c=n.clientToLocal(a,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(t){for(var e in o)if(o.hasOwnProperty(e)){var a=o[e](this._track,t);if(a)return a}}};var o={pinch:function(t,n){var i=t.length;if(i){var o=(t[i-1]||{}).points,r=(t[i-2]||{}).points||o;if(r&&r.length>1&&o&&o.length>1){var s=e(o)/e(r);!isFinite(s)&&(s=1),n.pinchScale=s;var l=a(o);return n.pinchX=l[0],n.pinchY=l[1],{type:"pinch",target:t[0].target,event:n}}}}};return i}),e("zrender/Layer",["require","./core/util","./config","./graphic/Style","./graphic/Pattern"],function(t){function e(){return!1}function a(t,e,a,n){var i=document.createElement(e),o=a.getWidth(),r=a.getHeight(),s=i.style;return s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=r+"px",i.width=o*n,i.height=r*n,i.setAttribute("data-zr-dom-id",t),i}var n=t("./core/util"),i=t("./config"),o=t("./graphic/Style"),r=t("./graphic/Pattern"),s=function(t,o,r){var s;r=r||i.devicePixelRatio,"string"==typeof t?s=a(t,"canvas",o,r):n.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=e,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",l.padding=0,l.margin=0,l["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=o,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};return s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=a("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var a=this.dpr,n=this.dom,i=n.style,o=this.domBack;i.width=t+"px",i.height=e+"px",n.width=t*a,n.height=e*a,o&&(o.width=t*a,o.height=e*a,1!=a&&this.ctxBack.scale(a,a))},clear:function(t){var e=this.dom,a=this.ctx,n=e.width,i=e.height,s=this.clearColor,l=this.motionBlur&&!t,c=this.lastFrameAlpha,d=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/d,i/d)),a.clearRect(0,0,n,i),s){var u;s.colorStops?(u=s.__canvasGradient||o.getGradient(a,s,{x:0,y:0,width:n,height:i}),s.__canvasGradient=u):s.image&&(u=r.prototype.getCanvasPattern.call(s,a)),a.save(),a.fillStyle=u||s,a.fillRect(0,0,n,i),a.restore()}if(l){var p=this.domBack;a.save(),a.globalAlpha=c,a.drawImage(p,0,0,n,i),a.restore()}}},s}),e("echarts/preprocessor/helper/compatStyle",["require","zrender/core/util"],function(t){function e(t){var e=t&&t.itemStyle;e&&a.each(n,function(n){var i=e.normal,o=e.emphasis;i&&i[n]&&(t[n]=t[n]||{},t[n].normal?a.merge(t[n].normal,i[n]):t[n].normal=i[n],i[n]=null),o&&o[n]&&(t[n]=t[n]||{},t[n].emphasis?a.merge(t[n].emphasis,o[n]):t[n].emphasis=o[n],o[n]=null)})}var a=t("zrender/core/util"),n=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];return function(t){if(t){e(t),e(t.markPoint),e(t.markLine);var n=t.data;if(n){for(var i=0;i<n.length;i++)e(n[i]);var o=t.markPoint;if(o&&o.data)for(var r=o.data,i=0;i<r.length;i++)e(r[i]);var s=t.markLine;if(s&&s.data)for(var l=s.data,i=0;i<l.length;i++)a.isArray(l[i])?(e(l[i][0]),e(l[i][1])):e(l[i])}}}}),e("echarts/component/axis/AxisView",["require","zrender/core/util","../../util/graphic","./AxisBuilder","../../echarts"],function(t){function e(t,e){function a(t,e){var a=n.getAxis(t);return a.toGlobalCoord(a.dataToCoord(0))}var n=t.coordinateSystem,i=e.axis,o={},r=i.position,s=i.onZero?"onZero":r,l=i.dim,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],u=e.get("offset")||0,p={x:{top:d[2]-u,bottom:d[3]+u},y:{left:d[0]-u,right:d[1]+u}};p.x.onZero=Math.max(Math.min(a("y"),p.x.bottom),p.x.top),p.y.onZero=Math.max(Math.min(a("x"),p.y.right),p.y.left),o.position=["y"===l?p.y[s]:d[0],"x"===l?p.x[s]:d[3]],o.rotation=Math.PI/2*("x"===l?0:1);var h={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=h[r],i.onZero&&(o.labelOffset=p[l][r]-p[l].onZero),e.getModel("axisTick").get("inside")&&(o.tickDirection=-o.tickDirection),e.getModel("axisLabel").get("inside")&&(o.labelDirection=-o.labelDirection);var m=e.getModel("axisLabel").get("rotate");return o.labelRotation="top"===s?-m:m,o.labelInterval=i.getLabelInterval(),o.z2=1,o}var a=t("zrender/core/util"),n=t("../../util/graphic"),i=t("./AxisBuilder"),o=i.ifIgnoreOnTick,r=i.getInterval,s=["axisLine","axisLabel","axisTick","axisName"],l=["splitArea","splitLine"],c=t("../../echarts").extendComponentView({type:"axis",render:function(t,o){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),t.get("show")){var c=t.getCoordSysModel(),d=e(c,t),u=new i(t,d);a.each(s,u.add,u),this._axisGroup.add(u.getGroup()),a.each(l,function(e){t.get(e+".show")&&this["_"+e](t,c,d.labelInterval)},this),n.groupTransition(r,this._axisGroup,t)}},_splitLine:function(t,e,i){var s=t.axis;if(!s.isBlank()){var l=t.getModel("splitLine"),c=l.getModel("lineStyle"),d=c.get("color"),u=r(l,i);d=a.isArray(d)?d:[d];for(var p=e.coordinateSystem.getRect(),h=s.isHorizontal(),m=0,g=s.getTicksCoords(),f=s.scale.getTicks(),v=[],b=[],y=c.getLineStyle(),x=0;x<g.length;x++)if(!o(s,x,u)){var w=s.toGlobalCoord(g[x]);h?(v[0]=w,v[1]=p.y,b[0]=w,b[1]=p.y+p.height):(v[0]=p.x,v[1]=w,b[0]=p.x+p.width,b[1]=w);var k=m++%d.length;this._axisGroup.add(new n.Line(n.subPixelOptimizeLine({anid:"line_"+f[x],shape:{x1:v[0],y1:v[1],x2:b[0],y2:b[1]},style:a.defaults({stroke:d[k]},y),silent:!0})))}}},_splitArea:function(t,e,i){var s=t.axis;if(!s.isBlank()){var l=t.getModel("splitArea"),c=l.getModel("areaStyle"),d=c.get("color"),u=e.coordinateSystem.getRect(),p=s.getTicksCoords(),h=s.scale.getTicks(),m=s.toGlobalCoord(p[0]),g=s.toGlobalCoord(p[0]),f=0,v=r(l,i),b=c.getAreaStyle();d=a.isArray(d)?d:[d];for(var y=1;y<p.length;y++)if(!o(s,y,v)){var x,w,k,D,T=s.toGlobalCoord(p[y]);s.isHorizontal()?(x=m,w=u.y,k=T-x,D=u.height):(x=u.x,w=g,k=u.width,D=T-w);var S=f++%d.length;this._axisGroup.add(new n.Rect({anid:"area_"+h[y],shape:{x:x,y:w,width:k,height:D},style:a.defaults({fill:d[S]},b),silent:!0})),m=x+k,g=w+D}}}});c.extend({type:"xAxis"}),c.extend({type:"yAxis"})}),e("echarts/chart/line/lineAnimationDiff",["require"],function(t){
function e(t){return t>=0?1:-1}function a(t,a,n){for(var i,o=t.getBaseAxis(),r=t.getOtherAxis(o),s=o.onZero?0:r.scale.getExtent()[0],l=r.dim,c="x"===l||"radius"===l?1:0,d=a.stackedOn,u=a.get(l,n);d&&e(d.get(l,n))===e(u);){i=d;break}var p=[];return p[c]=a.get(o.dim,n),p[1-c]=i?i.get(l,n,!0):s,t.dataToPoint(p)}function n(t,e){var a=[];return e.diff(t).add(function(t){a.push({cmd:"+",idx:t})}).update(function(t,e){a.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){a.push({cmd:"-",idx:t})}).execute(),a}return function(t,e,i,o,r,s){for(var l=n(t,e),c=[],d=[],u=[],p=[],h=[],m=[],g=[],f=s.dimensions,v=0;v<l.length;v++){var b=l[v],y=!0;switch(b.cmd){case"=":var x=t.getItemLayout(b.idx),w=e.getItemLayout(b.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=w.slice()),c.push(x),d.push(w),u.push(i[b.idx]),p.push(o[b.idx1]),g.push(e.getRawIndex(b.idx1));break;case"+":var k=b.idx;c.push(r.dataToPoint([e.get(f[0],k,!0),e.get(f[1],k,!0)])),d.push(e.getItemLayout(k).slice()),u.push(a(r,e,k)),p.push(o[k]),g.push(e.getRawIndex(k));break;case"-":var k=b.idx,D=t.getRawIndex(k);D!==k?(c.push(t.getItemLayout(k)),d.push(s.dataToPoint([t.get(f[0],k,!0),t.get(f[1],k,!0)])),u.push(i[k]),p.push(a(s,t,k)),g.push(D)):y=!1}y&&(h.push(b),m.push(m.length))}m.sort(function(t,e){return g[t]-g[e]});for(var T=[],S=[],I=[],_=[],C=[],v=0;v<m.length;v++){var k=m[v];T[v]=c[k],S[v]=d[k],I[v]=u[k],_[v]=p[k],C[v]=h[k]}return{current:T,next:S,stackedOnCurrent:I,stackedOnNext:_,status:C}}}),e("echarts/chart/helper/Symbol",["require","zrender/core/util","../../util/symbol","../../util/graphic","../../util/number"],function(t){function e(t,e){var a=t.getItemVisual(e,"symbolSize");return a instanceof Array?a.slice():[+a,+a]}function a(t){return[t[0]/2,t[1]/2]}function n(t,e,a){s.Group.call(this),this.updateData(t,e,a)}function i(t,e){this.parent.drift(t,e)}var o=t("zrender/core/util"),r=t("../../util/symbol"),s=t("../../util/graphic"),l=t("../../util/number"),c=n.prototype;c._createSymbol=function(t,e,n,o){this.removeAll();var l=e.hostModel,c=e.getItemVisual(n,"color"),d=r.createSymbol(t,-1,-1,2,2,c);d.attr({z2:100,culling:!0,scale:[0,0]}),d.drift=i,s.initProps(d,{scale:a(o)},l,n),this._symbolType=t,this.add(d)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var a=this.childAt(0);a.zlevel=t,a.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},c.updateData=function(t,n,i){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",r=t.hostModel,l=e(t,n);if(o!==this._symbolType)this._createSymbol(o,t,n,l);else{var c=this.childAt(0);s.updateProps(c,{scale:a(l)},r,n)}this._updateCommon(t,n,l,i),this._seriesModel=r};var d=["itemStyle","normal"],u=["itemStyle","emphasis"],p=["label","normal"],h=["label","emphasis"];return c._updateCommon=function(t,e,n,i){var r=this.childAt(0),c=t.hostModel,m=t.getItemVisual(e,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0}),i=i||null;var g=i&&i.itemStyle,f=i&&i.hoverItemStyle,v=i&&i.symbolRotate,b=i&&i.symbolOffset,y=i&&i.labelModel,x=i&&i.hoverLabelModel,w=i&&i.hoverAnimation;if(!i||t.hasItemOption){var k=t.getItemModel(e);g=k.getModel(d).getItemStyle(["color"]),f=k.getModel(u).getItemStyle(),v=k.getShallow("symbolRotate"),b=k.getShallow("symbolOffset"),y=k.getModel(p),x=k.getModel(h),w=k.getShallow("hoverAnimation")}else f=o.extend({},f);var D=r.style;r.attr("rotation",(v||0)*Math.PI/180||0),b&&r.attr("position",[l.parsePercent(b[0],n[0]),l.parsePercent(b[1],n[1])]),r.setColor(m),r.setStyle(g);var T=t.getItemVisual(e,"opacity");null!=T&&(D.opacity=T);for(var S,I,_=t.dimensions.slice();_.length&&(S=_.pop(),I=t.getDimensionInfo(S).type,"ordinal"===I||"time"===I););null!=S&&y.getShallow("show")?(s.setText(D,y,m),D.text=o.retrieve(c.getFormattedLabel(e,"normal"),t.get(S,e))):D.text="",null!=S&&x.getShallow("show")?(s.setText(f,x,m),f.text=o.retrieve(c.getFormattedLabel(e,"emphasis"),t.get(S,e))):f.text="",r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=f,s.setHoverStyle(r);var C=a(n);if(w&&c.isAnimationEnabled()){var M=function(){var t=C[1]/C[0];this.animateTo({scale:[Math.max(1.1*C[0],C[0]+3),Math.max(1.1*C[1],C[1]+3*t)]},400,"elasticOut")},L=function(){this.animateTo({scale:C},400,"elasticOut")};r.on("mouseover",M).on("mouseout",L).on("emphasis",M).on("normal",L)}},c.fadeOut=function(t){var e=this.childAt(0);this.silent=!0,e.style.text="",s.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},o.inherits(n,s.Group),n}),e("echarts/chart/helper/SymbolDraw",["require","../../util/graphic","./Symbol"],function(t){function e(t){this.group=new n.Group,this._symbolCtor=t||i}function a(t,e,a){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(a&&a(e))&&"none"!==t.getItemVisual(e,"symbol")}var n=t("../../util/graphic"),i=t("./Symbol"),o=e.prototype;return o.updateData=function(t,e){var i=this.group,o=t.hostModel,r=this._data,s=this._symbolCtor,l={itemStyle:o.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:o.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:o.get("symbolRotate"),symbolOffset:o.get("symbolOffset"),hoverAnimation:o.get("hoverAnimation"),labelModel:o.getModel("label.normal"),hoverLabelModel:o.getModel("label.emphasis")};t.diff(r).add(function(n){var o=t.getItemLayout(n);if(a(t,n,e)){var r=new s(t,n,l);r.attr("position",o),t.setItemGraphicEl(n,r),i.add(r)}}).update(function(c,d){var u=r.getItemGraphicEl(d),p=t.getItemLayout(c);return a(t,c,e)?(u?(u.updateData(t,c,l),n.updateProps(u,{position:p},o)):(u=new s(t,c),u.attr("position",p)),i.add(u),void t.setItemGraphicEl(c,u)):void i.remove(u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},o.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,a){var n=t.getItemLayout(a);e.attr("position",n)})},o.remove=function(t){var e=this.group,a=this._data;a&&(t?a.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},e}),e("echarts/chart/line/poly",["require","zrender/graphic/Path","zrender/core/vector"],function(t){function e(t){return isNaN(t[0])||isNaN(t[1])}function a(t,a,n,i,h,m,g,f,v,b,y){for(var x=0,w=n,k=0;i>k;k++){var D=a[w];if(w>=h||0>w)break;if(e(D)){if(y){w+=m;continue}break}if(w===n)t[m>0?"moveTo":"lineTo"](D[0],D[1]),c(u,D);else if(v>0){var T=w+m,S=a[T];if(y)for(;S&&e(a[T]);)T+=m,S=a[T];var I=.5,_=a[x],S=a[T];if(!S||e(S))c(p,D);else{e(S)&&!y&&(S=D),o.sub(d,S,_);var C,M;if("x"===b||"y"===b){var L="x"===b?0:1;C=Math.abs(D[L]-_[L]),M=Math.abs(D[L]-S[L])}else C=o.dist(D,_),M=o.dist(D,S);I=M/(M+C),l(p,D,d,-v*(1-I))}r(u,u,f),s(u,u,g),r(p,p,f),s(p,p,g),t.bezierCurveTo(u[0],u[1],p[0],p[1],D[0],D[1]),l(u,D,d,v*I)}else t.lineTo(D[0],D[1]);x=w,w+=m}return k}function n(t,e){var a=[1/0,1/0],n=[-(1/0),-(1/0)];if(e)for(var i=0;i<t.length;i++){var o=t[i];o[0]<a[0]&&(a[0]=o[0]),o[1]<a[1]&&(a[1]=o[1]),o[0]>n[0]&&(n[0]=o[0]),o[1]>n[1]&&(n[1]=o[1])}return{min:e?a:n,max:e?n:a}}var i=t("zrender/graphic/Path"),o=t("zrender/core/vector"),r=o.min,s=o.max,l=o.scaleAndAdd,c=o.copy,d=[],u=[],p=[];return{Polyline:i.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,i){var o=i.points,r=0,s=o.length,l=n(o,i.smoothConstraint);if(i.connectNulls){for(;s>0&&e(o[s-1]);s--);for(;s>r&&e(o[r]);r++);}for(;s>r;)r+=a(t,o,r,s,s,1,l.min,l.max,i.smooth,i.smoothMonotone,i.connectNulls)+1}}),Polygon:i.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,i){var o=i.points,r=i.stackedOnPoints,s=0,l=o.length,c=i.smoothMonotone,d=n(o,i.smoothConstraint),u=n(r,i.smoothConstraint);if(i.connectNulls){for(;l>0&&e(o[l-1]);l--);for(;l>s&&e(o[s]);s++);}for(;l>s;){var p=a(t,o,s,l,l,1,d.min,d.max,i.smooth,c,i.connectNulls);a(t,r,s+p-1,p,l,-1,u.min,u.max,i.stackedOnSmooth,c,i.connectNulls),s+=p+1,t.closePath()}}})}}),e("echarts/component/helper/selectableMixin",["require","zrender/core/util"],function(t){var e=t("zrender/core/util");return{updateSelectedMap:function(t){this._selectTargetMap=e.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var a=this._selectTargetMap,n=a[t],i=this.get("selectedMode");"single"===i&&e.each(a,function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}}),e("echarts/util/symbol",["require","./graphic","zrender/core/BoundingRect"],function(t){"use strict";var e=t("./graphic"),a=t("zrender/core/BoundingRect"),n=e.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,n=e.cy,i=e.width/2,o=e.height/2;t.moveTo(a,n-o),t.lineTo(a+i,n+o),t.lineTo(a-i,n+o),t.closePath()}}),i=e.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,n=e.cy,i=e.width/2,o=e.height/2;t.moveTo(a,n-o),t.lineTo(a+i,n),t.lineTo(a,n+o),t.lineTo(a-i,n),t.closePath()}}),o=e.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.x,n=e.y,i=e.width/5*3,o=Math.max(i,e.height),r=i/2,s=r*r/(o-r),l=n-o+r+s,c=Math.asin(s/r),d=Math.cos(c)*r,u=Math.sin(c),p=Math.cos(c);t.arc(a,l,r,Math.PI-c,2*Math.PI+c);var h=.6*r,m=.7*r;t.bezierCurveTo(a+d-u*h,l+s+p*h,a,n-m,a,n),t.bezierCurveTo(a,n-m,a-d+u*h,l+s+p*h,a-d,l+s),t.closePath()}}),r=e.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.height,n=e.width,i=e.x,o=e.y,r=n/3*2;t.moveTo(i,o),t.lineTo(i+r,o+a),t.lineTo(i,o+a/4*3),t.lineTo(i-r,o+a),t.lineTo(i,o),t.closePath()}}),s={line:e.Line,rect:e.Rect,roundRect:e.Rect,square:e.Rect,circle:e.Circle,diamond:i,pin:o,arrow:r,triangle:n},l={line:function(t,e,a,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+a,i.y2=e+n/2},rect:function(t,e,a,n,i){i.x=t,i.y=e,i.width=a,i.height=n},roundRect:function(t,e,a,n,i){i.x=t,i.y=e,i.width=a,i.height=n,i.r=Math.min(a,n)/4},square:function(t,e,a,n,i){var o=Math.min(a,n);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,a,n,i){i.cx=t+a/2,i.cy=e+n/2,i.r=Math.min(a,n)/2},diamond:function(t,e,a,n,i){i.cx=t+a/2,i.cy=e+n/2,i.width=a,i.height=n},pin:function(t,e,a,n,i){i.x=t+a/2,i.y=e+n/2,i.width=a,i.height=n},arrow:function(t,e,a,n,i){i.x=t+a/2,i.y=e+n/2,i.width=a,i.height=n},triangle:function(t,e,a,n,i){i.cx=t+a/2,i.cy=e+n/2,i.width=a,i.height=n}},c={};for(var d in s)s.hasOwnProperty(d)&&(c[d]=new s[d]);var u=e.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,a){var n=e.symbolType,i=c[n];"none"!==e.symbolType&&(i||(n="rect",i=c[n]),l[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,a))}}),p=function(t){if("image"!==this.type){var e=this.style,a=this.shape;a&&"line"===a.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}},h={createSymbol:function(t,n,i,o,r,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var c;return c=0===t.indexOf("image://")?new e.Image({style:{image:t.slice(8),x:n,y:i,width:o,height:r}}):0===t.indexOf("path://")?e.makePath(t.slice(7),{},new a(n,i,o,r)):new u({shape:{symbolType:t,x:n,y:i,width:o,height:r}}),c.__isEmptyBrush=l,c.setColor=p,c.setColor(s),c}};return h}),e("echarts/component/helper/listComponent",["require","../../util/layout","../../util/format","../../util/graphic"],function(t){function e(t,e,n){a.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"))}var a=t("../../util/layout"),n=t("../../util/format"),i=t("../../util/graphic");return{layout:function(t,n,i){var o=a.getLayoutRect(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},n.get("padding"));a.box(n.get("orient"),t,n.get("itemGap"),o.width,o.height),e(t,n,i)},addBackground:function(t,e){var a=n.normalizeCssArray(e.get("padding")),o=t.getBoundingRect(),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var s=new i.Rect({shape:{x:o.x-a[3],y:o.y-a[0],width:o.width+a[1]+a[3],height:o.height+a[0]+a[2]},style:r,silent:!0,z2:-1});i.subPixelOptimizeRect(s),t.add(s)}}}),e("echarts/component/tooltip/TooltipContent",["require","zrender/core/util","zrender/tool/color","zrender/core/event","../../util/format","zrender/core/env"],function(t){function e(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",a="left "+t+"s "+e+",top "+t+"s "+e;return o.map(p,function(t){return t+"transition:"+a}).join(";")}function a(t){var e=[],a=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),a&&e.push("line-height:"+Math.round(3*a/2)+"px"),c(["decoration","align"],function(a){var n=t.get(a);n&&e.push("text-"+a+":"+n)}),e.join(";")}function n(t){t=t;var n=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),s=t.getModel("textStyle"),p=t.get("padding");return i&&n.push(e(i)),o&&(u.canvasSupported?n.push("background-Color:"+o):(n.push("background-Color:#"+r.toHex(o)),n.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],function(e){var a="border-"+e,i=d(a),o=t.get(i);null!=o&&n.push(a+":"+o+("color"===e?"":"px"))}),n.push(a(s)),null!=p&&n.push("padding:"+l.normalizeCssArray(p).join("px ")+"px"),n.join(";")+";"}function i(t,e){var a=document.createElement("div"),n=e.getZr();this.el=a,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(a),this._container=t,this._show=!1,this._hideTimeout;var i=this;a.onmouseenter=function(){i.enterable&&(clearTimeout(i._hideTimeout),i._show=!0),i._inContent=!0},a.onmousemove=function(e){if(e=e||window.event,!i.enterable){var a=n.handler;s.normalizeEvent(t,e,!0),a.dispatch("mousemove",e)}},a.onmouseleave=function(){i.enterable&&i._show&&i.hideLater(i._hideDelay),i._inContent=!1}}var o=t("zrender/core/util"),r=t("zrender/tool/color"),s=t("zrender/core/event"),l=t("../../util/format"),c=o.each,d=l.toCamelCase,u=t("zrender/core/env"),p=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";return i.prototype={constructor:i,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),a=t.style;"absolute"!==a.position&&"absolute"!==e.position&&(a.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=h+n(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var a=this.el.style;a.left=t+"px",a.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},i}),e("echarts/component/axis/AxisBuilder",["require","zrender/core/util","../../util/format","../../util/graphic","../../model/Model","../../util/number","zrender/core/vector"],function(t){function e(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function a(t,e,a){var n,i,o=d(e-t.rotation);return u(o)?(i=a>0?"top":"bottom",n="center"):u(o-g)?(i=a>0?"bottom":"top",n="center"):(i="middle",n=o>0&&g>o?a>0?"right":"left":a>0?"left":"right"),{rotation:o,textAlign:n,verticalAlign:i}}function n(t,e,a,n){var i,o,r=d(a-t.rotation),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return u(r-g/2)?(o=l?"bottom":"top",i="center"):u(r-1.5*g)?(o=l?"top":"bottom",i="center"):(o="middle",i=1.5*g>r&&r>g/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:i,verticalAlign:o}}function i(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}var o=t("zrender/core/util"),r=t("../../util/format"),s=t("../../util/graphic"),l=t("../../model/Model"),c=t("../../util/number"),d=c.remRadian,u=c.isRadianAroundZero,p=t("zrender/core/vector"),h=p.applyTransform,m=o.retrieve,g=Math.PI,f=function(t,e){this.opt=e,this.axisModel=t,o.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new s.Group;var a=new s.Group({position:e.position.slice(),rotation:e.rotation});a.updateTransform(),this._transform=a.transform,this._dumbGroup=a};f.prototype={constructor:f,hasBuilder:function(t){return!!v[t]},add:function(t){v[t].call(this)},getGroup:function(){return this.group}};var v={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var a=this.axisModel.axis.getExtent(),n=this._transform,i=[a[0],0],r=[a[1],0];n&&(h(i,i,n),h(r,r,n)),this.group.add(new s.Line(s.subPixelOptimizeLine({anid:"line",shape:{x1:i[0],y1:i[1],x2:r[0],y2:r[1]},style:o.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var t=this.axisModel,e=t.axis;if(t.get("axisTick.show")&&!e.isBlank())for(var a=t.getModel("axisTick"),n=this.opt,i=a.getModel("lineStyle"),r=a.get("length"),l=y(a,n.labelInterval),c=e.getTicksCoords(a.get("alignWithLabel")),d=e.scale.getTicks(),u=[],p=[],m=this._transform,g=0;g<c.length;g++)if(!b(e,g,l)){var f=c[g];u[0]=f,u[1]=0,p[0]=f,p[1]=n.tickDirection*r,m&&(h(u,u,m),h(p,p,m)),this.group.add(new s.Line(s.subPixelOptimizeLine({anid:"tick_"+d[g],shape:{x1:u[0],y1:u[1],x2:p[0],y2:p[1]},style:o.defaults(i.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function t(t,e){var a=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();return a&&n?(a.applyTransform(t.getLocalTransform()),n.applyTransform(e.getLocalTransform()),a.intersect(n)):void 0}var n=this.opt,r=this.axisModel,c=r.axis,d=m(n.axisLabelShow,r.get("axisLabel.show"));if(d&&!c.isBlank()){var u=r.getModel("axisLabel"),p=u.getModel("textStyle"),h=u.get("margin"),f=c.scale.getTicks(),v=r.getFormattedLabels(),y=m(n.labelRotation,u.get("rotate"))||0;y=y*g/180;var x=a(n,y,n.labelDirection),w=r.get("data"),k=[],D=i(r),T=r.get("triggerEvent");if(o.each(f,function(t,a){if(!b(c,a,n.labelInterval)){var i=p;w&&w[t]&&w[t].textStyle&&(i=new l(w[t].textStyle,p,r.ecModel));var o=i.getTextColor()||r.get("axisLine.lineStyle.color"),d=c.dataToCoord(t),u=[d,n.labelOffset+n.labelDirection*h],m=c.scale.getLabel(t),g=new s.Text({anid:"label_"+t,style:{text:v[a],textAlign:i.get("align",!0)||x.textAlign,textVerticalAlign:i.get("baseline",!0)||x.verticalAlign,textFont:i.getFont(),fill:"function"==typeof o?o(m):o},position:u,rotation:x.rotation,silent:D,z2:10});T&&(g.eventData=e(r),g.eventData.targetType="axisLabel",g.eventData.value=m),this._dumbGroup.add(g),g.updateTransform(),k.push(g),this.group.add(g),g.decomposeTransform()}},this),null!=r.getMin()){var S=k[0],I=k[1];t(S,I)&&(S.ignore=!0)}if(null!=r.getMax()){var _=k[k.length-1],C=k[k.length-2];t(C,_)&&(_.ignore=!0)}}},axisName:function(){var t=this.opt,l=this.axisModel,c=m(t.axisName,l.get("name"));if(c){var d,u=l.get("nameLocation"),p=t.nameDirection,h=l.getModel("nameTextStyle"),f=l.get("nameGap")||0,v=this.axisModel.axis.getExtent(),b=v[0]>v[1]?-1:1,y=["start"===u?v[0]-b*f:"end"===u?v[1]+b*f:(v[0]+v[1])/2,"middle"===u?t.labelOffset+p*f:0],x=l.get("nameRotate");null!=x&&(x=x*g/180);var w;"middle"===u?d=a(t,null!=x?x:t.rotation,p):(d=n(t,u,x||0,v),w=t.axisNameAvailableWidth,null!=w&&(w=Math.abs(w/Math.sin(d.rotation)),!isFinite(w)&&(w=null)));var k=h.getFont(),D=l.get("nameTruncate",!0)||{},T=D.ellipsis,S=m(D.maxWidth,w),I=null!=T&&null!=S?r.truncateText(c,S,k,T,{minChar:2,placeholder:D.placeholder}):c,_=l.get("tooltip",!0),C=l.mainType,M={componentType:C,name:c,$vars:["name"]};M[C+"Index"]=l.componentIndex;var L=new s.Text({anid:"name",__fullText:c,__truncatedText:I,style:{text:I,textFont:k,fill:h.getTextColor()||l.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.verticalAlign},position:y,rotation:d.rotation,silent:i(l),z2:1,tooltip:_&&_.show?o.extend({content:c,formatter:function(){return c},formatterParams:M},_):null});l.get("triggerEvent")&&(L.eventData=e(l),L.eventData.targetType="axisName",L.eventData.name=c),this._dumbGroup.add(L),L.updateTransform(),this.group.add(L),L.decomposeTransform()}}},b=f.ifIgnoreOnTick=function(t,e,a){var n,i=t.scale;return"ordinal"===i.type&&("function"==typeof a?(n=i.getTicks()[e],!a(n,i.getLabel(n))):e%(a+1))},y=f.getInterval=function(t,e){var a=t.get("interval");return(null==a||"auto"==a)&&(a=e),a};return f}),e("echarts/chart/pie/labelLayout",["require","zrender/contain/text"],function(t){"use strict";function e(t,e,a,n,i,o,r){function s(e,a,n,i){for(var o=e;a>o;o++)if(t[o].y+=n,o>e&&a>o+1&&t[o+1].y>t[o].y+t[o].height)return void l(o,n/2);l(a-1,n/2)}function l(e,a){for(var n=e;n>=0&&(t[n].y-=a,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function c(t,e,a,n,i,o){for(var r=o>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;l>s;s++)if("center"!==t[s].position){var c=Math.abs(t[s].y-n),d=t[s].len,u=t[s].len2,p=i+d>c?Math.sqrt((i+d+u)*(i+d+u)-c*c):Math.abs(t[s].x-a);e&&p>=r&&(p=r-10),!e&&r>=p&&(p=r+10),t[s].x=a+p*o,r=p}}t.sort(function(t,e){return t.y-e.y});for(var d,u=0,p=t.length,h=[],m=[],g=0;p>g;g++)d=t[g].y-u,0>d&&s(g,p,-d,i),u=t[g].y+t[g].height;0>r-u&&l(p-1,u-r);for(var g=0;p>g;g++)t[g].y>=a?m.push(t[g]):h.push(t[g]);c(h,!1,e,a,n,i),c(m,!0,e,a,n,i)}function a(t,a,n,i,o,r){for(var s=[],l=[],c=0;c<t.length;c++)t[c].x<a?s.push(t[c]):l.push(t[c]);e(l,a,n,i,1,o,r),e(s,a,n,i,-1,o,r);for(var c=0;c<t.length;c++){var d=t[c].linePoints;if(d){var u=d[1][0]-d[2][0];t[c].x<a?d[2][0]=t[c].x+3:d[2][0]=t[c].x-3,d[1][1]=d[2][1]=t[c].y,d[1][0]=d[2][0]+u}}}var n=t("zrender/contain/text");return function(t,e,i,o){var r,s,l=t.getData(),c=[],d=!1;l.each(function(a){var i,o,u,p,h=l.getItemLayout(a),m=l.getItemModel(a),g=m.getModel("label.normal"),f=g.get("position")||m.get("label.emphasis.position"),v=m.getModel("labelLine.normal"),b=v.get("length"),y=v.get("length2"),x=(h.startAngle+h.endAngle)/2,w=Math.cos(x),k=Math.sin(x);r=h.cx,s=h.cy;var D="inside"===f||"inner"===f;if("center"===f)i=h.cx,o=h.cy,p="center";else{var T=(D?(h.r+h.r0)/2*w:h.r*w)+r,S=(D?(h.r+h.r0)/2*k:h.r*k)+s;if(i=T+3*w,o=S+3*k,!D){var I=T+w*(b+e-h.r),_=S+k*(b+e-h.r),C=I+(0>w?-1:1)*y,M=_;i=C+(0>w?-5:5),o=M,u=[[T,S],[I,_],[C,M]]}p=D?"center":w>0?"left":"right"}var L=g.getModel("textStyle").getFont(),A=g.get("rotate")?0>w?-x+Math.PI:-x:0,P=t.getFormattedLabel(a,"normal")||l.getName(a),N=n.getBoundingRect(P,L,p,"top");d=!!A,h.label={x:i,y:o,position:f,height:N.height,len:b,len2:y,linePoints:u,textAlign:p,verticalAlign:"middle",font:L,rotation:A},D||c.push(h.label)}),!d&&t.get("avoidLabelOverlap")&&a(c,r,s,e,i,o)}}),e("zrender",["zrender/zrender"],function(t){return t}),e("echarts",["echarts/echarts"],function(t){return t});var a=t("echarts");return a.graphic=t("echarts/util/graphic"),a.number=t("echarts/util/number"),a.format=t("echarts/util/format"),t("echarts/chart/bar"),t("echarts/chart/line"),t("echarts/chart/pie"),t("echarts/component/grid"),t("echarts/component/title"),t("echarts/component/legend"),t("echarts/component/tooltip"),a}),Draw.prototype={init:function(){this.obj.strokeStyle=this.color,this.obj.fillStyle=this.color,this.obj.lineWidth=this.width,this.obj.font=this.font},rect:function(t,e,a,n){this.init(),this.obj.beginPath(),this.obj.rect(t,e,a-t,n-e),"stroke"==this.type?this.obj.stroke():"fill"==this.type&&this.obj.fill()},line:function(t,e,a,n){this.init(),this.obj.beginPath(),this.obj.moveTo(t,e),this.obj.lineTo(a,n),this.obj.stroke()},circle:function(t,e,a,n){this.init();var i=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-n,2));this.obj.beginPath(),this.obj.arc(t,e,i,0,2*Math.PI),"stroke"==this.type?this.obj.stroke():"fill"==this.type&&this.obj.fill()},poly:function(t,e,a,n,i){this.init();var o=this.obj,r=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-n,2));o.save(),o.translate(t,e),o.rotate(Math.PI/2);var s=r*Math.cos(Math.PI/i),l=r*Math.sin(Math.PI/i);o.beginPath(),o.lineCap="round",o.moveTo(s,l);for(var c=0;i>=c;c++)o.rotate(2*Math.PI/i),o.lineTo(s,-l);"stroke"==this.type?this.obj.stroke():"fill"==this.type&&this.obj.fill(),o.restore()},pen:function(t,e,a,n){this.init(),this.obj.save(),this.obj.lineCap="round",this.obj.lineTo(a,n),this.obj.stroke(),this.obj.restore()},eraser:function(t,e,a,n){this.obj.lineCap="round",this.obj.clearRect(a-5,n-5,10,10)},cut:function(t,e,a,n){this.init(),this.obj.save(),this.obj.setLineDash([4,2]),this.obj.beginPath(),this.obj.lineWidth=1,this.obj.rect(t,e,a-t,n-e),this.obj.stroke(),this.obj.restore()},text:function(t,e,a){this.init(),this.obj.save(),this.obj.fillText(t,e,a),this.obj.restore()}};var Canvas2Image=function(){function t(t,e,a){var n=t.width,i=t.height;void 0==e&&(e=n),void 0==a&&(a=i);var o=document.createElement("canvas"),r=o.getContext("2d");return o.width=e,o.height=a,r.drawImage(t,0,0,n,i,0,0,e,a),o}function e(e,a,n,i){return e=t(e,n,i),e.toDataURL(a)}function a(t){document.location.href=t}function n(t){var e=document.createElement("img");return e.src=t,e}function i(t){t=t.toLowerCase().replace(/jpg/i,"jpeg");var e=t.match(/png|jpeg|bmp|gif/)[0];return"image/"+e}function o(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var a=0;a<t.length;a++)e+=String.fromCharCode(t[a]);return btoa(e)}function r(t){var e=t.width,a=t.height;return t.getContext("2d").getImageData(0,0,e,a)}function s(t,e){return"data:"+e+";base64,"+t}var l=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return{canvas:!!e,imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa}}(),c="image/octet-stream",d=function(t){var e=t.width,a=t.height,n=e*a*3,i=n+54,r=[66,77,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,54,0,0,0],s=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&a,a>>8&255,a>>16&255,a>>24&255,1,0,24,0,0,0,0,0,255&n,n>>8&255,n>>16&255,n>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=(4-3*e%4)%4,c=t.data,d="",u=e<<2,p=a,h=String.fromCharCode;do{for(var m=u*(p-1),g="",f=0;e>f;f++){var v=f<<2;g+=h(c[m+v+2])+h(c[m+v+1])+h(c[m+v])}for(var b=0;l>b;b++)g+=String.fromCharCode(0);d+=g}while(--p);var y=o(r.concat(s))+o(d);return y},u=function(n,o,u,p){if(l.canvas&&l.dataURL)if("string"==typeof n&&(n=document.getElementById(n)),void 0==p&&(p="png"),p=i(p),/bmp/.test(p)){var h=r(t(n,o,u)),m=d(h);a(s(m,c))}else{var m=e(n,p,o,u);a(m.replace(p,c))}},p=function(a,o,c,u){if(l.canvas&&l.dataURL){if("string"==typeof a&&(a=document.getElementById(a)),void 0==u&&(u="png"),u=i(u),/bmp/.test(u)){var p=r(t(a,o,c)),h=d(p);return n(s(h,"image/bmp"))}var h=e(a,u,o,c);return n(h)}};return{saveAsImage:u,saveAsPNG:function(t,e,a){return u(t,e,a,"png")},saveAsJPEG:function(t,e,a){return u(t,e,a,"jpeg")},saveAsGIF:function(t,e,a){return u(t,e,a,"gif")},saveAsBMP:function(t,e,a){return u(t,e,a,"bmp")},convertToImage:p,convertToPNG:function(t,e,a){return p(t,e,a,"png")},convertToJPEG:function(t,e,a){return p(t,e,a,"jpeg")},convertToGIF:function(t,e,a){return p(t,e,a,"gif")},convertToBMP:function(t,e,a){return p(t,e,a,"bmp")}}}();angular.module("ngLocale",[],["$provide",function(t){var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],STANDALONEMONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"y/M/d ah:mm",shortDate:"y/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"zh-cn",localeID:"zh_CN",pluralCat:function(t,a){return e.OTHER}})}]);var CreatedOKLodop7766=null;if(needCLodop()){var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,oscript=document.createElement("script");0===location.origin.indexOf("https")?(oscript.src="https://localhost:8443/CLodopfuncs.js?priority=1",head.insertBefore(oscript,head.firstChild),oscript=document.createElement("script"),oscript.src="https://localhost:8443/CLodopfuncs.js?priority=2",head.insertBefore(oscript,head.firstChild)):(oscript.src="http://localhost:8000/CLodopfuncs.js?priority=1",head.insertBefore(oscript,head.firstChild),oscript=document.createElement("script"),oscript.src="http://localhost:8001/CLodopfuncs.js?priority=2",head.insertBefore(oscript,head.firstChild))}!function(){"use strict";angular.module("pathcloud").factory("T",["$translate",function(t){var e={T:function(e){return e?t.instant(e):e}};return e}])}(),function(){"use strict";angular.module("pathcloud").filter("formatTime",function(){return function(t){if(null===t)return"";var e=parseFloat(t);if(null!=e&&""!=e){if(60>e){var a=e;e=a+"秒"}else if(e>60&&3600>e){var n=parseInt(e/60),a=parseInt(e%60);e=n+"分钟"+a+"秒"}else if(e>=3600&&86400>e){var i=parseInt(e/3600),n=parseInt(e%3600/60),a=parseInt(e%3600%60%60);e=i+"小时"+n+"分钟"+a+"秒"}else if(e>=86400){var o=parseInt(e/86400),i=parseInt(e%86400/3600),n=parseInt(e%86400%3600/60),a=parseInt(e%86400%3600%60%60);e=o+"天"+i+"小时"+n+"分钟"}}else e="";return e}}).filter("formatMsec",function(){return function(t){var e=parseFloat(t)/1e3;if(null!=e&&""!=e){if(60>e){var a=e;e=a+"秒"}else if(e>60&&3600>e){var n=parseInt(e/60),a=parseInt(e%60);e=n+"分钟"+a+"秒"}else if(e>=3600&&86400>e){var i=parseInt(e/3600),n=parseInt(e%3600/60),a=parseInt(e%3600%60%60);e=i+"小时"+n+"分钟"}else if(e>=86400){var o=parseInt(e/86400),i=parseInt(e%86400/3600),n=parseInt(e%86400%3600/60),a=parseInt(e%86400%3600%60%60);e=o+"天"+i+"小时"+n+"分钟"}}else e="";return e}})}(),function(){"use strict";angular.module("pathcloud").filter("hospital",["$rootScope","apiUrl",function(t,e){var a=t.inspectHospitalList||[];return function(t){var e;return t?(a.map(function(a,n){a.code===t&&(e=a.name)}),e||""):void 0}}])}(),function(){"use strict";angular.module("pathcloud").filter("diagnosisType",function(){return function(t){var e="";return e=19===t?"一级诊断":20===t?"二级诊断":21===t?"三级诊断":"其他"}})}(),function(){"use strict";angular.module("pathcloud").filter("department",["$rootScope","apiUrl",function(t,e){var a=t.departments||[];return function(t){var e;return t?(a.map(function(a,n){a.code===t&&(e=a.name)}),e||""):void 0}}])}(),function(){"use strict";angular.module("pathcloud").filter("dehydratorStatus",function(){return function(t,e){var a="";return 1===t&&(a="报警"),e===!0&&(a="不可用"),a||(a="正常"),a}})}(),function(){"use strict";angular.module("pathcloud").filter("applicationStatus",function(){return function(t){switch(t){case 1:return"未登记";case 2:return"已登记";case 3:return"已拒绝"}}}).filter("sex",function(){return function(t){switch(t){case 0:return"";case 1:return"男";case 2:return"女"}}})}(),function(){"use strict";function t(t,e,a,n,i,o,r,s){console.log("run start"),e.user=i.get("userInfo")||{},e.basketNumber=i.get("basketNumber")||"",
e.lang=window.localStorage.lang||"cn",e.$on("$stateChangeStart",function(t,a,n,i,o,r){a.name.indexOf("app.profile")>=0?i.name&&"app.home"!=i.name||(e.navbar=[{title:"个人信息",href:"app.profile"}]):a.name.indexOf("app.notification")>=0?i.name&&"app.home"!=i.name||(e.navbar=[{title:"系统通知",href:"app.notification"}]):a.name.indexOf("app.application")>=0?e.navbar=[{title:"创建申请",href:"app.applicationCreate"},{title:"查看申请",href:"app.applicationView"}]:a.name.indexOf("app.specialDye")>=0?e.navbar=[{title:"创建申请",href:"app.specialDyeCreate"},{title:"查看申请",href:"app.specialDyeSearch"}]:a.name.indexOf("app.sample")>=0?e.navbar=[{title:"样本登记",href:"app.sampleRegistration"},{title:"会诊登记",href:"app.sampleConsultationApply"},{title:"信息查询",href:"app.sampleSearch"},{title:"登记设置",href:"app.sampleSetting"}]:a.name.indexOf("Material")>=0?e.navbar=[{title:"取材",href:"app.createMaterial"},{title:"取材确认",href:"app.confirmMaterial"},{title:"信息查询",href:"app.searchMaterial"},{title:"取材设置",href:"app.configMaterial"}]:a.name.indexOf("app.grossing")>=0?e.navbar=[{title:"脱水",href:"app.grossing"},{title:"查看状态",href:"app.grossingStatus"},{title:"脱水设置",href:"app.grossingSetting"}]:a.name.indexOf("app.embed")>=0?e.navbar=[{title:"包埋",href:"app.embed"},{title:"信息查询",href:"app.embedSearch"},{title:"包埋设置",href:"app.embedSetting"}]:a.name.indexOf("app.section")>=0?e.navbar=[{title:"切片",href:"app.section"},{title:"信息查询",href:"app.sectionSearch"},{title:"切片设置",href:"app.sectionSetting"}]:a.name.indexOf("Dye")>=0?e.navbar=[{title:"染色",href:"app.createDye"},{title:"封片",href:"app.DyeSealing"},{title:"信息查询",href:"app.searchDye"},{title:"设置",href:"app.DyeSetting"}]:a.name.indexOf("app.Pro")>=0?e.navbar=[{title:"制片确认",href:"app.ProConfirmation"},{title:"派片",href:"app.ProDistribution"},{title:"质控检查",href:"app.ProQualityGrade"}]:a.name.indexOf("Diagnosis")>=0?e.navbar=[{title:"诊断",href:"app.CreateDiagnosis"},{title:"信息查询",href:"app.SearchDiagnosis"},{title:"收藏",href:"app.collectDiagnosis"},{title:"设置",href:"app.SettingDiagnosis"}]:a.name.indexOf("freeze")>=0?e.navbar=[{title:"冰冻取材",href:"app.freezeSlide"},{title:"信息查询",href:"app.freezeSearch"},{title:"设置",href:"app.freezeSetting"}]:a.name.indexOf("report")>=0?e.navbar=[{title:"报告打印",href:"app.report"},{title:"签收确认",href:"app.reportSignQuery"}]:a.name.indexOf("ihc")>=0?e.navbar=[{title:"申请列表",href:"app.ihcSearch"},{title:"打印",href:"app.ihcPrint"}]:a.name.indexOf("Archive")>=0?e.navbar=[{title:"玻片存档",href:"app.slideArchive"},{title:"借阅登记",href:"app.borrowArchive"},{title:"归还登记",href:"app.returnArchive"},{title:"信息查询",href:"app.queryArchive"}]:a.name.indexOf("reagent")>=0?e.navbar=[{title:"库存记录",href:"app.reagentState"},{title:"入库",href:"app.reagentStore"},{title:"使用记录",href:"app.reagentUse"},{title:"试剂",href:"app.reagentType"}]:a.name.indexOf("Statistic")>=0?e.navbar=[{title:"总览",href:"app.AllStatistic"},{title:"工作量",href:"app.WorkStatistic"},{title:"质控评分",href:"app.GradeStatistic"},{title:"仪器设备",href:"app.FreezeStatistic"}]:a.name.indexOf("Query")>=0?e.navbar=[{title:"病例查询",href:"app.CreateQuery"},{title:"科研",href:"app.QueryResearch"},{title:"医嘱",href:"app.QueryAdvice"},{title:"样本状态",href:"app.QueryProStatus"}]:a.name.indexOf("Module")>=0?e.navbar=[{title:"用户管理",href:"app.UserModule"},{title:"质控评分",href:"app.GradeModule"},{title:"文件管理",href:"app.home"},{title:"系统设置",href:"app.SystemModule"}]:e.navbar=[]}),e.$on("$stateChangeSuccess",function(t,a,o,r,s){n(function(){return e.version&&i.get("version")&&e.version!=i.get("version")?(i.put("version",""),void location.reload()):void 0},300)}),r.get("/paramSetting/inspectHospital").then(function(t){e.inspectHospitalList=t}),s.get()}t.$inject=["$log","$rootScope","toolService","$timeout","$cookieStore","T","IhcService","DepartmentsService"],angular.module("pathcloud").run(t)}(),function(){"use strict";function t(t,e){t.state("main",{url:"/",templateUrl:"app/site/main/main.html",controller:"MainController",controllerAs:"main"}).state("app",{url:"/app",templateUrl:"app/site/site.html",controller:"SiteController",controllerAs:"site"}).state("login",{url:"/login",templateUrl:"app/site/login/login.html",controller:"LoginController",controllerAs:"login"}).state("app.home",{url:"/home",templateUrl:"app/site/home/home.html",controller:"HomeController",controllerAs:"home",onEnter:["IhcService","$rootScope",function(t,e){}],resolve:{usingFrozen:["IhcService","$rootScope",function(t,e){return t.get("/systemSetting/usingFrozen").then(function(t){return 0==t?e.usingFrozen=!0:e.usingFrozen=!1,e.usingFrozen})}]}}).state("app.notification",{url:"/notification",templateUrl:"app/site/notification/notification.html",controller:"NotificationController",controllerAs:"notification"}).state("app.profile",{title:"个人资料",url:"/profile",templateUrl:"app/site/profile/profile.html",controller:"ProfileController",controllerAs:"profile"}).state("app.test",{url:"/test",templateUrl:"app/site/test/test.html",controller:"TestController",controllerAs:"test"}).state("app.applicationView",{title:"查看申请",url:"/applicationView",templateUrl:"app/site/application/viewApplication.html",controller:"ViewApplicationController",controllerAs:"viewApplication"}).state("app.applicationCreate",{title:"创建申请",url:"/applicationCreate?{type}",templateUrl:"app/site/application/applyPathological.html",controller:"ApplicationCreateController",controllerAs:"applicationCreate"}).state("app.specialDyeCreate",{title:"创建申请",url:"/specialDyeCreate",templateUrl:"app/site/specialDye/specialDyeCreate/specialDyeCreate.html",controller:"SpecialDyeCreateController",controllerAs:"specialDyeCreate"}).state("app.specialDyeSearch",{title:"查看申请",url:"/specialDyeSearch",templateUrl:"app/site/specialDye/specialDyeSearch/specialDyeSearch.html",controller:"SpecialDyeSearchController",controllerAs:"specialDyeSearch"}).state("app.sampleRegistration",{title:"样本登记",url:"/sampleRegistration",templateUrl:"app/site/sampleRegistration/sampleRegistration.html",controller:"SampleRegistrationController",controllerAs:"sampleRegistration"}).state("app.sampleConsultationApply",{title:"会诊登记",url:"/sampleConsultationApply",templateUrl:"app/site/sampleRegistration/consultationApply/index.html",controller:"ConsultationApplyController",controllerAs:"consultation"}).state("app.sampleSearch",{title:"信息查询",url:"/sampleSearch",templateUrl:"app/site/sampleRegistration/sampleSearch.html",controller:"SampleSearchController",controllerAs:"sampleSearch"}).state("app.sampleSetting",{title:"登记设置",url:"/sampleSetting",templateUrl:"app/site/sampleRegistration/sampleSetting.html",controller:"SampleSettingController",controllerAs:"sampleSetting"}).state("app.createMaterial",{title:"取材",url:"/createMaterial",templateUrl:"app/site/drawMaterial/createMaterial/createMaterial.html",controller:"CreateMaterialController",controllerAs:"createMaterial"}).state("app.confirmMaterial",{title:"取材确认",url:"/confirmMaterial",templateUrl:"app/site/drawMaterial/confirmMaterial/confirmMaterial.html",controller:"ConfirmMaterialController",controllerAs:"confirmMaterial"}).state("app.searchMaterial",{title:"信息查询",url:"/searchMaterial",templateUrl:"app/site/drawMaterial/searchMaterial/searchMaterial.html",controller:"SearchMaterialController",controllerAs:"searchMaterial"}).state("app.configMaterial",{title:"取材设置",url:"/configMaterial",templateUrl:"app/site/drawMaterial/configMaterial/configMaterial.html",controller:"ConfigMaterialController",controllerAs:"configMaterial"}).state("app.grossing",{title:"脱水",url:"/grossing",templateUrl:"app/site/grossing/grossing/grossing.html",controller:"GrossingController",controllerAs:"grossing"}).state("app.grossingSetting",{title:"查看状态",url:"/setting",templateUrl:"app/site/grossing/setting/setting.html",controller:"GrossingSettingController",controllerAs:"gSetting"}).state("app.grossingStatus",{title:"脱水设置",url:"/grossingStatus",templateUrl:"app/site/grossing/status/status.html",controller:"GrossingStatusController",controllerAs:"gStatus"}).state("app.embed",{title:"包埋",url:"/embed",templateUrl:"app/site/embed/embed.html",controller:"EmbedController",controllerAs:"embed"}).state("app.embedSearch",{title:"包埋搜索",url:"/embedSearch",templateUrl:"app/site/embed/embedSearch.html",controller:"EmbedSearchController",controllerAs:"eSearch"}).state("app.embedSetting",{title:"包埋设置",url:"/embedSetting",templateUrl:"app/site/embed/embedSetting.html",controller:"EmbedSettingController",controllerAs:"eSetting"}).state("app.section",{title:"切片",url:"/section",templateUrl:"app/site/section/section.html",controller:"SectionController",controllerAs:"section"}).state("app.sectionSearch",{title:"切片搜索",url:"/sectionSearch",templateUrl:"app/site/section/sectionSearch.html",controller:"SectionSearchController",controllerAs:"sSearch"}).state("app.sectionSetting",{title:"切片设置",url:"/sectionSetting",templateUrl:"app/site/section/sectionSetting.html",controller:"SectionSettingController",controllerAs:"sSetting"}).state("app.createDye",{title:"染色封片",url:"/createDye",templateUrl:"app/site/dye/createDye/createDye.html",controller:"createDyeController",controllerAs:"createDye"}).state("app.searchDye",{title:"染色搜索",url:"/searchDye",templateUrl:"app/site/dye/searchDye/searchDye.html",controller:"searchDyeController",controllerAs:"searchDye"}).state("app.DyeSealing",{title:"封片",url:"/sealing",templateUrl:"app/site/dye/sealing/sealing.html",controller:"sealingController",controllerAs:"sealing"}).state("app.DyeSetting",{title:"设置",url:"/dyeSetting",templateUrl:"app/site/dye/setting/setting.html",controller:"DyeSettingController",controllerAs:"dyeSetting"}).state("app.ihcSearch",{url:"/ihcSearch",templateUrl:"app/site/ihc/ihcSearch/ihcSearch.html",controller:"IhcSearchController",controllerAs:"ihcSearch"}).state("app.ihcPrint",{url:"/ihcPrint",templateUrl:"app/site/ihc/print/ihcPrint.html",controller:"IhcPrintController",controllerAs:"ihcPrint"}).state("app.ProConfirmation",{title:"制片确认",url:"/proConfirmation",templateUrl:"app/site/product/confirmation/confirmation.html",controller:"ProConfirmationController",controllerAs:"proConfirmation"}).state("app.ProDistribution",{title:"派片",url:"/proDistribution",templateUrl:"app/site/product/distribution/distribution.html",controller:"ProDistributionController",controllerAs:"proDistribution"}).state("app.ProQualityGrade",{title:"质控评分",url:"/proQualityGrade",templateUrl:"app/site/product/qualityGrade/qualityGrade.html",controller:"ProQualityGradeController",controllerAs:"proQualityGrade"}).state("app.CreateDiagnosis",{title:"诊断",url:"/createDiagnosis",templateUrl:"app/site/diagnosis/createDiagnosis/createDiagnosis.html",controller:"createDiagnosisController",controllerAs:"createDiagnosis"}).state("app.SearchDiagnosis",{title:"信息查询",url:"/searchDiagnosis",templateUrl:"app/site/diagnosis/searchDiagnosis/searchDiagnosis.html",controller:"searchDiagnosisController",controllerAs:"searchDiagnosis"}).state("app.collectDiagnosis",{title:"收藏",url:"/collectDiagnosis",templateUrl:"app/site/diagnosis/collection/collection.html",controller:"collectDiagnosisController",controllerAs:"diagnose"}).state("app.report",{title:"报告",url:"/report",templateUrl:"app/site/report/report.html",controller:"ReportController",controllerAs:"report"}).state("app.reportSignQuery",{title:"报告签收",url:"/signQuery",templateUrl:"app/site/report/signQuery.html",controller:"SignQueryController",controllerAs:"signQuery"}).state("app.blockArchive",{title:"蜡块存档",url:"/blockArchive",templateUrl:"app/site/archive/blockArchive/blockArchive.html",controller:"BlockArchiveController",controllerAs:"blockArchive"}).state("app.slideArchive",{title:"玻片存档",url:"/slideArchive",templateUrl:"app/site/archive/slideArchive/slideArchive.html",controller:"SlideArchiveController",controllerAs:"slideArchive"}).state("app.borrowArchive",{title:"借阅登记",url:"/borrowArchive",templateUrl:"app/site/archive/borrowArchive/borrowArchive.html",controller:"BorrowArchiveController",controllerAs:"borrowArchive"}).state("app.returnArchive",{title:"归还登记",url:"/returnArchive",templateUrl:"app/site/archive/returnArchive/returnArchive.html",controller:"ReturnArchiveController",controllerAs:"returnArchive"}).state("app.queryArchive",{title:"信息查询",url:"/queryArchive",templateUrl:"app/site/archive/queryArchive/queryArchive.html",controller:"QueryrchiveController",controllerAs:"queryArchive"}).state("app.reagentState",{title:"库存",url:"/reagentState",templateUrl:"app/site/reagent/state/index.html",controller:"ReagentStateController",controllerAs:"reagent"}).state("app.reagentStore",{title:"入库",url:"/reagentSore",templateUrl:"app/site/reagent/store/index.html",controller:"ReagentStoreController",controllerAs:"reagent"}).state("app.reagentUse",{title:"使用记录",url:"/reagentUse",templateUrl:"app/site/reagent/use/index.html",controller:"ReagentUseController",controllerAs:"reagent"}).state("app.reagentType",{title:"试剂",url:"/reagentType",templateUrl:"app/site/reagent/type/reagentType.html",controller:"ReagentTypeController",controllerAs:"reagent"}).state("app.SettingDiagnosis",{title:"设置",url:"/settingDiagnosis",templateUrl:"app/site/diagnosis/settingDiagnosis/settingDiagnosis.html",controller:"settingDiagnosisController",controllerAs:"settingDiagnosis"}).state("app.AllStatistic",{title:"总览",url:"/allStatistic",templateUrl:"app/site/statisticalReport/allStatistic/allStatistic.html",controller:"allStatisticController",controllerAs:"allStatistic"}).state("app.WorkStatistic",{title:"工作量",url:"/workStatistic",templateUrl:"app/site/statisticalReport/workStatistic/workStatistic.html",controller:"workStatisticController",controllerAs:"workStatistic"}).state("app.GradeStatistic",{title:"质控评分",url:"/gradeStatistic",templateUrl:"app/site/statisticalReport/gradeStatistic/scoreStatistic.html",controller:"ScoreStatisticController",controllerAs:"scoreStatistic"}).state("app.FreezeStatistic",{title:"冰冻预约",url:"/freezeStatistic",templateUrl:"app/site/statisticalReport/freezeStatistic/freezeStatistic.html",controller:"FreezeStatisticController",controllerAs:"fStatistic"}).state("app.CreateQuery",{title:"病例查询",url:"/createQuery",templateUrl:"app/site/caseQuery/createQuery/createQuery.html",controller:"createQueryController",controllerAs:"createQuery"}).state("app.QueryResearch",{title:"科研",url:"/queryResearch",templateUrl:"app/site/caseQuery/queryResearch/queryResearch.html",controller:"researchQueryController",controllerAs:"researchQuery"}).state("app.QueryAdvice",{title:"医嘱",url:"/queryAdvice",templateUrl:"app/site/caseQuery/adviceQuery/adviceQuery.html",controller:"adviceQueryController",controllerAs:"adviceQuery"}).state("app.QueryProStatus",{title:"样本状态",url:"/queryProStatus",templateUrl:"app/site/caseQuery/status/status.html",controller:"ProStatusController",controllerAs:"proStatus"}).state("app.freezeSlide",{title:"冰冻取材",url:"/freezeMaterial",templateUrl:"app/site/freeze/freezeMaterial/createMaterial.html",controller:"FreezeMaterialController",controllerAs:"freeze"}).state("app.freezeSearch",{title:"信息查询",url:"/freezeSearch",templateUrl:"app/site/freeze/freezeSearch/searchMaterial.html",controller:"FreezeSearchController",controllerAs:"freeze"}).state("app.freezeSetting",{title:"设置",url:"/freezeSetting",templateUrl:"app/site/freeze/freezeSetting/configMaterial.html",controller:"FreezeSettingController",controllerAs:"freeze"}).state("app.UserModule",{title:"用户管理",url:"/userModule",templateUrl:"app/site/userManage/userManage/userManage.html",controller:"userManageController",controllerAs:"userManage"}).state("app.GradeModule",{title:"质控评分",url:"/gradeModule",templateUrl:"app/site/userManage/gradeModule/gradeModule.html",controller:"gradeModuleController",controllerAs:"gradeModule"}).state("app.SystemModule",{title:"系统设置",url:"/systemModule",templateUrl:"app/site/userManage/systemSetting/systemSetting.html",controller:"systemSettingModuleController",controllerAs:"systemModule"}),e.otherwise("/login")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("pathcloud").config(t)}(),function(){"use strict";angular.module("pathcloud").constant("printUrl","http://localhost:4000").constant("webServerUrl","http://localhost:8887").constant("apiUrl","api")}(),function(){"use strict";function t(t,e){t.timeOut=2e3,t.preventOpenDuplicates=!0;var a=window.localStorage.lang||"cn";e.useStaticFilesLoader({prefix:"./assets/i18n/",suffix:".json"}),e.preferredLanguage(a),e.use(a),e.fallbackLanguage(a)}t.$inject=["toastrConfig","$translateProvider"],angular.module("pathcloud").config(t)}(),angular.module("pathcloud").run(["$templateCache",function(t){t.put("app/site/site.html",'<div><thf-header></thf-header><div class=page-content auto-height style="margin-top: 60px"><rd-loading ng-show=loading></rd-loading><ui-view></ui-view></div><thf-footer></thf-footer></div>'),t.put("app/components/footer/footer.html","<div class=footer><div class=page-container><div class=pull-left><p class=footer-term>© 2017 Thermo Fisher Scientific Inc. All Rights Reserved</p></div><div class=pull-right><img class=footer-logo src=./assets/images/logo.png></div></div></div>"),t.put("app/components/header/header.html",'<div class=header><div class=page-container><div class=col-xs-1><img class=cursor-pointer ng-show=navbar.length ui-sref=app.home width=35px src=assets/images/icon-home.png alt=病理追踪系统主页><!--<i ng-show="navbar.length" ui-sref="app.home" class="fa fa-home fa-4x"></i>--></div><div class=col-xs-8><ul class="list-unstyled list-inline nav"><!--<li ui-sref-active="active" ng-repeat="item in navbar" ui-sref="{{item.href}}" ng-click="header.choose(item.title,item.href)" ng-class="{\'active\':item.active}">{{::item.title}}</li>--><li id=route{{$index}} ng-if=navbar.length ng-class="{active: $state.includes(item.href)}" ng-repeat="item in navbar" ui-sref={{item.href}}>{{item.title|translate}}</li><div style="font-weight: 700; font-size: 18px; color: #ffffff" ng-if=!navbar.length>PathTraq</div><!--<li ng-show="$state.includes(\'application\')" ui-sref-active="active" ng-repeat="item in navbar.application" ui-sref="{{item.href}}">{{::item.title}}</li>--></ul></div><div class=col-xs-1><select class=language-switching ng-model=header.cur_lang ng-change=header.switching(header.cur_lang)><option value=en>English</option><option value=cn>简体中文</option></select></div><div class=col-sm-2><div class="col-sm-6 pull-left"><a href ui-sref=app.notification id=notification><img class=cursor-pointer width=25 src=assets/images/icon-bell.png alt=通知图标><!--<i class="fa fa-bell fa-2x"></i>--> <span ng-bind=totalNotification style="position: absolute;padding: 0 5px;color: #fff"></span></a></div><div class="item dropdown col-sm-6" uib-dropdown><a href=# class=dropdown-toggle uib-dropdown-toggle style="margin-left: 30px"><img class=cursor-pointer width=22 src=assets/images/icon-user.png alt=用户图标><!--<i class="fa fa-user-circle fa-2x"></i>--><!--<qrcode ng-show="!header.user.isAdmin" version="5" error-correction-level="H" size="50" data="{{header.qrCode}}"></qrcode>--></a><ul class="dropdown-menu dropdown-menu-left"><li class="dropdown-header text-center list-unstyled"><div>{{user.username}}</div></li><li class=divider></li><li class=link><a ui-sref=app.profile><!--ng-click="header.getProfile()"--> {{"个人信息"|translate}}</a></li><li class=link><a ng-click="header.open(\'\')">{{"修改密码"|translate}}</a></li><li class=divider></li><li class=link><a ng-click=header.checkOut()>{{"退出"|translate}}</a></li></ul></div></div></div></div>'),t.put("app/components/navbar/navbar.html",'<div id=nav><nav class="navbar navbar-static-top navbar-inverse"><div class=container-fluid><div class=navbar-header><a class=navbar-brand href=https://github.com/Swiip/generator-gulp-angular><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-6><ul class="nav navbar-nav"><li class=active><a ng-href=#>Home</a></li><li><a ng-href=#>About</a></li><li><a ng-href=#>Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav></div>'),t.put("app/components/pathologicalForm/pathologicalForm.html",'<div id=pathologicalForm class=center-block><!--<div class="pull-right" style="position: absolute;right: 90px;top:130px;">--><!--&lt;!&ndash;<p class="applyNo">病理申请号: <span>20160826134408</span></p>&ndash;&gt;--><!--</div>--><!--<div class="container">--><form id=pathological_form ng-class="{\'disabled\':readonly}" name=pathological_form ng-disabled=readonly novalidate><div class=table-responsive><table class="table table-bordered"><tbody><tr><td>{{"病人姓名"|translate}}<span ng-show=pathological.required.patientName.required class="red-sign hideWhenPrint">*</span></td><td><input ng-model=pathological.data.patientName ng-value=pathological.data.patientName type=text id=patient-name name=patient-name ng-readonly=readonly ng-required=pathological.required.patientName.required></td><td>{{"门诊号"|translate}}</td><td ng-class="{\'error\':pathological_form.patientNo.$invalid} "><input ng-model=pathological.data.patientNo name=patientNo ng-value=pathological.data.patientNo type=text maxlength=11 ng-readonly=readonly ng-pattern=/^[0-9]*$/ ></td><td>{{"住院号"|translate}}<span class="required hideWhenPrint">*</span></td><td ng-class="{\'error\':pathological_form.admissionNo.$invalid && pathological_form.admissionNo.$dirty} "><input ng-pattern=/^[0-9]*$/ ng-model=pathological.data.admissionNo name=admissionNo ng-value=pathological.data.admissionNo type=text maxlength=11 ng-readonly=readonly required></td></tr><tr><td>{{"年龄"|translate}}<span class="required hideWhenPrint">*</span></td><td ng-class="{\'error\':pathological_form.age.$invalid && pathological_form.age.$dirty} "><input ng-model=pathological.data.age ng-pattern=/^[0-9]*$/ name=age ng-value=pathological.data.age type=text maxlength=3 ng-readonly=readonly required></td><td>{{"性别"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.sexList,pathological.data.sex)}}</span><select class=hideWhenPrint id=sex name=sex ng-model=pathological.data.sex ng-value=pathological.data.sex ng-options="sex.value as sex.name for sex in pathological.sexList" ng-disabled=readonly required></select></td><td>{{"婚否"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.maritalStatusList,pathological.data.maritalStatus)}}</span><select class=hideWhenPrint name=maritalStatus ng-model=pathological.data.maritalStatus ng-hide="pathological.data.maritalStatus===90 && readonly" ng-value=pathological.data.maritalStatus ng-options="maritalStatus.value as maritalStatus.name for maritalStatus in pathological.maritalStatusList" ng-disabled=readonly></select><!--<input type="text"/>--></td></tr><tr><td>{{"联系电话"|translate}}</td><td ng-class="{\'required\':pathological_form.tel.$invalid} "><input ng-model=pathological.data.patientTel ng-value=pathological.data.patientTel name=tel type=text ng-readonly=readonly onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td><td>{{"籍贯"|translate}}</td><td ng-class="{\'error\':pathological_form.originPlace.$invalid} "><input name=originPlace ng-model=pathological.data.originPlace ng-value=pathological.data.originPlace maxlength=20 type=text ng-readonly=readonly></td><td>{{"职业"|translate}}</td><td ng-class="{\'error\':pathological_form.profession.$invalid} "><input name=profession ng-model=pathological.data.profession ng-value=pathological.data.profession maxlength=20 type=text ng-readonly=readonly></td></tr><tr><td>{{"联系地址"|translate}}</td><td ng-class="{\'error\':pathological_form.address.$invalid} " colspan=5><input name=address ng-model=pathological.data.address ng-value=pathological.data.address maxlength=30 type=text ng-readonly=readonly></td></tr><tr><td>{{"送检医院"|translate}}</td><td ng-class="{\'error\':pathological_form.hospital.$invalid} "><select class=hideWhenPrint name=hospital ng-value=pathological.data.hospital ng-model=pathological.data.hospital ng-options="item.code as item.name for item in pathological.inspectHospitalList" ng-disabled=readonly><option value="">请选择</option></select><span class=showWhenPrint>{{pathological.data.hospital | hospital}}</span><!--<input name="hospital" ng-model="pathological.data.hospital" ng-value="pathological.data.hospital" maxlength="30" type="text" ng-readonly="readonly" />--></td><td style="min-width: 90px">{{"送检医生"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><input name=doctor ng-model=pathological.data.doctor ng-value=pathological.data.doctor type=text required ng-readonly=readonly maxlength=10></td><td style="min-width: 100px">{{"送检医生电话"|translate}}</td><td ng-class="{\'error\':pathological_form.doctorTel.$invalid&&pathological_form.doctorTel.$dirty} "><input name=doctorTel ng-model=pathological.data.doctorTel ng-value=pathological.data.doctorTel type=text ng-readonly=readonly onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td></tr><tr><td>{{"送检科室"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td style="position: relative"><department-select ng-if=pathological.data class=department-selecter text=pathological.data.departments|department value=pathological.data.departments></department-select></td><!--<td ng-class="{\'error\':pathological_form.departments.$invalid} "><input name="departments" ng-model="pathological.data.departments" ng-value="pathological.data.departments" maxlength="20" type="text" ng-readonly="readonly" /></td>--><td>{{"检查项目"|translate}}</td><td ng-class="{\'error\':pathological_form.inspectionItem.$invalid} "><input name=inspectionItem ng-model=pathological.data.inspectionItem ng-value=pathological.data.inspectionItem maxlength=20 type=text ng-readonly=readonly></td><td>{{"就诊类别"|translate}}</td><td ng-class="{\'error\':pathological_form.visitCat.$invalid} "><input name=visitCat ng-model=pathological.data.visitCat ng-value=pathological.data.visitCat maxlength=20 type=text ng-readonly=readonly></td></tr><tr ng-if="pathological.data.sex == 2"><td>{{"妇科类别"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.gynaecologyList,pathological.data.gynaecology)}}</span><select class=hideWhenPrint ng-model=pathological.data.gynaecology ng-value=pathological.data.gynaecology ng-options="gynaecology.value as gynaecology.name for gynaecology in pathological.gynaecologyList" ng-disabled=readonly></select><!--<input type="text"/>--></td><td>{{"是否绝经"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.menopauseList,pathological.data.menopause)}}</span><select class=hideWhenPrint ng-model=pathological.data.menopause ng-value=pathological.data.menopause ng-options="menopause.value as menopause.name for menopause in pathological.menopauseList" ng-disabled="readonly||pathological.data.gynaecology===false"></select><!--<input type="text"/>--></td><td>{{"绝经日期"|translate}}</td><td><div ng-hide="readonly || !pathological.data.menopause" class=hideWhenPrint><input type=text readonly clear-text=清除 close-text=确定 current-text=今天 name=menopauseEnd class=form-control style="text-align: left; cursor:pointer" datepicker-options=menopauseDateOptions uib-datepicker-popup ng-model=pathological.data.menopauseEnd ng-value=pathological.data.menopauseEnd is-open=pathological.openPop ng-click="pathological.openPop=!pathological.openPop"><!--<span ng-show="!readonly" class="input-group-btn">\n                                  <button type="button" class="btn btn-default" ng-disabled="readonly||!pathological.data.menopause" ng-click="pathological.openPop=!pathological.openPop"><i class="glyphicon glyphicon-calendar"></i></button>\n                                </span>--></div><span ng-show=readonly>{{pathological.data.menopauseEnd | date:"yyyy-MM-dd"}}</span><!--<input ng-model="pathological.data.menopauseEnd " ng-value="pathological.data.menopauseEnd" ng-readonly="readonly||pathological.data.gynaecology===false" type="date"/>--></td></tr><tr ng-if="pathological.data.sex == 2"><td>{{"经期及持续时间"|translate}}</td><td><input ng-model=pathological.data.menopauseTime ng-value=pathological.data.menopauseTime type=text ng-readonly="readonly||pathological.data.gynaecology===false"></td><td>{{"绒毛膜促性腺激素值"|translate}}</td><td ng-class="{\'error\':pathological_form.hcg.$invalid} "><input ng-model=pathological.data.hcg name=hcg ng-value=pathological.data.hcg type=text ng-pattern=/^(\\d*\\.)?\\d+$/ ng-readonly="readonly||pathological.data.gynaecology===false"></td><td>{{"妇科备注"|translate}}</td><td><input type=text ng-model=pathological.data.gynaecologyRemark maxlength=10 ng-readonly="readonly||pathological.data.gynaecology===false"></td></tr><tr class=hideWhenPrint><td style=min-width:110px>{{"临床诊断"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.clinicalDiagnosis ng-value=pathological.data.clinicalDiagnosis ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.clinicalDiagnosis></div></td></tr><tr class=hideWhenPrint><td>{{"病历摘要"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.medicalSummary ng-value=pathological.data.medicalSummary ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.medicalSummary></div></td></tr><tr class=hideWhenPrint><td>{{"临床所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.clinicalFindings ng-value=pathological.data.clinicalFindings ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.clinicalFindings></div></td></tr><tr class=hideWhenPrint><td>{{"影像所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.imagingFindings ng-value=pathological.data.imagingFindings ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.imagingFindings></div></td></tr><tr class=hideWhenPrint><td>{{"手术名称及所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.operationFindings ng-value=pathological.data.operationFindings ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.operationFindings></div></td></tr><tr class=hideWhenPrint><td>{{"过往病史"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.medicalHistory ng-value=pathological.data.medicalHistory ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.medicalHistory></div></td></tr><tr class=hideWhenPrint><td>{{"曾用药品及剂量"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.historyMedicine ng-value=pathological.data.historyMedicine ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.historyMedicine></div></td></tr><tr class=hideWhenPrint><td>{{"历史病理"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.historyPathology ng-value=pathological.data.historyPathology ng-readonly=readonly></textarea><div ng-show=readonly ng-bind=pathological.data.historyPathology></div></td></tr></tbody></table></div><br><!--添加样本信息表格 在登记页面默认应该隐藏--><div class=table-responsive ng-hide=hideSampleTable><table class="table table-bordered" id=sample-table><thead><tr><th>{{"序号"|translate}}</th><th ng-if=pathological.data.samples[0].serialNumber>{{"样本编号"|translate}}</th><th>{{"样本名称"|translate}}<span class="red-sign hideWhenPrint">*</span></th><th>{{"样本类别"|translate}}</th><th class=hideWhenPrint ng-if=showOperation>{{"操作"|translate}}</th></tr></thead><tbody><tr ng-repeat="item in pathological.data.samples track by $index"><td>{{$index + 1}}</td><td ng-if=item.serialNumber>{{item.serialNumber}}</td><td><input type=text ng-model=item.name ng-value=item.name maxlength=20 required ng-readonly=readonly></td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.categoryList,item.category)}}</span><select class=hideWhenPrint name=sample ng-model=item.category ng-value=item.category ng-options="category.code as category.name for category in pathological.categoryList" ng-disabled=readonly ng-readonly=readonly><!--<option value="1">大样本</option>--><!--<option value="2">小样本</option>--></select></td><td class=hideWhenPrint ng-if=showOperation><a class="btn btn-input" ng-click=pathological.delSample($index) ng-disabled=readonly ng-readonly=readonly><i class="glyphicon glyphicon-trash"></i>{{"删除"|translate}}</a></td></tr><tr ng-if=showOperation class=hideWhenPrint><td></td><td></td><td></td><td><a class="btn btn-input" ng-click=pathological.addSample1() ng-disabled=readonly><i class="glyphicon glyphicon-plus"></i>{{"添加"|translate}}</a></td></tr></tbody></table></div><div class="text-center hideWhenPrint" ng-if=showOperation><div class=checkbox><label><input type=checkbox ng-model=pathological.data.urgentFlag ng-disabled=readonly>{{"加急处理"|translate}}</label></div><button ng-hide=hideSubmit name=apply click-debounce ng-disabled="pathological_form.$invalid || !pathological.data.samples.length ||!pathological.data.departments" ng-click=pathological.submit() type=submit class="btn btn-default btn-lg" id=bed-submit>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{"提交"|translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button></div></form><!--</div>--></div><!--//Can not deserialize instance of java.util.ArrayList out of START_OBJECT token-->'),
t.put("app/components/report/report.html",'<div class=report-template><fieldset><img class=logo src="" alt=logo ng-src={{reportTemplate.reportTemplateVO.imageURL}}><h3 class=text-center ng-bind=reportTemplate.reportTemplateVO.reportBigName>大标题</h3><p class=text-center ng-bind=reportTemplate.reportTemplateVO.reportSmallName>小标题</p></fieldset><br><div class="clearfix patient-id"><!--<div class="patient pull-left">--><div class="div-table pull-left" ng-show=reportTemplate.reportTemplateVO.patientInformation[1].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[1].name}}：</div><div class=content>{{reportInfo.reportData.admissionNo}}</div></div><!--</div>--><!--<div class="pull-right">--><div class="div-table pull-right" ng-show=reportTemplate.reportTemplateVO.patientInformation[2].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[2].name}}：</div><div class=content>{{reportInfo.reportData.pathNo}}</div></div><!--</div>--></div><fieldset><!--<div class="div-table clearfix">\n      <div class="name" ng-repeat="item in reportTemplate.reportTemplateVO.patientInformation" ng-show="item.check">\n        {{item.name}}\n      </div>\n      <div class="content" ng-repeat="item in reportTemplate.reportTemplateVO.patientInformation" ng-show="item.check">\n        {{item.check}}\n      </div>\n    </div>--><div class="clearfix patientInfo-container"><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[0].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[0].name}}：</div><div class=content>{{reportInfo.reportData.hisId}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[3].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[3].name}}：</div><div class=content>{{reportInfo.reportData.patientNo}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[4].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[4].name}}：</div><div class=content>{{reportInfo.reportData.patientName}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[5].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[5].name}}：</div><div class=content>{{reportInfo.reportData.age}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[6].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[6].name}}：</div><div class=content>{{reportInfo.reportData.sex| sex}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[7].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[7].name}}：</div><div class=content>{{reportInfo.reportData.bedNo}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[8].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[8].name}}：</div><div class=content>{{reportInfo.reportData.departmentsDesc}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[9].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[9].name}}：</div><div class=content>{{reportInfo.reportData.receiveTime|date:\'yyyy-MM-dd HH:mm\'}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[10].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[10].name}}：</div><div class=content>{{reportInfo.reportData.applyDoctor.firstName}}</div></div><div class=div-table ng-show=reportTemplate.reportTemplateVO.patientInformation[11].check><div class=name>{{reportTemplate.reportTemplateVO.patientInformation[11].name}}：</div><div class=content>{{reportInfo.reportData.patientPosition}}</div></div></div></fieldset><!--肉眼所见--><div ng-show=reportTemplate.reportTemplateVO.diagnosticContent[0].check><h5>{{reportTemplate.reportTemplateVO.diagnosticContent[0].name}}:</h5>巨检描述：<div class=userSeeHtml ng-bind-html=reportInfo.reportData.jujianNote></div>巨检图像：<div><img width=100 ng-repeat="url in reportInfo.reportData.jujianImg" ng-src={{url}} alt=""></div></div><!--显微所见--><div ng-show=reportTemplate.reportTemplateVO.diagnosticContent[1].check><h5>{{reportTemplate.reportTemplateVO.diagnosticContent[1].name}}:</h5><div class=micro-img></div></div><!--病理诊断--><div ng-show=reportTemplate.reportTemplateVO.diagnosticContent[2].check><h5>{{reportTemplate.reportTemplateVO.diagnosticContent[2].name}}:</h5><div class=diagnosis ng-bind-html=reportInfo.reportData.resultDom></div></div><fieldset class=clearfix style="border-top: 1px solid; padding-top: 4px; margin-top: 4px"><div class="col-sm-4 no-padding" ng-show=reportTemplate.reportTemplateVO.diagnosticInformation[0].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[0].name}} ：{{reportInfo.reportData.diagnoseDoctor.firstName}}</div><div class="col-sm-4 no-padding" ng-show=reportTemplate.reportTemplateVO.diagnosticInformation[1].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[1].name}} ：{{reportInfo.reportData.diagnoseTime | date : \'yyyy-MM-dd HH:mm\'}}</div><div class="col-sm-4 no-padding" ng-show=reportTemplate.reportTemplateVO.diagnosticInformation[2].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[2].name}} ：{{reportInfo.reportData.diagnoseDoctor.firstName}}</div></fieldset><fieldset class=clearfix style="margin-top: 10px"><pre class="hospital-info col-sm-7 no-padding">{{reportTemplate.reportTemplateVO.hospitalInformation}}</pre></fieldset><div class=text-right style="padding: 0 10px">{{reportTemplate.reportTemplateVO.specialTip}}</div></div>'),t.put("app/components/template/template.html",'<div><div class="pull-left template-left" ng-click=stopPropagation($event)><p>{{\'模板类别\'|translate}}</p></div><div class="pull-left template-main" ng-click=stopPropagation($event)><ul class=list-unstyled><li class=cursor-pointer ng-repeat="oItem in oneLevel" ng-class="{active:activeTemplate===$index}" ng-click=chooseOneLevel(oItem,$index)>{{oItem.name}}<div class="pull-right i-container"><i class="glyphicon glyphicon-play" ng-show="activeTemplate===$index"></i></div></li></ul></div><div class="pull-right template-right"><ul class=list-unstyled><li class=cursor-pointer ng-repeat="tItem in twoLevel" ng-class="{active:twoTemplate===$index}" ng-click=chooseTwolevel(tItem,$index)>{{tItem.name}}<div class="pull-right i-container"><i class="glyphicon glyphicon-play" ng-show="twoTemplate===$index"></i></div></li></ul></div></div>'),t.put("app/components/slider/slider-container.html",'<div class=slider><div class=slider-container ng-style="{width:pages*scrollWidth+\'px\'}" ng-transclude></div><a class="move move-left flex-center" href="" ng-click=left()><span aria-hidden=true class="glyphicon glyphicon-chevron-left"></span> <span class=sr-only>previous</span> </a><a class="move move-right flex-center" href="" ng-click=right()><span aria-hidden=true class="glyphicon glyphicon-chevron-right"></span> <span class=sr-only>next</span></a></div>'),t.put("app/components/templateType/templateType.html",'<div class=template-container><div class=col-sm-3><div class=title><h4>{{\'一级目录\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in OneLevelList" ng-class="{active:activeTemplate===$index}" ng-click=choseTemplate(item,$index)><input ng-model=item.name auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;saveTemplate(item,OneLevelList,$index)"><div class="pull-right i-container"><i ng-show="activeTemplate===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button ng-click=addTemplate(OneLevelList,0)><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button ng-click="OneLevelList[activeTemplate].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button ng-click=deleteTemplate(activeTemplateId)><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-3><div class=title><h4>{{\'二级目录\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li id=templateName{{$index}} ng-repeat="item in TwoLevelList" ng-class="{active:twoTemplate===$index}" ng-click=choseTwoTemplate(item,$index)><input ng-model=item.name id=template_{{$index}} auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;saveTemplate(item,TwoLevelList,$index)"><div class="pull-right i-container"><i ng-show="twoTemplate===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button id=add ng-click=addTemplate(TwoLevelList,1)><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button id=reName ng-click="TwoLevelList[twoTemplate].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button id=delete ng-click=deleteTemplate(twoTemplateId)><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-6><div class=title><h4>{{\'模板内容\'|translate}}</h4></div><div class=content><div class=list-container style=padding-top:0><textarea class=form-control style=height:100%;width:100%;outline:none;border:0 ng-disabled=!focusText ng-model=TwoLevelList[twoTemplate].content></textarea></div><div class=list-toolbar><div class=flex-box><button class=btn-info ng-click=changeText()><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{focusText?"保存":"编辑"|translate}}</button></div></div></div></div></div>'),t.put("app/site/application/applyPathological.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:activeMenu==1}" ng-click=menuSwitch(1) id=subRoute1>{{"临床"|translate}}</li><li ng-class="{active:activeMenu==0}" ng-click=menuSwitch(0) id=subRoute2>{{"科研"|translate}}</li></ul></toolbar><div id=applyPathological><div class=main><div class=application-header><h3 class="text-left application-header">{{"病理申请表"|translate}}</h3></div><!--临床部分--><div class=bed ng-hide="activeMenu==0"><div style="margin-bottom: 20px">{{"病人ID"|translate}}：<input class=scan-input type=text placeholder="{{\'请输入病人ID\'|translate}}" name=patientId auto-focus=true autofocus></div><!--科研 1 --><thf-pathological ng-if="activeMenu==1"></thf-pathological></div><!--科研部分--><div class=research ng-if="activeMenu==0"><application-research></application-research></div></div><!--用于测试显示病理申请号--><div id=applicationNo style="height: 0;position:absolute; visibility: hidden" ng-bind=test_serialNumber></div></div>'),t.put("app/site/application/viewApplication.html",'<toolbar class=clearfix><!--<div class="form-inline">--><div class="form-control-static form-inline clearfix"><search-input id=search class=pull-right style="width: 350px" model=viewApplication.searchStr get-data=viewApplication.search() placeholder="{{\'病理申请号/病人姓名\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><div class="form-inline toolbar" style="background: none"><date-seletor id=date dateset=viewApplication.defaultTime start-time=viewApplication.startTime end-time=viewApplication.endTime></date-seletor><select id=status class="form-control input-sm" ng-model=viewApplication.searchData.status ng-options="status.value as status.name for status in viewApplication.statusList"><option value="">{{"选择状态"|translate}}</option></select><button ng-click=viewApplication.query() id=query class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{"筛选"|translate}}</button></div><div class="accord table"><uib-accordion close-others=false><div uib-accordion-group class=panel-default is-open=status.open ng-init="status.open=$index<3" id={{item.serialNumber}} ng-repeat="item in viewApplication.data track by $index"><uib-accordion-heading><div class=form-control-static>{{"病理申请号"|translate}}：<span>{{item.serialNumber}}</span> | {{"病人姓名"|translate}}：<span>{{item.patientName}}</span> | {{"状态"|translate}}：<span>{{item.statusName}}</span> <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-up\': status.open, \'glyphicon-chevron-down\': !status.open}"></i></div></uib-accordion-heading><div class="left col-sm-8"><div class="row pad-13"><div class=col-sm-4>{{"申请时间"|translate}}：<span>{{item.createTime| date : \'yyyy-MM-dd HH:mm\'}}</span></div><div class=col-sm-4>{{"检查项目"|translate}}：<span>{{item.inspectionItem}}</span></div><div class=col-sm-4>{{"就诊类别"|translate}}：<span>{{item.visitCat}}</span></div><!--<div>申请时间：<span>{{item.createTime| date : \'yyyy-MM-dd hh:mm\'}}</span>检查项目：<span>{{item.inspectionItem}}</span>就诊类别：<span>{{item.visitCat}}</span></div>--></div><div class=table><table class="table table-hover table-bordered"><thead><tr><th>{{"样本号"|translate}}</th><th>{{"样本名称"|translate}}</th><th>{{"样本类别"|translate}}</th></tr></thead><tbody><tr ng-repeat="sample in item.samples"><td>{{sample.serialNumber}}</td><td>{{sample.name}}</td><td><!--{{sample.category==1?"大样本":"小样本"}}--><select name=sample ng-model=sample.category ng-value=sample.category ng-options="category.code as category.name for category in viewApplication.categoryList" readonly disabled></select></td></tr></tbody></table></div></div><div class="right col-sm-4"><div class="form-control-static form-inline clearfix"><button class="btn btn-default" ng-click=viewApplication.view(item.serialNumber) id=viewApplicationButton{{$index}}>{{"查看申请"|translate}}</button> <button class="btn btn-default" ng-click=viewApplication.printLabel(item.samples) id=printsLabellingButton{{$index}}>{{"打印标签"|translate}}</button> <button class="btn btn-default" ng-disabled="!(item.status==1||item.status==30)" ng-click=viewApplication.cancel(item.id,item.researchType) id=cancelApplicationButton{{$index}}>{{"撤销申请"|translate}}</button></div><div ng-show="item.status==3" class=text-area><div>{{"拒收原因"|translate}}：</div><div class=reject-reason><p ng-bind-html=item.reasonType>{{item.reasonType}}</p><p style="word-break: break-all" data-ng-bind-html=item.rejectReason>{{}}</p></div><!--<textarea class="form-control reject-reason" ng-model="item.rejectReason" name="" id="" rows="5" readonly></textarea>--></div></div></div></uib-accordion><div class=table-footer><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind=viewApplication.totalItems></span>{{"条结果"|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=viewApplication.searchData.length max-size=10 total-items=viewApplication.totalItems ng-model=viewApplication.searchData.page ng-change=viewApplication.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/embed/embed.html",'<div id=embedCreate focus-search><toolbar class=clearfix><div class="search clearfix"><search-input class=pull-right style="width: 400px" model=embed.filter clear=true get-data=embed.getBlockInfo() placeholder="{{\'输入病理号和蜡块号查询\'|translate}}"></search-input><!--<div class="input-group">--><!--<input class="form-control" type="text" ng-model="createMaterial.searchData.filter" ng-keyup="eCreate.search($event)" auto-focus="true" onfocus=" this.style.imeMode=\'active\' " autofocus placeholder="姓名/病理号，号段用\'-\'分开 ">--><!--<span class="input-group-btn">--><!--<button class="btn btn-default" type="button" ng-click="eCreate.search()"><span class="glyphicon glyphicon-search"></span></button>--><!--</span>--><!--</div>--></div></toolbar><div class=page><!--<code>{{embed.blockInfo}}</code>--><div class="content-box content-embed clearfix center-block"><div class=clearfix><div class=pull-left style="width: 140px; margin-left: 28px"><div class=img-box><img src=./assets/images/embed-box.png height=70 width=100 alt=包埋图片></div><div class="color-box text-center"><div class=big>{{embed.blockInfo.count}}</div><p>{{\'组织数\'|translate}}</p></div></div><div class=text-box><div class="text big">{{\'病理号\'|translate}}：{{embed.blockInfo.pathologySerialNumber}}</div><div class="text big">{{\'蜡块号\'|translate}}：{{embed.blockInfo.subId}}</div><div class=text>{{\'病人姓名\'|translate}}：{{embed.blockInfo.patientName}}</div><div class=text>{{\'送检科室\'|translate}}：{{embed.blockInfo.departments | department}}</div><div class=text>{{\'取材医生\'|translate}}：{{embed.blockInfo.grossingDoctor.firstName}}</div></div><div class=text-box><div class=text>{{\'取材备注\'|translate}}：</div><div class="text high text-ellipsis" uib-popover={{embed.blockInfo.grossingRemark}}>{{embed.blockInfo.grossingRemark}}</div><div class=text>{{\'取材标识\'|translate}}：{{embed.blockInfo.biaoshiDesc}}</div><div class=text>{{\'取材部位\'|translate}}：{{embed.blockInfo.bodyPart}}</div></div><div class="text-box text-remark"><div class=text>{{\'包埋备注\'|translate}}：</div><select class=form-control ng-model=embed.remark.noteType ng-options="item.name as item.name for item in embed.embedRemarkLIst"><option value="">{{\'选择常见问题\'|translate}}</option></select><div class=text>{{\'其他\'|translate}}</div><textarea class="form-control form-group" name="" rows=1 ng-model=embed.remark.note></textarea><div class=form-inline><label class=checkbox-inline for=stop><input id=stop ng-model=embed.blockInfo.embedPause type=checkbox ng-click=embed.pause()>暂停包埋</label><button id=reGrossing class="pull-right btn btn-default" ng-disabled="!embed.blockInfo.blockId||embed.blockInfo.status!=14" ng-click=embed.reGrossing()>申请重补取</button></div></div></div><!--进度条部分--><div class=clearfix style="margin-left: 178px; margin-top: 30px"><div class=progress-box><div>{{\'当前病理号完成包埋进度\'|translate}}：</div><uib-progressbar max=embed.blockInfo.pathBlockCount value=embed.blockInfo.pathEmbedCount type=success><span style="color:#000; white-space:nowrap">{{embed.blockInfo.pathEmbedCount}} / {{embed.blockInfo.pathBlockCount}}</span></uib-progressbar></div><div class=progress-box><div>{{\'当日包埋工作量进度\'|translate}}：</div><uib-progressbar max=embed.count.todayOperated value=embed.count.todayOperated type=success><span style="color:#000; white-space:nowrap">{{embed.count.todayOperated}}<!--/ {{embed.count.todayTotal}}--></span></uib-progressbar></div><div class=progress-box style="margin-right: 0"><!--<div>待包埋样本总数：</div>--><h4 style="margin-top: 17px">{{\'待包埋样本总数\'|translate}}：{{embed.count.prepareOperate}}</h4><!--<uib-progressbar max="embed.count.blockTotal" value="embed.count.hadOperated" type="success"><span style="color:#000; white-space:nowrap;">{{embed.count.hadOperated}} / {{embed.count.blockTotal}}</span></uib-progressbar>--></div></div></div></div><div class="container footer-confirm"><div class=pull-left style="width: 455px; overflow: hidden;  white-space: nowrap"><!--<h4>&lt;!&ndash;待包埋样本数：{{embed.blockInfo.prepareEmbedCount||embed.count.blockTotal}}&ndash;&gt;</h4>--><p>{{\'扫描下一个包埋盒时系统自动保存当前包埋盒信息\'|translate}}</p><button style="margin-right: 10px;width: 56px; margin-bottom: 10px" class="btn btn-warning btn-lg" click-debounce ng-hide="embed.blockInfo.subId === item || $index>5" ng-repeat="item in embed.blockInfo.otherEmbed track by $index" ng-click=embed.getBlockInfoButton(item) ng-disabled="$index===5 || embed.pending">{{$index>=5? "......": item}}</button></div><div class=pull-left>取材确认图像：<br><img width=60 ng-if=embed.blockInfo.blockId ng-click=embed.showBigImg() ng-src="{{\'api/static/grossingConfirm/\'+embed.blockInfo.blockId ||\'\'}}" alt=""></div><div class=pull-right><button id=confirmEmbed class="btn btn-default btn-block" ng-disabled="!embed.blockInfo.blockId||embed.blockInfo.status!=14" ng-click=embed.confirmEmbed()>{{\'完成包埋\'|translate}}</button></div></div></div>'),t.put("app/site/embed/embedSearch.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class=pull-right style="width: 350px" model=eSearch.searchStr get-data=eSearch.search() placeholder="{{\'输入姓名/病理号查询 号段用“-”分开\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=eSearch.defaultTime start-time=eSearch.startTime end-time=eSearch.endTime></date-seletor><select class="form-control input-sm" ng-model=eSearch.status ng-options="status.code as status.name for status in [{name:\'待包埋\',code:14},{name:\'待切片\',code:15}]"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm" ng-model=eSearch.operatorId ng-options="person.id as person.firstName for person in eSearch.embedPersonList"><option value="">{{\'包埋技术员\'|translate}}</option></select><button id=query ng-click=eSearch.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in eSearch.tableHeaders" ng-click=eSearch.getSortList(item) class={{item.class}} ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in eSearch.data.data track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.patientName></td><td ng-bind="item.departments | department"></td><td ng-bind=item.grossingDoctorName></td><td ng-bind=item.bodyPart></td><td ng-bind=item.count></td><td ng-bind=item.biaoShiName></td><td ng-bind=item.embedDoctorName></td><td ng-bind="item.embedTime| date : \'yyyy-MM-dd HH:mm\' "></td><td style="width: 260px"><div title={{item.other}} style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="eSearch.data.data.length<=$index"><td ng-repeat="n in [].constructor(12) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=eSearch.data.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=eSearch.filterData.length max-size=10 total-items=eSearch.data.total ng-model=eSearch.filterData.page ng-change=eSearch.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/embed/embedSetting.html",'<div id=embedSetting><toolbar class=clearfix><h5>{{\'常用包埋备注管理\'|translate}}</h5></toolbar><div class="container clearfix"><div class="remark-add row form-horizontal"><div class=form-group><label for=addbtn class="col-sm-1 control-label">{{\'备注\'|translate}}：</label><div class=col-sm-3><input type=text class=form-control id=addbtn ng-model=eSetting.data.name></div><div class=col-sm-1><button id=add class="btn btn-default" style="width: 78px" ng-disabled=!eSetting.data.name||eSetting.disabled ng-click=eSetting.add($event)>{{\'添加\'|translate}}</button></div></div></div><div class="remark-list row clearfix"><div class=col-sm-6 ng-repeat="item in eSetting.embedRemarkLIst"><div class=remark-item><button id=delete type=button class=close ng-click=eSetting.delete(item.code)><i class="fa fa-times-circle" aria-hidden=true></i><span class=sr-only>Close</span></button><div title={{item.name}}>{{item.name}}</div></div></div></div></div></div>'),t.put("app/site/home/home.html",'<div id=home style="padding-top: 40px"><div class=container><div class=text-center ng-show="home.userAuth.length===0"><h4>您暂无权限操作任何模块请联系管理员</h4></div><div ng-repeat="item in picData track by $index"><img ng-src={{item}} alt=""></div><div class=row><div class=col-sm-6 style="width: 20%" ng-repeat="item in home.menuList track by $index" ng-hide=home.checkAuth(item)><div class="thumbnail cursor-pointer" ui-sref={{item.href}}><div class=title-logo><img height=80 ng-src={{item.imgSrc}} alt={{item.title}}></div><div class=title-name><h3 class=text-center id=home{{$index}}>{{item.title|translate}}</h3></div></div></div></div></div></div>'),t.put("app/site/notification/notification.html","<div id=notification><toolbar class=clearfix><ul class=\"list-unstyled menu-list\"><li>{{'系统通知'|translate}}</li><search-input class=\"pull-right form-control-static\" model=notification.filter.filter get-data=notification.getDataList() placeholder=\"{{'输入消息主题'|translate}}\"></search-input></ul></toolbar><!--<code>{{notification.filter}}</code>--><div class=container><div class=\"notification-list col-sm-5\"><div class=title>{{'消息列表'|translate}}<select class=pull-right ng-model=notification.filter.handle ng-options=\"item.code as item.name for item in [{name:'未处理',code:false},{name:'已处理',code:true}]\" ng-change=notification.getDataList()><option value=\"\">{{'全部'|translate}}</option><!--<option value=\"false\">未读</option>--><!--<option value=\"true\">已读</option>--></select></div><div class=main><div class=table-container><table class=table><thead><tr><th>{{'主题'|translate}}</th><th>{{'时间'|translate}}</th></tr></thead><tbody><tr class=cursor-pointer ng-repeat=\"item in notification.notificationList.data\" ng-class=\"{'active':notification.activeItem.id==item.id,'readabled':!item.readFlag}\" ng-click=notification.viewDetail(item)><td>{{item.subject}}</td><td>{{item.createTime | date:'yyyy-MM-dd HH:mm'}}</td></tr></tbody></table><div class=\"table-footer clearfix\"><!--<div class=\"pull-left form-control-static pagination\">共<span ng-bind=\"sampleSearch.totalItems\"></span>条结果</div>--><uib-pagination class=pull-right boundary-links=true items-per-page=notification.filter.length max-size=7 total-items=notification.notificationList.total ng-model=notification.filter.page ng-change=notification.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div><div class=\"notification-detail col-sm-7\"><!--<code>{{notification.activeItem.data}}</code>--><div class=main><div class=detail-header><h4 class=text-center>{{notification.activeItem.data.subject}}</h4><div class=text-center>{{'消息来源'|translate}}：{{notification.activeItem.data.sourceName}} {{'发送人'|translate}}：{{notification.activeItem.data.sender}} {{'发送时间'|translate}}：{{notification.activeItem.data.createTime| date:'yyyy-MM-dd HH:mm'}}</div></div><div class=detail-body><p>{{'样本信息'|translate}}</p><div>{{'病理号'|translate}}：<span class=block-span>{{notification.activeItem.data.pathologyNumber}}</span> {{'蜡块号'|translate}}：<span class=block-span style=\"min-width: 40px\">{{notification.activeItem.data.blockNumber}}</span> {{'病人姓名'|translate}}：<span class=block-span>{{notification.activeItem.data.patientName}}</span></div><br><p>{{'消息内容'|translate}}</p><div class=table-container ng-show=notification.activeItem.data.detail><table class=\"table table-bordered\"><thead><tr><th>{{'病理号'|translate}}</th><th>{{'蜡块号'|translate}}</th><th ng-show=notification.activeItem.data.detail.slideId>{{'玻片号'|translate}}</th><th>{{'当前状态'|translate}}</th><th>{{'等待时间'|translate}}</th><th>{{'最后操作人'|translate}}</th><th>{{'最后操作时间'|translate}}</th></tr></thead><tbody><tr><td>{{notification.activeItem.data.detail.pathologyNumber}}</td><td>{{notification.activeItem.data.detail.subId}}</td><td ng-show=notification.activeItem.data.detail.slideId>{{notification.activeItem.data.detail.slideId}}</td><td>{{notification.activeItem.data.detail.statusName}}</td><!--<td>{{(notification.activeItem.data.detail.nextOperationTime-notification.activeItem.data.detail.operationTime)|formatMsec}}</td>--><td>{{notification.waitingTime(notification.activeItem.data.detail.waitTime)}}</td><td>{{notification.activeItem.data.detail.operatorName}}</td><td>{{notification.activeItem.data.detail.operationTime | date:'yyyy-MM-dd HH:mm'}}</td></tr></tbody></table></div><p>{{'备注信息'|translate}}</p><div>{{notification.activeItem.data.note}}</div><!--status===11--><div class=\"deal-fn text-center\" ng-hide=\"notification.activeItem.data.type===2||notification.activeItem.data.status===10||notification.activeItem.data.status===11\"><a href=\"\" ng-click=notification.deal(notification.activeItem.data.blockId,notification.activeItem.data.pathId,1)>{{'处理异常'|translate}}</a></div></div></div></div></div></div>"),t.put("app/site/login/login.html",'<div id=login><div class=container><div class=title>全流程病理样本追踪和管理系统 PathTraq</div></div><div class=main><div class=container><div ng-if=!login.ifQrLogin class=login-form><p class=form-title>用户登录</p><i class="fa fa-3x fa-qrcode qr-icon" ng-click="login.ifQrLogin = true"></i><form role=form class=form-horizontal><!--<div><a href="myprotocol://">test</a></div>--><div class=input-group><span class=input-group-addon><i class="glyphicon glyphicon-user"></i> </span><input type=text id=name class="form-control input-style input-width" ng-model=login.data.username></div><div class=input-group><span class=input-group-addon><i class="glyphicon glyphicon-lock"></i> </span><input type=password id=password class="form-control input-style input-width" ng-model=login.data.password ng-keyup=login.tab($event)></div><div class=login-error ng-show=login.checkErr><uib-alert type=danger close="login.checkErr=\'\'">{{login.checkErr}}</uib-alert></div><!--记住密码--><div class=rember-password><div class=checkbox><label><input type=checkbox ng-model=login.rember>记住密码</label></div></div><input type=button id=btn-login class="form-control btn btn-default input-width" value=登录 ng-click=login.loginSystem()></form></div><div ng-if=login.ifQrLogin class=login-form><p class=form-title>扫码登录</p><form ng-submit=login.qrcodeLogin() role=form class=form-horizontal><!--<div><a href="myprotocol://">test</a></div>--><div class=input-group style="margin-top: 50px"><span class=input-group-addon><i class="fa fa-lg fa-qrcode"></i> </span><input autofocus type=password id=qrCode class="form-control input-style input-width" ng-model=login.data.qrCode></div><div class=login-error ng-show=login.checkErr><uib-alert type=danger close="login.checkErr=\'\'">{{login.checkErr}}</uib-alert></div></form><div class=qr-bottom><button id=login-btn class="form-control btn btn-default input-width" ng-click="login.ifQrLogin = false">用户名登录</button></div></div></div></div><div class=login-footer><div class=container><div class=row><div class=col-xs-4><p><b>技术支持</b></p><p>联系我们</p><p>帮助文档</p></div><div class=col-xs-4><p><b>关于我们</b></p><p>Thermo Fisher Scientific</p><p>Thermo Fisher Cloud</p></div><div class="col-xs-4 text-right logo-cloud"><img src=assets/images/logo-thermofisher-cloud.png height=38 alt=logo-thermofisher-cloud><p>© 2016 Thermo Fisher Scientific All Rights Reserved.</p></div></div></div></div><!-- <div class="container-1">\n\n  <div class="sub-left pull-left">\n\n    <div class="div-heart">\n      <img src="./assets/images/heart.png" alt="heart"/>\n    </div>\n\n  </div>\n\n  <div class="sub-right pull-right">\n\n    <div class="div-input pull-left">\n\n      <form role="form" class="form-horizontal">\n\n        <div class="form-group">\n          <label for="name" class="control-label font-style">用户名：</label>\n          <input type="text" id="name" class="input-style input-width" ng-model="login.data.username"/>\n        </div>\n\n        &lt;!&ndash;<br/>&ndash;&gt;\n\n        <div class="form-group">\n          <label for="password" class="control-label font-style">密&nbsp;&nbsp;&nbsp;码：</label>\n          <input type="password" id="password" class="input-style input-width" ng-model="login.data.password"  ng-keyup="login.tab($event)"/>\n        </div>\n\n        <div class="form-group">\n          <uib-alert type="danger" ng-show="login.checkErr" close="login.checkErr=\'\'">\n            {{login.checkErr}}\n          </uib-alert>\n        </div>\n\n        <br/>\n\n        <div class="form-group">\n          <label class="control-label font-style" style="color: transparent;">密&nbsp;&nbsp;&nbsp;码：</label>\n            <input type="button" id="btn-login" class="btn btn-default input-width" value="登录" ng-click="login.loginSystem()"/>\n        </div>\n\n      </form>\n\n    </div>\n\n    <div class="div-foot pull-left">\n      <img src="./assets/images/thermo1.jpg" alt="thermo1"/>\n    </div>\n\n  </div>\n\n</div>--></div>'),
t.put("app/site/main/main.html",'<div class=container><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class=lead><img src=assets/images/yeoman.png alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class=main.classAnimation><button type=button class="btn btn-lg btn-success" ng-click=main.showToastr()>Splendid Toastr</button></p><p><!--With ♥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey>--></p></div><div class=row><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><div class=thumbnail><img class=pull-right ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class=caption><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href={{awesomeThing.url}}>{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),t.put("app/site/modal/applicationModal.html",'<div id=commonModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=applicationMod.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title ng-bind=applicationMod.Title></h4><!--<h3 class="modal-title text-center" id="modal-title" >病理申请表</h3>--></div><div class=modal-body id=applyTable><div ng-hide="applicationMod.applyType===3" class="pad-l-r-30 pad-t-b-7">病理申请号：<span class=pad-right-30>{{applicationData.serialNumber||applicationMod.serialNumber}}</span> <span class=pad-right-30 ng-show=applicationData.pathologyNumber>病理号：{{applicationData.pathologyNumber}} </span>是否加急：<span>{{applicationData.urgentFlag==true?\'是\':\'否\'}}</span></div><thf-pathological ng-show="applicationMod.applyType===1"></thf-pathological><application-research ng-show="applicationMod.applyType===2"></application-research><!--会诊申请表单--><consult-form ng-if="applicationMod.applyType===3" read=true data=applicationMod.data></consult-form><!--<div ng-model="commonModal.Content">{{commonModal.Content}}</div>--><!--科研部分--><!--<div class="research" ng-if="applicationData.applyType===2">\n      <application-research></application-research>\n    </div>--></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=applicationMod.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=applicationMod.ok()>打印</button></div></div>'),t.put("app/site/modal/commonModal.html",'<div id=commonModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=commonModal.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title ng-bind=commonModal.Title></h4></div><div class=modal-body><div ng-model=commonModal.Content>{{commonModal.Content}}</div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=commonModal.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=commonModal.ok()>确定</button></div></div>'),t.put("app/site/modal/inputModal.html",'<div id=inputModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=inputMod.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button><h4 class=modal-title ng-bind=inputMod.modalTitle></h4></div><div class=modal-body><input type=number class=form-control min=1 max=100 ng-model=inputMod.text auto-focus=true ng-keyup=inputMod.enter($event) ng-pattern=/^[0-9]*$/ ></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=inputMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-disabled=!inputMod.text||input.$invalid ng-click=inputMod.ok()>确定</button></div></div>'),t.put("app/site/modal/reasonModal.html",'<div id=reasonModal><div class=modal-header><!--<button type="button" class="close" data-dismiss="modal" ng-click="reasonMod.cancel()"><span aria-hidden="true" class="icon-remove-sign"></span><span class="sr-only">Close</span></button>--><div class="close pull-right" ng-click=reasonMod.cancel()><i class="fa fa-times-circle" aria-hidden=true></i></div><h4 class=modal-title ng-bind=reasonMod.modal.header></h4></div><div class=modal-body><div class=clearfix><p class=pull-left>{{::reasonMod.modal.timeLabel}}：{{::reasonMod.modal.time | date:\'yyyy-MM-dd HH:mm\'}}</p><p class=pull-right>{{::reasonMod.modal.operatorLabel}}：{{::reasonMod.modal.operator}}</p></div><h4 ng-bind=reasonMod.modal.reasonLabel></h4><textarea class="textLarge form-control" rows=4 onresize=false readonly ng-model=reasonMod.modal.reason></textarea></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=reasonMod.ok()>关闭</button></div></div>'),t.put("app/site/modal/showVideo.html",'<div id=video-modal style="height: 70%"><button style="position: absolute;right: 10px;top:10px;z-index: 100" type=button class=close data-dismiss=modal ng-click=cancel()><span style="font-size: 40px" aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button><div class="gumVideoContainer embed-responsive embed-responsive-4by3"><video class=embed-responsive-item id=Video autoplay muted></video><div class=photo-toolbar><i class="fa fa-2x fa-camera" ng-click=photo()></i></div></div><!--<img ng-src="http://114.115.201.224:8080/psts/{{imgUrl}}" width="100%" height="100%">--></div>'),t.put("app/site/modal/textareaModal.html",'<div id=textarea><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=textMod.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title ng-bind=textMod.modalTitle></h4></div><div class=modal-body><h4 ng-bind=textMod.selectTitle></h4><select class=form-control name=rejiecereason ng-model=textMod.rejectReason.reasonType ng-options="item.name as item.name for item in textMod.rejectReasonLIst"><option value="">请选择拒收原因</option></select><h4 ng-bind=textMod.textareaTtitle></h4><textarea class=textLarge ng-model=textMod.rejectReason.rejectReason></textarea></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=textMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-disabled=!textMod.rejectReason.reasonType&&!textMod.rejectReason.rejectReason ng-click=textMod.ok()>确定</button></div></div>'),t.put("app/site/modal/tipModal.html",'<div id=tipModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=tipModal.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title ng-bind=tipModal.Title></h4></div><div class=modal-body><div ng-model=tipModal.Content>{{tipModal.Content}}</div></div><div class=modal-footer><button class="btn btn-default" type=submit ng-click=tipModal.cancel()>关闭</button></div></div>'),t.put("app/site/profile/profile.html",'<div id=notification><toolbar class=clearfix><ul class="list-unstyled menu-list"><li>{{\'个人信息\'|translate}}</li></ul></toolbar><!--<code>{{notification.filter}}</code>--><div class=container><form class="form-horizontal row clearfix" name=profile_form role=form><fieldset style="margin-top: 50px; margin-bottom: 50px" ng-disabled=profile.formDisabled><div class=col-sm-4><div class="form-group has-feedback" ng-class="{\'has-success\':userNameOk = profile_form.accountName.$dirty && profile_form.accountName.$valid && !profile.check.nameErr,\n                \'has-error\':userNameErr = profile_form.accountName.$dirty && profile_form.accountName.$invalid||profile.check.nameErr}"><label for=accountName class="col-sm-4 control-label">{{\'用户名\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=accountName id=accountName required disabled ng-model=profile.data.userName ng-change=profile.checkFn(profile.data.userName) onkeydown="if(event.keyCode==32) return false" ng-maxlength=30> <span ng-show=userNameOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=profile.check.nameErr close="profile.check.nameErr=\'\' ">{{profile.check.nameErr}}</div><div uib-alert class=warning ng-show=profile_form.accountName.$error.maxlength close="userNameErr=\'\' ">{{\'用户名最长30位\'|translate}}</div></div></div><!--<div ng-if="profile.method!==\'get\'" class="form-group has-feedback" ng-class="{\'has-success\':passwordOk = profile_form.password.$dirty && profile_form.password.$valid,\n              \'has-error\':passwordErr = profile_form.password.$dirty && profile_form.password.$invalid}">\n            <label for="Password" class="col-sm-4 control-label">密码&nbsp;<span class="text-error">*</span></label>\n            <div class="col-sm-8">\n              <input type="password" style="position: absolute;top:-1000px;left: -1000px;z-index: -10000">&lt;!&ndash;防止表单自动填充&ndash;&gt;\n              <input type="password" class="form-control" name="password" id="Password"  required\n                     ng-model="profile.data.password" ng-minlength="4" ng-maxlength="18"\n                     ng-focus="this.type=\'password\' "\n                     onkeydown="if(event.keyCode==32) return false"\n                     ng-disabled="profile.formDisabled"\n                     placeholder="{{profile.placeholder}}"\n\n              >\n              <span ng-show="passwordOk" class="glyphicon glyphicon-ok form-control-feedback"></span>\n              &lt;!&ndash;<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>&ndash;&gt;\n              <div uib-alert class="warning" ng-show="profile_form.password.$error.maxlength||profile_form.password.$error.minlength||passwordErr">密码长度4到18位</div>\n              &lt;!&ndash;<div uib-alert class="warning" ng-show="passwordErr">密码长度4到18位</div>&ndash;&gt;\n            </div>\n          </div>--><div class="form-group has-feedback" ng-class="{\'has-success\':firstNameOk = profile_form.firstName.$dirty && profile_form.firstName.$valid,\n                \'has-error\':firstNameErr =profile_form.firstName.$dirty && profile_form.firstName.$invalid}"><label for=firstName class="col-sm-4 control-label">{{\'真实姓名\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=firstName id=firstName ng-model=profile.data.firstName ng-maxlength=20 required onkeydown="if(event.keyCode==32) return false"> <span ng-show=firstNameOk class="glyphicon glyphicon-ok form-control-feedback"></span><div uib-alert class=warning ng-show=profile_form.firstName.$error.maxlength>{{\'姓名长度过长\'|translate}}</div><div uib-alert class=warning ng-show=profile_form.firstName.$dirty&&profile_form.firstName.$error.required>{{\'姓名必填\'|translate}}</div><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--></div></div><div class="form-group has-feedback" ng-class="{\'has-success\':phoneOk = profile_form.phone.$dirty && profile_form.phone.$valid,\n                \'has-error\':phoneErr = profile_form.phone.$dirty && profile_form.phone.$invalid}"><label for=phone class="col-sm-4 control-label">{{\'联系电话\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=tel class=form-control name=phone id=phone ng-model=profile.data.phone onkeydown="if(event.keyCode==32) return false" ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ required> <span ng-show=phoneOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=profile_form.phone.$error.pattern>{{\'电话格式错误\'|translate}}</div></div></div><div class="form-group has-feedback" ng-class="{\'has-success\':emailOk = profile_form.email.$dirty && profile_form.email.$valid,\n                \'has-error\':emailErr = profile_form.email.$dirty && profile_form.email.$invalid}"><label for=email class="col-sm-4 control-label">{{\'电子邮箱\'|translate}}：</label><div class=col-sm-8><input type=email class=form-control id=email name=email ng-model=profile.data.email onkeydown="if(event.keyCode==32) return false" ng-pattern="/[\\w!#$%&\'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&\'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/"> <span ng-show=emailOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=profile_form.email.$error.pattern>{{\'邮箱格式错误\'|translate}}</div></div></div><!--单位：--><div class="form-group has-feedback" ng-class="{\'has-success\':unitOk = profile_form.unit.$dirty && profile_form.unit.$valid,\n                \'has-error\':unitErr = profile_form.unit.$dirty && profile_form.unit.$invalid}"><label for=unit class="col-sm-4 control-label">{{\'单位\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=unit name=unit ng-model=profile.data.unit onkeydown="if(event.keyCode==32) return false"> <span ng-show=unitOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--科室：departments--><div class=form-group ng-class="{\'has-success\':departmentsOk = profile_form.departments.$dirty && profile_form.departments.$valid,\n                \'has-error\':departmentsErr = profile_form.departments.$invalid}"><label class="col-sm-4 control-label">{{\'科室\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><select-search ng-if=profile.data.id ng-hide=readonly require=true text="profile.data.departments | department" value=profile.data.departments get-data=profile.getDepartments(filter) datas=profile.departmentList></select-search></div></div><!--职工号： wno--><div class="form-group has-feedback" ng-class="{\'has-success\':wnoOk = profile_form.wno.$dirty && profile_form.wno.$valid,\n                \'has-error\':wnoErr = profile_form.wno.$dirty && profile_form.wno.$invalid}"><label for=wno class="col-sm-4 control-label">{{\'职工号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=wno name=wno ng-model=profile.data.wno onkeydown="if(event.keyCode==32) return false"> <span ng-show=wnoOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div></div><div class=col-sm-4><!--身份：identity--><div class="form-group has-feedback" ng-class="{\'has-success\':identityOk = profile_form.identity.$dirty && profile_form.identity.$valid,\n                \'has-error\':identityErr = profile_form.identity.$dirty && profile_form.identity.$invalid}"><label for=identity class="col-sm-4 control-label">{{\'身份\'|translate}}：</label><div class=col-sm-8><select id=identity class=form-control ng-model=profile.data.identity ng-options="item.value as item.name for item in profile.identityList"><option value="">{{\'请选择\'|translate}}</option></select></div></div><!--导师：tutor--><div class="form-group has-feedback" ng-class="{\'has-success\':tutorOk = profile_form.tutor.$dirty && profile_form.tutor.$valid,\n                \'has-error\':tutorErr = profile_form.tutor.$dirty && profile_form.tutor.$invalid}"><label for=tutor class="col-sm-4 control-label">{{\'导师\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=tutor name=tutor ng-model=profile.data.tutor onkeydown="if(event.keyCode==32) return false"> <span ng-show=tutorOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--院系：faculty--><div class="form-group has-feedback" ng-class="{\'has-success\':facultyOk = profile_form.faculty.$dirty && profile_form.faculty.$valid,\n                \'has-error\':facultyErr = profile_form.faculty.$dirty && profile_form.faculty.$invalid}"><label for=faculty class="col-sm-4 control-label">{{\'院系\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=faculty name=faculty ng-model=profile.data.faculty onkeydown="if(event.keyCode==32) return false"> <span ng-show=facultyOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--专业：specialty--><div class="form-group has-feedback" ng-class="{\'has-success\':specialtyOk = profile_form.specialty.$dirty && profile_form.specialty.$valid,\n                \'has-error\':specialtyErr = profile_form.specialty.$dirty && profile_form.specialty.$invalid}"><label for=specialty class="col-sm-4 control-label">{{\'专业\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=specialty name=specialty ng-model=profile.data.specialty onkeydown="if(event.keyCode==32) return false"> <span ng-show=specialtyOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--学号：studentNumber--><div class="form-group has-feedback" ng-class="{\'has-success\':studentNumberOk = profile_form.studentNumber.$dirty && profile_form.studentNumber.$valid,\n                \'has-error\':studentNumberErr = profile_form.studentNumber.$dirty && profile_form.studentNumber.$invalid}"><label for=studentNumber class="col-sm-4 control-label">{{\'学号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=studentNumber name=studentNumber ng-model=profile.data.studentNumber onkeydown="if(event.keyCode==32) return false"> <span ng-show=studentNumberOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--课题名称：taskName--><div class="form-group has-feedback" ng-class="{\'has-success\':taskNameOk = profile_form.taskName.$dirty && profile_form.taskName.$valid,\n                \'has-error\':taskNameErr = profile_form.taskName.$dirty && profile_form.taskName.$invalid}"><label for=taskName class="col-sm-4 control-label">{{\'课题名称\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=taskName name=taskName ng-model=profile.data.taskName onkeydown="if(event.keyCode==32) return false"> <span ng-show=taskNameOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--课题类型：taskType--><div class="form-group has-feedback" ng-class="{\'has-success\':taskTypeOk = profile_form.taskType.$dirty && profile_form.taskType.$valid,\n                \'has-error\':taskTypeErr = profile_form.taskType.$dirty && profile_form.taskType.$invalid}"><label for=taskType class="col-sm-4 control-label">{{\'课题类型\'|translate}}：</label><div class=col-sm-8><select id=taskType class=form-control ng-model=profile.data.taskType ng-options="item.value as item.name for item in profile.taskTypeList"><option value="">请选择</option></select></div></div><!--项目代码：projectCode--><div class="form-group has-feedback" ng-class="{\'has-success\':projectCodeOk = profile_form.projectCode.$dirty && profile_form.projectCode.$valid,\n                \'has-error\':projectCodeErr = profile_form.projectCode.$dirty && profile_form.projectCode.$invalid}"><label for=projectCode class="col-sm-4 control-label">{{\'项目代码\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=projectCode name=projectCode ng-model=profile.data.projectCode onkeydown="if(event.keyCode==32) return false"> <span ng-show=projectCodeOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div></div><div class="col-sm-4 qr-code"><h5>登录二维码：</h5><qrcode data={{profile.data.qrCode}} size=150></qrcode></div></fieldset></form><div class=modal-footer><button ng-show=profile.formDisabled class="btn btn-primary pull-left" ng-click="profile.formDisabled=false;">{{\'编辑\'|translate}}</button> <button ng-hide="profile.formDisabled " class="btn btn-default pull-left" type=button ng-click=profile.ok() ng-disabled=profile_form.$invalid>{{\'保存\'|translate}}</button></div></div></div>'),t.put("app/site/section/section.html",'<div id=sectionCreate><toolbar class=clearfix><div class="search clearfix"><search-input class=pull-right style="width: 400px" model=section.filter clear=true get-data=section.getBlockInfo() placeholder="{{\'输入病理号-蜡块号-玻片号查询\'|translate}}"></search-input><!--<div class="input-group">--><!--<input class="form-control" type="text" ng-model="createMaterial.searchData.filter" ng-keyup="eCreate.search($event)" auto-focus="true" onfocus=" this.style.imeMode=\'active\' " autofocus placeholder="姓名/病理号，号段用\'-\'分开 ">--><!--<span class="input-group-btn">--><!--<button class="btn btn-default" type="button" ng-click="eCreate.search()"><span class="glyphicon glyphicon-search"></span></button>--><!--</span>--><!--</div>--></div></toolbar><div class=page><!--<code>{{section.blockInfo}}</code>--><div class="content-box content-section clearfix center-block"><div class=clearfix><div class=pull-left style="width: 140px;  margin-left: 28px"><div class=img-box><img src=./assets/images/embed-box.png height=70 width=100 alt=包埋图片></div><div class="color-box text-center"><div class=big>{{section.marker.length||1}}<span>{{\'切片\'|translate}}</span></div><p ng-repeat="item in section.dyeTypeList">{{item}}</p></div></div><div class=text-box><div class="text big">{{\'病理号\'|translate}}：{{section.blockInfo.pathologySerialNumber}}</div><div class="text big">{{\'蜡块号\'|translate}}：{{section.blockInfo.subId}}</div><div class=text>{{\'病人姓名\'|translate}}：{{section.blockInfo.patientName}}</div><div class=text>{{\'取材部位\'|translate}}：{{section.blockInfo.bodyPart}}</div><div class=text>{{\'取材医生\'|translate}}：{{section.blockInfo.grossingDoctor.firstName}}</div></div><div class=text-box><div class=text>{{\'取材备注\'|translate}}：</div><div class="text high text-ellipsis" uib-popover={{section.blockInfo.grossingRemark}}>{{section.blockInfo.grossingRemark}}</div><div class=text>{{\'取材标识\'|translate}}：{{section.blockInfo.biaoshiDesc}}</div><div class=text ng-show="section.blockInfo.specialSectionOperation===17||section.blockInfo.specialSectionOperation===20">{{\'切片申请人\'|translate}}：{{section.blockInfo.specialSectionApplicant.firstName}}</div><div class=text ng-show=section.blockInfo.specialDye>{{\'特染申请人\'|translate}}：{{section.blockInfo.specialDyeApplicant}}</div></div><div class="text-box text-remark"><div class=text>{{\'切片备注\'|translate}}：</div><select class=form-control ng-model=section.remark.noteType ng-options="item.name as item.name for item in section.sectionRemarkLIst"><option value="">{{\'选择常见问题\'|translate}}</option></select><div class=text>{{\'其他\'|translate}}</div><textarea class=form-control name="" rows=3 ng-model=section.remark.note></textarea></div><div class=section-remark style="padding-top: 30px; width: 892px;padding-left: 0;  float: right"><div class=text ng-show="section.blockInfo.specialSectionOperation===17">{{\'深切备注\'|translate}}：{{section.blockInfo.specialSectionRemark}}</div><div class=text ng-show="section.blockInfo.specialSectionOperation===20">{{\'重切备注\'|translate}}：{{section.blockInfo.specialSectionRemark}}</div><div class=text ng-show=section.blockInfo.specialDye>{{\'特染要求\'|translate}}：{{section.marker.join(",")}}<!--{{section.blockInfo.marker.join("；")}}--></div><div class=text ng-show=section.blockInfo.specialDye>{{\'特染备注\'|translate}}：{{section.blockInfo.specialDyeRemark.join(",")}}</div></div></div><!--进度条部分--><div class=clearfix style="margin-left: 178px; margin-top: 30px"><div class=progress-box><div>{{\'当前病理号完成切片进度\'|translate}}：</div><uib-progressbar max=section.blockInfo.pathBlockCount value=section.blockInfo.pathSectionCount type=success><span style="color:#000; white-space:nowrap">{{section.blockInfo.pathSectionCount}} / {{section.blockInfo.pathBlockCount}}</span></uib-progressbar></div><div class=progress-box><div>{{\'当日切片工作量进度\'|translate}}：</div><uib-progressbar max=section.count.todayOperated value=section.count.todayOperated type=success><span style="color:#000; white-space:nowrap">{{section.count.todayOperated}}<!-- / {{section.count.todayTotal}}--></span></uib-progressbar></div><div class=progress-box style="margin-right: 0"><!--<div>待切片样本总数：</div>--><h4 style="margin-top: 17px">{{\'待切片样本总数\'|translate}}：{{section.count.prepareOperate}}</h4><p>{{\'扫描下一个蜡块时系统自动保存当前蜡块信息\'|translate}}</p><!--<uib-progressbar max="section.count.blockTotal" value="section.count.hadOperated" type="success"><span style="color:#000; white-space:nowrap;">{{section.count.hadOperated}} / {{section.count.blockTotal}}</span></uib-progressbar>--></div></div></div></div><div class="container footer-confirm"><p>{{\'当前病理号还有以下蜡块号未切片\'|translate}}：</p><div class=pull-left style="width: 460px; overflow: hidden;  white-space: nowrap"><!--<h4>&lt;!&ndash;待切片样本数：{{section.blockInfo.prepareSectionCount||section.count.blockTotal}}&ndash;&gt;</h4>--> <button style="margin-right: 10px;width: 56px; margin-bottom: 10px" class="btn btn-warning btn-lg" click-debounce ng-hide="section.blockInfo.subId === item || $index>5" ng-repeat="item in section.blockInfo.otherSection track by $index" ng-click=section.getBlockInfoButton(item) ng-disabled="$index===5 || section.pending">{{$index>=5 ? "......": item}}</button></div><div class=pull-right><button id=section class="btn btn-default btn-lg" ng-disabled="!section.blockInfo.pathologySerialNumber||section.blockInfo.status!=15" ng-click="section.confirmSection(\'from page\')">{{\'完成切片\'|translate}}</button></div><div class=pull-right><!--快速打印玻片：--> <button id=print style="margin-right: 10px; padding: 10px 30px" class="btn btn-warning btn-lg" ng-disabled=!section.blockInfo.pathologySerialNumber ng-click=section.print(1)>{{\'打印\'|translate}}</button><!--<button style="margin-right: 10px; padding: 10px 30px;" ng-repeat="item in [1,2,3,4,5,6,7,8,9,10] track by $index" class="btn btn-warning btn-lg" ng-disabled="!section.blockInfo.pathologySerialNumber" ng-click="section.print(item)">{{item}}</button>--></div><!--<div class="pull-right" style="margin-right:40px;">\n      打印方式：\n      <select ng-model="section.sectionPrintMedium" ng-options="item.code as item.name for item in section.printTypeList">\n        &lt;!&ndash;<option value="1">玻片</option>&ndash;&gt;\n        &lt;!&ndash;<option value="2">标签</option>&ndash;&gt;\n      </select>\n    </div>--></div></div>'),t.put("app/site/section/sectionSearch.html",'<toolbar class=clearfix><!--搜索部分--><div class="search clearfix"><search-input class=pull-right style="width: 350px" model=sSearch.searchStr get-data=sSearch.search() placeholder="{{\'输入姓名/病理号查询 号段用“-”分开\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><select class="form-control input-sm" ng-model=sSearch.dyeCategory ng-options="status.code as status.name for status in [{name:\'常规染色\',code:0 },{name:\'免疫组化\',code:1 },{name:\'特殊染色\',code:2}]"></select><date-seletor dateset=sSearch.defaultTime start-time=sSearch.startTime end-time=sSearch.endTime></date-seletor><select class="form-control input-sm" ng-model=sSearch.status ng-options="status.code as status.name for status in [{name:\'待切片\',code:15},{name:\'待染色\',code:16}]"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm" ng-model=sSearch.operatorId ng-options="person.id as person.firstName for person in sSearch.sectionPersonList"><option value="">{{\'切片技术员\'|translate}}</option></select><select class="form-control input-sm" ng-model=sSearch.filterData.printCount ng-options="status.code as status.name for status in [{name:\'0\',code:0},{name:\'大于0\',code:1}]"><option value="">打印次数</option></select><button id=query ng-click=sSearch.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button> <button id=print ng-hide="sSearch.dyeCategory != 0" ng-click=sSearch.printSlide() class="btn btn-sm btn-primary pull-right">{{\'打印玻片\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input id=checkboxAll style="width: 15px" type=checkbox ng-model=sSearch.allChecked ng-click=sSearch.checkAll()></th><th ng-repeat="item in sSearch.tableHeaders" ng-click=sSearch.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in sSearch.data.data track by $index"><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.check name=checkboxItem ng-click=sSearch.checkItem($index,item)></td><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.slideId></td><td ng-bind=item.print></td><td ng-bind=item.patientName></td><td ng-bind=item.departments|department></td><td ng-bind=item.grossingDoctorName></td><td ng-bind=item.bodyPart></td><td ng-bind=item.count></td><td ng-bind=item.biaoShiName></td><td ng-bind=item.embedDoctorName></td><td ng-bind="item.embedTime| date : \'yyyy-MM-dd HH:mm\' "></td><td style="width: 260px"><div title={{item.other}} style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="sSearch.data.data.length<=$index"><td ng-repeat="n in [].constructor(15) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=sSearch.data.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=sSearch.filterData.length max-size=10 total-items=sSearch.data.total ng-model=sSearch.filterData.page ng-change=sSearch.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/section/sectionSetting.html",'<div id=sectionSetting><toolbar class=clearfix><ul class="list-unstyled menu-list"><li id=subRoute{{$index}} ng-repeat="item in sSetting.toolbar track by $index" ng-class="{ active: sSetting.activeMenu === $index }" ng-click=sSetting.choseMenu($index)>{{item.name |translate}}</li></ul></toolbar><div ng-show="sSetting.activeMenu===0" class=container><div class="container clearfix"><div class="remark-add row form-horizontal"><div class=form-group><label for=addbtn class="col-sm-1 control-label">{{\'备注\'|translate}}：</label><div class=col-sm-3><input type=text class=form-control id=addbtn ng-model=sSetting.data.name></div><div class=col-sm-1><button id=add class="btn btn-default" style="width: 78px" ng-disabled=!sSetting.data.name||sSetting.disabled ng-click=sSetting.add()>{{\'添加\'|translate}}</button></div></div></div><div class="remark-list row clearfix"><div class=col-sm-6 ng-repeat="item in sSetting.sectionRemarkLIst"><div class=remark-item><button id=delete type=button class=close ng-click=sSetting.delete(item.code)><i class="fa fa-times-circle" aria-hidden=true></i><span class=sr-only>Close</span></button><div title={{item.name}}>{{item.name}}</div></div></div></div></div></div><div ng-show="sSetting.activeMenu===1" class=container><div class="container clearfix"><h4>打印介质：</h4><div class="row clearfix"><div class=col-xs-2><label class=radio-inline><input ng-checked="sSetting.sectionPrintMedium == 1" type=radio ng-click=sSetting.selectPrintMedium(1)>玻片打印</label></div><div class=col-xs-2><label class=radio-inline><input ng-checked="sSetting.sectionPrintMedium == 2" type=radio ng-click=sSetting.selectPrintMedium(2)>标签打印</label></div></div><br><h4>打印方式：</h4><div class="row clearfix"><div class=col-xs-2><label class=radio-inline><input ng-checked="sSetting.sectionPrintWay == 1" type=radio ng-click=sSetting.selectPrintWay(1)>扫描蜡块后自动打印</label></div><div class=col-xs-2><label class=radio-inline><input ng-checked="sSetting.sectionPrintWay == 2" type=radio ng-click=sSetting.selectPrintWay(2)>手动打印</label></div></div></div></div></div>'),
t.put("app/site/sampleRegistration/sampleRegistration.html",'<toolbar class=clearfix><div class="search clearfix"><div class=pull-left style="padding-top: 8px">{{"病理查询"|translate}}：</div><!--<scan-input class="form-control" style="width: 224px" model="sampleRegistration.serialNumber" get-data="sampleRegistration.getOnePathological()" placeholder="病理申请号"></scan-input>--><search-input class="pull-left search-input-lg" model=sampleRegistration.serialNumber get-data=sampleRegistration.getOnePathological() placeholder="{{\'病理申请号/病理号/样本号\'|translate}}" auto-focus={{autoFocus}} change-fn=sampleRegistration.hide()></search-input><button name=apply style="margin-left: 30px" class="pull-right btn btn-default" ng-click=sampleRegistration.clear() id=addSampleRegistration>{{"新建申请"|translate}}</button></div></toolbar><div id=sampleRegistration><!--<div style="border-top:1px solid rgba(153, 204, 255, 1);">--><!--<h4 class="text-center" style="margin: 40px auto 20px;">病理申请表</h4>--><!--</div>--><div class="container no-padding"><div class=col-lg-8><h4>{{"病理申请表"|translate}}</h4><div><thf-pathological ng-hide="sampleRegistration.applyType===2"></thf-pathological><application-research ng-show="sampleRegistration.applyType===2"></application-research></div></div><div class=col-lg-4><div class=table-responsive><div class=clearfix><a ng-hide="pathological.data.status!=1" style="font-size: 18px" href class=pull-right ng-click=sampleRegistration.reject() ng-disabled="pathological.data.status!=1">{{"拒收"|translate}}</a><h4>{{"样本信息"|translate}}</h4></div><table class="table table-bordered text-center" id=sample-table><thead><tr><th style="width: 45px">{{"序号"|translate}}</th><!--<th ng-if="pathological.data.samples[0].serialNumber">样本编号</th>--><th>{{"样本名称"|translate}}<span class="required hideWhenPrint">*</span></th><th style="width: 120px">{{"样本类别"|translate}}</th><th style="width: 50px" class=hideWhenPrint>{{"操作"|translate}}</th></tr></thead><tbody><tr ng-repeat="item in pathological.data.samples track by $index"><td>{{$index + 1}}</td><!--<td ng-if="item.serialNumber">{{item.serialNumber}}</td>--><td><input type=text ng-model=item.name ng-value=item.name maxlength=20 required ng-readonly="(pathological.data.pathologyStatus && pathological.data.pathologyStatus > 9) && (pathological.data.status && pathological.data.status == 2)"></td><td><select class=hideWhenPrint name=sample ng-model=item.category ng-value=item.category ng-options="category.code as category.name for category in pathological.categoryList" ng-disabled="(pathological.data.pathologyStatus && pathological.data.pathologyStatus > 9) && (pathological.data.status && pathological.data.status == 2)"></select></td><td class=hideWhenPrint><!--病理状态9待登记，申请状态 2 已登记--> <a ng-class="{disabled:(pathological.data.pathologyStatus && pathological.data.pathologyStatus > 9) && (pathological.data.status && pathological.data.status == 2)}" ng-click=pathological.delSample($index)><i class="glyphicon glyphicon-trash"></i></a></td></tr><tr class=hideWhenPrint><td></td><td></td><td></td><td><a ng-class="{disabled:(pathological.data.pathologyStatus && pathological.data.pathologyStatus > 9) && (pathological.data.status && pathological.data.status == 2)}" ng-click=pathological.addSample1()><i class="glyphicon glyphicon-plus"></i></a></td></tr></tbody></table></div><div class="modal-footer no-padding clearfix"><div class="form-control-static form-inline clearfix text-center pull-left">{{"检查类别"|translate}}：<select style="max-width: 100px" class="form-control input-sm" ng-model=sampleRegistration.inspectCategory ng-options="status.code as status.typeDesc+\'&nbsp;\'+ sampleRegistration.showInspectTypeLetter || status.letter for status in sampleRegistration.inspectCategoryList">&lt;!&ndash;<option value="">{{"选择状态"|translate}}</option>&ndash;&gt;</select></div><div class="form-control-static form-inline clearfix text-center pull-right" ng-class="{\'pull-left\':lang ===\'en\'}">{{"指定取材"|translate}}：<select style="width: 100px" class="form-control input-sm" ng-model=sampleRegistration.assignGrossing ng-options="item.id as item.firstName for item in sampleRegistration.assignGrossingList"><option value="">{{"选择医生"|translate}}</option></select></div></div><div class="text-center mar-30"><buton id=print style="width: 100px" class="pull-left btn btn-info" ng-disabled=!pathological.data.pathNo ng-click=sampleRegistration.printSerialNumber()>{{"打印标签"|translate}}</buton><buton id=lastOne style="width: 100px" class="btn btn-info" ng-click=sampleRegistration.getLastOne()>{{"上一条记录"|translate}}</buton><!--撤销登记 根据病理状态 是不是待取材判断  data.status === 2 已登记  data.pathologyStatus === 9 待登记 --><buton id=cancel style="width: 100px" ng-if="(pathological.data.pathologyStatus && pathological.data.pathologyStatus == 10) && (pathological.data.status && pathological.data.status == 2)" ng-click=sampleRegistration.cancel() class="pull-right btn btn-default">{{"撤销登记"|translate}}</buton><!--正常登记时表单验证--> <button id=register style="width: 100px" ng-hide="pathological.data.status===30||(pathological.data.pathologyStatus && pathological.data.pathologyStatus >= 10) && (pathological.data.status && pathological.data.status == 2)" name=normal class="btn btn-default pull-right" ng-click=sampleRegistration.register() ng-disabled="!pathological.data.departments|| (sampleRegistration.applyType!=2&&pathological_form.$invalid)||!pathological.data.samples[0].name||pathological.data.status===30||pathological.data.status==3||pathological.data.status==4">{{"登记"|translate}}</button><!--pathological.data.status===30 防止冰冻预约的撤销--><!--为了科研登记的表单验证--><!--<button style="width: 100px" ng-show="sampleRegistration.applyType===2||pathological.data.pathologyStatus != 10" name="research" class=" btn btn-default pull-right" ng-click="sampleRegistration.register()" ng-disabled="!pathological.data.departments||pathological.data.status!=1">登记</button>--><!--{{pathological.data.samples[0].name}} AP17000016--></div><!--<buton if="pathological.data.status===2"  class=" btn btn-default btn-lg" >撤销登记</buton>--></div></div><!--用于测试显示病理申请号 病理号--><div id=applicationNo style="height: 0;position:absolute; visibility: hidden" ng-bind=sampleRegistration.test_serialNumber></div><div id=pathologicalNo style="height: 0;position:absolute; visibility: hidden" ng-bind=sampleRegistration.test_pathNo></div></div>'),t.put("app/site/sampleRegistration/sampleSearch.html",'<toolbar class=clearfix><div class=form-inline><div class="table-header2 form-inline clearfix"><!--搜索工具栏--><search-input class=pull-right style="width: 250px" model=sampleSearch.searchStr get-data=sampleSearch.search() placeholder="{{\'姓名/申请号/病理号/样本号\'|translate}}"></search-input></div></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=sampleSearch.defaultTime start-time=sampleSearch.startTime end-time=sampleSearch.endTime></date-seletor><select class="form-control input-sm" ng-model=sampleSearch.searchData.specialType ng-options="status.value as status.name for status in sampleSearch.typeList"><option value="">{{"申请类别"|translate}}</option></select><select class="form-control input-sm" ng-model=sampleSearch.searchData.status ng-options="status.value as status.name for status in sampleSearch.statusList"><option value="">{{"选择状态"|translate}}</option></select><button ng-click=sampleSearch.filter() id=query class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{"筛选"|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in sampleSearch.tableHeaders" ng-click=sampleSearch.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in sampleSearch.data track by $index"><td><a ng-bind="item.number || item.serialNumber" ng-click=sampleSearch.view(item.serialNumber,item.pathologyNumber) href></a></td><td ng-bind=item.sampleNumber></td><td ng-bind=item.pathologyNumber></td><td ng-bind=item.name></td><td ng-bind="item.sampleCreateTime| date : \'yyyy-MM-dd\' "></td><td ng-bind=item.sampleCreateBy.firstName></td><td ng-bind="item.delete ? (item.sampleUpdateTime| date : \'yyyy-MM-dd\') :\'\'"></td><td ng-bind="item.delete ? item.sampleUpdateBy.firstName :\'\'"></td><!--<td ng-bind="item.patientName"></td>--><!--<td ng-bind="item.inspectionItem||\'无\'"></td>--><!--<td ng-bind="item.departments | department"></td>--><!--<td ng-bind="item.doctor"></td>--><!--<td ng-bind="item.doctorTel"></td>--><!--<td ng-bind="item.createTime| date : \'yyyy-MM-dd\' "></td>--><td ng-bind=item.assignGrossing.firstName></td><td><span ng-hide="item.status === 3 || item.pathologyStatus === 41" ng-bind=item.pathologyStatusName||item.statusName></span> <a ng-show="item.status === 3 || item.pathologyStatus === 41" href ng-click=sampleSearch.reasonModal(item)>{{item.pathologyStatusName||item.statusName}}</a></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!sampleSearch.data||sampleSearch.data.length<=$index"><td ng-repeat="n in [].constructor(10) track by $index"></td></tr></tbody></table></div><div class=table-footer><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind=sampleSearch.totalItems></span>{{"条结果"|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=sampleSearch.searchData.length max-size=10 total-items=sampleSearch.totalItems ng-model=sampleSearch.searchData.page ng-change=sampleSearch.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div>'),t.put("app/site/sampleRegistration/sampleSetting.html",'<div id=embedSetting><toolbar class=clearfix><!--<h5>常用拒收原因管理</h5>--><ul class="list-unstyled menu-list"><li ng-class="{active:sampleSetting.activeMenu==0}" ng-click="sampleSetting.activeMenu=0" id=subRoute0>{{"拒收原因"|translate}}</li><li ng-class="{active:sampleSetting.activeMenu==1}" ng-click="sampleSetting.activeMenu=1" id=subRoute1>{{"标签打印"|translate}}</li><li ng-class="{active:sampleSetting.activeMenu==2}" ng-click="sampleSetting.activeMenu=2" id=subRoute2>{{"送检医院"|translate}}</li></ul></toolbar><!--TAB 1 拒收原因--><div class="container clearfix" ng-show="sampleSetting.activeMenu==0"><div class="remark-add form-horizontal form-inline"><div class=header-group>{{"原因"|translate}}： <input type=text class=form-control id=addbtn ng-model=sampleSetting.data.name> <button class="btn btn-default" style="width: 78px" ng-disabled=!sampleSetting.data.name ng-click=sampleSetting.add() id=addReason>{{"添加"|translate}}</button></div></div><div class="remark-list row clearfix"><div class=col-sm-6 ng-repeat="item in sampleSetting.sampleRemarkLIst"><div class=remark-item><button type=button class=close ng-click=sampleSetting.delete(item.code)><i class="fa fa-times-circle" aria-hidden=true></i> <span class=sr-only>Close</span></button><div title={{item.name}}>{{item.name}}</div></div></div></div></div><!--TAB 2 打印方式--><div class="container clearfix" ng-show="sampleSetting.activeMenu==1"><div class="remark-add form-horizontal form-inline"><div style="margin-bottom: 20px">{{"打印方式"|translate}}：<select style="width: 160px" class=form-control ng-model=sampleSetting.printType ng-options="item.code as item.name for item in sampleSetting.printTypeList" ng-change=sampleSetting.setPintType(sampleSetting.printType)></select></div><div class=inspectSetItem>{{"打印数量"|translate}}：<select style="width: 160px" class=form-control ng-model=sampleSetting.printCount ng-options="item.code as item.name for item in sampleSetting.printCountList" ng-change=sampleSetting.setPintCount(sampleSetting.printCount)></select></div></div></div><!--TAB 3 送检医院--><div class="container clearfix" ng-show="sampleSetting.activeMenu === 2"><div class="remark-add form-horizontal form-inline"><div class=header-group>{{"医院名称"|translate}}： <input type=text class=form-control id=add3 ng-model=sampleSetting.inspectHospital.name><select class=form-control name="" id=hospital ng-model=sampleSetting.inspectHospital.grade ng-options="item.name as item.name for item in sampleSetting.hospitalLevelList"><option value="">医院等级</option></select><button class="btn btn-default" style="width: 78px" ng-disabled="!sampleSetting.inspectHospital.name || !sampleSetting.inspectHospital.grade" ng-click=sampleSetting.addInspectHospital() id=addHospital>{{"添加"|translate}}</button></div></div><div class="remark-list row clearfix"><div class=col-sm-3 ng-repeat="item in sampleSetting.inspectHospitalList"><div class=remark-item><button type=button class=close ng-click=sampleSetting.deleteInspectHospital(item.code)><i class="fa fa-times-circle" aria-hidden=true></i> <span class=sr-only>Close</span></button><div title={{item.name}}>{{item.name}} | {{item.grade}}</div></div></div></div></div></div>'),t.put("app/site/report/report.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right input-long" model=report.searchStr get-data=report.getDataList(0) placeholder="{{\'输入病理号查询\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=report.defaultTime start-time=report.startTime end-time=report.endTime></date-seletor><select class="form-control input-sm" ng-model=report.departments ng-options="status.code as status.name for status in report.departmentList"><option value="">{{\'送检科室\'|translate}}</option></select><select class="form-control input-sm" ng-model=report.printStatus ng-options="status.code as status.name for status in report.printStatusList"><option value="">{{\'全部\'|translate}}</option></select><select class="form-control input-sm" ng-model=report.reportStatus ng-options="status.code as status.name for status in report.reportStatusList"><option value="">{{\'报告状态\'|translate}}</option></select><button ng-click=report.getDataList(1) class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button> <button ng-click=report.print() class="btn btn-sm btn-primary pull-right">{{\'打印报告\'|translate}}</button> <button ng-click=report.printSignQuery() class="btn btn-sm btn-default pull-right" style="margin: 0 10px">{{\'打印签收单\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=report.allChecked ng-click=report.checkAll()></th><th>{{\'病理号\'|translate}}</th><th>{{\'病人姓名\'|translate}}</th><th>{{\'诊断医生\'|translate}}</th><th>{{\'送检科室\'|translate}}</th><th>{{\'送检医生\'|translate}}</th><th>{{\'报告日期\'|translate}}</th><th>{{\'报告状态\'|translate}}</th><!--<th>打印时间</th>--><th>{{\'延迟原因\'|translate}}</th><th>{{\'打印状态\'|translate}}</th><!--<th ng-repeat="item in report.tableHeaders" class="{{item.class}} cursor-pointer" ng-style="item.style">{{::item.name}}--><!--<i class="cursor-pointer glyphicon glyphicon-chevron-down arrow"--><!--ng-hide="!item.order"--><!--ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}" />--><!--</th>--></tr></thead><!--item.ihcMarkers.join(\';\')--><tbody><tr ng-repeat="item in report.data track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check></td><td ng-bind=item.serialNumber></td><td ng-bind=item.name></td><td ng-bind=item.diagnoseDoctorDesc></td><td ng-bind=item.departments|department></td><td ng-bind=item.doctor></td><td ng-bind="item.reportTime | date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind="item.delay ? \'延期\':\'正常待发\'"></td><td ng-bind=item.reason></td><td><a ng-class="{disabled:item.printStatus===false}" ng-disabled="item.printStatus===false" href="" ng-click=report.viewPrintRecord(item)>{{item.printStatus? "已打印":"未打印"}}</a></td><!--report.viewPrintRecord--><!--<td style="width: 260px;"><div title="{{item.other}}" style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td>--></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="report.data.length<=$index"><td ng-repeat="n in [].constructor(10) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=report.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=report.length max-size=10 total-items=report.total ng-model=report.page ng-change=report.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/report/signQuery.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right input-long" model=signQuery.searchStr get-data=signQuery.getDataList(0) placeholder="{{\'输入病理号查询\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=signQuery.defaultTime start-time=signQuery.startTime end-time=signQuery.endTime></date-seletor><select class="form-control input-sm" ng-model=signQuery.departments ng-options="status.code as status.name for status in departments"><option value="">{{\'送检科室\'|translate}}</option></select><select class="form-control input-sm" ng-model=signQuery.reportStatus ng-options="status.code as status.name for status in signQuery.reportStatusList"><option value="">{{\'报告状态\'|translate}}</option></select><select class="form-control input-sm" ng-model=signQuery.operation ng-options="status.code as status.name for status in signQuery.operationList"></select><button ng-click=signQuery.getDataList(1) class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button> <button ng-click=signQuery.confirmSign() class="btn btn-sm btn-default pull-right" style="margin: 0 10px">{{\'确认签收\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=signQuery.allChecked ng-click=signQuery.checkAll()></th><th>{{\'病理号\'|translate}}</th><th>{{\'病人姓名\'|translate}}</th><th>{{\'诊断医生\'|translate}}</th><th>{{\'送检科室\'|translate}}</th><th>{{\'送检医生\'|translate}}</th><th>{{\'报告日期\'|translate}}</th><th>{{\'报告状态\'|translate}}</th><!--<th>打印时间</th>--><th>{{\'延迟原因\'|translate}}</th><th>{{\'打印状态\'|translate}}</th><!--<th ng-repeat="item in signQuery.tableHeaders" class="{{item.class}} cursor-pointer" ng-style="item.style">{{::item.name}}--><!--<i class="cursor-pointer glyphicon glyphicon-chevron-down arrow"--><!--ng-hide="!item.order"--><!--ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}" />--><!--</th>--></tr></thead><!--item.ihcMarkers.join(\';\')--><tbody><tr ng-repeat="item in signQuery.data track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check></td><td ng-bind=item.serialNumber></td><td ng-bind=item.name></td><td ng-bind=item.diagnoseDoctorDesc></td><td ng-bind="item.departments | department"></td><td ng-bind=item.doctor></td><td ng-bind="item.reportTime | date : \'yyyy-MM-dd HH:mm\'"></td><!--<td ng-bind="item.printTime | date : \'yyyy-MM-dd HH:mm\'"></td>--><td ng-bind="item.delay ? \'延期\':\'正常待发\'"></td><td ng-bind=item.reason></td><td ng-bind="item.operation === 25 ? \'待签收\': \'已签收\' "></td><!--signQuery.viewPrintRecord--><!--<td style="width: 260px;"><div title="{{item.other}}" style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td>--></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="signQuery.data.length<=$index ||!signQuery.data"><td ng-repeat="n in [].constructor(10) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=signQuery.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=signQuery.length max-size=10 total-items=signQuery.total ng-model=signQuery.page ng-change=signQuery.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/test/test.html",'<div id=test><div class=container><div class=part-top><div class=part-top-1>part1</div><div class=part-top-2><div class=col-sm-4 style="background-color: #ccc">part2-1</div><div class=col-sm-4 style="background-color: #ddd">part2-2</div><div class=col-sm-4 style="background-color: #eee"><div style="display: inline">part2-3</div><textarea style="width: 100%;height: 150px" ng-click=test.showModal() ng-model=test.text></textarea></div></div></div></div></div>'),t.put("app/components/pathologicalForm/applicationForm/applicationForm.html",'<div id=pathologicalForm class=center-block><!--<div class="pull-right" style="position: absolute;right: 90px;top:130px;">--><!--&lt;!&ndash;<p class="applyNo">病理申请号: <span>20160826134408</span></p>&ndash;&gt;--><!--</div>--><!--<div class="container">--><form id=pathological_form ng-class="{\'disabled\':pathological.read}" name=pathological_form ng-disabled=pathological.read novalidate><fieldset ng-class="{\'col-sm-8\':consultForm.colspan === 2}" ng-disabled=pathological.read><div class=table-responsive><table class="table table-bordered"><tbody><tr><td>{{"病人姓名"|translate}}<span ng-show=pathological.required.patientName.required class="red-sign hideWhenPrint">*</span></td><td><input ng-model=pathological.data.patientName ng-value=pathological.data.patientName type=text id=patient-name name=patient-name ng-disabled=pathological.read ng-required=pathological.required.patientName.required></td><td>{{"门诊号"|translate}}</td><td ng-class="{\'error\':pathological_form.patientNo.$invalid} "><input ng-model=pathological.data.patientNo name=patientNo ng-value=pathological.data.patientNo type=text maxlength=11 ng-disabled=pathological.read ng-pattern=/^[0-9]*$/ ></td><td>{{"住院号"|translate}}<span class="required hideWhenPrint">*</span></td><td ng-class="{\'error\':pathological_form.admissionNo.$invalid && pathological_form.admissionNo.$dirty} "><input ng-pattern=/^[0-9]*$/ ng-model=pathological.data.admissionNo name=admissionNo ng-value=pathological.data.admissionNo type=text maxlength=11 ng-disabled=pathological.read required></td></tr><tr><td>{{"年龄"|translate}}<span class="required hideWhenPrint">*</span></td><td ng-class="{\'error\':pathological_form.age.$invalid && pathological_form.age.$dirty} "><input ng-model=pathological.data.age ng-pattern=/^[0-9]*$/ name=age ng-value=pathological.data.age type=text maxlength=3 ng-disabled=pathological.read required></td><td>{{"性别"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.sexList,pathological.data.sex)}}</span><select class=hideWhenPrint id=sex name=sex ng-model=pathological.data.sex ng-value=pathological.data.sex ng-options="sex.value as sex.name for sex in pathological.sexList" ng-disabled=pathological.read required></select></td><td>{{"婚否"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.maritalStatusList,pathological.data.maritalStatus)}}</span><select class=hideWhenPrint name=maritalStatus ng-model=pathological.data.maritalStatus ng-hide="pathological.data.maritalStatus===90 && pathological.read" ng-value=pathological.data.maritalStatus ng-options="maritalStatus.value as maritalStatus.name for maritalStatus in pathological.maritalStatusList" ng-disabled=pathological.read></select><!--<input type="text"/>--></td></tr><tr><td>{{"联系电话"|translate}}</td><td ng-class="{\'required\':pathological_form.tel.$invalid} "><input ng-model=pathological.data.patientTel ng-value=pathological.data.patientTel name=tel type=text ng-disabled=pathological.read onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td><td>{{"籍贯"|translate}}</td><td ng-class="{\'error\':pathological_form.originPlace.$invalid} "><input name=originPlace ng-model=pathological.data.originPlace ng-value=pathological.data.originPlace maxlength=20 type=text ng-disabled=pathological.read></td><td>{{"职业"|translate}}</td><td ng-class="{\'error\':pathological_form.profession.$invalid} "><input name=profession ng-model=pathological.data.profession ng-value=pathological.data.profession maxlength=20 type=text ng-disabled=pathological.read></td></tr><tr><td>{{"联系地址"|translate}}</td><td ng-class="{\'error\':pathological_form.address.$invalid} " colspan=5><input name=address ng-model=pathological.data.address ng-value=pathological.data.address maxlength=30 type=text ng-disabled=pathological.read></td></tr><tr><td>{{"送检医院"|translate}}</td><td ng-class="{\'error\':pathological_form.hospital.$invalid} "><select class=hideWhenPrint name=hospital ng-value=pathological.data.hospital ng-model=pathological.data.hospital ng-options="item.code as item.name for item in pathological.inspectHospitalList" ng-disabled=pathological.read><option value="">请选择</option></select><span class=showWhenPrint>{{pathological.data.hospital | hospital}}</span><!--<input name="hospital" ng-model="pathological.data.hospital" ng-value="pathological.data.hospital" maxlength="30" type="text" ng-disabled="pathological.read" />--></td><td style="min-width: 90px">{{"送检医生"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><input name=doctor ng-model=pathological.data.doctor ng-value=pathological.data.doctor type=text required ng-disabled=pathological.read maxlength=10></td><td style="min-width: 100px">{{"送检医生电话"|translate}}</td><td ng-class="{\'error\':pathological_form.doctorTel.$invalid&&pathological_form.doctorTel.$dirty} "><input name=doctorTel ng-model=pathological.data.doctorTel ng-value=pathological.data.doctorTel type=text ng-disabled=pathological.read onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td></tr><tr><td>{{"送检科室"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td style="position: relative"><department-select ng-if=pathological.data class=department-selecter text=pathological.data.departments|department value=pathological.data.departments></department-select></td><!--<td ng-class="{\'error\':pathological_form.departments.$invalid} "><input name="departments" ng-model="pathological.data.departments" ng-value="pathological.data.departments" maxlength="20" type="text" ng-disabled="pathological.read" /></td>--><td>{{"检查项目"|translate}}</td><td ng-class="{\'error\':pathological_form.inspectionItem.$invalid} "><input name=inspectionItem ng-model=pathological.data.inspectionItem ng-value=pathological.data.inspectionItem maxlength=20 type=text ng-disabled=pathological.read></td><td>{{"就诊类别"|translate}}</td><td ng-class="{\'error\':pathological_form.visitCat.$invalid} "><input name=visitCat ng-model=pathological.data.visitCat ng-value=pathological.data.visitCat maxlength=20 type=text ng-disabled=pathological.read></td></tr><tr ng-if="pathological.data.sex == 2"><td>{{"妇科类别"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.gynaecologyList,pathological.data.gynaecology)}}</span><select class=hideWhenPrint ng-model=pathological.data.gynaecology ng-value=pathological.data.gynaecology ng-options="gynaecology.value as gynaecology.name for gynaecology in pathological.gynaecologyList" ng-disabled=pathological.read></select><!--<input type="text"/>--></td><td>{{"是否绝经"|translate}}</td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.menopauseList,pathological.data.menopause)}}</span><select class=hideWhenPrint ng-model=pathological.data.menopause ng-value=pathological.data.menopause ng-options="menopause.value as menopause.name for menopause in pathological.menopauseList" ng-disabled="pathological.read||pathological.data.gynaecology===false"></select><!--<input type="text"/>--></td><td>{{"绝经日期"|translate}}</td><td><div ng-hide="pathological.read || !pathological.data.menopause" class=hideWhenPrint><input type=text readonly clear-text=清除 close-text=确定 current-text=今天 name=menopauseEnd class=form-control style="text-align: left; cursor:pointer" datepicker-options=menopauseDateOptions uib-datepicker-popup ng-model=pathological.data.menopauseEnd ng-value=pathological.data.menopauseEnd is-open=pathological.openPop ng-click="pathological.openPop=!pathological.openPop"><!--<span ng-show="!readonly" class="input-group-btn">\n                  <button type="button" class="btn btn-default" ng-disabled="readonly||!pathological.data.menopause" ng-click="pathological.openPop=!pathological.openPop"><i class="glyphicon glyphicon-calendar"></i></button>\n                </span>--></div><span ng-show=pathological.read>{{pathological.data.menopauseEnd | date:"yyyy-MM-dd"}}</span><!--<input ng-model="pathological.data.menopauseEnd " ng-value="pathological.data.menopauseEnd" ng-readonly="readonly||pathological.data.gynaecology===false" type="date"/>--></td></tr><tr ng-if="pathological.data.sex == 2"><td>{{"经期及持续时间"|translate}}</td><td><input ng-model=pathological.data.menopauseTime ng-value=pathological.data.menopauseTime type=text ng-readonly="pathological.read||pathological.data.gynaecology===false"></td><td>{{"绒毛膜促性腺激素值"|translate}}</td><td ng-class="{\'error\':pathological_form.hcg.$invalid} "><input ng-model=pathological.data.hcg name=hcg ng-value=pathological.data.hcg type=text ng-pattern=/^(\\d*\\.)?\\d+$/ ng-readonly="pathological.read||pathological.data.gynaecology===false"></td><td>{{"妇科备注"|translate}}</td><td><input type=text ng-model=pathological.data.gynaecologyRemark maxlength=10 ng-readonly="pathological.read||pathological.data.gynaecology===false"></td></tr><tr class=hideWhenPrint><td style=min-width:110px>{{"临床诊断"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.clinicalDiagnosis ng-value=pathological.data.clinicalDiagnosis ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.clinicalDiagnosis></div></td></tr><tr class=hideWhenPrint><td>{{"病历摘要"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.medicalSummary ng-value=pathological.data.medicalSummary ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.medicalSummary></div></td></tr><tr class=hideWhenPrint><td>{{"临床所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.clinicalFindings ng-value=pathological.data.clinicalFindings ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.clinicalFindings></div></td></tr><tr class=hideWhenPrint><td>{{"影像所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.imagingFindings ng-value=pathological.data.imagingFindings ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.imagingFindings></div></td></tr><tr class=hideWhenPrint><td>{{"手术名称及所见"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.operationFindings ng-value=pathological.data.operationFindings ng-disabled=pathological.read></textarea><div ng-show=readonly ng-bind=pathological.data.operationFindings></div></td></tr><tr class=hideWhenPrint><td>{{"过往病史"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.medicalHistory ng-value=pathological.data.medicalHistory ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.medicalHistory></div></td></tr><tr class=hideWhenPrint><td>{{"曾用药品及剂量"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=readonly ng-model=pathological.data.historyMedicine ng-value=pathological.data.historyMedicine ng-disabled=pathological.read></textarea><div ng-show=readonly ng-bind=pathological.data.historyMedicine></div></td></tr><tr class=hideWhenPrint><td>{{"历史病理"|translate}}</td><td colspan=5 style="text-align: left"><textarea ng-hide=pathological.read ng-model=pathological.data.historyPathology ng-value=pathological.data.historyPathology ng-disabled=pathological.read></textarea><div ng-show=pathological.read ng-bind=pathological.data.historyPathology></div></td></tr></tbody></table></div><br><!--添加样本信息表格 在登记页面默认应该隐藏--><div class=table-responsive ng-hide=hideSampleTable><table class="table table-bordered" id=sample-table><thead><tr><th>{{"序号"|translate}}</th><th ng-if=pathological.data.samples[0].serialNumber>{{"样本编号"|translate}}</th><th>{{"样本名称"|translate}}<span class="red-sign hideWhenPrint">*</span></th><th>{{"样本类别"|translate}}</th><th class=hideWhenPrint ng-if=showOperation>{{"操作"|translate}}</th></tr></thead><tbody><tr ng-repeat="item in pathological.data.samples track by $index"><td>{{$index + 1}}</td><td ng-if=item.serialNumber>{{item.serialNumber}}</td><td><input type=text ng-model=item.name ng-value=item.name maxlength=20 required ng-disabled=pathological.read></td><td><span class=showWhenPrint>{{pathological.getSelectName(pathological.categoryList,item.category)}}</span><select class=hideWhenPrint name=sample ng-model=item.category ng-value=item.category ng-options="category.code as category.name for category in pathological.categoryList" ng-disabled=pathological.read ng-disabled=pathological.read><!--<option value="1">大样本</option>--><!--<option value="2">小样本</option>--></select></td><td class=hideWhenPrint ng-if=showOperation><a class="btn btn-input" ng-click=pathological.delSample($index) ng-disabled=pathological.read ng-disabled=pathological.read><i class="glyphicon glyphicon-trash"></i>{{"删除"|translate}}</a></td></tr><tr ng-if=showOperation class=hideWhenPrint><td></td><td></td><td></td><td><a class="btn btn-input" ng-click=pathological.addSample1() ng-disabled=pathological.read><i class="glyphicon glyphicon-plus"></i>{{"添加"|translate}}</a></td></tr></tbody></table></div></fieldset><div class="text-center hideWhenPrint" ng-if=showOperation><div class=checkbox><label><input type=checkbox ng-model=pathological.data.urgentFlag ng-disabled=pathological.read>{{"加急处理"|translate}}</label></div><button ng-hide=hideSubmit name=apply click-debounce ng-disabled="pathological_form.$invalid || !pathological.data.samples.length ||!pathological.data.departments" ng-click=pathological.submit() type=submit class="btn btn-default btn-lg" id=bed-submit>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{"提交"|translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button></div></form><!--</div>--></div><!--//Can not deserialize instance of java.util.ArrayList out of START_OBJECT token-->'),
t.put("app/components/pathologicalForm/applicationResearch/applicationResearch.html",'<div id=pathologicalFreezeForm class=center-block><form id=pathologicalFreeze_form ng-class="{\'disabled\':readonly}" name=pathologicalFreeze_form ng-disabled=readonly novalidate><div class=table-responsive style="overflow: inherit"><table class="table table-bordered"><tbody><tr><td style="width: 100px">{{"申请者姓名"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><input ng-model=pathologicalFreeze.data.applicant ng-value=pathologicalFreeze.data.applicant type=text ng-readonly=readonly required></td><td>{{"申请者身份"|translate}}</td><td><span class=showWhenPrint>{{pathologicalFreeze.getSelectName(pathologicalFreeze.identityList,pathologicalFreeze.data.identity)}}</span><select class=hideWhenPrint ng-model=pathologicalFreeze.data.identity ng-value=pathologicalFreeze.data.identity ng-options="item.value as item.name for item in pathologicalFreeze.identityList" ng-disabled=readonly></select></td><td>{{"导师"|translate}}</td><td><input ng-model=pathologicalFreeze.data.tutor name=admissionNo ng-value=pathologicalFreeze.data.tutor type=text ng-readonly=readonly></td></tr><tr><td>{{"院系"|translate}}</td><td><input ng-model=pathologicalFreeze.data.faculty ng-value=pathologicalFreeze.data.faculty type=text ng-readonly=readonly></td><td>{{"专业"|translate}}</td><td><input ng-model=pathologicalFreeze.data.specialty ng-value=pathologicalFreeze.data.specialty ng-disabled=readonly></td><td>{{"学号"|translate}}</td><td><input type=text ng-value=pathologicalFreeze.data.studentNumber ng-model=pathologicalFreeze.data.studentNumber></td></tr><tr><td>{{"单位"|translate}}</td><td><input ng-model=pathologicalFreeze.data.unit ng-value=pathologicalFreeze.data.unit type=text ng-readonly=readonly></td><td>{{"科室"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td style="position: relative"><department-select ng-if=pathologicalFreeze.data class=department-selecter text="(pathologicalFreeze.data.departments)| department" value=pathologicalFreeze.data.departments></department-select></td><td>{{"职工号"|translate}}</td><td><input ng-model=pathologicalFreeze.data.wno ng-value=pathologicalFreeze.data.wno type=text ng-readonly=readonly></td></tr><tr><td>{{"课题名称"|translate}}</td><td colspan=5><input name=address ng-model=pathologicalFreeze.data.taskName ng-value=pathologicalFreeze.data.taskName type=text ng-readonly=readonly></td></tr><tr><td>{{"课题类型"|translate}}</td><td><span class=showWhenPrint>{{pathologicalFreeze.getSelectName(pathologicalFreeze.taskTypeList,pathologicalFreeze.data.taskType)}}</span><select class=hideWhenPrint ng-model=pathologicalFreeze.data.taskType ng-value=pathologicalFreeze.data.taskType ng-options="item.value as item.name for item in pathologicalFreeze.taskTypeList" ng-disabled=readonly></select></td><td style="min-width: 90px">{{"项目代码"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td><input ng-model=pathologicalFreeze.data.funds ng-value=pathologicalFreeze.data.funds type=text ng-readonly=readonly required></td><td style="min-width: 100px">{{"联系电话"|translate}}<span class="red-sign hideWhenPrint">*</span></td><td ng-class="{\'error\':pathologicalFreeze_form.phone.$invalid&&pathologicalFreeze_form.phone.$dirty} "><input name=phone ng-model=pathologicalFreeze.data.phone ng-value=pathologicalFreeze.data.phone type=text ng-readonly=readonly required onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td></tr></tbody></table></div><br><!--添加样本信息表格 在登记页面默认应该隐藏--><div class=table-responsive ng-hide=hideSampleTable><table class="table table-bordered" id=sample-table><thead><tr><th>{{"序号"|translate}}</th><th ng-if=pathologicalFreeze.data.samples[0].serialNumber>{{"样本编号"|translate}}</th><th>{{"样本名称"|translate}}<span class="red-sign hideWhenPrint">*</span></th><th>{{"样本类别"|translate}}</th><th class=hideWhenPrint ng-if=showOperation>{{"操作"|translate}}</th></tr></thead><tbody><tr ng-repeat="item in pathologicalFreeze.data.samples track by $index"><td>{{$index + 1}}</td><td ng-if=item.serialNumber>{{item.serialNumber}}</td><td><input type=text ng-model=item.name ng-value=item.name maxlength=20 required ng-readonly=readonly></td><td><span class=showWhenPrint>{{pathologicalFreeze.getSelectName(pathologicalFreeze.categoryList,item.category)}}</span><select class=hideWhenPrint name=sample ng-model=item.category ng-value=item.category ng-options="category.code as category.name for category in pathologicalFreeze.categoryList" ng-disabled=readonly ng-readonly=readonly><!--<option value="1">大样本</option>--><!--<option value="2">小样本</option>--></select></td><td class=hideWhenPrint ng-if=showOperation><a class="cursor-pointer btn-input" ng-click=pathologicalFreeze.delSample($index) ng-disabled=readonly ng-readonly=readonly><i class="glyphicon glyphicon-trash"></i>{{"删除"|translate}}</a></td></tr><tr ng-if=showOperation class=hideWhenPrint><td></td><td></td><td></td><td><a class="cursor-pointer btn-input" ng-click=pathologicalFreeze.addSample() ng-disabled=readonly><i class="glyphicon glyphicon-plus"></i>{{"添加"|translate}}</a></td></tr></tbody></table></div><!--冰冻预约部分--><div class=freeze-switch>{{"申请类别"|translate}}： <span class=showWhenPrint>{{pathologicalFreeze.getSelectName(pathologicalFreeze.researchTypeList,pathologicalFreeze.data.researchType)}}</span><select class=hideWhenPrint ng-model=pathologicalFreeze.data.researchType ng-options="item.value as item.name for item in pathologicalFreeze.researchTypeList" ng-value=item.category ng-disabled=readonly ng-readonly=readonly><option style="display: none"></option></select></div><br><div class="application-type hideWhenPrint" ng-show="(pathologicalFreeze.data.researchType===2)&&(!pathologicalFreeze.data.id)"><!--ng-hide="pathologicalFreeze.data.id"--><div class=row><div class=col-xs-4><div class="pull-left form-control-static">{{"日期"|translate}}：</div><div style="width: 160px" class="pull-right freeDatePick"><p class=input-group><!--开始：--> <input ng-model=pathologicalFreeze.freezeStartTime ng-change=pathologicalFreeze.getFreezeBookedList() type=text class=form-control readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="freezeDate.opened=true" uib-datepicker-popup={{format}} is-open=freezeDate.opened datepicker-options=freezeDateOptions alt-input-formats=altInputFormats> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="freezeDate.opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-xs-8><div class="pull-left form-control-static">{{"时间"|translate}}：</div><div class=pull-left><select class="hideWhenPrint form-control" ng-model=pathologicalFreeze.startTime ng-change=pathologicalFreeze.selectTime(pathologicalFreeze.startTime,pathologicalFreeze.endTime) ng-disabled=readonly><option value="">{{"请选择"|translate}}</option><option ng-hide="item.value>35" ng-repeat="item in pathologicalFreeze.timeList" ng-value=item.value>{{item.name}}</option></select></div><div class="pull-left form-control-static">&nbsp;~&nbsp;</div><div class=pull-left><select class="hideWhenPrint form-control" ng-model=pathologicalFreeze.endTime ng-change=pathologicalFreeze.selectTime(pathologicalFreeze.startTime,pathologicalFreeze.endTime) ng-disabled=readonly><option value="">{{"请选择"|translate}}</option><option ng-show="item.value>pathologicalFreeze.startTime" ng-repeat="item in pathologicalFreeze.timeList" ng-value=item.value>{{item.name}}</option></select></div></div></div><table class="table table-bordered orderList"><thead><tr><td>{{"冰冻切片机"|translate}}</td><td colspan=2 ng-repeat="header in pathologicalFreeze.orderHeaderList track by $index">{{header}}</td><!--<td colspan="2">9:00</td><td colspan="2">10:00</td><td>11:00</td><td>12:00</td><td>13:00</td><td>14:00</td><td>15:00</td><td>16:00</td><td>17:00</td><td>18:00</td>--></tr></thead><tbody><tr ng-repeat="item in pathologicalFreeze.orderList track by $index" ng-class="{\'active-border\':item.instrumentId===pathologicalFreeze.activeDate.instrumentId}"><!--<td ng-click="pathologicalFreeze.choseDate(item)">{{item.date|date:\'yyyy-MM-dd\'}}</td>--><td ng-click=pathologicalFreeze.choseDate(item)><a href="">{{"切片机"|translate}}{{item.instrumentId}}</a></td><td ng-class={booked:time.booked,checked:time.checked,error:time.checked&&time.booked} ng-repeat="time in item.bookingDto track by $index " ng-click=pathologicalFreeze.checkTime(time,item.bookingDto)><!--<label style="width: 100%;height: 100%;"><input ng-click="" type="checkbox" ng-model="time.checked"></label>--></td><!--<td ng-repeat="n in [].constructor(20) track by $index" ng-hide="pathologicalFreeze.orderList.length"></td>--></tr></tbody></table><div><label class=radio-inline ng-repeat="item in pathologicalFreeze.orderList track by $index" ng-click=pathologicalFreeze.choseDate(item)><input type=radio name=RadioOptions>切片机{{item.instrumentId}}</label></div></div><!--显示冰冻预约时间--><div ng-class="{hideWhenPrint:pathologicalFreeze.data.researchType===1}" ng-show=pathologicalFreeze.data.books.length><div ng-repeat="item in pathologicalFreeze.data.books">{{"切片机"|translate}}{{item.instrumentId}} {{"预约时间"|translate}}：{{item.freezeStartTime|date:\'yyyy-MM-dd HH:mm\' }} &nbsp;~&nbsp; {{item.freezeEndTime|date:\'yyyy-MM-dd HH:mm\'}}</div></div><div class="text-center hideWhenPrint" ng-if=showOperation><!--<div class="checkbox">--><!--<label><input type="checkbox" ng-model="pathologicalFreeze.data.urgentFlag" ng-disabled="readonly" >加急处理</label>--><!--</div>--> <button ng-hide=hideSubmit click-debounce ng-disabled="pathologicalFreeze_form.$invalid || !pathologicalFreeze.data.samples.length || pathologicalFreeze.freezeDateWrong ||!pathologicalFreeze.data.departments" ng-click=pathologicalFreeze.submit() type=submit class="btn btn-default btn-lg" id=research-submit>{{"提交"|translate}}</button></div></form><!--</div>--><!--&lt;!&ndash;用于测试显示病理申请号 病理号&ndash;&gt;\n  <div id="applicationNo" style="height: 0;position:absolute; visibility: hidden;" ng-bind="pathologicalFreeze.test_serialNumber"></div>--></div><!--//Can not deserialize instance of java.util.ArrayList out of START_OBJECT token-->'),t.put("app/components/pathologicalForm/consultForm/consultForm.html",'<div id=pathologicalForm class=center-block><form id=consultForm_form ng-class="{\'readonly\':consultForm.read}" name=consultForm_form novalidate><div class=row><fieldset ng-class="{\'col-sm-8\':consultForm.colspan === 2}" ng-disabled=consultForm.read><!--左--><div class=table-responsive style="overflow: inherit"><table class="table table-bordered"><tbody><tr><td>{{"病人姓名"|translate}}<span class="required hideWhenPrint">*</span></td><td><input name=patientName ng-model=consultForm.data.patientName ng-value=consultForm.data.patientName type=text required></td><td>{{"门诊号"|translate}}</td><td><input ng-model=consultForm.data.patientNo ng-value=consultForm.data.patientNo type=text></td><td>{{"住院号"|translate}}</td><td><input ng-model=consultForm.data.admissionNo name=admissionNo ng-value=consultForm.data.admissionNo type=text></td></tr><tr><td>{{"年龄"|translate}}</td><td ng-class="{\'error\':consultForm_form.age.$invalid} "><input ng-model=consultForm.data.age ng-pattern=/^[0-9]*$/ name=age ng-value=consultForm.data.age type=text maxlength=3></td><td>{{"性别"|translate}}<span class="required hideWhenPrint">*</span></td><td><!--<span class="showWhenPrint">{{consultForm.getSelectName(consultForm.sexList,consultForm.data.sex)}}</span>--><select class=hideWhenPrint id=sex name=sex ng-model=consultForm.data.sex ng-value=consultForm.data.sex ng-options="sex.value as sex.name for sex in consultForm.sexList" ng-disabled=readonly required></select></td><td>{{"婚否"|translate}}</td><td><!--<span class="showWhenPrint">{{consultForm.getSelectName(consultForm.maritalStatusList,consultForm.data.maritalStatus)}}</span>--><select class=hideWhenPrint name=maritalStatus ng-model=consultForm.data.maritalStatus ng-hide="consultForm.data.maritalStatus===90 && readonly" ng-value=consultForm.data.maritalStatus ng-options="maritalStatus.value as maritalStatus.name for maritalStatus in consultForm.maritalStatusList" ng-disabled=readonly></select></td></tr><tr><td>{{"联系电话"|translate}}</td><td ng-class="{\'required\':consultForm_form.tel.$invalid} "><input ng-model=consultForm.data.patientTel ng-value=consultForm.data.patientTel name=tel type=text ng-readonly=readonly onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td><td>{{"籍贯"|translate}}</td><td ng-class="{\'error\':consultForm_form.originPlace.$invalid} "><input name=originPlace ng-model=consultForm.data.originPlace ng-value=consultForm.data.originPlace maxlength=20 type=text></td><td>{{"职业"|translate}}</td><td ng-class="{\'error\':consultForm_form.profession.$invalid} "><input name=profession ng-model=consultForm.data.profession ng-value=consultForm.data.profession maxlength=20 type=text></td></tr><tr><td>{{"送检医院"|translate}}<span class="required hideWhenPrint">*</span></td><td><!--<span class="showWhenPrint">{{consultForm.getSelectName(consultForm.inspectHospitalList,consultForm.data.hospital)}}</span>--><select class=hideWhenPrint name=hospital ng-value=consultForm.data.hospital required ng-model=consultForm.data.hospital ng-options="item.code as item.name for item in consultForm.inspectHospitalList" ng-disabled=readonly><option value="">请选择</option></select></td><td style="min-width: 90px">{{"送检医生"|translate}}</td><td><input name=doctor ng-model=consultForm.data.doctor ng-value=consultForm.data.doctor type=text maxlength=10></td><td style="min-width: 100px">{{"送检医生电话"|translate}}</td><td ng-class="{\'error\':consultForm_form.doctorTel.$invalid&&consultForm_form.doctorTel.$dirty} "><input name=doctorTel type=text ng-readonly=readonly ng-model=consultForm.data.doctorTel ng-value=consultForm.data.doctorTel onkeydown="if(event.keyCode==32) return false" maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td></tr><tr><td>{{"送检科室"|translate}}</td><td style="position: relative"><department-select ng-if=consultForm.data class=department-selecter text=consultForm.data.departments|department value=consultForm.data.departments require=false></department-select></td><td>{{"检查项目"|translate}}</td><td ng-class="{\'error\':consultForm_form.inspectionItem.$invalid} "><input name=inspectionItem ng-model=consultForm.data.inspectionItem ng-value=consultForm.data.inspectionItem maxlength=20 type=text></td><td>{{"就诊类别"|translate}}</td><td ng-class="{\'error\':consultForm_form.visitCat.$invalid} "><input name=visitCat ng-model=consultForm.data.visitCat ng-value=consultForm.data.visitCat maxlength=20 type=text></td></tr><tr><td>临床诊断</td><td colspan=5><textarea class=form-control ng-model=consultForm.data.clinicalDiagnosis cols=30 rows=4></textarea></td></tr><tr><td>病历摘要</td><td colspan=5><textarea class=form-control ng-model=consultForm.data.medicalSummary cols=30 rows=4></textarea></td></tr><tr><td style="width: 100px">会诊目的和要求</td><td colspan=5><textarea class=form-control name=consultForm_form.note ng-model=consultForm.note cols=30 rows=4></textarea></td></tr></tbody></table></div></fieldset><div ng-class="{\'col-sm-4\':consultForm.colspan === 2}" ng-disabled=consultForm.read><!--右--><div class=table-responsive ng-hide=hideSampleTable><table class="table table-bordered" id=sample-table><thead><tr><th>{{"序号"|translate}}</th><th ng-class="{\'min-width\':consultForm.colspan === 2}">{{"病理号"|translate}}<span class="required hideWhenPrint">*</span></th><th ng-class="{\'min-width\':consultForm.colspan === 2}">{{"蜡块号"|translate}}<span class="required hideWhenPrint">*</span></th><th ng-class="{\'min-width\':consultForm.colspan === 2}">{{"类别"|translate}}<span class="required hideWhenPrint">*</span></th><th class=hideWhenPrint ng-if=consultForm.showOperation>{{"操作"|translate}}</th></tr></thead><tbody><tr ng-repeat="item in consultForm.data.origins track by $index"><td>{{$index + 1}}</td><td><input type=text ng-model=item.pathNo ng-value=item.pathNo maxlength=20 ng-disabled=consultForm.read required></td><td><input type=text ng-model=item.blockSubId ng-value=item.blockSubId maxlength=20 ng-disabled=consultForm.read required></td><td><!--<span class="showWhenPrint">{{consultForm.getSelectName(consultForm.categoryList,item.category)}}</span>--><select class=hideWhenPrint name=sample ng-model=item.type ng-value=item.type required ng-options="type.code as type.name for type in consultForm.typeList" ng-disabled=consultForm.read></select></td><td class=hideWhenPrint ng-if=consultForm.showOperation><a class="cursor-pointer btn-input" ng-click=consultForm.delSample($index) ng-disabled=consultForm.read><i class="glyphicon glyphicon-trash"></i>{{"删除"|translate}}</a></td></tr><tr ng-if=consultForm.showOperation class=hideWhenPrint><td></td><td></td><td></td><td></td><td><a class="cursor-pointer btn-input" ng-click=consultForm.addSample() ng-disabled=consultForm.read><i class="glyphicon glyphicon-plus"></i>{{"添加"|translate}}</a></td></tr></tbody></table></div><div class=text-center><button ng-if=consultForm.showOperation class="btn btn-default" ng-disabled=consultForm_form.$invalid ng-click=consultForm.submit() id=submit>登记</button></div></div></div><br></form><!--</div>--><!--&lt;!&ndash;用于测试显示病理申请号 病理号&ndash;&gt;\n  <div id="applicationNo" style="height: 0;position:absolute; visibility: hidden;" ng-bind="consultForm.test_serialNumber"></div>--></div><!--//Can not deserialize instance of java.util.ArrayList out of START_OBJECT token-->'),t.put("app/components/statistics/foldChart/foldChart.html","<div id=foldChart><span>{{fChart.chartTitle|translate}}</span><div ng-echarts class=foldChart ec-config=fChart.lineConfig ec-option=fChart.option></div></div>"),t.put("app/components/statistics/mergeChart/mergeChart.html",'<div id=mergeChart><span class=pull-left>{{mChart.chartTitle}}</span> <span class="pull-right select-span"><select ng-model=mChart.timeFilter ng-change=mChart.setTime()><option value="">月</option><option value=true>年</option></select></span><div ng-echarts class=pillarChart ec-config=mChart.lineConfig ec-option=mChart.option></div></div>'),t.put("app/components/statistics/percentChart/percentChart.html",'<div id=percentChart><span class=pull-left>{{pChart.chartTitle}}</span> <span class="pull-right select-span"><select ng-model=pChart.timeFilter ng-change=pChart.setTime()><option value="">月</option><option value=true>年</option></select></span><div ng-echarts class=pieChart ec-config=pChart.lineConfig ec-option=pChart.option></div></div>'),t.put("app/components/statistics/pillarChart/pillarChart.html","<div id=pillarChart><span>{{pillarChart.chartTitle}}</span><div ng-echarts class=pillarChart ng-style=pillarChart.lineStyle ec-config=pillarChart.lineConfig ec-option=pillarChart.option></div></div>"),t.put("app/components/statistics/scoreTable/scoreTable.html","<div id=scoreTable><span class=pull-left>{{'质控评分排行'|translate}}</span> <span class=pull-right><select ng-model=scoreTable.time ng-change=scoreTable.setTime() ng-options=\"time.value as time.name for time in scoreTable.timeList\"></select></span><div class=table-min><table><thead><tr><td>{{'技术员'|translate}}</td><td>{{'工位'|translate}}</td><td>{{'评分'|translate}}</td></tr></thead><tbody><tr ng-repeat=\"item2 in scoreTable.scoreData\"><td ng-bind=item2.operator.firstName></td><td ng-bind=item2.operationDesc></td><td ng-bind=item2.average></td></tr></tbody></table></div></div>"),t.put("app/components/statistics/tableChart/tableChart.html","<div id=tableChart><span class=pull-left>{{'工作量排行'|translate}}</span> <span class=pull-right><select ng-model=tChart.workStation ng-change=tChart.setTime() ng-options=\"section.value as section.name for section in tChart.sectionList\"></select><select ng-model=tChart.time ng-change=tChart.setTime() ng-options=\"time.value as time.name for time in tChart.timeList\"></select></span><div class=table-min><table><thead><tr><td>{{'技术员'|translate}}</td><td>{{'病例数'|translate}}</td><td>{{'蜡块数'|translate}}</td><td>{{'玻片数'|translate}}</td></tr></thead><tbody><tr ng-repeat=\"item in tChart.sectionData\"><td ng-bind=item.operator.firstName></td><td ng-bind=item.pathCount></td><td ng-bind=item.blockCount></td><td ng-bind=item.slideCount></td></tr></tbody></table></div></div>"),t.put("app/site/caseQuery/adviceQuery/adviceQuery.html",'<toolbar class=clearfix><!--搜索部分--><div class="search clearfix"><search-input class=pull-right style="width: 350px" model=adviceQuery.searchStr get-data=adviceQuery.search() placeholder="{{\'输入姓名/病理号查询\'|translate}}"></search-input></div></toolbar><div id=adviceQuery class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none;min-width:inherit"><date-seletor dateset=adviceQuery.defaultTime start-time=adviceQuery.startTime end-time=adviceQuery.endTime></date-seletor><select class=form-control ng-model=adviceQuery.filterData.applyType ng-options="item.code as item.name for item in adviceQuery.applyTypeList"><option value="">{{\'医嘱类别\'|translate}}</option></select><select class=form-control ng-model=adviceQuery.filterData.inspectionDoctor ng-options="item.id as item.firstName for item in adviceQuery.inspectionDoctorList"><option value="">{{\'申请医生\'|translate}}</option></select><select class=form-control ng-model=adviceQuery.filterData.status ng-options="item.code as item.name for item in adviceQuery.statusList"><option value="">{{\'状态\'|translate}}</option></select><button ng-click=adviceQuery.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div><div class="col-sm-7 no-padding"><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in adviceQuery.tableHeaders" ng-click=adviceQuery.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in adviceQuery.list track by $index" class=cursor-pointer ng-click="adviceQuery.info = item;adviceQuery.getDetail(item)"><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.patientName></td><td ng-bind=item.operationName></td><td ng-bind=item.operatorName></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd HH:mm\' "></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="adviceQuery.list.length<=$index"><td ng-repeat="n in [].constructor(7) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=adviceQuery.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=adviceQuery.filterData.length max-size=10 total-items=adviceQuery.total ng-model=adviceQuery.filterData.page ng-change=adviceQuery.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=col-sm-5><div class=advice-info><div class=title><h4>{{\'执行详情\'|translate}}</h4></div><div class=content><div class=sub-title>{{\'试剂/抗体名称\'|translate}}：</div><div class=sub-content><p ng-bind=adviceQuery.info.ihcMarker></p></div><div class=sub-title>{{\'医生备注\'|translate}}：</div><div class=sub-content><p ng-bind=adviceQuery.info.note></p></div><div class=sub-title>{{\'操作记录\'|translate}}：</div><div class=btn-container><table class=table><thead><tr><th class=text-center>{{\'操作名称\'|translate}}</th><th class=text-center>{{\'操作人\'|translate}}</th><th class=text-center>{{\'操作时间\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in adviceQuery.queryResultList track by $index"><td><a ng-bind=item.operationName></a></td><td ng-bind=item.operatorName></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd HH:mm\' "></td></tr><!--<tr><td class="text-center" colspan="11" ng-show="!sampleSearch.data.length">暂无数据</td></tr>--></tbody></table></div></div></div></div></div>'),t.put("app/site/caseQuery/createQuery/applicationInfo.html","<div class=pathology-report ng-controller=\"QueryApplicationController as QueryA\"><div class=\"specialDye-main block-center\"><!--申请tab特检申请表--><div class=sample><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'蜡块号'|translate}}</th><th>{{'染色类别'|translate}}</th><th>{{'试剂/抗体名称'|translate}}</th><th>{{'备注'|translate}}</th><th>{{'申请人'|translate}}</th><th>{{'联系电话'|translate}}</th><th>{{'申请时间'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in QueryA.specialDyeApplyInfo | filter: QueryA.filter track by $index\"><td ng-bind=item.subId></td><td ng-bind=item.specialDyeDesc></td><td ng-bind=\"item.ihcMarker.join(';')\"></td><td ng-bind=item.note></td><td ng-bind=item.applyUser></td><td ng-bind=item.phone></td><td ng-bind=\"item.createTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td></tr><tr ng-repeat=\"n in [].constructor(5) track by $index\" ng-show=\"!QueryA.specialDyeApplyInfo.length||QueryA.specialDyeApplyInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div>"),t.put("app/site/caseQuery/createQuery/createQuery.html",'<toolbar class=clearfix><!--<ul class="list-unstyled menu-list">--><!--<li ng-class="{active:createQuery.activeMenu===0}" ng-click="createQuery.activeMenu=0">临床</li>--><!--<li ng-class="{active:createQuery.activeMenu===1}" ng-click="createQuery.activeMenu=1">科研</li>--><!--</ul>--><div class="search clearfix"><search-input style="width: 270px" class="pull-left pull-left" model=createQuery.searchStr get-data=createQuery.search() placeholder="{{\'输入病理号、姓名快速搜索\'|translate}}" auto-focus={{autoFocus}}></search-input><span class="pull-right cursor-pointer" style=height:35px;line-height:35px;color:#169bd5 ng-click=createQuery.export()>{{\'导出结果\'|translate}}</span></div></toolbar><!--临床--><div id=createQuery ng-if="createQuery.activeMenu===0"><div class="container no-padding"><!--<div class="toolbar clearfix" style="background: none;">--><!--<search-input style="width: 270px;" class="pull-left pull-left" model="createQuery.searchStr" get-data="createQuery.search()" placeholder="输入病理号、姓名快速搜索" auto-focus="{{autoFocus}}"></search-input>--><!--<span class="pull-right cursor-pointer" style="height:35px;line-height:35px;color:#169bd5;" ng-click="createQuery.export()">导出结果</span>--><!--</div>--><div class=row><div style="width: 26%; height: 685px" class="col-sm-3 search"><h4>{{\'高级搜索\'|translate}}</h4><div class="search-item clearfix"><div class=name>{{\'包含字段\'|translate}}：</div><div class=content><input ng-model=createQuery.filter.fieldContain type=text></div></div><div class="search-item clearfix"><div class=name>{{\'不含字段\'|translate}}：</div><div class=content><input ng-model=createQuery.filter.fieldExclusive type=text></div></div><h4>{{\'搜索范围\'|translate}}</h4><div class="search-item clearfix"><div class=name>{{\'字段类别\'|translate}}：</div><div class=content><select ng-model="createQuery.filter.fieldType " ng-options="item.code as item.name for item in createQuery.fieldTypeList"><option value="">{{\'任意字段（模糊查询）\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'染色方式\'|translate}}：</div><div class=content><select ng-model=createQuery.filter.specialDye ng-options="item.code as item.name for item in createQuery.DyeList"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'检查类别\'|translate}}：</div><div class=content><select ng-model="createQuery.filter.inspectionCategory " ng-options="item.code as item.typeDesc for item in createQuery.inspectCategoryList"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'样本状态\'|translate}}：</div><div class=content><select ng-model=createQuery.filter.pathStatus ng-options="item.code as item.name for item in createQuery.pathStatus"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'送检科室\'|translate}}：</div><div class=content><select ng-model=createQuery.filter.departments ng-options="item.code as item.name for item in createQuery.departmentsList"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'送检医生\'|translate}}：</div><div class=content><select ng-model=createQuery.filter.inspectionDoctor ng-options="item.id as item.firstName for item in createQuery.inspectDoctorList"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'报告医生\'|translate}}：</div><div class=content><select ng-model=createQuery.filter.diagnoseDoctor ng-options="item.id as item.firstName for item in createQuery.diagnoseDoctorList"><option value="">{{\'全部\'|translate}}</option></select></div></div><div class="search-item clearfix"><div class=name>{{\'接收日期\'|translate}}：</div><div class=content><div class=row><div style="padding-right: 10px" class=col-sm-6><div class=input-group><!--开始：--> <input type=text readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup1.opened=true" uib-datepicker-popup ng-model=createQuery.filter.receiveTimeStart is-open=popup1.opened datepicker-options=dateOptions1 ng-required=true close-text=Close min=minStartDate max=maxStartDate ng-change=createQuery.dateRange()><!--<span class="input-group-btn">--><!--<button type="button" class="btn btn-default" ng-click="popup3.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>--><!--</span>--></div></div><div style="position: absolute;left: 62%">~</div><div style="padding-left: 10px" class=col-sm-6><div class=input-group><!--结束：--> <input type=text readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup2.opened=true" uib-datepicker-popup ng-model=createQuery.receiveTimeEnd_show is-open=popup2.opened datepicker-options=dateOptions2 ng-required=true close-text=Close></div></div></div></div></div><div class="search-item clearfix"><div class=name>{{\'报告日期\'|translate}}：</div><div class=content><div class=row><div style="padding-right: 10px" class=col-sm-6><p class=input-group><!--开始：--> <input type=text readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup3.opened=true" uib-datepicker-popup={{format}} ng-model=createQuery.filter.reportTimeStart is-open=popup3.opened datepicker-options=dateOptions3 ng-required=true close-text=Close alt-input-formats=altInputFormats><!--<span class="input-group-btn">--><!--<button type="button" class="btn btn-default" ng-click="popup3.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>--><!--</span>--></p></div><div style="position: absolute;left: 62%">~</div><div style="padding-left: 10px" class=col-sm-6><p class=input-group><!--结束：--> <input type=text readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup4.opened=true" uib-datepicker-popup ng-model=createQuery.reportTimeEnd_show is-open=popup4.opened datepicker-options=dateOptions4 ng-required=true close-text=Close><!--<span class="input-group-btn">--><!--<button type="button" class="btn btn-default" ng-click="popup4.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>--><!--</span>--></p></div></div></div></div><div class="search-item clearfix"><div class=name><!--字：--></div><div class=content><div class=row><div class=col-sm-6><button class="btn btn-info btn-sm btn-block" ng-click=createQuery.clear()>{{\'清除\'|translate}}</button></div><div class=col-sm-6><button class="btn btn-default btn-sm btn-block" ng-click=createQuery.query()>{{\'查询\'|translate}}</button></div></div></div></div></div><div style="width: 74%" class=col-sm-9><!--上半部分 查询结果表格--><div class=table-container><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in createQuery.tableHeaders" ng-click=createQuery.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in createQuery.queryResultList track by $index" ng-click=createQuery.getOne(item) ng-class="{active:createQuery.activeOne.serialNumber===item.serialNumber}"><td><a ng-bind=item.hisId href></a></td><td ng-bind=item.serialNumber></td><td ng-bind=item.patientName></td><td ng-bind=item.sex|sex></td><td ng-bind=item.age></td><td ng-bind="item.admissionNo||\'无\'"></td><td ng-bind="item.departments | department"></td><td ng-bind=item.inspectDoctor.firstName></td><td ng-bind=item.inspectHospital></td><td ng-bind="item.receiveTime| date : \'yyyy-MM-dd\' "></td><td ng-bind="item.reportTime| date : \'yyyy-MM-dd\' "></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(5) track by $index" ng-show="!createQuery.queryResultList.length||createQuery.queryResultList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class="table-footer clearfix"><div ng-show="createQuery.total>0" class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=createQuery.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=createQuery.filter.length max-size=10 total-items=createQuery.total ng-model=createQuery.filter.page ng-change=createQuery.getData() previous-text="{{\'上一页\'|translate}}" next-text="{{\'下一页\'|translate}}" first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><!--下半部分 切换tab--><div class=query-tab-header><span class="btn btn-info" ng-class="{\'active-tab\': createQuery.activeTab === $index}" ng-repeat="tab in createQuery.tabHeaders track by $index" ng-click="createQuery.activeTab = $index;createQuery.switchTab($index)">{{tab.name}}</span></div><div class=query-tab-body style="border: 1px solid;overflow: auto;padding: 10px"><!--报告单 tab--><div class="content report" ng-show="createQuery.activeTab === 0"><a class=pull-right href="" ng-click=createQuery.printReport()><i class="fa fa-print fa-2x" aria-hidden=true></i> 打印</a><!--报告tab 内部的子tab--><div class=sub-tab><div class=sub-tab-header><a class="btn btn-pure" ng-class="{\'active\': createQuery.activeReportTab === $index}" ng-repeat="tab in createQuery.reportTypeList track by $index" ng-click="createQuery.getReportDom(tab);createQuery.activeReportTab = $index">{{createQuery.reportType[tab.type] || "特检报告"}}</a></div><div class=sub-tab-body><div class=report-dom><!--直接把打印需要的所有样式写在页面上--><style>* {font-size: 12px;font-family: \'微软雅黑\';}\n                    /*.report{position:relative;width:780px}*/\n                    .report-logo{\n                      position: absolute;top: 5px;left: 5px;height: 70px;\n                    }\n                    .reportBigName{\n                      margin: 1px 0;font-size: 18px;\n                    }\n                    .report-subheading{\n                      margin: 2px 0;font-size: 18px;\n                    }\n                    .reportSmallName{\n                      font-size: 16px; font-weight: 700;margin-top: 0px;\n                    }\n                    .report-line{\n                      border-bottom: 1px solid;\n                      margin-bottom: 5px;\n                    }\n                    .report-line-2{\n                      border-top: 1px solid;\n                      padding-top: 4px;\n                      margin-top: 4px;\n                      margin-bottom:10px;\n                    }\n                    .report-margin-bottom{\n                      margin-bottom: 5px;\n                    }\n                    .info-item{\n                      width:25%;\n                      float: left;\n                      margin-bottom: 5px;\n                    }\n                    .diagnose-content {\n                      margin: 15px 0;\n                    }\n                    .content-name {\n                      margin-bottom: 5px;\n                    }\n                    .text-center{\n                      text-align: center;\n                    }\n                    .pull-right{\n                      float: right;\n                    }\n                    .pull-left{\n                      float: left;\n                    }\n                    .col-sm-4 {\n                      width: 33.3333333333%;\n                      float: left;\n                    }\n                    .no-padding{\n                      padding:0;\n                    }\n                    .clearfix {\n\n                      *zoom: 1;\n\n                    }\n\n                    .clearfix:before,\n\n                    .clearfix:after {\n\n                      display: table;\n\n                      line-height: 0;\n\n                      content: "";\n\n                    }\n\n                    .clearfix:after {\n\n                      clear: both;\n\n                    }</style><!--报告dom--><div ng-bind-html=createQuery.activeReport></div></div></div></div></div><!--申请单 tab--><div class="content application" ng-show="createQuery.activeTab === 1"><!-- 内部的子tab--><div class=sub-tab><div class=sub-tab-header><a class="btn btn-pure" ng-class="{\'active\': createQuery.activeApplicationTab === $index}" ng-repeat="tab in createQuery.applicationList track by $index" ng-click="createQuery.selectApplicationFrom($index);createQuery.activeApplicationTab = $index">{{tab.inspectCategory == 3 ? \'冰冻申请\': \'常规病理申请\' }} </a><!--防止上面循环里很多个申请 下面用一个比较大的编号--> <a class="btn btn-pure" ng-class="{\'active\': createQuery.activeApplicationTab === 11}" ng-click="createQuery.specialApplicationTab(1);createQuery.activeApplicationTab = 11">免疫组化申请</a> <a class="btn btn-pure" ng-class="{\'active\': createQuery.activeApplicationTab === 12}" ng-click="createQuery.specialApplicationTab(2);createQuery.activeApplicationTab = 12">特染申请</a></div><div class=sub-tab-body><div><div ng-if="createQuery.activeApplicationTab < 10" class=pathology-content><!--专门显示的组件--><application-form ng-if=createQuery.applicationFormData data=createQuery.applicationFormData read=true></application-form></div><div ng-show="createQuery.activeApplicationTab > 10" class=pathology-report ng-include="\'app/site/caseQuery/createQuery/applicationInfo.html\'"></div></div></div></div></div><div ng-show="createQuery.activeTab === 2" ng-click="" class=pathology-report ng-include="\'app/site/caseQuery/createQuery/sampleInfo.html\'"></div><div ng-show="createQuery.activeTab === 3" ng-click="" class=pathology-report ng-include="\'app/site/caseQuery/createQuery/specialDye.html\'"></div><div ng-show="createQuery.activeTab === 4" ng-click="" class=pathology-report ng-include="\'app/site/caseQuery/createQuery/diagnosisInfo.html\'"></div><div ng-show="createQuery.activeTab === 5" ng-click="" class=pathology-report ng-include="\'app/site/caseQuery/createQuery/otherInfo.html\'"></div></div><!--切换tab--><!--<div class="tab-container">\n          <uib-tabset active="createQuery.activeTab" type="pills">\n\n            <uib-tab index="0" heading="{{\'病理报告\'|translate}}" select="createQuery.reportTab($event)">\n\n              &lt;!&ndash;<div class="print-title">\n                &lt;!&ndash;与该病人关联的病理号共 3 个，<a href="">显示所有</a>&ndash;&gt;\n              </div>&ndash;&gt;\n              <a class="pull-right" href="" ng-click="createQuery.printReport()"><i class="fa fa-print fa-2x" aria-hidden="true"></i> 打印</a>\n\n              &lt;!&ndash;报告tabs&ndash;&gt;\n              <uib-tabset ng-if="createQuery.activeTab === 0" active="createQuery.activeReportTab">\n\n                <uib-tab index="$index" ng-repeat="tab in createQuery.reportTypeList track by $index" heading="{{createQuery.reportType[tab.type]}}" select="createQuery.getReportDom(tab)" disable="">\n                  <div class="report-dom" ng-if="createQuery.activeReport">\n                    &lt;!&ndash;直接把打印需要的所有样式写在页面上&ndash;&gt;\n                    <style>\n                      .info-item{\n                        width:25%;\n                        float: left;\n                        margin-bottom: 5px;\n                      }\n                      .diagnose-content {\n                        margin: 15px 0;\n                      }\n                      .content-name {\n                        margin-bottom: 5px;\n                      }\n                    </style>\n                    <div ng-bind-html="createQuery.activeReport">\n                    </div>\n                  </div>\n                </uib-tab>\n\n              </uib-tabset>\n\n\n            </uib-tab>\n            <uib-tab index="1" heading="{{\'申请信息\'|translate}}" select="createQuery.selectApplication()">\n\n              &lt;!&ndash;todo 返回的是一个病理申请单数据的数组&ndash;&gt;\n\n              &lt;!&ndash;<uib-tabset ng-if="createQuery.activeTab === 1" active="createQuery.activeApplicationTab">\n\n                <uib-tab index="$index"  ng-repeat="tab in createQuery.applicationList track by $index"  heading="{{tab.inspectCategory == 3 ? \'冰冻申请\': \'常规病理申请\' }}" select="createQuery.selectApplicationFrom($index);alert(1)" disable="">\n\n                  <div ng-show="createQuery.applicationList" class="pathology-content">\n                    <application-form ng-if="createQuery.applicationFormData" data="createQuery.applicationFormData" readonly="true"></application-form>\n                  </div>\n                </uib-tab>\n\n                <uib-tab ng-if="createQuery.applicationList" index="3"  heading="免疫组化申请" select="createQuery.specialApplicationTab(1)"  disable="">\n                  <div>\n                    <div class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/applicationInfo.html\'"></div>\n                  </div>\n                </uib-tab>\n                <uib-tab ng-if="createQuery.applicationList" index="4"  heading="特染申请" select="createQuery.specialApplicationTab(2)"  disable="">\n                  <div>\n                    <div class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/applicationInfo.html\'"></div>\n                  </div>\n                </uib-tab>\n\n              </uib-tabset>&ndash;&gt;\n\n            </uib-tab>\n            <uib-tab index="2" heading="{{\'样本信息\'|translate}}" select="createQuery.sampleTab()">\n              <div ng-click="createQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/sampleInfo.html\'"></div>\n            </uib-tab>\n            <uib-tab index="3" heading="{{\'染色信息\'|translate}}" select="createQuery.specialDyeTab()">\n              <div ng-click="createQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/specialDye.html\'"></div>\n            </uib-tab>\n            <uib-tab index="4" heading="{{\'诊断信息\'|translate}}" select="createQuery.diagnosisTab()">\n              <div ng-click="createQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/diagnosisInfo.html\'"></div>\n            </uib-tab>\n            <uib-tab index="5" heading="{{\'其他检查\'|translate}}">\n              <div ng-click="createQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/createQuery/otherInfo.html\'"></div>\n            </uib-tab>\n\n          </uib-tabset>\n        </div>--></div></div></div></div><!--科研--><!--<div ng-if="createQuery.activeMenu===1">--><!--<div class="container" ng-controller="researchQueryController as researchQuery" ng-include="\'app/site/caseQuery/queryResearch/queryResearch.html\'">这里不管写什么都不会展示,完全被ng-include取代</div>--> <!--</div>-->'),
t.put("app/site/caseQuery/createQuery/diagnosisInfo.html",'<div class=pathology-report><div class=clearfix><div><ul class=sub-tab-header ng-init="operation = 10"><li ng-class="{active:operation === 10}" class="btn btn-sm btn-pure" ng-click="operation = 10">{{\'一级诊断\'|translate}}</li><li ng-class="{active:operation === 11}" class="btn btn-sm btn-pure" ng-click="operation = 11">{{\'二级诊断\'|translate}}</li><li ng-class="{active:operation === 12}" class="btn btn-sm btn-pure" ng-click="operation = 12">{{\'三级诊断\'|translate}}</li><li ng-class="{active:operation === 21}" class="btn btn-sm btn-pure" ng-click="operation = 21">{{\'专家会诊\'|translate}}</li></ul></div><div style=min-height:300px class=form-control><div ng-repeat="item in createQuery.diagnosisInfo " ng-show="item.operation===operation"><div class=clearfix style="margin-bottom: 10px"><div class=pull-left>诊断医生：{{item.operator.firstName}}</div><div class=pull-right>诊断时间：{{item.operationTime | date: "yyyy-MM-dd HH:mm"}}</div></div><div ng-bind-html=item.diagnoseResult><!--{{item}}--></div></div></div></div></div>'),t.put("app/site/caseQuery/createQuery/otherInfo.html",""),t.put("app/site/caseQuery/createQuery/pathologyReport.html",'<div class=pathology-report><div class=print-title><!--与该病人关联的病理号共 3 个，<a href="">显示所有</a>--> <a class=pull-right href="" ng-click=createQuery.printReport($event)><i class="fa fa-print fa-2x" aria-hidden=true></i>{{\'打印\'|translate}}</a></div><report report-data=reportData></report></div>'),t.put("app/site/caseQuery/createQuery/sampleInfo.html","<div class=pathology-report><!--<div class=\"clearfix\">\n\n    <a class=\"pull-right\" href=\"\">打印</a>\n  </div>--><div class=clearfix><div><ul class=sub-tab-header><li ng-class=\"{active:sample === 1}\" class=\"btn btn-sm btn-pure\" ng-click=createQuery.sampleTab()>{{'基本信息'|translate}}</li><li ng-class=\"{active:sample === 2}\" class=\"btn btn-sm btn-pure\" ng-click=createQuery.sampleMaterialInfo()>{{'取材信息'|translate}}</li><li ng-class=\"{active:sample === 3}\" class=\"btn btn-sm btn-pure\" ng-click=createQuery.sampleConfirmInfo()>{{'制片信息'|translate}}</li><li ng-class=\"{active:sample === 4}\" class=\"btn btn-sm btn-pure\" ng-click=createQuery.sampleArchiveInfo()>{{'存档信息'|translate}}</li><li ng-if=createQuery.frozenNmubers.length ng-class=\"{active:sample === 5}\" class=\"btn btn-sm btn-pure\" ng-click=createQuery.frozenMaterial()>{{'冰冻取材信息'|translate}}</li></ul></div><div><!--基本信息--><div ng-if=\"sample === 1\" class=sample><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'样本编号'|translate}}</th><th>{{'样本名称'|translate}}</th><th>{{'样本类别'|translate}}</th><th>{{'添加时间'|translate}}</th><th>{{'添加人'|translate}}</th><th>{{'删除时间'|translate}}</th><th>{{'删除人'|translate}}</th><th>{{'登记日期'|translate}}</th><th>{{'登记员'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.basicInfo track by $index\"><td ng-bind=item.serialNumber></td><td ng-bind=item.name></td><td ng-bind=item.categoryName></td><td ng-bind=\"item.createTime| date : 'yyyy-MM-dd' \"></td><td ng-bind=item.createBy.firstName></td><td ng-bind=\"item.delete ? (item.updateTime| date : 'yyyy-MM-dd') :''\"></td><td ng-bind=\"item.delete ? item.updateBy.firstName :''\"></td><td ng-bind=\"item.registerTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td><td ng-bind=item.registerUser.firstName></td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.basicInfo.length||createQuery.basicInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div><!--取材信息--><div ng-if=\"sample === 2\" class=sample><div class=pathology-content><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'取材标识'|translate}}</th><th>{{'蜡块号'|translate}}</th><th>{{'取材部位'|translate}}</th><th>{{'组织数'|translate}}</th><th>{{'取材备注'|translate}}</th><th>{{'取材医生'|translate}}</th><th>{{'记录员'|translate}}</th><th>{{'取材时间'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.materialInfo.grossingInfo track by $index\" ng-class=\"{'required':item.stop}\"><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.subId></td><td ng-bind=item.bodypart></td><td ng-bind=item.count></td><td ng-bind=item.note></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind=\"item.grossingTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.materialInfo.grossingInfo.length||createQuery.materialInfo.grossingInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><p>*{{'红色为异常终止蜡块'|translate}}</p><div><p>{{'大体图像'|translate}}</p><img width=100 height=60 ng-src={{item.url}} ng-repeat=\"item in createQuery.materialInfo.microFiles\" alt=\"\"><br></div><div><p>{{'取材确认图像'|translate}}</p><img width=100 height=60 ng-src={{item.url}} ng-repeat=\"item in createQuery.materialInfo.grossingConfirmFile\" alt=\"\"><br></div></div></div><!--制片信息--><div ng-if=\"sample === 3\" class=sample><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'蜡块号'|translate}}</th><th>{{'玻片号'|translate}}</th><th>{{'事件名称'|translate}}</th><th>{{'操作人'|translate}}</th><th>{{'操作时间'|translate}}</th><th>{{'等待时间'|translate}}</th><th>{{'备注'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.confirmInfo track by $index\" ng-class=\"{'required':item.operation===16}\"><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.operationDesc></td><td ng-bind=item.operator.firstName></td><td ng-bind=\"item.operationTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td><td>{{(item.waitTime|formatTime)||\"\"}}</td><td>{{item.noteType}}<span ng-show=item.noteType>&nbsp;</span>{{item.note}}</td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.confirmInfo.length||createQuery.confirmInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div><div ng-if=\"sample === 4\" class=sample><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'病理号'|translate}}</th><th>{{'蜡块号'|translate}}</th><th>{{'玻片号'|translate}}</th><th>{{'类别'|translate}}</th><th>{{'抽屉编号'|translate}}</th><th>{{'位置编号'|translate}}</th><th>{{'归档日期'|translate}}</th><th>{{'状态'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.archiveInfo track by $index\"><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.typeDesc></td><td ng-bind=item.archiveBox></td><td ng-bind=item.archiveIndex></td><td ng-bind=\"item.createTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.archiveInfo.length||createQuery.archiveInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div><!--冰冻取材信息--><div ng-if=\"sample === 5\" class=sample><div class=pathology-content><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'取材标识'|translate}}</th><th>{{'玻片号'|translate}}</th><th>{{'取材部位'|translate}}</th><th>{{'组织数'|translate}}</th><th>{{'取材备注'|translate}}</th><th>{{'取材医生'|translate}}</th><th>{{'记录员'|translate}}</th><th>{{'取材时间'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.frozenMaterialInfo track by $index\" ng-class=\"{'required':item.stop}\"><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.subId></td><td ng-bind=item.bodypart></td><td ng-bind=item.count></td><td ng-bind=item.note></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind=\"item.grossingTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.materialInfo.grossingInfo.length||createQuery.materialInfo.grossingInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div></div></div>"),t.put("app/site/caseQuery/createQuery/specialDye.html","<div class=pathology-report><div class=clearfix><div><ul class=sub-tab-header><li ng-class=\"{active:createQuery.specialDyeIndex === $index}\" class=\"text-ellipsis btn btn-pure btn-sm\" title={{item.name|translate}} ng-click=createQuery.specialDyeSelect(item.code,$index) ng-repeat=\"item in createQuery.specialDyeList\">{{item.name|translate}}</li></ul></div><div>{{'基本信息'|translate}}<div class=sample><div class=\"table-min mini\"><table class=\"table-hover table-bordered\"><thead><tr><th>{{'编号'|translate}}</th><th>{{'蜡块号'|translate}}</th><!--<th>{{'玻片号'|translate}}</th>--><th>{{'试剂/抗体名称'|translate}}</th><th>{{'事件名称'|translate}}</th><th>{{'操作人'|translate}}</th><th>{{'操作时间'|translate}}</th><th>{{'等待时间'|translate}}</th><th>{{'备注'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"item in createQuery.specialDyeInfo track by $index\"><td ng-bind=item.number></td><td ng-bind=item.blockSubId></td><!--<td ng-bind=\"item.slideSubId\"></td>--><td ng-bind=item.marker></td><td ng-bind=item.operationDesc></td><td ng-bind=item.operator.firstName></td><td ng-bind=\"item.operationTime| date : 'yyyy-MM-dd HH:mm:ss'\"></td><td ng-bind=item.waitTime|formatTime></td><td ng-bind=item.note></td></tr><tr ng-repeat=\"n in [].constructor(10) track by $index\" ng-show=\"!createQuery.specialDyeInfo.length||createQuery.specialDyeInfo.length<=$index\"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div></div>"),t.put("app/site/caseQuery/modal/sampleError.html",'<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=SampleE.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button><h3 class=modal-title ng-bind=resolveData.modalTitle></h3></div><div class=modal-body><div class="form-group clearfix"><div class=col-sm-1></div><div class="col-sm-10 flex-box" style="justify-content: space-between"><div>{{\'病理号\'|translate}}：<span ng-bind=resolveData.pathologyNumber>P201610001</span></div><div>{{\'蜡块号\'|translate}}：<span ng-bind=resolveData.subId>A</span></div><div>{{\'异常状态\'|translate}}：<span ng-bind=resolveData.statusName>{{\'待取材确认\'|translate}}</span></div></div></div><div class="form-group clearfix"><div class=col-sm-1></div><div class=col-sm-2><p class=form-control-static>{{\'处理方式\'|translate}}：</p></div><div class=col-sm-8><select class=form-control name=rejiecereason ng-model=SampleE.dealData.dealType ng-options="item.code as item.name for item in SampleE.dealTypeList"><option value="">{{\'请选择\'|translate}}</option></select></div></div><div class="form-group clearfix"><div class=col-sm-1></div><div class=col-sm-2><p class=form-control-static>{{\'备注\'|translate}}：</p></div><div class=col-sm-8><textarea style="height: 200px" class=form-control ng-model=SampleE.dealData.note></textarea></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=SampleE.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-disabled="" ng-click=SampleE.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/caseQuery/queryResearch/queryResearch.html",'<toolbar class=clearfix><div class="search clearfix"><search-input style="width: 270px" class=pull-left model=researchQuery.filter.filter get-data=researchQuery.search() placeholder="{{\'输入病理号、姓名快速搜索\'|translate}}" auto-focus={{autoFocus}}></search-input><span class="pull-right cursor-pointer" style=height:35px;line-height:35px;color:#169bd5 ng-click=researchQuery.export()>{{\'导出结果\'|translate}}</span></div></toolbar><div class="container no-padding research-query"><div class="clearfix toolbar" style="background: none"><div class="search form-inline clearfix from-group"><div class="pull-left clearfix">{{\'申请日期\'|translate}}：<p class=input-group><!--开始：--> <input type=text class=form-control readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup3.opened=true" uib-datepicker-popup={{format}} ng-model=researchQuery.receiveStartTime is-open=popup3.opened datepicker-options=dateOptions1 ng-required=true close-text=Close alt-input-formats=altInputFormats><!--<span class="input-group-btn">--><!--<button type="button" class="btn btn-default" ng-click="popup3.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>--><!--</span>--></p>~<p class=input-group><!--结束：--> <input type=text class=form-control readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup4.opened=true" uib-datepicker-popup ng-model=researchQuery.receiveEndTime is-open=popup4.opened datepicker-options=dateOptions2 ng-required=true close-text=Close><!--<span class="input-group-btn">--><!--<button type="button" class="btn btn-default" ng-click="popup4.opened=true"><i class="glyphicon glyphicon-calendar"></i></button>--><!--</span>--></p></div><div class=pull-left><select class=form-control ng-model=researchQuery.filter.departments ng-options="item.code as item.name for item in researchQuery.departmentsList"><option value="">{{\'选择科室\'|translate}}</option></select></div><button class="btn btn-default form-control btn-sm" ng-click=researchQuery.query()>{{\'筛选\'|translate}}</button><!--<span class="pull-right cursor-pointer" style="height:35px;line-height:35px;color:#169bd5;" ng-click="researchQuery.export()">导出结果</span>--></div></div><div id=researchQuery><div><!--查询结果表格--><div class=table-container><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in researchQuery.tableHeaders" ng-click=researchQuery.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in researchQuery.queryResultList track by $index" ng-click=researchQuery.getOne(item) ng-class="{active:researchQuery.activeOne.id===item.id}"><td><a ng-bind=item.pathNo></a></td><td ng-bind=item.applicant></td><td ng-bind=item.statusDesc></td><td ng-bind=item.phone></td><td ng-bind=item.identityDesc></td><td ng-bind=item.tutor></td><td ng-bind="item.departments | department"></td><td ng-bind=item.taskTypeDesc></td><td ng-bind=item.funds></td><!--<td ng-bind="item.inspectHospital"></td>--><td ng-bind="item.applyTime| date : \'yyyy-MM-dd\' "></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.queryResultList.length||researchQuery.queryResultList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="11" ng-show="!sampleSearch.data.length">暂无数据</td></tr>--></tbody></table><div class="table-footer clearfix"><div ng-show="researchQuery.total>0" class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=researchQuery.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=researchQuery.filter.length max-size=10 total-items=researchQuery.total ng-model=researchQuery.filter.page ng-change=researchQuery.getData() previous-text="{{\'上一页\'|translate}}" next-text="{{\'下一页\'|translate}}" first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><!--切换tab--><div class=tab-container><uib-tabset active=researchQuery.activeTab type=pills><uib-tab index=1 heading="{{\'申请信息\'|translate}}" ng-click=researchQuery.applicationTab()><div ng-if=researchQuery.applicationTabActive ng-click=researchQuery.stopPropagation($event) class=pathology-report ng-include="\'app/site/caseQuery/queryResearch/tabs/applicationInfo.html\'"></div></uib-tab><uib-tab index=2 heading="{{\'样本信息\'|translate}}" ng-click=researchQuery.sampleTab()><div ng-click=researchQuery.stopPropagation($event) class=pathology-report ng-include="\'app/site/caseQuery/queryResearch/tabs/sampleInfo.html\'"></div></uib-tab><uib-tab index=3 heading="{{\'染色信息\'|translate}}" ng-click=researchQuery.specialDyeTab()><div ng-click=researchQuery.stopPropagation($event) class=pathology-report ng-include="\'app/site/caseQuery/queryResearch/tabs/specialDye.html\'"></div></uib-tab><!--<uib-tab index="4" heading="诊断信息" ng-click="researchQuery.diagnosisTab()">--><!--<div ng-click="researchQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/queryResearch/tabs/diagnosisInfo.html\'"></div>--><!--</uib-tab>--><!--<uib-tab index="5" heading="其他检查">--><!--<div ng-click="researchQuery.stopPropagation($event)" class="pathology-report" ng-include="\'app/site/caseQuery/queryResearch/tabs/otherInfo.html\'"></div>--><!--</uib-tab>--></uib-tabset></div></div></div></div>'),t.put("app/site/caseQuery/status/status.html",'<div id=proStatus><toolbar class=clearfix><div style="font-size: 16px">{{\'状态统计\'|translate}}</div></toolbar><div class=container><div class="pro-status clearfix pull-left"><div class=pro-header><span class=status-title>{{\'样本状态\'|translate}}</span> <span class=count-title>{{\'样本数量\'|translate}}</span> <span class=error-title>{{\'异常样本\'|translate}}</span></div><div class=pro-body><div class="pro-item cursor-pointer clearfix" ng-repeat="item in proStatus.statisticDataList" ng-click=proStatus.getOne(item)><div class="item item-status">{{item.statusName|translate}}</div><div class="item item-count">{{item.total}}</div><div class="item item-error">{{item.errorTotal}}<div class=item-active ng-show="proStatus.activeItem.status==item.status"><span class="icon-right glyphicon glyphicon-chevron-right"></span></div></div></div></div></div><div class="pro-detail pull-right"><div class=pro-header>{{\'异常样本详情\'|translate}}</div><div class="pro-table table-min"><table class="table-sample-error table-hover table-bordered status-table"><thead><tr><th ng-repeat="item in proStatus.tableHeaders">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in proStatus.abnormalDataList.data track by $index"><td ng-bind=item.pathologyNumber></td><td ng-bind=item.subId></td><td ng-bind=item.slideId></td><td ng-bind=item.statusName></td><td ng-bind=proStatus.waitingTime(item.operationTime)></td><td ng-bind=item.operatorName></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-click=proStatus.dealOne(item)><a href><i class="fa fa-reply-all" aria-hidden=true></i></a></td></tr><tr ng-repeat="n in [].constructor(15) track by $index" ng-show="!proStatus.abnormalDataList.data||proStatus.abnormalDataList.data.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="proStatus.abnormalDataList.total"></span>个--><!--</div>--><uib-pagination class=pull-right boundary-links=true items-per-page=proStatus.filter.length max-size=10 total-items=proStatus.filter.totalError ng-model=proStatus.filter.page ng-change=proStatus.changePage() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div>'),t.put("app/site/archive/borrowArchive/borrowArchive.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:borrowArchive.activeMenu==1}" ng-click=borrowArchive.choseMenu(1)>{{"玻片"|translate}}</li><!--<li ng-class="{active:borrowArchive.activeMenu==0}" ng-click="borrowArchive.choseMenu(0)">蜡块</li>--></ul></toolbar><div class=container><div class=col-xs-8><!--玻片信息--><div ng-show="borrowArchive.activeMenu==1"><h4 style="margin: 20px 0">{{"借阅玻片信息"|translate}}</h4><div class=border-box><div class=space-between ng-class="{\'form-inline\':lang===\'cn\'}"><div class=item><div class=form-control-static>{{"玻片号"|translate}}<span class=required>*</span>：</div><input class="form-control input-sm" type=text ng-model=borrowArchive.slideFilter.serialNumber placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}" required></div><div class=item><div class=form-control-static>{{"特染标记"|translate}}：</div><input class="form-control input-sm form-group" type=text ng-model=borrowArchive.slideFilter.marker></div><div class=item><button ng-click=borrowArchive.getSlide() ng-disabled=!borrowArchive.slideFilter.serialNumber class="btn btn-sm btn-info pull-right">{{"添加"|translate}}</button></div></div></div><br><div class=table-min><table class="table-hover table-bordered"><thead><th ng-repeat="item in borrowArchive.slideTableHeaders">{{item.name|translate}}</th></thead><tbody><tr ng-repeat="item in borrowArchive.productionList track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.ihcMarker></td><td ng-bind=item.patientName></td><td ng-bind="item.status == 0 ? item.archiveBox : \'\'"></td><td ng-bind="item.status == 1 ? item.archiveBox : \'\'"></td><td ng-click=borrowArchive.productionList.splice($index,1)><a href><i class="glyphicon glyphicon-trash"></i></a></td></tr><tr ng-repeat="n in [].constructor(1) track by $index" ng-show="borrowArchive.productionList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><!--<div class="table-footer">\n          <div class="pull-left form-control-static pagination">\n            <button class="btn btn-sm btn-default" ng-click="borrowArchive.submit()">制片确认</button>\n\n            共<span ng-bind="borrowArchive.searchData.total||0"></span>个玻片\n          </div>\n          <uib-pagination class="pull-right" boundary-links="true"\n                          items-per-page="borrowArchive.searchData.length" max-size="10"\n                          total-items="borrowArchive.searchData.total"\n                          ng-model="borrowArchive.searchData.page"\n                          ng-change="borrowArchive.changePage(borrowArchive.searchData.page)"\n                          previous-text="&lsaquo;" next-text="&rsaquo;"\n                          first-text="&laquo;" last-text="&raquo;">\n          </uib-pagination>\n        </div>--></div></div><!--蜡块信息--><!--<div ng-show="borrowArchive.activeMenu==0">\n      <h4>{{"借阅蜡块信息"|translate}}</h4>\n      <div class="border-box">\n        <div class="form-inline clearfix" style="background: none">\n\n          <div class="form-control-static">{{"病理号"|translate}}*：</div>\n          <input class="form-control input-sm" type="text">\n\n          <div class="form-control-static">病理号*：</div>\n          <input class="form-control input-sm" type="text">\n\n          <button ng-click="borrowArchive.query()" class="btn btn-sm btn-info pull-right">{{"添加"|translate}}</button>\n        </div>\n      </div>\n    </div>--></div><!--借阅人信息--><div class=col-xs-4 id=ihcCreate><div class=ihc-info><div class=title><h4 class=ng-binding>{{"借阅人信息"|translate}}</h4></div><div class=content><form id=borrow-archive-form class="form-inline text-center" name=slideBorrow_form novalidate><div class=form-group ng-class="{\'has-success\':borrowNameOk = slideBorrow_form.borrowName.$dirty&&slideBorrow_form.borrowName.$valid,\n                \'has-error\':departmentsErr = slideBorrow_form.borrowName.$dirty&&slideBorrow_form.borrowName.$invalid}"><label>{{"借片人"|translate}}<span class=required>*</span>：</label><input type=text name=borrowName ng-model=borrowArchive.saveData.borrowName maxlength=20 class="form-control input-sm" required></div><div class=form-group ng-class="{\'has-success\':borrowPhoneOk = slideBorrow_form.borrowPhone.$dirty&&slideBorrow_form.borrowPhone.$valid,\n                \'has-error\':borrowPhoneErr = slideBorrow_form.borrowPhone.$dirty&&slideBorrow_form.borrowPhone.$invalid}"><label>{{"联系电话"|translate}}<span class=required>*</span>：</label><input type=text ng-model=borrowArchive.saveData.borrowPhone name=borrowPhone class="form-control input-sm" required maxlength=18 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></div><div class=form-group ng-class="{\'has-success\':idNumberOk = slideBorrow_form.idNumber.$dirty&&slideBorrow_form.idNumber.$valid,\n                \'has-error\':idNumberErr = slideBorrow_form.idNumber.$dirty&&slideBorrow_form.idNumber.$invalid}"><label>{{"身份证号"|translate}}<span class=required>*</span>：</label><input type=text ng-model=borrowArchive.saveData.idNumber name=idNumber class="form-control input-sm" required maxlength=18></div><div class=form-group><label>{{"归还日期"|translate}}<span class=required>*</span>：</label><div class=input-group ng-class="{\'has-success\':planBackOk = slideBorrow_form.planBack.$dirty&&slideBorrow_form.planBack.$valid,\n                \'has-error\':planBackErr = slideBorrow_form.planBack.$dirty&&slideBorrow_form.planBack.$invalid}"><input class="form-control input-sm" ng-model=borrowArchive.saveData.planBack name=planBack type=text style="width:162px;background-color: #fff" readonly clear-text="{{\'清除\'|translate}}" close-text="{{\'确定\'|translate}}" current-text="{{\'今天\'|translate}}" name=menopauseEnd uib-datepicker-popup datepicker-options=borrowArchive.option is-open=borrowArchive.openPop required> <span ng-show=!readonly class=input-group-btn><button type=button class="btn btn-default input-sm" ng-click="borrowArchive.openPop=!borrowArchive.openPop"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><div class=form-group ng-class="{\'has-success\':idNumberOk = slideBorrow_form.cashPledge.$dirty&&slideBorrow_form.cashPledge.$valid,\n                \'has-error\':idNumberErr = slideBorrow_form.cashPledge.$dirty&&slideBorrow_form.cashPledge.$invalid}"><label>{{"押金"|translate}}：</label><input type=text ng-model=borrowArchive.saveData.cashPledge name=cashPledge maxlength=10 class="form-control input-sm"></div><div class=form-group ng-class="{\'has-success\':borrowTypeOk = slideBorrow_form.borrowType.$dirty&&slideBorrow_form.borrowType.$valid,\n                \'has-error\':borrowTypeErr = slideBorrow_form.borrowType.$dirty&&slideBorrow_form.borrowType.$invalid}"><label>{{"借阅人类别"|translate}}：</label><select class="form-control input-sm" ng-model=borrowArchive.saveData.borrowType name=borrowType ng-options="status.code as status.name for status in [{name:\'病人\',code:1},{name:\'医生\',code:2},{name:\'学生\',code:2}]"><!--<option value=""></option>--></select></div><div class=form-group ng-class="{\'has-success\':unitOk = slideBorrow_form.borrowType.$dirty&&slideBorrow_form.borrowType.$valid,\n                \'has-error\':borrowTypeErr = slideBorrow_form.borrowType.$dirty&&slideBorrow_form.borrowType.$invalid}"><label>{{"单位"|translate}}：</label><input type=text class="form-control input-sm" ng-model=borrowArchive.saveData.unit></div><div class=form-group ng-class="{\'has-success\':departmentOk = slideBorrow_form.departments.$dirty&&slideBorrow_form.departments.$valid,\n                \'has-error\':departmentErr = slideBorrow_form.departments.$dirty&&slideBorrow_form.departments.$invalid}"><label>{{"科室/组别"|translate}}：</label><!--<department-select></department-select>--><div style="display: inline-block"><department-select ng-hide=readonly class="department-selecter hideWhenPrint" name=departments text="borrowArchive.departments | department" value=borrowArchive.saveData.departments></department-select></div><!--<input type="text" class="form-control input-sm" ng-model="borrowArchive.saveData.departments">--></div><div class=form-group ng-class="{\'has-success\':tutorOk = slideBorrow_form.tutor.$dirty&&slideBorrow_form.tutor.$valid,\n                \'has-error\':tutorErr = slideBorrow_form.tutor.$dirty&&slideBorrow_form.tutor.$invalid}"><label>{{"导师"|translate}}：</label><input type=text class="form-control input-sm" name=tutor ng-model=borrowArchive.saveData.tutor></div><div class=form-group ng-class="{\'has-success\':noteOk = slideBorrow_form.note.$dirty&&slideBorrow_form.note.$valid,\n                \'has-error\':noteErr = slideBorrow_form.note.$dirty&&slideBorrow_form.note.$invalid}"><label>{{"备注"|translate}}：</label><input type=text class="form-control input-sm" name=note ng-model=borrowArchive.saveData.note></div><div class=text-center><label class=checkbox-inline for=print style="margin-right: 20px"><input ng-model=borrowArchive.isPrint type=checkbox id=print name=print>打印凭证</label><button class="btn btn-primary" ng-click=borrowArchive.save() ng-disabled=slideBorrow_form.$invalid>{{"确认"|translate}}</button></div></form></div></div></div></div>'),t.put("app/site/archive/modal/addSlide.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=addSlideModal.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>选择玻片</h4></div><div id=addSlideModal><div class=modal-body><div class=clearfix><table class="table-min table-hover table-bordered"><thead><tr><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=addSlideModal.allChecked ng-click=addSlideModal.chkAll()></th><th>病理号</th><th>蜡块号</th><th>玻片号</th><th>特染标记</th><th>患者姓名</th><th>抽屉编号</th></tr></thead><tbody><tr ng-repeat="item in addSlideModal.slideList track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check></td><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.ihcMarker></td><td ng-bind=item.patientName></td><td ng-bind=item.archiveBox></td></tr><tr ng-repeat="n in [].constructor(1) track by $index" ng-show="addSlideModal.productionList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!addSlideModal.slideList.length||addSlideModal.slideList.length<=$index"><td ng-repeat="n in [].constructor(7) track by $index"></td></tr></tbody></table><!--<div class="table-footer">--><!--<div class="pull-left form-control-static pagination">共<span ng-bind="addSlideModal.total"></span>条结果</div>--><!--<uib-pagination class="pull-right" boundary-links="true" items-per-page="addSlideModal.length" max-size="10"--><!--total-items="addSlideModal.total"--><!--ng-model="addSlideModal.page"--><!--ng-change="addSlideModal.getBlocks()"--><!--previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>--><!--</div>--></div></div><!--modal-body--></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=addSlideModal.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=addSlideModal.confirm()>确认</button></div>'),t.put("app/site/archive/modal/lostSlide.html",'<div id=lostSlide><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=lostSlide.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title>玻片丢失</h4></div><div class="modal-body clearfix"><div class=info-container><!--<div class="flex-box" style="justify-content: space-between">--><!--<div>病理号：{{item.pathNo}}</div>--><!--<div>玻片总数：{{item.slidePrepareConfirmCount}}</div>--><!--<div>缺失玻片数：{{item.lostSlideCount}}</div>--><!--</div>--><div class=table-container><!--<div class="title">缺失玻片信息：</div>--><table class="table table-bordered"><thead><tr><th>病理号</th><th>蜡块号</th><th>玻片号</th><th>状态</th><th>最后操作人</th><th>最后操作时间</th><th>处理方式</th><th>备注</th></tr></thead><tbody><tr ng-repeat="item in lostSlide.lostData track by item.id"><td>{{item.pathNo}}</td><td>{{item.blockSubId}}</td><td>{{item.subId}}</td><td>{{item.statusDesc}}</td><td>{{item.lastOperator.firstName}}</td><td>{{item.lastOperateTime | date:\'yyyy-MM-dd HH:mm\'}}</td><td><select class="form-control input-sm" name=handelType ng-init="item.handelType = 3 " ng-model=item.handelType><option ng-value=3>异常终止</option></select></td><td><input ng-model=item.note></td></tr></tbody></table></div><div class=error-title>*请返回寻找缺失的玻片，提交处理后，缺失的玻片将被移出系统！</div></div></div><div class=modal-footer style="text-align: center"><button class="btn btn-warning" type=button ng-click=lostSlide.cancel()>返回</button> <button class="btn btn-default" type=button ng-click=lostSlide.ok()>提交处理</button></div></div>'),
t.put("app/site/archive/modal/voucher.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=voucher.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>{{\'打印借阅凭证\'|translate}}</h4></div><div id=vouchers><div class=modal-body id=voucher><style>*{\n        box-sizing: border-box;\n      }\n      .clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}\n      .clearfix{*height:1%;}\n      .col-sm-4,.col-sm-8{\n        float: left;\n        position: relative;\n        min-height: 1px;\n        padding-left: 15px;\n        padding-right: 15px;\n      }\n      .col-sm-4{\n        width: 33.33333%;\n      }\n      .col-sm-8{\n        width: 66.66666%;\n        border-left: 1px dashed #000000;\n      }\n      .title{\n        text-align: center;\n      }\n\n      .patient-info{\n        display: flex;\n        justify-content: space-between;\n      }\n      .voucher-label{\n        display: flex;\n        flex: 1;\n        height: 18px;\n        margin-bottom: 10px;\n      }\n      .voucher-label .text-left{\n        flex: 0 0 84px;\n        order: -1;\n        /*width: 60px;*/\n      }\n      .voucher-label .text-empty{\n        flex: 1;\n      }\n      .border-bottom{\n        border-bottom: 1px solid;\n      }</style><div class=clearfix><div class=col-sm-4><div class=title><h3>副联</h3><hr></div><div><p>借片人： {{voucher.borrower.borrowName}}</p><p>身份证号：{{voucher.borrower.idNumber}}</p><p>联系电话：{{voucher.borrower.borrowPhone}}</p><p>押金费：{{voucher.borrower.cashPledge}}</p><p>经手人：{{user.firstName}}</p><p>借片日期：{{voucher.borrower.time | date:\'yyyy-MM-dd\'}}</p></div></div><div class=col-sm-8><div class=title><h3>南京市口腔医院病理科借片单</h3><hr></div><div class=content><div class=patient-info ng-repeat="item in voucher.slides track by $index"><p class=item>病人姓名：{{item.patientName}}</p><p class=item>病理号：{{item.serialNumber}}</p><p class=item>玻片数：{{item.total}}</p></div><div class=voucher-label><div class=text-left>会诊单位：</div><div class="text-empty border-bottom"></div></div><div class="voucher-label clearfix"><div class=text-left>会诊意见：</div><div class="text-empty border-bottom"></div></div><p class="voucher-label border-bottom"></p><p class="voucher-label border-bottom"></p><p>还片人签名： _________________________ （押金已退）</p><p>还片日期： ___________________________</p><br><br><br><br><p>备注：</p><p>1. 借片限于一个月之内归还，过期不退押金。</p><p>2. 片子不得损坏、污染，违者酌情赔偿。</p></div></div></div></div><!--modal-body--></div><div class=modal-footer><!--<button  class="btn btn-warning" type="button" ng-click="voucher.cancel()">取消</button>--> <button class="btn btn-default" type=submit ng-click=voucher.confirm()>打印</button></div>'),t.put("app/site/archive/modal/vouchers.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=addSlideModal.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>选择玻片</h4></div><div id=vouchers><div class=modal-body><div class="row clearfix"><div class=col-sm-4><div class=header>副联</div><div>病人姓名： 病人甲<br>借片人： 家属1 身份证号： 1234567890 联系电话： 123456789 押金费： 100 经手人： 归档员A 借片日期： 2017-9-2</div></div><div class=col-sm-8><div class=header>南京市口腔医院病理科借片单</div><div class=content></div></div></div></div><!--modal-body--></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=addSlideModal.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=addSlideModal.confirm()>确认</button></div>'),t.put("app/site/archive/queryArchive/queryArchive.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:queryArchive.activeMenu==0}" ng-click=queryArchive.choseMenu(0)>{{"玻片"|translate}}</li><!--<li ng-class="{active:queryArchive.activeMenu==1}" ng-click="queryArchive.choseMenu(1)">{{"蜡块"|translate}}</li>--></ul></toolbar><div class=container ng-show="queryArchive.activeMenu==0" ng-include="\'app/site/archive/queryArchive/querySlide/querySlide.html\'"></div>'),t.put("app/site/archive/returnArchive/returnArchive.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:returnArchive.activeMenu==0}" ng-click=returnArchive.choseMenu(0)>{{"玻片"|translate}}</li><!--<li ng-class="{active:returnArchive.activeMenu==1}" ng-click="returnArchive.choseMenu(1)">{{"蜡块"|translate}}</li>--></ul></toolbar><div class=container ng-show="returnArchive.activeMenu==0" ng-include="\'app/site/archive/returnArchive/returnSlide/returnSlide.html\'"></div>'),t.put("app/site/archive/slideArchive/slideArchive.html",'<div id=slideArchive><toolbar class=clearfix><!--筛选部分--><div class="form-inline clearfix" style="background: none"><select class="form-control input-sm" ng-model=slideArchive.confirmData.archivingMethod ng-options="status.code as status.name for status in slideArchive.archivingMethodList"><!--<option value=""></option>--></select><div class=form-control-static>{{slideArchive.confirmData.archivingMethod === 14 ? ("抽屉编号"|translate):("晾片架编号"|translate)}} <span class=required>*</span>：</div><input class="form-control input-sm" ng-model=slideArchive.confirmData.archivingNo type=text required> <button ng-click=slideArchive.save() ng-disabled=!slideArchive.confirmData.archivingNo||!slideArchive.productionList.length class="btn btn-sm btn-primary pull-right">{{"保存"|translate}}</button></div><!--<div class="search clearfix">--><!--<div class="toolbar-info pull-right">扫描仪已连接</div>--><!--</div>--></toolbar><div class=container><div class=row><div class=col-xs-6><div class=pic-container><img ng-src={{slideArchive.scanPic}} width=100% height=330px></div><div class=img-scroll><!--<div>&lt;!&ndash;未识别拨片&ndash;&gt;{{"未识别玻片"|translate}}</div>--><div style="margin: 40px 0"><slider-container><div></div></slider-container></div></div><div class="add-btn-group clearfix"><div class=border-box><div class=clearfix ng-class="{\'form-inline\':lang===\'cn\'}"><div class=form-control-static>{{"病理号"|translate}}<span class=required>*</span>：</div><input class="form-control input-sm" type=text ng-model=slideArchive.slideFilter.serialNumber placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}" required><!--<div class="form-control-static">{{"特染标记"|translate}}：</div>--><!--<input class="form-control input-sm form-group" type="text" ng-model="slideArchive.slideFilter.marker">--> <button ng-class="{\'form-control-static\':lang===\'en\'}" ng-click=slideArchive.getSlide() class="btn btn-sm btn-info">{{"添加"|translate}}</button></div></div></div><!--<div class="bottom-btn text-center">--><!--<button class="add-btn" ng-click="slideArchive.changeScanStatus()">--><!--<span class="glyphicon" ng-class="{\'glyphicon-play\':!slideArchive.start,\'glyphicon-stop\':slideArchive.start}"></span>--><!--{{slideArchive.start?"停止扫描":"开始扫描"}}--><!--</button>--><!--</div>--></div><div class=col-xs-6><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in slideArchive.tableHeaders">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in slideArchive.productionList track by $index"><td ng-bind=item.pathNo></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.marker||item.specialDyeDesc></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="slideArchive.productionList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind=slideArchive.searchData.total||0></span>{{"玻片"|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=slideArchive.searchData.length max-size=10 total-items=slideArchive.searchData.total ng-model=slideArchive.searchData.page ng-change=slideArchive.changePage(slideArchive.searchData.page) previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div></div>'),t.put("app/site/dye/createDye/createDye.html",'<div id=createDye><toolbar class=clearfix><div class=pull-left><div class=form-control-static><div class=pull-left>{{\'当前用户待染玻片数\'|translate}}：</div><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=createDye.getUserData()>{{createDye.currentUserCount}}</div></div></div><div class=pull-left><div class=form-control-static><div class=pull-left>{{\'全科待染玻片数\'|translate}}：</div><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=createDye.getAllData()>{{createDye.totalCount}}</div></div></div><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right search-input-lg" model=createDye.slideNo get-data=createDye.getDyeInfo() clear=true placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--<form name="dye_form">--><div class=tableOuter><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=createDye.allChecked ng-click=createDye.chkAll()></th><th>{{\'病理号\'|translate}}</th><th>{{\'蜡块号\'|translate}}</th><th>{{\'玻片号\'|translate}}</th><th>{{\'取材医生\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材标识\'|translate}}</th><th>{{\'样本状态\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in createDye.dyeInfoList track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check ng-click=createDye.check(item.check)></td><td ng-bind=item.pathNo></td><td ng-bind=item.blockSubId></td><td ng-bind=item.subId></td><td ng-bind=item.grossingUser.firstName></td><td ng-bind=item.grossingBody></td><td ng-bind=item.grossingCount></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(13) track by $index" ng-show="createDye.dyeInfoList.length<=$index||!createDye.dyeInfoList.length"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table></div><div class=clearfix><br><div class=pull-left ng-show=createDye.dyeInfoList.length><p>{{\'共\'|translate}} {{createDye.type==0?createDye.dyeInfoList.length:createDye.totalItems}} {{\'项\'|translate}}，{{\'已选\'|translate}} {{createDye.checkedCount}} {{\'项\'|translate}}</p></div><div class="form-inline text-right"><select id=instrumentSelect style="margin-right: 20px" class="form-control input-sm clam-select" ng-model=createDye.instrumentId ng-options="status.id as status.name for status in createDye.instruments"><option value="">{{\'选择染色机\'|translate}}</option></select><button id=dye class="pull-right btn btn-lg btn-default" ng-click=createDye.startDye()>{{\'开始染色\'|translate}}</button></div><uib-pagination ng-show="createDye.type==1" class=pull-left boundary-links=true items-per-page=createDye.filter.length max-size=10 total-items=createDye.totalItems ng-model=createDye.filter.page ng-change=createDye.getData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div><!--</form>--></div></div>'),t.put("app/site/dye/modal/dye.html",'<div id=dye><div class="modal-body clearfix">全科待染玻片数目多于100条，是否跳过显示列表直接全部染色</div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=dye.ok(0)>{{\'全部染色\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=dye.ok(1)>{{\'显示列表\'|translate}}</button></div></div>'),t.put("app/site/dye/modal/instrument.html",'<div id=instrument><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=instrument.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 ng-if="instrument.addData.type === 1" class="modal-title ok-color">{{\'添加染色机\'|translate}}</h4><h4 ng-if="instrument.addData.type === 2" class="modal-title ok-color">{{\'添加封片机\'|translate}}</h4></div><div class="modal-body clearfix"><div class=form-container><form role=form class=form-horizontal name=instrument_form novalidate><div class=form-group><label for=name class="control-label col-sm-4">{{\'编号\'|translate}}<span class=important-span>*</span>:</label><div class="col-sm-6 has-feedback"><input class=form-control name=name id=name type=text placeholder="{{\'请输入编号\'|translate}}" ng-model=instrument.addData.name ng-pattern=/^[A-Za-z0-9]{1,2}$/ maxlength=2 required><uib-alert type=danger ng-show=instrument_form.name.$error.pattern>{{\'请输入数字\'|translate}}</uib-alert></div></div><div class="form-group has-feedback"><label for=sn class="control-label col-sm-4">{{\'序列号\'|translate}}<span class=important-span>*</span>:</label><div class=col-sm-6><input class=form-control name=sn id=sn type=text placeholder="{{\'请输入序列号\'|translate}}" ng-model=instrument.addData.sn maxlength=32 required><!--<uib-alert type="danger" ng-show="instrument.addData.sn&&instrument.snErr">{{instrument.snErr}}</uib-alert>--></div></div><div class=form-group><label for=description class="control-label col-sm-4">{{\'备注\'|translate}}&nbsp;:</label><div class="col-sm-6 has-feedback"><input class=form-control name=description id=description type=text placeholder="{{\'请输入备注\'|translate}}" ng-maxlength=20 ng-model=instrument.addData.description><uib-alert type=danger ng-show=instrument_form.description.$error.maxlength>{{\'备注不要超过20位\'|translate}}</uib-alert></div></div><div class="form-group has-feedback"><label class="control-label col-sm-4">{{\'状态\'|translate}}<span class=important-span>*</span>:</label><div class=col-sm-2><label class=radio-inline><input type=radio name=status ng-model=instrument.addData.status ng-checked="instrument.addData.status === 0" ng-value=0 required>{{\'正常\'|translate}}</label></div><div class=col-sm-2><label class=radio-inline><input type=radio name=status ng-model=instrument.addData.status ng-checked="instrument.addData.status === 1" ng-value=1>{{\'禁用\'|translate}}</label></div><div class=col-sm-2><label class=radio-inline><input type=radio name=status ng-model=instrument.addData.status ng-checked="instrument.addData.status === 2" ng-value=2>{{\'报销\'|translate}}</label></div></div></form></div></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=instrument.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=instrument.ok() ng-disabled=instrument_form.$invalid||instrument.snErr||instrument.nameErr>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/dye/modal/lostDyeSlides.html","<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=lostSlides.cancel()><span aria-hidden=true class=\"glyphicon glyphicon-remove\"></span><span class=sr-only>Close</span></button><h4 class=modal-title>{{'缺失玻片信息'|translate}}</h4></div><div class=modal-body><div class=content><table class=table><thead><th>{{'病理号'|translate}}</th><th>{{'蜡块号'|translate}}</th><th>{{'玻片号'|translate}}</th><th>{{'状态'|translate}}</th><th>{{'切片技术员'|translate}}</th><th>{{'切片时间'|translate}}</th></thead><tbody><tr ng-repeat=\"item in lostSlides.lostSlides \"><td>{{item.pathNo}}</td><td>{{item.blockSubId}}</td><td>{{item.subId}}</td><td>{{item.statusDesc}}</td><td>{{item.lastOperator.firstName}}</td><td>{{item.lastOperateTime | date:\"yyyy-MM-dd HH:mm\"}}</td></tr></tbody></table></div></div><div class=modal-footer><button class=\"btn btn-warning\" type=button ng-click=lostSlides.ok()>{{(lostSlides.confirmText||'确认染色')|translate}}</button> <button class=\"btn btn-default\" type=button ng-click=lostSlides.cancel()>{{(lostSlides.cancelText||'取消染色')|translate}}</button></div></div>"),t.put("app/site/dye/modal/sealing.html",'<div id=sealing><div class="modal-body clearfix">全科待封片数目多于100条，是否跳过显示列表直接全部封片</div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=sealing.ok(0)>{{\'全部封片\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=sealing.ok(1)>{{\'显示列表\'|translate}}</button></div></div>'),t.put("app/site/dye/sealing/sealing.html",'<div id=sealingMain><toolbar class=clearfix><div class=pull-left><div class=form-control-static><div class=pull-left>{{\'当前用户待封玻片数\'|translate}}：</div><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=sealing.getUserData()>{{sealing.currentUserCount}}</div></div></div><div class=pull-left><div class=form-control-static><div class=pull-left>{{\'全科待封玻片数\'|translate}}：</div><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=sealing.getAllData()>{{sealing.totalCount}}</div></div></div><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right search-input-lg" model=sealing.slideNo get-data=sealing.getDyeInfo() clear=true placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--<form name="dye_form">--><div class=tableOuter><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=sealing.allChecked ng-click=sealing.chkAll()></th><th>{{\'病理号\'|translate}}</th><th>{{\'蜡块号\'|translate}}</th><th>{{\'玻片号\'|translate}}</th><th>{{\'取材医生\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材标识\'|translate}}</th><th>{{\'样本状态\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in sealing.dyeInfoList track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check ng-click=sealing.check(item.check)></td><td ng-bind=item.pathNo></td><td ng-bind=item.blockSubId></td><td ng-bind=item.subId></td><td ng-bind=item.grossingUser.firstName></td><td ng-bind=item.grossingBody></td><td ng-bind=item.grossingCount></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(13) track by $index" ng-show="sealing.dyeInfoList.length<=$index||!createDye.dyeInfoList.length"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table></div><div class=clearfix><br><div class=pull-left ng-show=sealing.dyeInfoList.length><p>{{\'共\'|translate}} {{sealing.type==0?sealing.dyeInfoList.length:sealing.totalItems}} {{\'项\'|translate}}，{{\'已选\'|translate}} {{sealing.checkedCount}} {{\'项\'|translate}}</p></div><div class="form-inline text-right"><select id=instrument-select style="margin-right: 20px" class="form-control input-sm clam-select" ng-model=sealing.instrumentId ng-options="status.id as status.name for status in sealing.instruments"><option value="">{{\'选择封片机\'|translate}}</option></select><button id=sealing class="pull-right btn btn-lg btn-default" ng-click=sealing.startDye()>{{\'开始封片\'|translate}}</button></div><uib-pagination ng-show="sealing.type==1" class=pull-left boundary-links=true items-per-page=sealing.filter.length max-size=10 total-items=sealing.totalItems ng-model=sealing.filter.page ng-change=sealing.getData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div><!--</form>--></div></div>'),t.put("app/site/dye/searchDye/searchDye.html",'<toolbar class=clearfix><div class=form-inline><search-input class=pull-right style="width: 350px" model=searchDye.searchStr get-data=searchDye.search() placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}"></search-input></div></toolbar><div id=searchDye><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><date-seletor dateset=searchDye.defaultTime start-time=searchDye.startTime end-time=searchDye.endTime></date-seletor><select class="form-control input-sm clam-select" ng-model=searchDye.searchData.status ng-options="status.value as status.name for status in searchDye.statusList"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDye.searchData.operatorId ng-options="operator.id as operator.firstName for operator in searchDye.operatorList"><option value="">{{\'染色技术员\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDye.searchData.mountingId ng-options="operator.id as operator.firstName for operator in searchDye.operatorList"><option value="">{{\'封片技术员\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDye.searchData.dyeInstrumentId ng-options="operator.id as operator.name for operator in searchDye.instruments| filter:{type:1}| orderBy: \'name\'"><option value="">{{\'染色机\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDye.searchData.mountingInstrumentId ng-options="operator.id as operator.name for operator in searchDye.instruments| filter:{type:2}| orderBy: \'name\'"><option value="">{{\'封片机\'|translate}}</option></select><button id=query ng-click=searchDye.query() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in searchDye.tableHeaders" class=cursor-pointer ng-click=searchDye.getSortList(item)>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-show=item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in searchDye.dyeDataList track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.slideId></td><td ng-bind=item.grossingDoctorName></td><!--<td ng-bind="item.bodyPart"></td>--><!--<td ng-bind="item.count"></td>--><td ng-bind=item.biaoShiName></td><td ng-bind=item.embedDoctorName></td><td ng-bind=item.dyeInstrumentName></td><td ng-bind="item.embedTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.mountingName></td><td ng-bind=item.mountingInstrumentName></td><td ng-bind="item.mountingTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="searchDye.dyeDataList.length<=$index"><td ng-repeat="m in [].constructor(12) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=searchDye.dyeDataCount||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=searchDye.searchData.length total-items=searchDye.dyeDataCount ng-model=searchDye.searchData.page ng-change=searchDye.getDyeData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/dye/setting/setting.html",'<div id=gSetting><toolbar class=clearfix><ul class="list-unstyled menu-list"><li id=subRoute0 ng-class={active:dyeSetting.activeMenu[0]} ng-click=dyeSetting.choseMenu(0)>{{\'染色机\'|translate}}</li><li id=subRoute1 ng-class={active:dyeSetting.activeMenu[1]} ng-click=dyeSetting.choseMenu(1)>{{\'封片机\'|translate}}</li></ul></toolbar><div><div class="container dyeSetting-head" style="padding: 40px"><div class="pull-left dyeSetting-title"><span ng-if="dyeSetting.showPart===0">{{\'添加/编辑染色机\'|translate}}</span> <span ng-if="dyeSetting.showPart===1">{{\'添加/编辑封片机\'|translate}}</span></div><div class="pull-right dyeSetting-add"><input id=add class="form-control blue-label ok-color" type=button value="{{\'添加\'|translate}}" ng-click=dyeSetting.openAdd()></div></div><div class="container dyeSetting-body"><ul class="list-unstyled grossing-list"><li ng-repeat="item in dyeSetting.grossingList"><div class=li-number ng-class="{\'grey-label\':item.status,\'blue-label\':item.status === 0}">{{item.name}}</div><div class="li-text middle-box"><div class=operate-div><div id=edit class="pull-left cursor-pointer" style="margin-right: 5px" ng-click=dyeSetting.openUpdate(item)><i class="fa fa-pencil-square-o fa-2x"></i></div><div id=delete class="pull-left cursor-pointer" ng-click=dyeSetting.deleteGrossing(item)><i class="fa fa-trash fa-2x"></i></div></div><!--<div class="middle-inner">--><p title={{item.sn}} class="sn text-ellipsis">{{\'序列号\'|translate}}：{{item.sn}}</p><p class="sn text-ellipsis" title={{item.description}}><span ng-if="dyeSetting.showPart===0">{{\'染色机备注\'|translate}}：</span> <span ng-if="dyeSetting.showPart===1">{{\'封片机备注\'|translate}}：</span> {{item.description}}</p><p>{{\'状态\'|translate}}：{{item.status ? "不可用":"正常"|translate}}</p></div><!--</div>--></li></ul></div></div></div>'),t.put("app/site/drawMaterial/configMaterial/configMaterial.html",'<div id=configMaterial><toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class={active:configMaterial.activeMenu[0]} ng-click=configMaterial.choseMenu(0)>{{\'取材模板\'|translate}}</li><!--<li ng-class="{active:configMaterial.activeMenu[1]}" ng-click="configMaterial.choseMenu(1)">{{\'语音识别\'|translate}}</li>--><li ng-class={active:configMaterial.activeMenu[2]} ng-click=configMaterial.choseMenu(2)>{{\'其他设置\'|translate}}</li></ul></toolbar><div id=material ng-if="configMaterial.showPart===0" class=container ng-include="\'app/site/drawMaterial/configMaterial/formwork.html\'"></div><div id=voice ng-if="configMaterial.showPart===1" class=container>{{\'语音\'|translate}}</div><div id=setting ng-show="configMaterial.showPart===2" class=container><div class="high-row clearfix"><div class="col-sm-3 col-md-2">{{\'取材标识\'|translate}}：</div><div class=col-sm-8><ul class="list-unstyled biaoshi-list"><li ng-repeat="item in configMaterial.biaoShiList">{{item.name}} <i class="glyphicon glyphicon-remove-sign" ng-click=configMaterial.delBiaoshi(item.code,$index)></i></li><li ng-if=configMaterial.addNewBiaoshi><input ng-if=configMaterial.addNewBiaoshi type=text ng-model=configMaterial.newBisaoshi ng-blur=configMaterial.newBisaoshi&&configMaterial.addBiaoshi() autofocus> <i class="glyphicon glyphicon-remove-sign" ng-click="configMaterial.addNewBiaoshi=false"></i></li><li class=add-btn ng-click="configMaterial.addNewBiaoshi=true"><span class="glyphicon glyphicon-plus"></span></li></ul></div></div><!--常规蜡块编码方式--><div class="high-row clearfix"><div class="col-sm-3 col-md-2">{{\'蜡块编码方式\'|translate}}：</div><div class=col-sm-8><div class=count-type-container><select class="form-control input-sm" ng-change=configMaterial.setCountType(configMaterial.countType) ng-model=configMaterial.countType><option value=1>{{\'数字\'|translate}}</option><option value=2>{{\'字母\'|translate}}</option></select></div><div style="padding-top: 5px"><span ng-show="configMaterial.countType===\'1\'">1，2，3……</span> <span ng-show="configMaterial.countType===\'2\'">A, B, C...AA, AB, AC...</span></div></div></div><!--冰冻蜡块编码方式设置--><div class="high-row clearfix"><div class="col-sm-3 col-md-2 form-control-static">{{\'冰冻蜡块编码方式\'|translate}}：</div><div class=col-sm-8><div class=count-type-container><select class="form-control input-sm" ng-change=configMaterial.changeFrozenCountType(configMaterial.frozenCountType) ng-model=configMaterial.frozenCountType><option value=1>{{\'数字\'|translate}}</option><option value=2>{{\'字母\'|translate}}</option></select></div></div></div><div class="high-row clearfix"><div class="col-sm-3 col-md-2">{{\'组织数单位\'|translate}}：</div><div class=col-sm-8><ul class="list-unstyled biaoshi-list"><li ng-repeat="item in configMaterial.blockUnitList">{{item.name}} <i class="glyphicon glyphicon-remove-sign" ng-click=configMaterial.delBlockUnit(item.code,$index)></i></li><li ng-if=configMaterial.addNewBlockUnit><input ng-if=configMaterial.addNewBlockUnit type=text ng-model=configMaterial.newBlockUnit ng-blur=configMaterial.newBlockUnit&&configMaterial.addBlockUnit() autofocus> <i class="glyphicon glyphicon-remove-sign" ng-click="configMaterial.addNewBlockUnit=false"></i></li><li class=add-btn ng-click="configMaterial.addNewBlockUnit=true"><span class="glyphicon glyphicon-plus"></span></li></ul></div></div><div class="high-row clearfix"><div class="col-sm-3 col-md-2">{{\'取材备注\'|translate}}：</div><div class=col-sm-8><ul class="list-unstyled biaoshi-list"><li ng-repeat="item in configMaterial.noteList">{{item.name}} <i class="glyphicon glyphicon-remove-sign" ng-click=configMaterial.delNote(item.code,$index)></i></li><li ng-if=configMaterial.addNewNote><input ng-if=configMaterial.addNewNote type=text maxlength=10 ng-model=configMaterial.newNote ng-blur=configMaterial.newNote&&configMaterial.addNote() autofocus> <i class="glyphicon glyphicon-remove-sign" ng-click="configMaterial.addNewNote=false"></i></li><li class=add-btn ng-click="configMaterial.addNewNote=true"><span class="glyphicon glyphicon-plus"></span></li></ul></div></div><div class="high-row clearfix"><div class=col-xs-2><div>取材确认拍照：</div></div><div class=col-xs-8><label class=radio-inline><input ng-checked="configMaterial.grossingConfirmPhoto==1" type=radio ng-click=configMaterial.photoSwitch(1)>必须</label><label class=radio-inline><input ng-checked="configMaterial.grossingConfirmPhoto==2" type=radio ng-click=configMaterial.photoSwitch(2)>可选</label></div></div><!--    <div class="high-row clearfix">\n      <div class="col-sm-3 col-md-2 form-control-static">{{\'是否打印冰冻号\'|translate}}：</div>\n      <div class="col-sm-8">\n        <div class="count-type-container">\n          <select class="form-control input-sm" ng-change="configMaterial.changeFrozenPrint(configMaterial.printFrozen)" ng-model="configMaterial.printFrozen">\n            <option value="0">{{\'不打印\'|translate}}</option>\n            <option value="1">{{\'打印\'|translate}}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="high-row clearfix">\n      <div class="col-sm-3 col-md-2 form-control-static">{{\'是否使用冰冻取材工作站\'|translate}}：</div>\n      <div class="col-sm-8">\n        <div class="count-type-container">\n          <select class="form-control input-sm" ng-change="configMaterial.changeUsingFrozen(configMaterial.usingFrozen)" ng-model="configMaterial.usingFrozen">\n            <option value="0">{{\'不使用\'|translate}}</option>\n            <option value="1">{{\'使用\'|translate}}</option>\n          </select>\n        </div>\n      </div>\n    </div>--></div></div>'),t.put("app/site/drawMaterial/configMaterial/custom.html",'<div class=diagnosisTemplate><div class="container no-padding"><template-type position=6></template-type></div></div>'),t.put("app/site/drawMaterial/configMaterial/formwork.html","<div ng-controller=\"FormworkMaterial as FormworkMaterial\"><div class=col-sm-12><div class=pull-right>{{'模板选择'|translate}} <input type=radio name=choose value=0 ng-model=FormworkMaterial.choose> {{'系统模板'|translate}} <input type=radio name=choose value=1 ng-model=FormworkMaterial.choose> {{'自定义模板'|translate}}</div></div><div><div class=container ng-show=\"FormworkMaterial.choose==0\" ng-include=\"'app/site/drawMaterial/configMaterial/template.html'\"></div><div class=container ng-show=\"FormworkMaterial.choose==1\" ng-include=\"'app/site/drawMaterial/configMaterial/custom.html'\"></div></div></div>"),t.put("app/site/drawMaterial/configMaterial/template.html",'<div class="text-center main" ng-controller="ConfigMaterialTemplateController as configMaterial"><div class=col-sm-3><div class=title><h4>{{\'科室类别\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in configMaterial.departmentList" ng-class="{active:configMaterial.chosedMaterial===item.code}" ng-click=configMaterial.choseMaterial(item.code)>{{item.name|translate}}<div class="pull-right i-container"><i ng-show="configMaterial.chosedMaterial===item.code"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div></div></div><div class=col-sm-3><div class=title><h4>{{\'模板名称\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in configMaterial.templateList" ng-class="{active:configMaterial.chosedTemIndex===$index}" ng-click=configMaterial.choseTemplate($index)><!--<span ng-show="!item.focus">{{item.name}}</span>--> <input ng-model=item.name id=template_{{$index}} auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;configMaterial.saveTemplate(item,$index)"><div class="pull-right i-container"><i ng-show="configMaterial.chosedTemIndex===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button ng-click=configMaterial.addTemplate()><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button ng-click="configMaterial.templateList[configMaterial.chosedTemIndex].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button ng-click=configMaterial.deleteTemplate()><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-6><div class=title><h4>{{\'模板内容\'|translate}}</h4></div><div class=content><div class=list-container><textarea class=form-control ng-model=configMaterial.templateList[configMaterial.chosedTemIndex].content ng-disabled=!configMaterial.focusText></textarea><!--readonly 在这里不管用--></div><div class=list-toolbar><div class=flex-box><button class=btn-info ng-click=configMaterial.changeText()><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{configMaterial.focusText?"保存":"编辑"|translate}}</button></div></div></div></div></div>'),
t.put("app/site/drawMaterial/createMaterial/createMaterial.html",'<div id=createMaterial ng-click=createMaterial.closeTemplate()><toolbar class=clearfix><div class=col-md-3><div class=input-group><input class=form-control type=text ng-model=createMaterial.searchData.filter ng-keyup=createMaterial.search($event) auto-focus=true onfocus="this.style.imeMode=\'active\'" autofocus placeholder="{{\'姓名/病理号 号段用“-”分开\'|translate}} "> <span class=input-group-btn><button class="btn btn-default" type=button ng-click=createMaterial.search() id=searchMaterial><span class="glyphicon glyphicon-search"></span></button></span></div></div><div class="col-md-9 clearfix"><div class=col-md-10><div class=top-header>{{"病理号"|translate}}：<span class=pathology-span>{{createMaterial.pathologicData.serialNumber}}</span> {{"姓名"|translate}}： <span class=pathology-span>{{createMaterial.pathologicData.patientName}}</span><br ng-if="lang === \'en\'">{{"送检科室"|translate}}：<span class=pathology-span>{{createMaterial.pathologicData.departments | department}}</span> {{"样本数"|translate}}：<span>{{createMaterial.pathologicData.samples.length}}</span></div><div><!--检查项目：<span class="pathology-span"></span>--><!--是否加急：<span>{{createMaterial.pathologicData.urgentFlag?"是":"否"}}</span>--></div></div><button id=viewMaterialButton class="pull-right btn btn-default" ng-click=createMaterial.view(createMaterial.pathologicData.serialNumber,createMaterial.pathologicData.pathologyNumber)>{{"查看申请单"|translate}}</button></div></toolbar><div class="container clearfix"><div class=col-md-3><div class="table-header row clearfix"><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%;margin-right:2%><date-seletor dateset=createMaterial.defaultTime start-time=createMaterial.filterData.createTimeStart end-time=createMaterial.filterData.createTimeEnd></date-seletor></div><div class=col-xs-6 style=margin-bottom:10px;padding-left:0;width:48%><department-selector departmentset=createMaterial.filterData.departments></department-selector></div><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%;margin-right:2%><select class="form-control input-sm" ng-model=createMaterial.status ng-options="date.value as date.name for date in createMaterial.sampleStatusList"><option value="">{{"样本状态"|translate}}</option></select></div><div class=col-xs-6 style=margin-bottom:10px;padding-left:0;width:48%><button ng-click=createMaterial.filter() class="btn btn-block btn-sm btn-default"><span class="glyphicon glyphicon-filter" id=query></span>{{"筛选"|translate}}</button></div></div><div class=table><table class="table-min table-hover table-bordered"><thead><tr><th ng-repeat="item in createMaterial.tableHeaders" ng-click=createMaterial.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-class="{\'active-bg\':item.id==createMaterial.active}" ng-click=createMaterial.getOne(item,$index) ng-repeat="item in createMaterial.pathologicDataList track by $index"><td ng-bind=item.serialNumber></td><td><div style="width: 43px;overflow: hidden;text-overflow:ellipsis" ng-bind=item.patientName title={{item.patientName}}></div></td><td ng-bind=item.statusName></td></tr><tr ng-repeat="n in [].constructor(17) track by $index" ng-show="!createMaterial.pathologicDataList||createMaterial.pathologicDataList.length<=$index"><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="11" ng-show="!createMaterial.pathologicDataList.length">暂无数据</td></tr>--></tbody></table><div class="table-footer clearfix"><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind="createMaterial.totalItems || 0"></span>{{"条结果"|translate}}</div><uib-pagination class=pull-right items-per-page=createMaterial.filterData.length max-size=0 boundary-link-numbers=true total-items=createMaterial.totalItems ng-model=createMaterial.filterData.page ng-change=createMaterial.getDataList() previous-text="{{\'上一页\'|translate}}" next-text="{{\'下一页\'|translate}}" first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=col-md-9><div class=row><div class=col-md-8><div class=department-template><div class=department-content><uib-tabset type=pills><uib-tab heading="{{\'常规巨检\'|translate}}" id=normal><textarea class=form-control ng-model=createMaterial.pathologicData.jujianNote></textarea></uib-tab><uib-tab heading="{{\'冰冻巨检\'|translate}}" id=frozen ng-show=createMaterial.pathologicData.afterFrozen><textarea class=form-control ng-model=createMaterial.pathologicData.bingdongNote></textarea></uib-tab></uib-tabset></div><div class=department-footer ng-blur="createMaterial.open=false"><div class="temmplate-default primary-table-head"><button type=button id=template-btn class="btn btn-default btn-sm" ng-click=createMaterial.changeTemplateStatus($event)>{{\'模板选择\'|translate}}<i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': createMaterial.open, \'glyphicon-chevron-right\': !createMaterial.open}"></i></button> <a type=button class="btn btn-default btn-sm" href=openimgsw:>{{\'图像采集\'|translate}}</a></div><div class=template ng-class=" {\'template-active\':createMaterial.open}" ng-show="createMaterial.open&&createMaterial.templateType==0" ng-click=createMaterial.stopPropagation($event)><div class="pull-left template-left"><p>{{\'科室类别\'|translate}}</p></div><div class="pull-left template-main"><ul class=list-unstyled><!--ng-show="createMaterial.pathologicData.departments===item.code||!createMaterial.pathologicData.departments"--><li class=cursor-pointer ng-class="{\'active\':item.code===createMaterial.activeDdepartment}" ng-repeat="item in createMaterial.departmentList" ng-click=createMaterial.choseDdepartment(item.code)>{{item.name}}<div class="pull-right i-container"><i class="glyphicon glyphicon-play" ng-show="createMaterial.activeDdepartment===item.code"></i><!--<i class="fa fa-caret-right" aria-hidden="true" ng-show="createMaterial.activeDdepartment===item.code"></i>--></div></li></ul></div><div class="pull-left template-right"><ul class=list-unstyled><li class=cursor-pointer ng-class="{\'active\':item.id===createMaterial.activeTemplate}" ng-repeat="item in createMaterial.templateList" ng-click=createMaterial.choseTemplate(item)>{{item.name}}</li></ul></div></div><div class=template ng-class=" {\'template-active\':createMaterial.open}" ng-show="createMaterial.open&&createMaterial.templateType==1"><custom-template content=createMaterial.pathologicData.jujianNote position=6></custom-template></div></div></div><div class="recent-template clearfix"><div class="recent-left pull-left"><p style="margin-top: 5px"><span>{{\'最近使用模板\'|translate}}</span></p></div><div class="recent-right pull-left"><div class="pull-left cursor-pointer" style="overflow: hidden;text-overflow: ellipsis" ng-repeat="item in createMaterial.recentTemplate"><p class=btn-template style="overflow: hidden;text-overflow: ellipsis;word-break: break-all;white-space: nowrap" title={{item.name}} ng-click=createMaterial.choseTemplate(item)>{{item.name}}</p></div></div></div></div><div class=col-md-4><h5>{{\'巨检所见\'|translate}}</h5><div class="gumVideoContainer embed-responsive embed-responsive-4by3" style="border: 1px solid #EEEEEE"><!--<video class="embed-responsive-item" id="gumVideo" autoplay muted></video>--> <img ng-src={{createMaterial.selectPhotoResult.url}} class=embed-responsive-item alt="" ng-show=createMaterial.photoShow><div class=video-toolbar><i class="fa-2x fa fa-expand" ng-click=createMaterial.showBigImg(createMaterial.selectPhotoResult.url)></i><!--<i class="fa-2x fa fa-video-camera"></i>--><!--<i class="fa-2x fa fa-camera" ng-click="createMaterial.photo()"></i>--> <i class="fa fa-2x fa-trash" ng-click=createMaterial.deletePhoto(createMaterial.selectPhotoResult.index,createMaterial.selectPhotoResult.id)></i></div></div><div class=img-group id=img-container><slider-container new=createMaterial.newSlider scroll-width=createMaterial.containerWidth per-item-num=createMaterial.perItemNum total-num=createMaterial.pathologicData.media.length><div class=clearfix><img style="height: 60px" ng-repeat="item in createMaterial.pathologicData.media track by $index" ng-style=createMaterial.imgStyle class=pull-left ng-click=createMaterial.selectPhoto(item.url,$index,item.id) ng-src={{item.url}}><!--<img style="height: 50px;margin-right: 10px;" class="pull-left" ng-click="createMaterial.showBigImg(item)" ng-src="http://114.115.210.44:8080/psts/{{item}}">--></div><!--<div class="pull-left" ng-repeat="item in createMaterial.pathologicData.media.images track by $index" index="$index">--><!--<img style="height: 50px;margin-right: 10px;" class="pull-left" ng-click="createMaterial.showBigImg(item)" ng-src="{{item}}">--><!--</div>--></slider-container></div></div></div><div class=row><div class="material-left col-md-10"><h4>{{\'取材记录\'|translate}}</h4><div style="position: absolute;right: 17px;top: 15px;color: red"><p class="small error">{{\'异常终止数据以红色字体标识\'|translate}}</p></div><div class=table-container><form name=material_form style="max-height: 189px;margin-bottom: 10px;overflow: auto"><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=createMaterial.allChecked ng-click=createMaterial.chkAll()></th><th>{{\'打印次数\'|translate}}</th><th>{{\'取材标识\'|translate}}</th><th>{{\'蜡块号\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'脱水篮编号\'|translate}}</th><th>{{\'取材备注\'|translate}}</th><th>{{\'冰冻号\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in createMaterial.pathologicData.blocks track by $index " ng-class="{error:item.status&&item.status===40,gray:item.status&&item.status>11}"><ng-form name=inner_form><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.checked></td><td name=printStatus>{{item.print}}</td><td name=biaoshi><select ng-model=item.biaoshi ng-options="type.code as type.name for type in createMaterial.biaoshiList" ng-change=createMaterial.selectBiaoshi(item) ng-disabled="item.status&&item.status>11||createMaterial.pathologicData.biaoshiDisabled"></select></td><td name=subId class=input-select><!--蜡块--><select class=subId name=demoSelect ng-model=item.subId ng-options="name as name for name in createMaterial.subIdList" ng-disabled="item.status&&item.status>11"></select><!--/*createMaterial.subIdPattern(item.subId,5)*/"  [0-9a-zA-Z]{0,4}$ /[^\\w\\.\\/]/ig   onkeyup="value=value.replace(/[^\\w\\.\\/]/ig,\'\')" --> <input class=subId type=text name=inputSelect ng-model=item.subId ng-keyup=createMaterial.subIdPattern(item) ng-change=createMaterial.subIdPattern(item) maxlength=4 ng-disabled="item.status&&item.status>11"></td><td name=bodyPart><input style="text-align: center" auto-focus={{item.isNewAdd}} ng-model=item.bodyPart ng-keyup=createMaterial.strLength(item,18) maxlength=18 type=text ng-disabled="item.status&&item.status>11"></td><td name=unit style="width: 80px"><!--组织数--> <input style="width: 30px;text-align: center" class=pull-left ng-model=item.count type=text ng-disabled="item.status&&item.status>11"><select style="width: 38px;height: 100%" class=pull-left ng-model=item.unit ng-options="unit.code as unit.name for unit in createMaterial.blockUnitList" ng-disabled="item.status&&item.status>11"></select></td><!--脱水篮编号--><td name=basketNumber><input class=text-center ng-model=item.basketNumber min=1 type=number ng-disabled="item.status&&item.status>11"></td><!--取材备注--><td class=input-select id=note-select name=note ng-init="showNote = false"><select class=bodyPart name=noteSelect ng-model=item.note ng-options="note.name as note.name for note in createMaterial.noteList" ng-disabled="item.status&&item.status>11"></select><input class=bodyPart type=text name=note oninput="value=value.replace(/[\\;\\,]+/,\'\')" maxlength=10 ng-model=item.note ng-disabled="item.status&&item.status>11"></td><td><span ng-show="item.biaoshi === 5"><select ng-model=item.number ng-options="item.number as item.frozenNumber for item in createMaterial.frozenNumbers" ng-disabled="item.status&&item.status>11"></select></span></td></ng-form></tr><tr ng-repeat="n in [].constructor(6) track by $index" ng-show="!createMaterial.pathologicData||!createMaterial.pathologicData.blocks||createMaterial.pathologicData.blocks.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></form><div name=tools class="operations clearfix"><fieldset class="pull-left text-left" ng-disabled="!createMaterial.pathologicData.blocks || !createMaterial.pathologicData"><button id=add class="btn btn-default" ng-disabled=createMaterial.isAfterConfirm ng-click=createMaterial.add(1)>{{\'添加\'|translate}}</button> <button id=addMore class="btn btn-default" ng-disabled=createMaterial.isAfterConfirm ng-click=createMaterial.add()>{{\'批量添加\'|translate}}</button> <button id=delete class="btn btn-default" ng-disabled=createMaterial.isAfterConfirm ng-click=createMaterial.delete()>{{\'删除\'|translate}}</button> <button id=print class="btn btn-default" ng-click=createMaterial.print()>{{\'打印\'|translate}}</button></fieldset><div class="pull-left operations" style="margin-left: 20px"><!--<button class="btn btn-default" ng-click="createMaterial.showPrintTool = !createMaterial.showPrintTool" ng-disabled="false">{{\'打印工具\'|translate}}</button>--></div><fieldset class="pull-right text-right" ng-disabled=!createMaterial.pathologicData><button id=cancel class="btn btn-default" ng-hide="createMaterial.pathologicData.status === 11" ng-disabled=createMaterial.isAfterConfirm ng-click=createMaterial.cancel()>{{\'撤单\'|translate}}</button> <button id=save class="btn btn-primary" style="width: 100px" ng-disabled="createMaterial.pathologicData.status>11" ng-click=createMaterial.save()>{{\'保存\'|translate}}</button></fieldset></div></div></div><div class="material-right col-md-2"><p>{{\'脱水篮编号\'|translate}}：</p><input class="form-control input-sm" type=number min=1 max=99 max-byte=4 ng-model=createMaterial.basketNumber oninput="if(value.length>2)value=value.slice(0,2)"><p>{{\'包埋盒打印\'|translate}}：</p><select class="form-control input-sm" ng-model=createMaterial.autoPrint ng-options="item.value as item.name for item in createMaterial.autoPrintList"></select><p>{{\'取材医生\'|translate}}<span class=required>*</span>：</p><select class="form-control input-sm" ng-model=createMaterial.pathologicData.grossingDoctor.id ng-disabled=createMaterial.pathologicData.grossingDoctorDisabled ng-options="date.id as date.firstName for date in createMaterial.grossingUserLIst" ng-required=true><option value="">{{\'请选择\'|translate}}--</option></select><p>{{\'记录人员\'|translate}}：</p><p>{{user.firstName}}</p></div></div></div><!--打印工具--><div class=print-tool ng-show=createMaterial.showPrintTool><div class="tool-header clearfix">打印工具<div class="close pull-right" ng-click="createMaterial.showPrintTool = false"><i class="fa fa-times-circle" aria-hidden=true></i></div></div><div class=tool-body><p>病理号：</p><p><input class="form-control input-sm" type=text ng-model=createMaterial.startNo></p><p>至：</p><p><input class="form-control input-sm" type=text ng-model=createMaterial.endNo></p><p>蜡块数：</p><p><input class="form-control input-sm" type=number min=1 ng-model=createMaterial.totalNo></p><button class="btn btn-default btn-block" ng-disabled=!createMaterial.totalNo ng-click=createMaterial.printTool()>打印</button></div></div></div></div>'),t.put("app/site/drawMaterial/confirmMaterial/confirmMaterial.html",'<div id=confirmMaterial><toolbar class=clearfix><div class=form-control-static><h4 style="margin-top: 5px" class=pull-left>{{\'脱水篮编号\'|translate}}：</h4><div class="pull-left basket-div"><ul class=basket-ul ng-style="{width:(confirmMaterial.checkBox.length-1)*180+300+\'px\'}"><li class=basket-li ng-repeat="item in confirmMaterial.checkBox track by $index"><div class=basket-no><span>{{item.basketNumber}}</span></div><div class=block-count><label class="cursor-pointer no-margin">{{\'包埋盒\'|translate}}：<span>{{item.blockCount}}</span><!--<span ng-show="confirmMaterial.basketStr==item.basketNumber" class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span>--> <input type=radio id=basket{{confirmMaterial.basketStr}} class=basket-check ng-model=confirmMaterial.basketStr ng-value=item.basketNumber ng-click=confirmMaterial.getDataList()></label><!--<input type="checkbox" class="basket-check" ng-model="item.isChecked" ng-click="confirmMaterial.IsChecked($index)">--></div></li></ul></div><div class=pull-right><a class="btn btn-sm btn-info" href=openimgsw:>{{\'图像采集\'|translate}}</a> <button id=confirmMaterialButton class="btn btn-sm btn-primary" ng-click=confirmMaterial.confirmMaterial() ng-disabled=!confirmMaterial.basketStr||confirmMaterial.inConfirm>{{\'取材确认\'|translate}}</button></div></div></toolbar><div class="container clearfix"><!--<code>{{confirmMaterial.checkBox}}</code>--><div class=row><div class=col-xs-9><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in confirmMaterial.tableHeaders">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in confirmMaterial.grossingData track by $index"><td ng-bind=item.pathologyNumber></td><td ng-bind=item.name></td><td ng-bind="item.departments | department"></td><td ng-bind=item.subId></td><td ng-bind=item.bodyPart></td><td ng-bind=item.count></td><td ng-bind=item.biaoshiName></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind=item.basketNumber></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd\'"></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!confirmMaterial.grossingData||confirmMaterial.grossingData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=confirmMaterial.total></span>{{\'个\'|translate}}{{\'包埋盒\'|translate}}， {{\'共\'|translate}}<span ng-bind=confirmMaterial.totalPathology></span>{{\'个\'|translate}}{{\'病理号\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=confirmMaterial.searchData.length max-size=10 total-items=confirmMaterial.total ng-model=confirmMaterial.searchData.page ng-change=confirmMaterial.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=col-xs-3><!--<div class="gumVideoContainer embed-responsive embed-responsive-4by3">\n          <video class="embed-responsive-item" id="gumVideo" autoplay muted></video>\n          <div class="video-toolbar">\n            <i class="fa-2x fa fa-expand" ng-click="confirmMaterial.enlarge()"></i>\n            &lt;!&ndash;<i class="fa-2x fa fa-video-camera"></i>&ndash;&gt;\n            <i id="camera" class="fa-2x fa fa-camera" ng-click="confirmMaterial.photo()"></i>\n          </div>\n        </div>--><div class=photo ng-if=confirmMaterial.photoUrl><img class=cursor-pointer ng-src="{{confirmMaterial.photoUrl||\'\'}}" ng-click=confirmMaterial.enlarge() alt=""></div></div></div></div></div>'),t.put("app/site/drawMaterial/modal/cancel.html",'<div id=textarea><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=textMod.cancel()><i class="fa fa-times-circle" aria-hidden=true></i></button><h4 class=modal-title ng-bind=textMod.modalTitle></h4></div><div class=modal-body><h4 ng-bind=textMod.selectTitle></h4><div class=required>{{textMod.warning}}</div><h4 ng-bind=textMod.textareaTtitle></h4><textarea class=textLarge ng-model=textMod.rejectReason></textarea></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=textMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-click=textMod.ok()>确定</button></div></div>'),t.put("app/site/drawMaterial/modal/inputModal.html",'<div id=inputModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=inputMod.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button><h4 class=modal-title ng-bind=inputMod.modalTitle></h4></div><div class=modal-body><input type=number class=form-control min=1 max=100 ng-model=inputMod.text auto-focus=true ng-keyup=inputMod.enter($event) ng-pattern=/^[0-9]*$/ ><br>取材标识：<select ng-model=inputMod.biaoshi ng-options="type.code as type.name for type in inputMod.biaoshiList" ng-disabled=inputMod.biaoshiDisabled></select></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=inputMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-disabled=!inputMod.text||input.$invalid ng-click=inputMod.ok()>确定</button></div></div>'),t.put("app/site/drawMaterial/modal/showImg.html",'<div id=video-modal style="height: 70%"><button style="position: absolute;right: 10px;top:10px" type=button class=close data-dismiss=modal ng-click=cancel()><span style="font-size: 40px" aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button> <img ng-src={{imgUrl}} width=100% height=100%><!--<div class="photo-toolbar" ng-hide="hideDelete">--><!--<i class="fa fa-2x fa-trash" ng-click="deletePhoto()"></i>--><!--</div>--><!--<img ng-src="http://114.115.201.224:8080/psts/{{imgUrl}}" width="100%" height="100%">--></div>'),t.put("app/site/drawMaterial/searchMaterial/searchMaterial.html",'<div id=searchMaterial><toolbar class=clearfix><div class=form-inline><div class="input-group pull-right"><search-input class="pull-right search-input-lg" model=searchMaterial.searchStr get-data=searchMaterial.search() placeholder="{{\'输入姓名/病理号查询 号段用“-”分开\'|translate}}"></search-input></div></div></toolbar><div class="container clearfix"><div class="table-header form-control-static form-inline clearfix"><date-seletor dateset=searchMaterial.defaultTime start-time=searchMaterial.startTime end-time=searchMaterial.endTime></date-seletor><select class="form-control input-sm" ng-model=searchMaterial.searchData.status ng-options="status.value as status.name for status in searchMaterial.statusList"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm" ng-model=searchMaterial.searchData.status ng-options="status.value as status.name for status in searchMaterial.inspectCategory"><option value="">{{\'检查类别\'|translate}}</option></select><select class="form-control input-sm" ng-model=searchMaterial.searchData.status ng-options="status.value as status.name for status in searchMaterial.consultStatus"><option value="">{{\'会诊类别\'|translate}}</option></select><select class="form-control input-sm" ng-model=searchMaterial.searchData.departments ng-options="departments.code as departments.name for departments in searchMaterial.departmentsList"><option value="">{{\'送检科室\'|translate}}</option></select><select class="form-control input-sm" ng-model=searchMaterial.searchData.operator ng-options="operator.id as operator.firstName for operator in searchMaterial.grossingUserList"><option value="">{{\'取材医生\'|translate}}</option></select><select class="form-control input-sm select" ng-model=searchMaterial.searchData.secOperator ng-options="secOperator.id as secOperator.firstName for secOperator in searchMaterial.secOperatorList"><option value="">{{\'取材记录员\'|translate}}</option></select><button ng-click=searchMaterial.query() id=query class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button></div><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in searchMaterial.tableHeaders" ng-click=searchMaterial.getSortList(item) class=cursor-pointer>{{::item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-show=item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in searchMaterial.grossingData track by $index"><td ng-bind=item.pathologyNumber></td><td ng-bind=item.name></td><td ng-bind=item.departments|department></td><td ng-bind=item.subId></td><td ng-bind="item.bodyPart||\'无\'"></td><td ng-bind=item.count></td><td ng-bind=item.biaoshiName></td><td ng-bind=item.operatorName></td><td ng-bind="item.secOperatorName||\'无\'"></td><td ng-bind=item.basketNumber></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd\'"></td><td><span ng-hide="item.status === 41" ng-bind=item.statusName></span> <a ng-show="item.status === 41" href ng-click=searchMaterial.reasonModal(item)>{{item.statusName}}</a></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="searchMaterial.grossingData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="12" ng-show="!searchMaterial.grossingData.length">暂无数据</td></tr>--></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=searchMaterial.totalItems></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=searchMaterial.searchData.length max-size=10 total-items=searchMaterial.totalItems ng-model=searchMaterial.searchData.page ng-change=searchMaterial.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/diagnosis/collection/collection.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right input-long" model=diagnose.searchStr get-data=diagnose.getDataList(0) placeholder="{{\'输入编号/姓名查询\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=diagnose.defaultTime start-time=diagnose.startTime end-time=diagnose.endTime></date-seletor><select class="form-control input-sm" ng-model=diagnose.label ng-options="status.code as status.name for status in diagnose.typeList"><option value="">{{\'收藏标签\'|translate}}</option></select><select class="form-control input-sm" ng-model=diagnose.collect ng-options="status.code as status.name for status in diagnose.statusList"><option value="">{{\'病例收藏\'|translate}}</option></select><button id=query ng-click=diagnose.getDataList(1) class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button> <button id=export ng-click=diagnose.export() class="btn btn-sm btn-default pull-right">{{\'导出\'|translate}}</button> <button id=cancel ng-click=diagnose.remove() class="btn btn-sm btn-info pull-right" style="margin: 0 10px">{{\'移除收藏\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=diagnose.allChecked ng-click=diagnose.checkAll()></th><th ng-repeat="item in diagnose.tableHeaders" class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name | translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in diagnose.data track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check ng-click=diagnose.check(item)></td><!--选择--><td ng-bind=item.serialNumber></td><td ng-bind=item.patientName></td><td ng-bind="item.sex | sex"></td><td ng-bind=item.age></td><td ng-bind="item.labelsDesc.join(\' | \')"></td><td ng-bind=item.permissionDesc></td><td ng-bind="item.collectDate | date : \'yyyy-MM-dd HH:mm\'"></td><td style="max-width: 200px" class=text-ellipsis title={{item.note}} ng-bind=item.note></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!diagnose.data.length || diagnose.data.length<=$index"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind="diagnose.total || 0"></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=diagnose.length max-size=10 total-items=diagnose.total ng-model=diagnose.page ng-change=diagnose.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/diagnosis/createDiagnosis/createDiagnosis.html",'<toolbar class=clearfix><div class="search row clearfix"><search-input class=pull-left style=width:330px model=createDiagnosis.serialNumber get-data=createDiagnosis.getDataByPathology() clear=true placeholder="{{\'输入病理号或病理号-蜡块号-玻片号查询\'|translate}}" auto-focus={{autoFocus}}></search-input><div class=pull-right><div class=form-control-static><div class=pull-left>{{\'延期未发\'|translate}}：</div><!--获取延期报告数量--><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=createDiagnosis.getDelayPathologic()>{{createDiagnosis.delayDiagnosisTotal}}</div></div></div><div class=pull-right><div class=form-control-static><div class=pull-left>{{\'即将延期\'|translate}}：</div><div class="pull-right cursor-pointer diagnosis-number-box" ng-click=createDiagnosis.getWillDelayPathologic()>{{createDiagnosis.willDelayDiagnosisTotal}}</div></div></div></div></toolbar><div id=createDiagnosis class=diagnosis-div ng-click=createDiagnosis.closeTemplate()><div class="container no-padding"><div class=row><!--左侧--><div class=col-sm-3><div class="row clearfix"><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%><date-seletor dateset=createDiagnosis.defaultSelectTime start-time=createDiagnosis.filterData.createTimeStart end-time=createDiagnosis.filterData.createTimeEnd></date-seletor></div><div class="col-xs-6 pull-right" style=margin-bottom:10px;padding-left:0;width:48%><select class="form-control input-sm" ng-model=createDiagnosis.filterData.specialType ng-options="status.code as status.name for status in createDiagnosis.specialTypeList"><option value="">{{\'检查类别\'|translate}}</option></select></div><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%><select class="form-control input-sm" ng-model=createDiagnosis.status ng-change=createDiagnosis.changeStatus() ng-options="item.code as item.name for item in createDiagnosis.sampleStatusList"><option value="">{{\'样本状态\'|translate}}</option></select></div><div class="col-xs-6 pull-right" style=margin-bottom:10px;padding-left:0;width:48%><button id=query ng-click=createDiagnosis.query() class="btn btn-block btn-sm btn-default"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div></div><div class=table><table class="table-min table-hover table-bordered"><thead><tr><th>{{\'编号\'|translate}}</th><th>{{\'姓名\'|translate}}</th><th>{{\'状态\'|translate}}</th></tr></thead><tbody><tr ng-class="{\'active-bg\':$index ===  createDiagnosis.index,\'error\':item.delay ,\'warning\': ( item.estimateReportTime - createDiagnosis.delayTime < 0 )}" ng-click="createDiagnosis.getDataByPathology(item, $index)" ng-repeat="item in createDiagnosis.diagnosisList track by $index"><td ng-bind=item.number||item.serialNumber></td><td><div style="width: 75px;overflow: hidden;text-overflow:ellipsis" ng-bind=item.patientName></div></td><td ng-bind="item.delay ? \'报告延期\' :\n                                 (item.estimateReportTime < createDiagnosis.delayTime) ? \'即将延期\' : item.statusName"></td></tr><tr ng-repeat="n in [].constructor(17) track by $index" ng-show="!createDiagnosis.diagnosisList||createDiagnosis.diagnosisList.length<=$index"><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="11" ng-show="!createDiagnosis.pathologicDataList.length">暂无数据</td></tr>--></tbody></table><div class="table-footer clearfix"><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=createDiagnosis.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right items-per-page=createDiagnosis.filterData.length max-size=0 boundary-link-numbers=true total-items=createDiagnosis.total ng-model=createDiagnosis.filterData.page ng-change=createDiagnosis.getDiagnosisList() previous-text="{{\'上一页\'|translate}}" next-text="{{\'下一页\'|translate}}" first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><!--中间--><div class=col-sm-6><!--TAB 1--><div class=the-tab><div class="tab-header clearfix" ng-init="tabIndex=0"><button class="btn btn-tab" ng-class="{\'btn-primary\':tabIndex===0,\'btn-warning\':tabIndex!==0}" ng-click="tabIndex=0">{{\'肉眼所见\'|translate}}</button> <button class="btn btn-tab" ng-class="{\'btn-primary\':tabIndex===1,\'btn-warning\':tabIndex!==1}" ng-click="tabIndex=1">{{\'取材记录\'|translate}}</button> <button class="btn btn-tab" ng-class="{\'btn-primary\':tabIndex===2,\'btn-warning\':tabIndex!==2}" ng-click="tabIndex=2">{{\'诊断记录\'|translate}}</button> <button class="btn btn-tab" ng-class="{\'btn-primary\':tabIndex===3,\'btn-warning\':tabIndex!==3}" ng-click="tabIndex=3">{{\'会诊要求\'|translate}}</button></div><div class="tab-body form-control"><!--肉眼所见--><div class=tab-content ng-show="tabIndex===0"><div ng-bind-html=createDiagnosis.userSeeContent></div></div><!--取材记录--><div class=tab-content ng-show="tabIndex===1"><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'取材标识\'|translate}}</th><th>{{createDiagnosis.pathologicalData.type === 1 ? \'玻片号\': \'蜡块号\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材备注\'|translate}}</th><th>{{\'取材医生\'|translate}}</th><th>{{\'记录员\'|translate}}</th><th>{{\'取材时间\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in createDiagnosis.materialInfo.grossingInfo track by $index" ng-class="{\'required\':item.stop}"><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.subId></td><td><div style="width: 60px;overflow: hidden;text-overflow:ellipsis" title={{item.bodypart}} ng-bind=item.bodypart></div></td><td ng-bind=item.count></td><td><div style="width: 60px;overflow: hidden;text-overflow:ellipsis" title={{item.note}} ng-bind=item.note></div></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind="item.grossingTime| date : \'yyyy-MM-dd HH:mm\'"></td></tr><tr ng-repeat="n in [].constructor(4) track by $index" ng-show="!createDiagnosis.materialInfo.grossingInfo.length||createDiagnosis.materialInfo.grossingInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div><!--诊断记录--><div class=tab-content ng-show="tabIndex===2"><div class=content ng-include=" \'app/site/diagnosis/createDiagnosis/tab/diagnosisHistory.html\' "></div></div><!--会诊要求--><div class=tab-content ng-show="tabIndex===3"><div ng-bind-html=createDiagnosis.pathologicalData.note></div></div></div></div><br><!--TAB2 病理诊断 部分--><div class=the-tab><div class="tab-header clearfix" ng-init="tab2Index=0"><button class="btn btn-tab" ng-class="{\'btn-primary\':tab2Index===0,\'btn-warning\':tab2Index!==0}" ng-click="tab2Index=0">{{\'病理诊断\'|translate}}</button> <button class="btn btn-tab" ng-show="createDiagnosis.pathologicalData.type === 3 || createDiagnosis.pathologicalData.type === 2" ng-class="{\'btn-primary\':tab2Index===1,\'btn-warning\':tab2Index!==1}" ng-click="tab2Index=1">{{\'特检结果\'|translate}}</button> <button class="btn btn-tab" ng-show="createDiagnosis.pathologicalData.type === 4 || createDiagnosis.pathologicalData.outConsult" ng-class="{\'btn-primary\':tab2Index===2,\'btn-warning\':tab2Index!==2}" ng-click="tab2Index=2">{{\'会诊意见\'|translate}}</button><!--模板选择--><div class=pull-right><button class="btn btn-info btn-block btn-sm" ng-click=createDiagnosis.openTemplate($event,createDiagnosis.openFlag) ng-disabled=!createDiagnosis.pathologicalData.id>{{\'模板选择\'|translate}}<i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': createDiagnosis.openFlag, \'glyphicon-chevron-right\': !createDiagnosis.openFlag}"></i></button></div><!--模板选择 展开--><div style="position: absolute;left: 0;right: 0;background: #fff; margin-top: 33px; z-index:99"><div class=template ng-show="createDiagnosis.openFlag&&createDiagnosis.templateType==0" ng-click=createDiagnosis.stopPropagation($event)><div class="pull-left template-left"><p>{{\'科室类别\'|translate}}</p></div><div class="pull-left template-main"><ul class=list-unstyled><li class=cursor-pointer ng-class="{\'active\':dItem.code===createDiagnosis.activeDepartment}" ng-repeat="dItem in departments" ng-click=createDiagnosis.getTemplatesList(dItem.code)>{{dItem.name}}<div class="pull-right i-container"><i class="glyphicon glyphicon-play" ng-show="createDiagnosis.activeDepartment===dItem.code"></i></div></li></ul></div><div class="pull-right template-right"><ul class=list-unstyled><li class=cursor-pointer ng-class="{\'active\':tItem.id===createDiagnosis.activeTemplate}" ng-repeat="tItem in createDiagnosis.templatesList" ng-click=createDiagnosis.getTemplatesData(tItem.id,tItem.templateContentVO)>{{tItem.name}}</li></ul></div></div><div class=template ng-show="createDiagnosis.openFlag&&createDiagnosis.templateType==1"><custom-template content=createDiagnosis.pathologicalData.result.resultDom position=5></custom-template></div></div></div><div class="tab-body tab2-body form-control"><!--病理诊断--><div id=test class=textarea ng-show="tab2Index===0" ng-model=createDiagnosis.pathologicalData.result.resultDom contenteditable=true></div><!--特检结果--><div class=tab-content ng-show="tab2Index === 1"><p>申请日期：{{createDiagnosis.pathologicalData.specialApplyTime | date:\'yyyy-MM-dd\'}}</p><div class=clearfix style="min-height: 80px"><div ng-repeat="item in createDiagnosis.markers track by $index" class=pull-left style="width:33.3%; margin-bottom: 10px"><span class=ng-binding>{{item.name}}</span><select ng-model=item.unit ng-options="unit as unit for unit in createDiagnosis.specialUnitList"><option value="">{{\'请选择\'|translate}}</option></select></div></div><div style="margin: 0 -12px 0 -12px; border-top: 1px solid #ccc; padding-top: 7px; padding-left: 7px"><p>历史诊断结果：</p><div ng-repeat="item in createDiagnosis.specialHistoryResult track by $index"><div>申请日期：{{item.createTime | date:\'yyyy-MM-dd\'}}</div><p>特检结果：<span ng-bind-html=item.specialResult></span></p></div></div></div><!--会诊意见--><div ng-show="tab2Index===2" class=textarea ng-model=createDiagnosis.pathologicalData.specialResult><div class=textarea ng-show="createDiagnosis.pathologicalData.type === 4" ng-model=createDiagnosis.pathologicalData.specialResult contenteditable=true></div><div class=textarea ng-show=createDiagnosis.pathologicalData.outConsult ng-model=createDiagnosis.pathologicalData.outConsultResult contenteditable=true></div></div><!--外院会诊--><!--outConsultResult--></div></div><!--图像采集--><div class="diagnose-photo clearfix"><div class=category-container><slider-container new=createDiagnosis.newSlider scroll-width=432 per-item-num=3 total-num=totalPhoto.length><div class=clearfix><div class=category-item ng-repeat="item in totalPhoto track by $index"><img ng-click=insertPhoto(item) width=140 height=100 ng-src={{item.url}}><div style="position: relative"><div class="photo-tool space-between" style="position: absolute; top: -24px; right: 0; left: 0;padding: 0 20px"><span ng-class="{\'active-icon\':item.check}"><i ng-show=item.check class="glyphicon glyphicon-ok"></i></span><!--<i class="cursor-pointer fa-2x fa fa-check-square" ng-class="{\'check-square\':item.checked}" ng-click="insertPhoto(item)"></i>--> <i class="cursor-pointer fa-2x fa fa-trash-o fa-lg" ng-click="deletePhoto(item.id, $index)"></i> <i class="cursor-pointer fa-2x fa fa-search-plus" style="line-height: 16px" ng-click=showBigImg(item.url)></i></div><select ng-change=createDiagnosis.selectPhotoTag(item) name=diagnosis-phototag ng-model=item.tag ng-options=" tag.code as tag.value for tag in createDiagnosis.photoTags" style="width: 100%; margin-top: 5px"><!--默认的是 10x 40 HE --></select></div></div></div></slider-container></div><div class="pull-right text-center operates"><a style="margin: 30px 0" class="btn btn-sm btn-info" href=openimgsw:>{{\'图像采集\'|translate}}</a><p>选中的图片<br>将插入报告</p></div></div><!--最近模板--><div class="recent-template clearfix" ng-disabled=createDiagnosis.afterReport><div class="recent-left pull-left"><p style="margin: 0; padding-top: 5px">{{\'最近使用模板\'|translate}}</p></div><div class="recent-right pull-left"><div class="pull-left cursor-pointer template-item" ng-click=createDiagnosis.getTemplatesData(rItem.id,rItem.templateContentVO) ng-repeat="rItem in createDiagnosis.recentTemplate"><p class=template-p title={{rItem.name}}>{{rItem.name}}</p></div></div></div><!--<div class="diagnosis-div">\n                    <div class="head">\n                        <h5 class="pull-left">{{\'病理诊断\'|translate}}</h5>\n                        <div class="pull-right">\n                            <button class="btn btn-info btn-block btn-sm" ng-click="createDiagnosis.openTemplate($event,createDiagnosis.openFlag)" ng-disabled="createDiagnosis.isButtonAble.template">{{\'模板选择\'|translate}}<i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': createDiagnosis.openFlag, \'glyphicon-chevron-right\': !createDiagnosis.openFlag}"></i></button>\n                        </div>\n                    </div>\n                    <div class="body clearfix" ng-show="!createDiagnosis.openFlag">\n                        <div class="body-content">\n                            <div id="test" class="form-control" ng-model="createDiagnosis.pathologicalData.result.resultDom" contenteditable="true"></div>\n                        </div>\n                        <div class="body-bar">\n                          <div class="col-xs-6">\n                            <img src="./assets/images/icon-diagnosis-insert.png" alt="">\n                            <a  ng-click="createDiagnosis.openInsertSampleNames()" href>{{\'插入样本名称\'|translate}}</a>\n                          </div>\n                          <div class="col-xs-6">\n                            <img src="./assets/images/photo-icon.png" alt="">\n                            <a ng-class="{disabled:createDiagnosis.isButtonAble.star}" ng-click="createDiagnosis.openInsertPhoto()" href>{{\'插入显微图像\'|translate}}</a>\n                          </div>\n\n                        </div>\n                    </div>\n                    &lt;!&ndash;模板列表&ndash;&gt;\n                    <div id="template" class="" ng-show="createDiagnosis.openFlag" ng-click="createDiagnosis.stopPropagation($event)">\n                        <div class="pull-left template-left">\n                            <p>{{\'科室类别\'|translate}}</p>\n                        </div>\n                        <div class="pull-left template-main">\n                            <ul class="list-unstyled">\n                                <li class="cursor-pointer" ng-class="{\'active\':dItem.code===createDiagnosis.activeDepartment}" ng-repeat="dItem in departments" ng-click="createDiagnosis.getTemplatesList(dItem.code)">\n                                    {{dItem.name}}\n                                    <div class="pull-right i-container">\n                                        <i class="glyphicon glyphicon-play" ng-show="createDiagnosis.activeDepartment===dItem.code"></i>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="pull-right template-right">\n                            <ul class="list-unstyled">\n                                <li class="cursor-pointer" ng-class="{\'active\':tItem.id===createDiagnosis.activeTemplate}" ng-repeat="tItem in createDiagnosis.templatesList" ng-click="createDiagnosis.getTemplatesData(tItem.id,tItem.templateContentVO)">\n                                    {{tItem.name}}\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    &lt;!&ndash;最近模板&ndash;&gt;\n                    <div class="recent-template clearfix" ng-disabled="createDiagnosis.afterReport">\n                        <div class="recent-left pull-left">\n                            <p>{{\'最近使用模板\'|translate}}</p>\n                        </div>\n                        <div class="recent-right pull-left">\n                            <div class="pull-left cursor-pointer template-item" ng-click="createDiagnosis.getTemplatesData(rItem.id,rItem.templateContentVO)" ng-repeat="rItem in createDiagnosis.recentTemplate">\n                                <p class="template-p" title="{{rItem.name}}">{{rItem.name}}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>--></div><!--右侧--><div class=col-sm-3><!--样本信息模块--><div class="sample-info common-bottom-apart"><div class="head space-between"><!--<h5>{{\'样本信息\'|translate}}</h5>--> <span>姓名：{{createDiagnosis.pathologicalData.patientName}}</span> <span>性别：{{createDiagnosis.pathologicalData.sex | sex}}</span> <span>年龄：{{createDiagnosis.pathologicalData.age}}</span></div><div class="body clearfix"><p>{{\'病理号\'|translate}}：<b ng-bind=createDiagnosis.pathologicalData.serialNumber></b></p><div class=row><div class=col-sm-6><p>{{\'蜡块号\'|translate}}：<span ng-bind=createDiagnosis.pathologicalData.blockSubId></span></p></div><div class=col-sm-6><span>{{\'玻片号\'|translate}}：<span ng-bind=createDiagnosis.pathologicalData.slideSubId></span></span></div></div><p>{{\'已看玻片\'|translate}}：<span ng-show=createDiagnosis.pathologicalData.countSlides>{{createDiagnosis.pathologicalData.countWatchedSlide}}/{{createDiagnosis.pathologicalData.countSlides}}</span></p><div class=progress><div class="progress-bar progress-bar-success" aria-valuenow={{createDiagnosis.percentage}} style=width:{{createDiagnosis.percentage}}% role=progressbar aria-valuemin=0 aria-valuemax=100></div></div><!--<p>{{\'病人姓名\'|translate}}：<span ng-bind="createDiagnosis.pathologicalData.patientName"></span></p>--><p>{{\'送检日期\'|translate}}：<span ng-bind="createDiagnosis.pathologicalData.inspectionTime|date:\'yyyy-MM-dd\'"></span></p><p>{{\'预计报告日期\'|translate}}：<span ng-bind="createDiagnosis.pathologicalData.estimateReportTime|date:\'yyyy-MM-dd\'"></span></p><!--<p>报告状态：<span ng-bind="createDiagnosis.pathologicalData.delay ? \'延期\':\'正常待发\'" ng-class="{\'error\':createDiagnosis.pathologicalData.delay}"></span></p>--><p>{{\'报告状态\'|translate}}：<span ng-bind=createDiagnosis.pathologicalData.delayDesc ng-class="{\'error\':createDiagnosis.pathologicalData.delay}"></span></p><p>{{\'病例收藏\'|translate}}：<span ng-bind="createDiagnosis.pathologicalData.collect ? \'已收藏\' : \'\'"></span></p><p>{{\'外院会诊\'|translate}}：<span ng-bind="createDiagnosis.pathologicalData.outConsult ? \'已申请\' : \'\'"></span></p><!--<p>送检科室：<span ng-bind="createDiagnosis.pathologicalData.departmentsDesc||\'无\'"></span></p>\n                        <p>是否加急：<span ng-bind="createDiagnosis.pathologicalData.urgentFlag===true?\'是\':\'否\'"></span></p>\n                        <p>取材标识：<span ng-bind="createDiagnosis.pathologicalData.biaoshiDesc||\'无\'"></span></p>\n                        <p>特染标记：<span ng-bind="createDiagnosis.pathologicalData.marker||createDiagnosis.pathologicalData.specialDyeDesc||\'无\'"></span></p>\n                        <p>样本状态：<span ng-bind="createDiagnosis.pathologicalData.slideStatusDesc||createDiagnosis.pathologicalData.statusName"></span></p>--><div class=icon-div><div class=pull-left><img src=./assets/images/icon1.png><a href ng-click=createDiagnosis.openViewApply()>{{\'病理申请单\'|translate}}</a></div><!--<div class="pull-left">\n                              <img src="./assets/images/icon1.png"/><a href ng-click="createDiagnosis.openViewHistory()">历史诊断</a>\n                            </div>--></div><div>病例标注：<select class=input-sm ng-model=createDiagnosis.casesType ng-options="item.code as item.name for item in createDiagnosis.casesList"><option value="">{{\'选择病例类型\'|translate}}</option></select></div></div></div><!--操作模块--><div><!--<div class="list-row-justified clearfix">\n                        <div class="list-cell text-left">\n                            <button class="btn btn-info btn-block" ng-click="createDiagnosis.openAgainMaterial()" ng-disabled="createDiagnosis.isButtonAble.material">{{\'重补取\'|translate}}</button>\n                        </div>\n                        <div class="list-cell text-center" style="margin-left: 15px;">\n                            <button class="btn btn-info btn-block" ng-click="createDiagnosis.openHeavySection()" ng-disabled="createDiagnosis.isButtonAble.section">{{\'深切\'|translate}}</button>\n                        </div>\n                        <div class="list-cell pull-right ">\n                            <a href="pathmicroscope://">\n                                <button class="btn btn-info btn-block">{{\'图像采集\'|translate}}</button>\n                            </a>\n                        </div>\n                    </div>\n                    <div class="list-row-justified clearfix">\n                        <div class="list-cell text-left">\n                            <button class="btn btn-info btn-block" ng-disabled="!createDiagnosis.pathologicalData.applicationId" ng-click="createDiagnosis.openApplySpecial()">{{\'特检\'|translate}}</button>\n                        </div>\n                        <div class="list-cell text-center" style="margin-left: 15px;">\n                            <button class="btn btn-info btn-block" ng-click="" ng-disabled="true">{{\'申请会诊\'|translate}}</button>\n                        </div>\n                        <div class="list-cell text-right pull-right">\n                            <button class="btn btn-info btn-block" ng-click="createDiagnosis.openQualityGrade()">{{\'质控评分\'|translate}}</button>\n                        </div>\n                    </div>--><div class=box><div class=box-item><button id=reGrossing class="btn btn-info btn-block" ng-click=createDiagnosis.openAgainMaterial() ng-disabled=createDiagnosis.isButtonAble.material>{{\'重补取\'|translate}}</button></div><div class=box-item><button id=reSection class="btn btn-info btn-block" ng-click=createDiagnosis.openHeavySection() ng-disabled=createDiagnosis.isButtonAble.section>{{\'深切\'|translate}}</button></div><div class=box-item><button id=collect class="btn btn-info btn-block" ng-click=createDiagnosis.openCollcetModal() ng-disabled=!createDiagnosis.pathologicalData.id>{{\'收藏\'|translate}}</button><!--<a href="pathmicroscope://">\n                          <button class="btn btn-info btn-block" ng-click="createDiagnosis.useMicroscope()">{{\'图像采集\'|translate}}</button>\n                        </a>--></div><div class=box-item><button id=special class="btn btn-info btn-block" ng-disabled="createDiagnosis.pathologicalData.type == 1 || createDiagnosis.pathologicalData.type == 4 || !(createDiagnosis.pathologicalData.canApplyIhc || createDiagnosis.pathologicalData.canApplySpecialDye)" ng-click=createDiagnosis.openApplySpecial()>{{\'特检\'|translate}}</button></div><div class=box-item><button id=outConsult class="btn btn-info btn-block" ng-disabled=createDiagnosis.pathologicalData.outconsult ng-click=createDiagnosis.openConsultModal()>{{\'外院会诊\'|translate}}</button></div><div class=box-item><button id=grade class="btn btn-info btn-block" ng-disabled=createDiagnosis.pathologicalData.collect ng-click=createDiagnosis.openQualityGrade()>{{\'质控评分\'|translate}}</button></div><div class=box-item><button id=upDiagnose class="btn btn-info btn-block" ng-click=createDiagnosis.openDiagnosisType() ng-disabled=createDiagnosis.isButtonAble.diagnosis>{{\'上级复诊\'|translate}}</button></div><div class=box-item><button id=save class="btn btn-default btn-block" ng-click=createDiagnosis.save()>{{\'保存\'|translate}}</button></div><div class=box-item><button id=report class="btn btn-default btn-block" ng-click=createDiagnosis.openReportResult() ng-show=createDiagnosis.isReportShow ng-disabled=createDiagnosis.isButtonAble.report>{{\'报告\'|translate}}</button></div></div><!--<div class="row">\n                        <div class="col-xs-6">\n                            <button class="btn btn-default btn-block" ng-click="createDiagnosis.openDiagnosisType()" ng-disabled="createDiagnosis.isButtonAble.diagnosis">{{\'提交上级诊断\'|translate}}</button>\n                        </div>\n                        <div class="col-xs-6">\n                            <button class="btn btn-default btn-block" ng-click="createDiagnosis.openReportResult()" ng-show="createDiagnosis.isReportShow" ng-disabled="createDiagnosis.isButtonAble.report">{{\'报告\'|translate}}</button>\n                        </div>\n                    </div>--></div><!--<div class="operate-div">\n          <button class="btn btn-default btn-pure" ng-click="createDiagnosis.openQualityGrade()"></button>\n\n          <p class="clearfix">重补取/深切备注：</p>\n          <textarea ng-model="createDiagnosis.operateNote" style="height: 61px;"></textarea>\n          <div class="row">\n            <div class="col-sm-6">\n              <button class="btn btn-block btn-info" ng-click="createDiagnosis.openAgainMaterial()" ng-disabled="createDiagnosis.isButtonAble.material">重补取</button>\n            </div>\n            <div class="col-sm-6">\n              <button class="btn btn-block btn-info" ng-click="createDiagnosis.openHeavySection()" ng-disabled="createDiagnosis.isButtonAble.section">深切</button>\n            </div>\n          </div>\n        </div>--><!--图像采集模块--><!--<div class="photo-collect common-bottom-apart">\n          <h5>图像采集</h5>\n          <div class="gumVideoContainer embed-responsive embed-responsive-4by3">\n            <video class="embed-responsive-item" id="gumVideo" autoplay muted></video>\n            <div class="video-toolbar">\n              <i class="fa fa-2x fa-expand" ng-click="createDiagnosis.showBigVideo()"></i>\n              <i class="fa fa-2x fa-camera" ng-click="createDiagnosis.photo()"></i>\n            </div>\n          </div>\n          <div id="img-container">\n            <slider-container new="createDiagnosis.newSlider" scroll-width="createDiagnosis.containerWidth" per-item-num="createDiagnosis.perItemNum" total-num="createDiagnosis.imageList.length">\n              <div class="clearfix">\n                <img ng-repeat="item in createDiagnosis.imageList track by $index" ng-style="createDiagnosis.imgStyle" ng-click="createDiagnosis.showBigImg(item,$index)" ng-src="{{(item.id?createDiagnosis.imgUrlHeader:\'\')+item.url}}">\n              </div>\n            </slider-container>\n          </div>\n        </div>--><!--特染模块--><!--<div class="special-stain">\n          <p>\n            需要特染：\n            <select name="">\n              <option>选择特染类型</option>\n              <option value="1">免疫组化</option>\n              <option value="2">Verhoeff铁苏木素染色</option>\n              <option value="3">EBER原位杂交</option>\n            </select>\n          </p>\n          <p>特染备注：</p>\n          <textarea name="" style="height: 138px;"></textarea>\n          <div class="row">\n            <div class="col-sm-6">\n              <button class="btn btn-second btn-block" ng-click="createDiagnosis.openApplySpecial()" ng-disabled="createDiagnosis.isButtonAble.special">提交特染申请</button>\n            </div>\n            <div class="col-sm-6">\n              <button class="btn btn-default btn-block" ng-click="createDiagnosis.openDiagnosisType()" ng-disabled="createDiagnosis.isButtonAble.diagnosis">提交上级诊断</button>\n            </div>\n          </div>\n        </div>--></div></div></div></div>'),
t.put("app/site/diagnosis/searchDiagnosis/searchDiagnosis.html",'<toolbar class=clearfix><div class=form-inline><search-input class=pull-right style="width: 350px" model=searchDiagnosis.searchStr get-data=searchDiagnosis.search() placeholder="{{\'输入姓名/病理号查询 号段用“-”分开\'|translate}}"></search-input></div></toolbar><div id=searchDiagnosis><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><date-seletor dateset=searchDiagnosis.defaultTime start-time=searchDiagnosis.startTime end-time=searchDiagnosis.endTime></date-seletor><select class="form-control input-sm clam-select" ng-model=searchDiagnosis.searchData.status ng-options="status.value as status.name for status in searchDiagnosis.statusList"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDiagnosis.searchData.specialType ng-options="status.code as status.name for status in searchDiagnosis.specialTypeList"><option value="">{{\'检查类别\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDiagnosis.searchData.outConsult ng-options="status.code as status.name for status in searchDiagnosis.outConsultList"><option value="">{{\'外院会诊\'|translate}}</option></select><!-- <select class="form-control input-sm clam-select" ng-model="searchDiagnosis.searchData.departments"\n              ng-options="departments.code as departments.name for departments in searchDiagnosis.departmentsList" >\n        <option value="">{{\'送检科室\'|translate}}</option>\n      </select>--><select class="form-control input-sm clam-select" ng-model=searchDiagnosis.searchData.diagnoseDoctor ng-options="operator.id as operator.firstName for operator in searchDiagnosis.grossingUserList"><option value="">{{\'诊断医生\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=searchDiagnosis.searchData.reportDoctor ng-options="report.id as report.firstName for report in searchDiagnosis.reportUserList"><option value="">{{\'审核医生\'|translate}}</option></select><button id=query ng-click=searchDiagnosis.query() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in searchDiagnosis.tableHeaders" class=cursor-pointer ng-click=searchDiagnosis.getSortList(item)>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in searchDiagnosis.grossingData track by $index"><td ng-bind="item.number || item.serialNumber"></td><td ng-bind=item.patientName></td><td ng-bind=item.typeDesc></td><td ng-bind="item.departments | department"></td><td ng-bind=item.assignDiagnoseDoctor.firstName></td><td ng-bind=item.firstDiagnoseDoctor.firstName></td><td ng-bind=item.secondDiagnoseDoctor.firstName></td><td ng-bind=item.thirdDiagnoseDoctor.firstName></td><td ng-bind=item.reportDoctor.firstName></td><td ng-bind="item.reportTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="searchDiagnosis.grossingData.length<=$index||!searchDiagnosis.grossingData.length"><td ng-repeat="m in [].constructor(11) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=searchDiagnosis.totalItems||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=searchDiagnosis.searchData.length total-items=searchDiagnosis.totalItems ng-model=searchDiagnosis.searchData.page ng-change=searchDiagnosis.getGrossingDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/diagnosis/settingDiagnosis/custom.html",'<div class=diagnosisTemplate><div class="container no-padding"><template-type position=5></template-type></div></div>'),t.put("app/site/diagnosis/settingDiagnosis/diagnosis.html",'<div class=diagnosisTemplate ng-controller="DiagnosisTemplateController as DiagnosisTpl"><div class="container no-padding"><div class=template-container><div class=col-sm-3><div class=title><h4>{{\'科室类别\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li id=departmentType{{$index}} ng-repeat="item in DiagnosisTpl.departmentList" ng-class="{active:DiagnosisTpl.activeDdepartment===item.code}" ng-click=DiagnosisTpl.choseDdepartment(item.code)>{{item.name}}<div class="pull-right i-container"><i ng-show="DiagnosisTpl.activeDdepartment===item.code"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div></div></div><div class=col-sm-3><div class=title><h4>{{\'模板名称\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li id=templateName{{$index}} ng-repeat="item in DiagnosisTpl.templateList" ng-class="{active:DiagnosisTpl.activeTemplate===$index}" ng-click=DiagnosisTpl.choseTemplate(item,$index)><!--<span ng-show="!item.focus">{{item.name}}</span>--><!--{{DiagnosisTpl.activeTemplate}}=={{$index}}--> <input ng-model=item.name id=template_{{$index}} auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;DiagnosisTpl.saveTemplate(item,$index)"><div class="pull-right i-container"><i ng-show="DiagnosisTpl.activeTemplate===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button id=add ng-click=DiagnosisTpl.addTemplate()><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button id=reName ng-click="DiagnosisTpl.templateList[DiagnosisTpl.activeTemplate].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button id=delete ng-click=DiagnosisTpl.deleteTemplate()><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-6><div class=title><h4>{{\'模板内容\'|translate}}</h4><!--<code>{{DiagnosisTpl.templateContentVO}}</code>--></div><div class="content text-left"><div class=list-container><div class=list ng-repeat="list in DiagnosisTpl.templateContentVO track by $index"><!--单选--><div class="select clearfix" ng-if=list.projectContentCheck><div class="col-sm-3 form-control-static"><span>{{list.projectName}}</span> <span ng-show=list.projectNameCheck class=required>*</span></div><div class=col-sm-4><select ng-required=list.projectNameCheck class="form-control input-sm" ng-model=list.selectContent ng-options=" content.name for content in list.projectContentVO"><option value="">{{\'请选择\'|translate}}</option></select></div><div class=col-sm-5>{{\'其他\'|translate}}：<input style="width: 150px; display: inline" type=text class="form-control input-sm" ng-model=list.other></div></div><!--多选--><div class="check clearfix" ng-if=!list.projectContentCheck><div class="col-sm-3 form-control-static"><span>{{list.projectName}}</span> <span ng-show=list.projectNameCheck class=required>*</span></div><div class=col-sm-9 style="padding-top: 6px"><label class=checkbox-inline ng-repeat="item in list.projectContentVO track by $index"><input type=checkbox ng-required=list.projectNameCheck value=option1 ng-model=item.check ng-change=item.check> {{item.name}}</label></div></div></div></div><div class=list-toolbar><div class=flex-box><button ng-click=DiagnosisTpl.edit() ng-disabled=!DiagnosisTpl.template.id><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'编辑\'|translate}}</button></div></div></div></div></div></div></div>'),t.put("app/site/diagnosis/settingDiagnosis/dyeing.html",'<div class=dyeingTemplate ng-controller="DyeingTemplateController as DyeingTpl"><div class="row clearfix" id=configMaterial><div class="col-xs-3 typelist"><div class=sign>特检类型</div><div class=typelist-content><div class=name-list ng-repeat="item in DyeingTpl.dyeTypeList track by $index" ng-hide="item.code<1" ng-class="{active:DyeingTpl.activeType.index===$index}" ng-click=DyeingTpl.choseDyeType(item,$index)><input type=text class="input-sm form-control" ng-model=item.name ng-disabled=!item.focus ng-blur=DyeingTpl.saveDyeType(item) auto-focus={{item.focus}}><div class=pull-right ng-hide="item.code == 1"><a href="" class=icon ng-click="item.focus=true"><i class="glyphicon glyphicon-edit"></i></a> <a href="" class=icon ng-click=DyeingTpl.deleteDyeType($index)><i class="glyphicon glyphicon-trash"></i></a></div></div></div><button class=add-btn ng-click=DyeingTpl.addDyeType()>+</button></div><div class=col-sm-3><div class=sign>免疫组化标记物：</div><div class=title><h4>{{\'科室类别\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in DyeingTpl.departmentList" ng-class="{active:DyeingTpl.chosedMaterial===item.code}" ng-click=DyeingTpl.choseMaterial(item.code)>{{item.name|translate}}<div class="pull-right i-container"><i ng-show="DyeingTpl.chosedMaterial===item.code"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div></div></div><div class=col-sm-3><div class=sign></div><div class=title><h4>{{\'疾病类别\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in DyeingTpl.templateList" ng-class="{active:DyeingTpl.chosedTemIndex===$index}" ng-click=DyeingTpl.choseTemplate($index)><!--<span ng-show="!item.focus">{{item.name}}</span>--> <input ng-model=item.name id=template_{{$index}} auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;DyeingTpl.saveTemplate(item,$index)"><div class="pull-right i-container"><i ng-show="DyeingTpl.chosedTemIndex===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button ng-click=DyeingTpl.addTemplate()><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button ng-click="DyeingTpl.templateList[DyeingTpl.chosedTemIndex].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button ng-click=DyeingTpl.deleteTemplate()><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-3><div class=sign></div><div class=title><h4>{{\'标记物\'|translate}}</h4></div><div class=content ng-click="DyeingTpl.focusMarker = true"><div class=list-container><div class="marker-item text-ellipsis" ng-repeat="item in DyeingTpl.marks track by $index">{{item}} <span ng-if=DyeingTpl.focusText class=delete ng-click=DyeingTpl.marks.splice($index,1)><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon></span></div><input ng-if=DyeingTpl.focusText style="border: none; outline: none;box-shadow: none" class=form-control ng-model=DyeingTpl.marker ng-disabled=!DyeingTpl.focusText ng-blur="DyeingTpl.focusMarker = false" auto-focus={{DyeingTpl.focusMarker}} type=text ng-keydown=DyeingTpl.handleKeyDown($event)><!--<textarea class="form-control" ng-model="DyeingTpl.templateList[DyeingTpl.chosedTemIndex].content"--><!--ng-disabled="!DyeingTpl.focusText"></textarea>--></div><div class=list-toolbar><div class=flex-box><button class=btn-info ng-click=DyeingTpl.changeText()><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{DyeingTpl.focusText?"保存":"编辑"|translate}}</button></div></div></div></div></div></div>'),t.put("app/site/diagnosis/settingDiagnosis/formwork.html","<div ng-controller=\"FormworkController as FormworkDiagnosis\"><div class=col-sm-12><div class=pull-right>{{'模板选择'|translate}} <input type=radio name=choose value=0 ng-model=FormworkDiagnosis.choose> {{'系统模板'|translate}} <input type=radio name=choose value=1 ng-model=FormworkDiagnosis.choose> {{'自定义模板'|translate}}</div></div><div><div class=container ng-show=\"FormworkDiagnosis.choose==0\" ng-include=\"'app/site/diagnosis/settingDiagnosis/diagnosis.html'\"></div><div class=container ng-show=\"FormworkDiagnosis.choose==1\" ng-include=\"'app/site/diagnosis/settingDiagnosis/custom.html'\"></div></div></div>"),t.put("app/site/diagnosis/settingDiagnosis/report.html",'<div class=reportTemplate ng-controller="ReportTemplateController as ReportTpl"><div class=report-template-setting><div class="logo form-group"><div class=clearfix><div class="col-xs-2 no-padding"><p style="padding-top: 4px;  margin-bottom: 0">{{\'图标\'|translate}}：</p></div><label style="margin-bottom: 0" for=reportlogo><span class="btn btn-sm btn-info">{{\'上传图标\'|translate}}</span> <input style="visibility: hidden" id=reportlogo class=inputstyle type=file id=logo></label></div><!--<img width="100" height="70" ng-src="{{reportTemplate.reportTemplateVO.imageURL}}">--></div><div class="form-group clearfix"><div class="col-xs-2 no-padding"><p style="padding-top: 4px;  margin-bottom: 0">{{\'大标题\'|translate}}：</p></div><input class=col-xs-10 type=text ng-model=reportTemplate.reportTemplateVO.reportBigName></div><div class="form-group clearfix"><div class="col-xs-2 no-padding"><p style="padding-top: 4px;  margin-bottom: 0">{{\'副标题\'|translate}}：</p></div><input class=col-xs-10 type=text ng-model=reportTemplate.reportTemplateVO.subheading></div><div class="form-group clearfix"><div class="col-xs-2 no-padding"><p style="padding-top: 4px;  margin-bottom: 0">{{\'小标题\'|translate}}：</p></div><input class=col-xs-10 type=text ng-model=reportTemplate.reportTemplateVO.reportSmallName></div><!--<div class="title form-group">大标题：<input type="text" ng-model="reportTemplate.reportTemplateVO.reportBigName"></div>--><!--<div class="secTitle form-group">小标题：<input type="text" ng-model="reportTemplate.reportTemplateVO.reportSmallName"></div>--><!--<code>{{reportTemplate}}</code>--><fieldset><p><b>{{\'病人信息\'|translate}}：</b></p><div class="form-group clearfix"><label class="checkbox-inline col-xs-3" ng-repeat="item in reportTemplate.reportTemplateVO.patientInformation track by $index"><input type=checkbox ng-model=item.check> {{item.name|translate}}</label></div></fieldset><fieldset><p><b>{{\'诊断内容\'|translate}}：</b></p><div class="form-group clearfix"><label class="checkbox-inline col-xs-3" ng-repeat="item in reportTemplate.reportTemplateVO.diagnosticContent track by $index"><input type=checkbox ng-model=item.check> {{item.name|translate}}</label></div></fieldset><fieldset><p><b>{{\'诊断信息\'|translate}}：</b></p><div class="form-group clearfix"><label class="checkbox-inline col-xs-3" ng-repeat="item in reportTemplate.reportTemplateVO.diagnosticInformation track by $index"><input type=checkbox ng-model=item.check> {{item.name|translate}}</label></div></fieldset><fieldset><p><b>{{\'医院信息\'|translate}}：</b></p><div class="form-group clearfix"><!--<div contenteditable="true" ng-model="reportTemplate.reportTemplateVO.hospitalInformation" class="col-xs-9" >{{reportTemplate.reportTemplateVO.hospitalInformation}}</div>--><textarea class=form-control name="" rows=3 ng-model=reportTemplate.reportTemplateVO.hospitalInformation></textarea></div></fieldset><fieldset><!--<div>特殊提示：</div>--><div class="form-group clearfix"><div class="col-xs-2 no-padding"><p style="padding-top: 4px;  margin-bottom: 0">{{\'特殊提示\'|translate}}：</p></div><input class=col-xs-10 ng-model=reportTemplate.reportTemplateVO.specialTip></div></fieldset><!--<button ng-click="ReportTpl.get()">查看</button>--><!--<button ng-click="ReportTpl.create()">创建</button>--> <button class="btn btn-primary" ng-click=ReportTpl.save()>{{\'保存\'|translate}}</button></div><div class=report-template-view><div class="view center-block"><div class=view-info>{{\'模板预览\'|translate}}</div><div class=reprot-template><fieldset><img class=logo src="" alt=logo ng-src={{reportTemplate.reportTemplateVO.imageURL}}><p class=text-center ng-bind=reportTemplate.reportTemplateVO.reportBigName>{{\'大标题\'|translate}}</p><p class=text-center ng-bind=reportTemplate.reportTemplateVO.subheading>{{\'大标题\'|translate}}</p><p class=text-center ng-bind=reportTemplate.reportTemplateVO.reportSmallName>{{\'小标题\'|translate}}</p></fieldset><!--<hr>--><!--<div class="clearfix">--><!--<div class="patient pull-left">登记/住院号：<input type="text"></div>--><!--<div class="pull-right">病理号：<input type="text"></div>--><!--</div>--><fieldset><div class="report-table-info clearfix row"><div class="pull-left col-sm-3" ng-show=item.check ng-repeat="item in reportTemplate.reportTemplateVO.patientInformation track by $index" ng-show=item.check><span class="info info-name">{{item.name|translate}}</span><input type=text></div></div></fieldset><!--<code>{{reportTemplate.reportTemplateVO}}</code>--><fieldset class=diagnosticContent ng-show=reportTemplate.reportTemplateVO.diagnosticContent><div class=diagnosticContent ng-show=item.check ng-repeat="item in reportTemplate.reportTemplateVO.diagnosticContent">{{item.name|translate}}</div></fieldset><fieldset class=clearfix ng-show=reportTemplate.reportTemplateVO.diagnosticInformation><div class="col-sm-4 no-padding" ng-show=item.check ng-repeat="item in reportTemplate.reportTemplateVO.diagnosticInformation">{{item.name|translate}}</div><!-- <div class="col-sm-4 no-padding">\n            诊断时间：\n          </div><div class="col-sm-4 no-padding">\n            报告打印者：\n          </div>--></fieldset><fieldset><div class=hospital-info>{{reportTemplate.reportTemplateVO.hospitalInformation}}</div><p class=text-right>{{reportTemplate.reportTemplateVO.specialTip}}</p></fieldset></div></div></div></div><!--\n<div class="reportTemplate" ng-controller="ReportTemplateController as ReportTpl">\n  <div class="report-template-setting">\n    <div class="logo form-group">\n      图标:上传图标 <input type="file" ng-model="ReportTpl.setting.logo">\n    </div>\n    <div class="title form-group">大标题：<input type="text" ng-model="ReportTpl.setting.title"></div>\n    <div class="secTitle form-group">小标题：<input type="text" ng-model="ReportTpl.setting.secTitle"></div>\n\n    <code>{{ReportTpl.setting}}</code>\n    <fieldset>\n      <div>病人信息：</div>\n      <div class="form-group clearfix">\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 病人ID\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 登记/住院号\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 病理号\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 门诊号\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 姓名\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 年龄\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 性别\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 床号\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 申请科室\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 样本接收时间\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 申请医生\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.patientId"> 住院患者位置\n        </label>\n      </div>\n\n\n    </fieldset>\n    <fieldset>\n      <div>诊断内容：</div>\n      <div class="form-group clearfix">\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.eyeSight"> 肉眼所见\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.microSight"> 显微所见\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.diagnosis"> 诊断内容\n        </label>\n      </div>\n\n    </fieldset>\n    <fieldset>\n      <div>诊断信息：</div>\n      <div class="form-group clearfix">\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.diagnosisDoctor"> 诊断医生\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.diagnosisTime"> 诊断时间\n        </label>\n        <label class="checkbox-inline col-xs-3">\n          <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="ReportTpl.setting.reporter"> 报告打印者\n        </label>\n      </div>\n    </fieldset>\n    <fieldset>\n      <div>医院信息：</div>\n      <div class="form-group clearfix">\n        <textarea class="form-control" name="" id="" rows="3"></textarea>\n      </div>\n    </fieldset>\n    <fieldset>\n      &lt;!&ndash;<div>特殊提示：</div>&ndash;&gt;\n      <div class="form-group clearfix">\n        <div class="col-xs-3 no-padding">\n          <p class="form-control-static">特殊提示：</p>\n        </div>\n        &lt;!&ndash;<div class=" col-xs-9">&ndash;&gt;\n        &lt;!&ndash;<input type="email" class="form-control" id="special">&ndash;&gt;\n        &lt;!&ndash;</div>&ndash;&gt;\n        &lt;!&ndash;<label class="col-xs-3" for="special">特殊提示：</label>&ndash;&gt;\n        <input type="email" class="col-xs-9" id="special">\n      </div>\n    </fieldset>\n\n  </div>\n\n  <div class="report-template-view">\n    <div class="view center-block">\n      <div class="view-info">\n        模板预览\n      </div>\n      <div class="reprot-template">\n        <fieldset>\n          <img width="100" height="50" src="" alt="logo">\n          <h3 class="text-center" ng-bind="ReportTpl.setting.title">大标题</h3>\n          <p class="text-center" ng-bind="ReportTpl.setting.secTitle">小标题</p>\n        </fieldset>\n        <hr>\n        <fieldset>\n          <div class="clearfix">\n            <div ng-show="ReportTpl.setting.patientId" class="patient pull-left">登记/住院号：<span>{{report.patientId}}</span></div>\n            <div class="pull-right">病理号：<span>P12341234</span></div>\n          </div>\n          <div class="report-table-info clearfix">\n            <div class="pull-left"><span class="info info-name">姓名</span><span class="info info-value">病人甲</span></div>\n            <div class="pull-left"><span class="info info-name">性别</span><span class="info info-value">女</span></div>\n            <div class="pull-left"><span class="info info-name">年龄</span><span class="info info-value">12</span></div>\n            <div class="pull-left"><span class="info info-name">床号</span><span class="info info-value">12号</span></div>\n            <div class="pull-left"><span class="info info-name">样本接收日期</span><span class="info info-value">2016-12-12</span></div>\n            <div class="pull-left"><span class="info info-name">年龄</span><span class="info info-value">12</span></div>\n            <div class="pull-left"><span class="info info-name">床号</span><span class="info info-value">12号</span></div>\n            <div class="pull-left"><span class="info info-name">姓名</span><span class="info info-value">病人甲</span></div>\n\n          </div>\n        </fieldset>\n\n        <fieldset>\n          <div ng-show="ReportTpl.setting.eyeSight">肉眼所见：\n            <p>\n              左肾及左肾肿瘤：肿块一个，大小14.5*10*6 cm，见包膜，多切面切开，切面灰黄灰红灰白实性质软，有油腻感，局炤呈暗红似出血。另见肾脏一枚，大小9*6*2 cm，输尿管长5 cm，直径0.5-0.8 cm，沿输尿管纵轴剪开，内壁光滑，未见明显肿物，肾盂稍扩张，未见肿块，肾皮质厚0.8-1 cm，髓质厚1.5 cm，肾皮质髓质未见其余肿块。\n            </p>\n          </div>\n          <div ng-show="ReportTpl.setting.microSight">\n            显微所见：\n            <div>\n              <img width="100" height="50" src="" alt="">\n              <img width="100" height="50" src="" alt="">\n              <img width="100" height="50" src="" alt="">\n            </div>\n\n          </div>\n          <div ng-show="reportTemplate.diagnosis">病理诊断：\n            <div ng-repeat="item in reportTemplate.diagnosis track by $index">\n              <span>{{item.name}}</span>: <span>{{item.value}}</span>\n            </div>\n          </div>\n        </fieldset>\n        <fieldset class="clearfix">\n          <div class="col-sm-4 no-padding">\n            诊断医生：111\n          </div>\n          <div class="col-sm-4 no-padding">\n            诊断时间：111\n          </div><div class="col-sm-4 no-padding">\n          报告打印者：111\n        </div>\n\n        </fieldset>\n        <fieldset>\n          <div class="hospital-info">病理收发室：028-00000000    病理诊断查询：028-11111111\n            会诊接待：028-22222222       门诊细胞病理：028-33333333\n            通讯地址：成都市国学巷37号四川大学华西医院病理科  邮编：610041\n          </div>\n\n          <div class="text-right">特殊提示deneirongt</div>\n        </fieldset>\n\n      </div>\n\n\n    </div>\n\n  </div>\n</div>-->'),t.put("app/site/diagnosis/settingDiagnosis/settingDiagnosis.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:settingDiagnosis.activeMenu==0}" ng-click=settingDiagnosis.choseMenu(0)>{{\'诊断模板\'|translate}}</li><li ng-class="{active:settingDiagnosis.activeMenu==1}" ng-click=settingDiagnosis.choseMenu(1)>{{\'特检\'|translate}}</li><li ng-class="{active:settingDiagnosis.activeMenu==2}" ng-click=settingDiagnosis.choseMenu(2)>{{\'报告模板\'|translate}}</li></ul></toolbar><div id=diagnosisSetting><div class=container ng-show="settingDiagnosis.activeMenu==0" ng-include="\'app/site/diagnosis/settingDiagnosis/formwork.html\'">这里不管写什么都不会展示,完全被ng-include取代</div><div class=container ng-show="settingDiagnosis.activeMenu==1" ng-include="\'app/site/diagnosis/settingDiagnosis/dyeing.html\'"></div><div class=container ng-show="settingDiagnosis.activeMenu==2" ng-include="\'app/site/diagnosis/settingDiagnosis/report.html\'"></div></div>'),t.put("app/site/freeze/freezeSearch/searchMaterial.html",'<div id=searchMaterial><toolbar class=clearfix><div class=form-inline><div class="input-group pull-right"><search-input class="pull-right search-input-lg" model=freeze.searchStr get-data=freeze.search() placeholder="{{\'输入姓名/病理号查询 号段用“-”分开\'|translate}}"></search-input></div></div></toolbar><div class="container clearfix"><div class="table-header form-control-static form-inline clearfix"><date-seletor dateset=freeze.defaultTime start-time=freeze.startTime end-time=freeze.endTime></date-seletor><select class="form-control input-sm" ng-model=freeze.searchData.status ng-options="status.value as status.name for status in freeze.statusList"><option value="">{{\'样本状态\'|translate}}</option></select><select class="form-control input-sm" ng-model=freeze.searchData.departments ng-options="departments.code as departments.name for departments in freeze.departmentsList"><option value="">{{\'送检科室\'|translate}}</option></select><select class="form-control input-sm" ng-model=freeze.searchData.operator ng-options="operator.id as operator.firstName for operator in freeze.grossingUserList"><option value="">{{\'取材医生\'|translate}}</option></select><select class="form-control input-sm select" ng-model=freeze.searchData.secOperator ng-options="secOperator.id as secOperator.firstName for secOperator in freeze.secOperatorList"><option value="">{{\'取材记录员\'|translate}}</option></select><button ng-click=freeze.query() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button></div><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in freeze.tableHeaders" ng-click=freeze.getSortList(item) class=cursor-pointer>{{::item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-show=item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in freeze.grossingData track by $index"><td ng-bind=item.number></td><td ng-bind=item.pathologyNumber></td><td ng-bind=item.name></td><td ng-bind=item.departments|department></td><td ng-bind=item.subId></td><td ng-bind=item.bodyPart></td><td ng-bind=item.count></td><td ng-bind=item.biaoshiName></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind=item.basketNumber></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd\'"></td><td><span ng-hide="item.status === 41" ng-bind=item.statusName></span> <a ng-show="item.status === 41" href ng-click=freeze.reasonModal(item)>{{item.statusName}}</a></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="freeze.grossingData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="12" ng-show="!freeze.grossingData.length">暂无数据</td></tr>--></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=freeze.totalItems></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=freeze.searchData.length max-size=10 total-items=freeze.totalItems ng-model=freeze.searchData.page ng-change=freeze.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/freeze/freezeSetting/configMaterial.html",'<div id=configMaterial><toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class={active:freeze.activeMenu[0]} ng-click=freeze.choseMenu(0)>{{\'取材模板\'|translate}}</li><li ng-class={active:freeze.activeMenu[1]} ng-click=freeze.choseMenu(1)>{{\'冰冻切片机设置\'|translate}}</li></ul></toolbar><div id=material ng-if="freeze.showPart===0" class=container ng-include="\'app/site/drawMaterial/configMaterial/formwork.html\'"></div><!-- note 跟染色封片 脱水机用的同一个样式--><div id=gSetting ng-if="freeze.showPart===1" class=container><div class="container freeze-head" style="padding: 40px"><div class="pull-left freeze-title"><span>{{\'添加/编辑冰冻切片机\'|translate}}</span></div><div class="pull-right freeze-add"><input class="form-control blue-label ok-color" type=button value="{{\'添加\'|translate}}" ng-click=freeze.openAdd()></div></div><div class="container freeze-body"><ul class="list-unstyled grossing-list"><li ng-repeat="item in freeze.grossingList"><div class=li-number ng-class="{\'grey-label\':item.status,\'blue-label\':item.status === 0}">{{item.name}}</div><div class="li-text middle-box"><div class=operate-div><div class="pull-left cursor-pointer" style="margin-right: 5px" ng-click=freeze.openUpdate(item)><i class="fa fa-pencil-square-o fa-2x"></i></div><div class="pull-left cursor-pointer" ng-click=freeze.deleteGrossing(item)><i class="fa fa-trash fa-2x"></i></div></div><!--<div class="middle-inner">--><p title={{item.sn}} class="sn text-ellipsis">{{\'序列号\'|translate}}：{{item.sn}}</p><p class="sn text-ellipsis" title={{item.description}}><span>{{\'备注\'|translate}}：</span> {{item.description}}</p><p style="line-height: 60px">{{\'状态\'|translate}}：{{item.status ? "不可用":"正常"|translate}}</p></div><!--</div>--></li></ul></div></div></div>'),
t.put("app/site/freeze/freezeMaterial/createMaterial.html",'<div id=createMaterial ng-click=freeze.closeTemplate()><toolbar class=clearfix><div class=col-md-3><div class=input-group><search-input style="width: 255px" class="pull-right search-input-sm" model=freeze.searchStr get-data=freeze.search() placeholder="{{\'输入姓名/病理号 号段用 - 分开\'|translate}}"></search-input></div></div><div class="col-md-9 clearfix"><div class=col-md-10><div class=top-header>{{"病理号"|translate}}：<span class=pathology-span>{{freeze.pathologicData.serialNumber}}</span> {{"姓名"|translate}}： <span class=pathology-span>{{freeze.pathologicData.patientName}}</span><br ng-if="lang === \'en\'">{{"送检科室"|translate}}：<span class=pathology-span>{{freeze.pathologicData.departments | department}}</span> {{"样本数"|translate}}：<span>{{freeze.pathologicData.samples.length}}</span></div><div><!--检查项目：<span class="pathology-span"></span>--><!--是否加急：<span>{{freeze.pathologicData.urgentFlag?"是":"否"}}</span>--></div></div><button class="pull-right btn btn-default" ng-click=freeze.view(freeze.pathologicData.serialNumber,freeze.pathologicData.pathologyNumber)>{{"查看申请单"|translate}}</button></div></toolbar><div class="container clearfix"><div class=col-md-3><div class="table-header row clearfix"><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%;margin-right:2%><date-seletor dateset=freeze.defaultTime start-time=freeze.startTime end-time=freeze.endTime></date-seletor></div><div class=col-xs-6 style=margin-bottom:10px;padding-left:0;width:48%><select class="form-control input-sm" ng-model=freeze.filterData.departments ng-options="status.code as status.name for status in freeze.departmentList"><option value="">{{"送检科室"|translate}}</option></select></div><div class=col-xs-6 style=margin-bottom:10px;padding-right:0;width:48%;margin-right:2%><select class="form-control input-sm" ng-model=freeze.status ng-options="date.value as date.name for date in freeze.sampleStatusList"><option value="">{{"样本状态"|translate}}</option></select></div><div class=col-xs-6 style=margin-bottom:10px;padding-left:0;width:48%><button ng-click=freeze.query() class="btn btn-block btn-sm btn-default"><span class="glyphicon glyphicon-filter"></span>{{"筛选"|translate}}</button></div></div><div class=table><table class="table-min table-hover table-bordered"><thead><tr><th ng-repeat="item in freeze.tableHeaders" ng-click=freeze.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-class="{\'active-bg\':item.id==freeze.active}" ng-click=freeze.getOne(item,$index) ng-repeat="item in freeze.pathologicDataList track by $index"><td ng-bind=item.number></td><td><div style="width: 43px;overflow: hidden;text-overflow:ellipsis" ng-bind=item.patientName></div></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(17) track by $index" ng-show="!freeze.pathologicDataList||freeze.pathologicDataList.length<=$index"><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="11" ng-show="!freeze.pathologicDataList.length">暂无数据</td></tr>--></tbody></table><div class="table-footer clearfix"><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind="freeze.totalItems || 0"></span>{{"条结果"|translate}}</div><uib-pagination class=pull-right items-per-page=freeze.searchData.length max-size=0 boundary-link-numbers=true total-items=freeze.totalItems ng-model=freeze.searchData.page ng-change=freeze.getDataList() previous-text="{{\'上一页\'|translate}}" next-text="{{\'下一页\'|translate}}" first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=col-md-9><div class=row><div class=col-md-8><div class=department-template><div class=department-content><uib-tabset type=pills><uib-tab heading="{{\'冰冻巨检\'|translate}}"><textarea class=form-control ng-model=freeze.pathologicData.bingdongNote></textarea></uib-tab></uib-tabset></div><div class=department-footer ng-blur="freeze.open=false"><div class="temmplate-default primary-table-head"><button type=button id=template-btn class="btn btn-default btn-sm" ng-click=freeze.changeTemplateStatus($event)>{{\'模板选择\'|translate}}<i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': freeze.open, \'glyphicon-chevron-right\': !freeze.open}"></i></button> <a type=button class="btn btn-default btn-sm" href=openimgsw:>{{\'图像采集\'|translate}}</a></div><div class=template ng-class=" {\'template-active\':freeze.open}" ng-show="freeze.open&&freeze.templateType==0" ng-click=freeze.stopPropagation($event)><div class="pull-left template-left"><p style="width: 20px;min-height:50px; margin:auto;margin-top: 100px;writing-mode: vertical-lr; writing-mode: tb-lr;word-wrap: break-word; white-space: pre-wrap">{{\'科室类别\'|translate}}</p></div><div class="pull-left template-main"><ul class=list-unstyled><!--ng-show="freeze.pathologicData.departments===item.code||!freeze.pathologicData.departments"--><li class=cursor-pointer ng-class="{\'active\':item.code===freeze.activeDdepartment}" ng-repeat="item in freeze.departmentList" ng-click=freeze.choseDdepartment(item.code)>{{item.name}}<div class="pull-right i-container"><i class="glyphicon glyphicon-play" ng-show="freeze.activeDdepartment===item.code"></i><!--<i class="fa fa-caret-right" aria-hidden="true" ng-show="freeze.activeDdepartment===item.code"></i>--></div></li></ul></div><div class="pull-left template-right"><ul class=list-unstyled><li class=cursor-pointer ng-class="{\'active\':item.id===freeze.activeTemplate}" ng-repeat="item in freeze.templateList" ng-click=freeze.choseTemplate(item)>{{item.name}}</li></ul></div></div><div class=template ng-class=" {\'template-active\':freeze.open}" ng-show="freeze.open&&freeze.templateType==1"><custom-template content=freeze.pathologicData.bingdongNote position=6></custom-template></div></div></div><div class="recent-template clearfix"><div class="recent-left pull-left"><p style="margin-top: 5px"><span>{{\'最近使用模板\'|translate}}</span></p></div><div class="recent-right pull-left"><div class="pull-left cursor-pointer" style="overflow: hidden;text-overflow: ellipsis" ng-repeat="item in freeze.recentTemplate"><p class=btn-template style="overflow: hidden;text-overflow: ellipsis;word-break: break-all;white-space: nowrap" title={{item.name}} ng-click=freeze.choseTemplate(item)>{{item.name}}</p></div></div></div></div><div class=col-md-4><p>{{\'图像采集\'|translate}}</p><div class="gumVideoContainer embed-responsive embed-responsive-4by3" style="border:1px solid #eeeaec"><!--<video class="embed-responsive-item" id="gumVideo" autoplay muted></video>--> <img ng-src={{freeze.selectPhotoResult.url}} class=embed-responsive-item alt="" ng-show=freeze.photoShow><div class=video-toolbar><i class="fa-2x fa fa-expand" ng-click=freeze.showBigImg(freeze.selectPhotoResult.url)></i><!--<i class="fa-2x fa fa-video-camera"></i>--> <i class="fa-2x fa fa-trash" ng-click=freeze.deletePhoto(freeze.selectPhotoResult.index,freeze.selectPhotoResult.id)></i></div></div><div class=img-group id=img-container><slider-container new=freeze.newSlider scroll-width=freeze.containerWidth per-item-num=freeze.perItemNum total-num=freeze.pathologicData.media.length><div class=clearfix><img style="height: 60px" ng-repeat="item in freeze.pathologicData.media track by $index" ng-style=freeze.imgStyle class=pull-left ng-click=freeze.selectPhoto(item.url,$index,item.id) ng-src={{item.url}}><!--<img style="height: 50px;margin-right: 10px;" class="pull-left" ng-click="freeze.showBigImg(item)" ng-src="http://114.115.210.44:8080/psts/{{item}}">--></div><!--<div class="pull-left" ng-repeat="item in freeze.pathologicData.media.images track by $index" index="$index">--><!--<img style="height: 50px;margin-right: 10px;" class="pull-left" ng-click="freeze.showBigImg(item)" ng-src="{{item}}">--><!--</div>--></slider-container></div></div></div><div class=row><div class="material-left col-md-10"><h4>{{\'取材记录\'|translate}}</h4><div class=table-container><form name=material_form style="max-height: 189px;margin-bottom: 10px;overflow: auto"><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=freeze.allChecked ng-click=freeze.chkAll()></th><th>{{\'打印次数\'|translate}}</th><!--<th>{{\'取材标识\'|translate}}</th>--><th>{{\'蜡块号\'|translate}}</th><th>{{\'玻片号\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材备注\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in freeze.pathologicData.slides track by $index" ng-class="{error:item.status&&item.status===40 }"><ng-form name=inner_form><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.checked></td><!--打印次数--><td>{{item.print || 0}}</td><!--蜡块号--><td>0</td><!--玻片号--><td>{{item.subId}}</td><!--取材部位--><td name=bodyPart><input style="text-align: center" auto-focus=true ng-model=item.bodyPart ng-keyup=freeze.strLength(item,18) maxlength=18 type=text></td><!--组织数--><td name=unit style="width: 80px"><input style="width: 30px;text-align: center" class=pull-left ng-model=item.count type=text><select style="width: 38px;height: 100%" class=pull-left ng-model=item.unit ng-options="unit.code as unit.name for unit in freeze.blockUnitList"></select></td><!--取材备注--><td class=input-select id=note-select name=note ng-init="showNote = false"><input type=text name=note oninput="value=value.replace(/[\\;\\,]+/,\'\')" maxlength=10 ng-model=item.note></td><!--<td><input ng-model="item.statusName" type="text" ng-disabled="item.status&&item.status!=11"></td>--></ng-form></tr><tr ng-repeat="n in [].constructor(6) track by $index" ng-show="!freeze.pathologicData||!freeze.pathologicData.slides||freeze.pathologicData.slides.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></form><fieldset class="operations clearfix" ng-disabled=!freeze.pathologicData.id><div class="pull-left text-left"><button class="btn btn-default" ng-click=freeze.add(1)>{{\'添加\'|translate}}</button> <button class="btn btn-default" ng-click=freeze.add()>{{\'批量添加\'|translate}}</button> <button class="btn btn-default" ng-click=freeze.delete()>{{\'删除\'|translate}}</button> <button class="btn btn-default" ng-click=freeze.print()>{{\'打印\'|translate}}</button></div><div class="pull-right text-right"><button class="btn btn-primary" ng-disabled="freeze.status>11" style="width: 100px" ng-click=freeze.save()>{{\'保存\'|translate}}</button></div></fieldset></div></div><div class="material-right col-md-2"><p>{{\'记录人员\'|translate}}：</p><p>{{user.firstName}}</p><p>{{\'取材医生\'|translate}}<span class=required>*</span>：</p><select class="form-control input-sm" ng-model=freeze.pathologicData.grossingDoctor.id ng-options="date.id as date.firstName for date in freeze.grossingUserLIst" ng-required=true><option value="">{{\'请选择\'|translate}}--</option></select><p>{{\'玻片打印\'|translate}}：</p><select class="form-control input-sm" ng-model=freeze.autoPrint ng-options="item.value as item.name for item in freeze.autoPrintList"></select><p>{{\'冰冻切片机\'|translate}}：</p><select class="form-control input-sm" ng-model=freeze.basketNumber ng-options="item.id as item.name for item in freeze.instruments"><option value="">{{\'请选择\'|translate}}--</option></select></div></div></div></div></div>'),t.put("app/site/grossing/grossing/grossing.html",'<div id=grossing style="margin-top: 20px"><div class=container><div class="row flex-center"><div class=col-md-3><h4 style="margin-top: 20px">1. {{\'选择脱水篮\'|translate}}</h4><div class=basket><div class="basket-box cursor-pointer clearfix" ng-model=item.checked ng-click=grossing.check(item) ng-repeat="item in grossing.grossingBasketList"><div class="basket-header pull-left yellow-label">{{item.basketNumber}}</div><div class="basket-content pull-left"><span ng-show=item.checked class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span><div>{{\'包埋盒数\'|translate}}：{{item.blockCount}}</div><div>{{\'取材记录员\'|translate}}：{{item.recorder}}</div></div></div><!--当没有脱水篮的时候显示--><div class="basket-box cursor-pointer clearfix" ng-repeat="n in [].constructor(8) track by $index" ng-show="!grossing.grossingBasketList||grossing.grossingBasketList.length<=$index"><div class="basket-header pull-left yellow-label"></div><div class="basket-content pull-left"></div></div></div><!--<div class="text-center"><button class="btn btn-default">拆分脱水篮</button></div>--></div><div class=col-md-3><h4 style="margin-top: 20px">2. {{\'选择脱水机\'|translate}}</h4><div class=basket><div class="basket-box clearfix cursor-pointer" ng-model=grossing.activeMachine ng-class="{\'cursor-disabled\':item.inUse&&item.status!=1}" ng-click=grossing.checkDehydrateMachine(item) ng-repeat="item in grossing.dehydratorList"><div class="basket-header pull-left" ng-class=" {\'purple-label\':item.inUse&&item.status!=1,\'green-label\':!item.inUse||item.status===1}">{{item.name}}</div><div class="basket-content pull-left"><span ng-show="grossing.activeMachine.name==item.name" class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span><div>{{\'可用空间\'|translate}}：{{item.capacity-item.usedBlock}}</div><div>{{\'已用空间\'|translate}}：{{item.usedBlock}}</div><div class=pause-icon ng-show="item.status==2"><i class="fa fa-pause" aria-hidden=true></i></div></div></div></div><!--<div class="text-center"><button class="btn btn-default" ng-click="grossing.stop()">结束脱水 <i class="fa fa-stop-circle-o"></i></button></div>--></div><div class=col-md-1><div class=text-center style="margin-bottom: 80px"><button class="btn btn-default" id=add ng-click=grossing.add()>{{\'添加\'|translate}}&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></button></div><div class=text-center><button class="btn btn-default" id=cancel ng-click=grossing.cancel()>{{\'撤销\'|translate}}&nbsp;<i class="fa fa-reply"></i></button></div></div><div class=col-md-5><h4 style="margin-top: 20px">3. {{\'脱水确认\'|translate}}<p class=pull-right>{{\'脱水机\'|translate}}：{{grossing.dehydratorName}}</p></h4><div class=table-min style="height: 490px; overflow-y: auto; margin-bottom: 20px; border-bottom: 1px solid #eee"><table class="table-hover table-bordered text-center"><thead><tr><th ng-repeat="item in grossing.tableHeaders" class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name|translate}}<!--<i class="cursor-pointer glyphicon glyphicon-chevron-down arrow"--><!--ng-hide="!item.order"--><!--ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}" />--></th></tr></thead><tbody><tr ng-repeat="item in grossing.dehydrateDataLIst.data track by $index"><td ng-bind=item.pathologyNumber></td><td ng-bind=item.subId></td><td ng-bind=item.name></td><td ng-bind=item.count></td><td ng-bind=item.biaoshiName></td><td ng-bind=item.statusName></td><!--<td ng-bind="grossing.dehydratorName"></td>--></tr><tr ng-repeat="n in [].constructor(18) track by $index" ng-show="!grossing.dehydrateDataLIst.data||grossing.dehydrateDataLIst.data.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><!--<div class="table-footer clearfix">--><!--<div ng-show="grossing.dehydrateDataLIst.total>0" class="pull-left form-control-static pagination">共<span ng-bind="grossing.dehydrateDataLIst.total"></span>条结果</div>--><!--<uib-pagination class="pull-right" boundary-links="true" items-per-page="grossing.dehydrateParams.length" max-size="0"--><!--total-items="grossing.dehydrateDataLIst.total"--><!--ng-model="grossing.dehydrateParams.page"--><!--ng-change="grossing.getDehydrateDataLIst()"--><!--previous-text="上一页" next-text="下一页" first-text="&laquo;" last-text="&raquo;"></uib-pagination>--><!--</div>--></div><div class="space-between text-center"><!--<button class="btn btn-default pull-left">拆分脱水篮</button>--> <button id=startGrossing class="btn btn-default" ng-disabled=grossing.inGrossing ng-click=grossing.start()>{{\'开始脱水\'|translate}} <i class="fa fa-play-circle-o"></i></button> <button id=pauseGrossing class="btn btn-default" ng-click=grossing.pause()>{{\'暂停脱水\'|translate}} <i class="fa fa-pause-circle-o"></i></button> <button id=stopGrossing class="btn btn-default" ng-click=grossing.stop()>{{\'结束脱水\'|translate}} <i class="fa fa-stop-circle-o"></i></button></div></div></div></div></div>'),t.put("app/site/freeze/modal/cancel.html",'<div id=textarea><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=textMod.cancel()><i class="fa fa-times-circle" aria-hidden=true></i></button><h4 class=modal-title ng-bind=textMod.modalTitle></h4></div><div class=modal-body><h4 ng-bind=textMod.selectTitle></h4><div class=required>{{textMod.warning}}</div><h4 ng-bind=textMod.textareaTtitle></h4><textarea class=textLarge ng-model=textMod.rejectReason></textarea></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=textMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-click=textMod.ok()>确定</button></div></div>'),t.put("app/site/freeze/modal/showImg.html",'<div style="height: 70%"><button style="position: absolute;right: 10px;top:10px" type=button class=close data-dismiss=modal ng-click=cancel()><span style="font-size: 40px" aria-hidden=true class="glyphicon glyphicon-remove"></span><span class=sr-only>Close</span></button> <img ng-src={{imgUrl}} width=100% height=100%><div class=photo-toolbar ng-hide=hideDelete><i class="fa fa-2x fa-trash" ng-click=deletePhoto()></i></div><!--<img ng-src="http://114.115.201.224:8080/psts/{{imgUrl}}" width="100%" height="100%">--></div>'),t.put("app/site/grossing/modal/dehydrateAdd.html",'<div id=dehydrateAdd><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=dehydrateAdd.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'添加脱水机\'|translate}}</h4></div><div class="modal-body clearfix"><div class=form-container><form role=form class=form-horizontal name=dehydrateAdd_form novalidate><div class=form-group><label for=name class="control-label col-sm-4">{{\'编号\'|translate}}<span class=important-span>*</span>:</label><div class="col-sm-6 has-feedback"><input class=form-control name=name id=name type=text placeholder="{{\'请输入编号\'|translate}}" ng-model=dehydrateAdd.addData.name ng-change=dehydrateAdd.checkName() ng-pattern=/^[A-Za-z0-9]{1,2}$/ ng-maxlength=2 required><uib-alert type=danger ng-show=dehydrateAdd_form.name.$error.maxlength>{{\'编号不要超过2位\'|translate}}</uib-alert><uib-alert type=danger ng-show=dehydrateAdd.addData.name&&dehydrateAdd.nameErr>{{dehydrateAdd.nameErr}}</uib-alert></div></div><div class="form-group has-feedback"><label for=sn class="control-label col-sm-4">{{\'序列号\'|translate}}<span class=important-span>*</span>:</label><div class=col-sm-6><input class=form-control name=sn id=sn type=text placeholder="{{\'请输入序列号\'|translate}}" ng-model=dehydrateAdd.addData.sn maxlength=32 ng-change=dehydrateAdd.checkSn(dehydrateAdd.addData.sn) required><uib-alert type=danger ng-show=dehydrateAdd.addData.sn&&dehydrateAdd.snErr>{{dehydrateAdd.snErr}}</uib-alert></div></div><div class=form-group><label for=description class="control-label col-sm-4">{{\'备注\'|translate}}&nbsp;:</label><div class="col-sm-6 has-feedback"><input class=form-control name=description id=description type=text placeholder="{{\'请输入备注\'|translate}}" ng-maxlength=20 ng-model=dehydrateAdd.addData.description><uib-alert type=danger ng-show=dehydrateAdd_form.description.$error.maxlength>{{\'备注不要超过20位\'|translate}}</uib-alert></div></div><div class="form-group has-feedback"><label for=capacity class="control-label col-sm-4">{{\'容量\'|translate}}<span class=important-span>*</span>:</label><div class=col-sm-6><input class=form-control name=capacity id=capacity type=number placeholder="{{\'请输入容量\'|translate}}" ng-model=dehydrateAdd.addData.capacity ng-maxlength=3 max=999 min=1 required><uib-alert type=danger ng-show=dehydrateAdd_form.capacity.$error.maxlength>{{\'容量已超出范围\'|translate}}</uib-alert></div></div><div class="form-group has-feedback"><label for=capacity class="control-label col-sm-4">{{\'状态\'|translate}}&nbsp;:</label><div class=col-sm-3><input type=radio name=disabled ng-click=dehydrateAdd.change(1) checked>{{\'正常\'|translate}}</div><div class=col-sm-3><input type=radio name=disabled ng-click=dehydrateAdd.change()>{{\'禁用\'|translate}}</div></div></form></div></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=dehydrateAdd.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=dehydrateAdd.ok() ng-disabled=dehydrateAdd_form.$invalid||dehydrateAdd.snErr||dehydrateAdd.nameErr>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/grossing/modal/dehydrateStop.html",'<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=dehydrateStop.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title>{{dehydrateStop.modalTitle |translate}}</h4></div><div class=modal-body><div style="margin:30px 15px">{{dehydrateStop.modalDescription |translate}}</div><div class=basket style="min-height: 300px"><div class=col-md-6 ng-model=dehydrateStop.activeMachine ng-click=dehydrateStop.check(item) ng-repeat="item in dehydrateStop.dehydratorList"><div class="basket-box clearfix cursor-pointer"><div class="basket-header pull-left blue-label">{{item.name}}</div><div class="basket-content pull-left"><span ng-show=item.checked class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span><div>{{\'可用空间\'|translate}}：{{item.capacity-item.usedBlock}}</div><div>{{\'已用空间\'|translate}}：{{item.usedBlock}}</div></div></div></div></div></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=dehydrateStop.cancel()>{{\'关闭\'|translate}}</button> <button class="btn btn-warning" type=button ng-click=dehydrateStop.stop()>{{ dehydrateStop.modalTitle |translate}}</button></div></div>'),t.put("app/site/grossing/modal/dehydrateUpdate.html",'<div><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=dehydrateUpdate.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'编辑脱水机\'|translate}}</h4></div><div class="modal-body clearfix"><div class=form-container><form role=form class=form-horizontal name=dehydrateUpdate_form novalidate><div class=form-group ng-class={}><label for=name class="control-label col-sm-4">{{\'编号\'|translate}}<span class=important-span>*</span>:</label><div class="col-sm-6 has-feedback"><input class=form-control name=name id=name type=text placeholder=请输入编号 ng-model=dehydrateUpdate.item.name ng-change=dehydrateUpdate.checkName() ng-pattern=/^[A-Za-z0-9]{1,2}$/ ng-maxlength=2 required><uib-alert type=danger ng-show=dehydrateUpdate_form.name.$error.maxlength>编号不要超过2位</uib-alert><uib-alert type=danger ng-show=dehydrateUpdate.item.name&&dehydrateUpdate.nameErr>{{dehydrateUpdate.nameErr}}</uib-alert></div></div><div class="form-group has-feedback"><label for=sn class="control-label col-sm-4">序列号<span class=important-span>*</span>:</label><div class=col-sm-6><input class=form-control name=sn id=sn type=text placeholder=请输入序列号 ng-model=dehydrateUpdate.item.sn ng-maxlength=255 ng-change=dehydrateUpdate.checkSn() required><uib-alert type=danger ng-show=dehydrateUpdate_form.sn.$error.maxlength>序列号不要超过255位</uib-alert><uib-alert type=danger ng-show=dehydrateUpdate.item.sn&&dehydrateUpdate.snErr>{{dehydrateUpdate.snErr}}</uib-alert></div></div><div class=form-group><label for=description class="control-label col-sm-4">备注&nbsp;:</label><div class="col-sm-6 has-feedback"><input class=form-control name=description id=description type=text placeholder=请输入备注 ng-maxlength=20 ng-model=dehydrateUpdate.item.description><uib-alert type=danger ng-show=dehydrateUpdate_form.description.$error.maxlength>备注不要超过20位</uib-alert></div></div><div class="form-group has-feedback"><label for=capacity class="control-label col-sm-4">容量<span class=important-span>*</span>:</label><div class=col-sm-6><input class=form-control name=capacity id=capacity type=number placeholder=容量范围在1到999 ng-model=dehydrateUpdate.item.capacity ng-maxlength=3 max=999 min=1 required><uib-alert type=danger ng-show=dehydrateUpdate_form.capacity.$error.maxlength>容量已超出范围</uib-alert></div></div><div class="form-group has-feedback"><label for=capacity class="control-label col-sm-4">状态&nbsp;:</label><div class=col-sm-3><input type=radio name=disabled ng-click=dehydrateUpdate.change(1) ng-checked=!dehydrateUpdate.item.disabled>正常</div><div class=col-sm-3><input type=radio name=disabled ng-click=dehydrateUpdate.change(2) ng-checked=dehydrateUpdate.item.disabled>禁用</div></div></form></div></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=dehydrateUpdate.cancel()>取消</button> <button class="btn btn-default no-border" type=button ng-click=dehydrateUpdate.ok() ng-disabled=dehydrateUpdate_form.$invalid||dehydrateUpdate.snErr||dehydrateUpdate.nameErr>确定</button></div></div>'),t.put("app/site/grossing/modal/dehydratorBlocks.html",'<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=dehydratorBlock.cancel()><i aria-hidden=true class=icon-remove-sign></i><span class=sr-only>Close</span></button><h4 class=modal-title>{{\'包埋盒信息\'|translate}}</h4></div><div class=modal-body><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in dehydratorBlock.tableHeaders" class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name|translate}}<!--<i class="cursor-pointer glyphicon glyphicon-chevron-down arrow"--><!--ng-hide="!item.order"--><!--ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}" />--></th></tr></thead><tbody><tr ng-repeat="item in dehydratorBlock.data.data track by $index"><td ng-bind=item.pathNo></td><td ng-bind=item.subId></td><td ng-bind=item.patientName></td><td ng-bind=item.count></td><td ng-bind=item.biaoshiDesc></td><td ng-bind="dehydratorBlock.pause ? \'暂停脱水\' : item.statusDesc"></td><td ng-bind=item.instrumentName></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!dehydratorBlock.data||dehydratorBlock.data.data.length<=$index"><td ng-repeat="n in [].constructor(7) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=dehydratorBlock.data.total></span>{{\'条结果\'|translate}}</div><uib-pagination ng-if=dehydratorBlock.data class=pull-right boundary-links=true items-per-page=dehydratorBlock.filter.length max-size=10 total-items=dehydratorBlock.data.total ng-model=dehydratorBlock.filter.page ng-change=dehydratorBlock.getBlocks() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=dehydratorBlock.cancel()>{{\'关闭\'|translate}}</button><!--<button class="btn btn-primary" type="button" ng-click="dehydratorBlock.ok()">解除警报</button>--></div></div>'),t.put("app/site/grossing/modal/dehydratorErr.html",'<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=dehydratorErr.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title>{{\'报警信息\'|translate}}</h4></div><div class=modal-body><div class=title><h5>{{\'脱水机编号\'|translate}}：{{dehydratorErr.errmsg.data[0].name}}</h5><div class="search-item clearfix"><div class=name>{{\'日期范围选择\'|translate}}：</div><div class=content><div class=row><div style="padding-right: 10px" class=col-sm-5><p class=input-group><!--开始：--> <input type=text class=form-control readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup3.opened=true" uib-datepicker-popup={{format}} ng-model=dehydratorErr.receiveStartTime is-open=popup3.opened datepicker-options=dateOptions1 ng-required=true close-text=Close alt-input-formats=altInputFormats> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="popup3.opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><!--<div style="position: absolute;left: 62%;">~</div>--><div style="padding-left: 10px" class=col-sm-5><p class=input-group><!--结束：--> <input type=text class=form-control readonly clear-text=清除 close-text=确定 current-text=今天 ng-click="popup4.opened=true" uib-datepicker-popup ng-model=dehydratorErr.receiveEndTime is-open=popup4.opened datepicker-options=dateOptions2 ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="popup4.opened=true"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class=col-sm-2><button class="btn btn-default" ng-click=dehydratorErr.getErrmsg()>{{\'筛选\'|translate}}</button></div></div></div></div></div><div class=content><table class=table><thead><th width="">{{\'报警信息\'|translate}}</th><th width=130>{{\'时间\'|translate}}</th><th width=55>{{\'状态\'|translate}}</th></thead><tbody><tr ng-class="{\'error\':item.status}" ng-repeat="item in dehydratorErr.errmsg.data "><td>{{item.errMsg}}</td><td>{{item.occurTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.status?"报警":"已解除"|translate}}</td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=dehydratorErr.errmsg.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=dehydratorErr.filterData.length max-size=8 total-items=dehydratorErr.errmsg.total ng-model=dehydratorErr.filterData.page ng-change=dehydratorErr.getErrmsg() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=dehydratorErr.cancel()>{{\'关闭\'|translate}}</button> <button class="btn btn-default" type=button ng-click=dehydratorErr.ok()>{{\'解除警报\'|translate}}</button></div></div>'),t.put("app/site/grossing/modal/lostGrossingBlocks.html","<div><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=lostBlocks.cancel()><span aria-hidden=true class=\"glyphicon glyphicon-remove\"></span><span class=sr-only>Close</span></button><h4 class=modal-title>{{'缺失包埋盒信息'|translate}}</h4></div><div class=modal-body><div class=content><table class=table><thead><th>{{'病理号'|translate}}</th><th>{{'蜡块号'|translate}}</th><th>{{'状态'|translate}}</th><th>{{'取材医生'|translate}}</th><th>{{'取材时间'|translate}}</th></thead><tbody><tr ng-repeat=\"item in lostBlocks.lostBlocks \"><td>{{item.pathNo}}</td><td>{{item.blockSubId}}</td><td>{{item.statusDesc}}</td><td>{{item.lastOperator.firstName}}</td><td>{{item.lastOperateTime | date:\"yyyy-MM-dd HH:mm\"}}</td></tr></tbody></table></div></div><div class=modal-footer><button class=\"btn btn-warning\" type=button ng-click=lostBlocks.ok()>{{'确认脱水'|translate}}</button> <button class=\"btn btn-default\" type=button ng-click=lostBlocks.cancel()>{{'取消脱水'|translate}}</button></div></div>"),t.put("app/site/grossing/setting/setting.html",'<div id=gSetting><toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class={active:gSetting.activeMenu[0]} ng-click=gSetting.choseMenu(0) id=grossingSetting>{{\'脱水机设置\'|translate}}</li><!--<li ng-class="{active:gSetting.activeMenu[1]}" ng-click="gSetting.choseMenu(1)">{{\'报警设置\'|translate}}</li>--></ul></toolbar><div class="container gSetting-head" style="padding: 40px" ng-show="gSetting.showPart===0"><div class="pull-left gSetting-title">{{\'添加/编辑脱水机\'|translate}}</div><div class="pull-right gSetting-add"><input id=add class="form-control blue-label ok-color" type=button value="{{\'添加\'|translate}}" ng-click=gSetting.openAdd()></div></div><div class="container gSetting-body" ng-show="gSetting.showPart===0"><ul class="list-unstyled grossing-list"><li ng-repeat="item in gSetting.grossingList"><div class=li-number ng-class="{\'grey-label\':item.disabled,\'blue-label\':!item.disabled}">{{item.name}}</div><div class="li-text middle-box"><div class=operate-div><div class=pull-left style="margin-right: 5px" ng-click=gSetting.openUpdate(item)><!--<label tooltip-placement="top" tooltip-animation="false" uib-tooltip="该脱水机正在使用中无法编辑！" ng-show="item.inUse"></label>--> <i class="fa fa-pencil-square-o fa-2x"></i></div><div class=pull-left ng-click=gSetting.deleteGrossing(item)><!--<label tooltip-class="tooltipClass" tooltip-placement="top" tooltip-animation="false" uib-tooltip="该脱水机正在使用中无法删除!" ng-show="item.inUse"></label>--> <i class="fa fa-trash fa-2x"></i></div></div><!--<div class="middle-inner">--><p class="sn text-ellipsis" title={{item.sn}}>{{\'序列号\'|translate}}：{{item.sn}}</p><p class="sn text-ellipsis" title={{item.description}}>{{\'脱水机备注\'|translate}}：{{item.description}}</p><p>{{\'脱水机容量\'|translate}}：{{item.capacity}}</p><p>{{\'状态\'|translate}}：{{item.disabled?"不可用":"正常"|translate}}</p></div><!--</div>--></li></ul></div><div ng-show="gSetting.showPart===1" class=container>11111</div></div>'),
t.put("app/site/ihc/ihcCreate/ihcCreate.html",'<toolbar class=clearfix><!--搜索部分--><div class="search clearfix"><search-input class=pull-right style="width: 350px" model=ihcCreate.searchStr get-data=ihcCreate.search() placeholder="{{\'输入姓名/病理号查询\'|translate}}"></search-input></div></toolbar><div id=ihcCreate class="container clearfix"><div class=col-sm-8><!--筛选部分--><div class="form-inline toolbar" style="background: none;min-width:inherit"><date-seletor dateset=ihcCreate.defaultTime start-time=ihcCreate.startTime end-time=ihcCreate.endTime></date-seletor><button ng-click=ihcCreate.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button> <a class=pull-right ng-click=ihcCreate.exportExl()>{{\'导出列表\'|translate}}</a></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in ihcCreate.tableHeaders" ng-click=ihcCreate.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in ihcCreate.list track by $index" class=cursor-pointer ng-click="ihcCreate.info = item"><td ng-bind=item.number></td><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.dyeCategoryName></td><td ng-bind=item.applyUser></td><td ng-bind="item.applyTime| date : \'yyyy-MM-dd HH:mm\' "></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="ihcCreate.list.length<=$index"><td ng-repeat="n in [].constructor(6) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=ihcCreate.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=ihcCreate.filterData.length max-size=10 total-items=ihcCreate.total ng-model=ihcCreate.filterData.page ng-change=ihcCreate.getData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><div class=col-sm-4><div class=ihc-info><div class=title><h4>{{ihcCreate.info.serialNumber || "请选择"|translate }}</h4></div><div class=content><div class=sub-title>{{\'特染要求\'|translate}}</div><div class=sub-content><p ng-bind="ihcCreate.info.ihcMarkers.join(\',\')"></p></div><div class=sub-title>{{\'备注\'|translate}}</div><div class=sub-content><p ng-bind=ihcCreate.info.note></p></div><div class="text-center btn-container"><button class="btn btn-default" ng-click=ihcCreate.submit()>{{\'特染确认\'|translate}}</button></div></div></div></div></div>'),t.put("app/site/ihc/modal/ihcBlocks.html",'<div id=commonModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=commonModal.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title>我的蜡块</h4></div><div class=modal-body><!--搜索部分--><div class="form-inline clearfix"><date-seletor dateset=ihcBlocks.defaultTime change=ihcBlocks.myBlocks start-time=ihcBlocks.startTime end-time=ihcBlocks.endTime></date-seletor></div><div class=clearfix><!--<form name="dye_form">--><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=ihcBlocks.allChecked ng-click=ihcBlocks.chkAll()></th><th>病理号</th><th>蜡块号</th><th>染色类别</th><th>试剂/抗体名称</th><th>备注</th><th>申请人</th><th>联系电话</th><th>申请时间</th><th>操作</th></tr></thead><tbody><tr ng-repeat="item in ihcBlocks.BlockList track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check ng-click=ihcBlocks.check(item.check)></td><td ng-bind=item.pathologySerialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.specialDyeDesc></td><td ng-bind=item.grossingUser.firstName></td><td ng-bind=item.grossingBody></td><td ng-bind=item.grossingCount></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="ihcBlocks.BlockList.length<=$index"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table><div class=clearfix><br><div class=pull-left ng-show=ihcBlocks.dyeInfoList.length><p>共 {{ihcBlocks.dyeInfoList.length}} 项，已选 {{ihcBlocks.checkedCount}} 项</p></div><button class="pull-right btn btn-lg btn-default" ng-click=ihcBlocks.startDye()>开始染色</button></div><!--</form>--></div></div><!--modal-body--><div class=modal-footer><button class="btn btn-warning" type=button ng-click=commonModal.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=commonModal.ok()>确定</button></div></div>'),t.put("app/site/ihc/ihcSearch/ihcSearch.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class=pull-left model=ihcSearch.searchStr get-data=ihcSearch.search() placeholder=输入病理号查询></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=ihcSearch.defaultTime start-time=ihcSearch.startTime end-time=ihcSearch.endTime></date-seletor><select class="form-control input-sm" ng-model="ihcSearch.dyeCategory " ng-options="status.code as status.name for status in [{name:\'免疫组化\',code:1},{name:\'特殊染色\',code:2}]"><!--<option value="">免疫组化</option>--></select><!--<select class="form-control input-sm" ng-model="ihcSearch.filterData.status" ng-options="status.code as status.name for status in [{name:\'待包埋\',code:14},{name:\'待切片\',code:15}]">--><!--<option value="">蜡块状态</option>--><!--</select>--><select class="form-control input-sm" ng-model=ihcSearch.filterData.status ng-options="status.code as status.name for status in [{name:\'执行中\',code:4},{name:\'等待执行\',code:1},{name:\'延迟执行\',code:2}]"><option value="">执行状态</option></select><button ng-click=ihcSearch.query() class="btn btn-sm btn-info"><span class="glyphicon glyphicon-filter"></span>筛选</button><div class=pull-right><button ng-click=ihcSearch.delay() class="btn btn-sm btn-info">延迟执行</button> <button style="width: 70px" ng-click=ihcSearch.confirm() class="btn btn-sm btn-primary">执行</button></div></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input id=checkboxAll style="width: 15px" type=checkbox ng-model=ihcSearch.allChecked ng-click=ihcSearch.checkAll()></th><th ng-repeat="item in ihcSearch.tableHeaders" class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in ihcSearch.data.data track by $index"><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.check name=checkboxItem ng-click=ihcSearch.checkItem($index,item)></td><td ng-bind=item.number></td><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><!--<td ng-bind="item.blockStatus"></td>--><!--<td ng-bind="item.archiveIndex"></td>--><td ng-bind=item.updateBy.firstName></td><td ng-bind="item.updateTime| date : \'yyyy-MM-dd HH:mm\' "></td><td ng-bind=item.dyeCategoryName></td><td ng-bind=item.applyUser></td><td ng-bind="item.applyTime| date : \'yyyy-MM-dd HH:mm\'"></td><!--<td ng-bind="item.note "></td>--><!--缴费状态--><td style="width: 260px"><div title={{item.other}} style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td><td ng-bind="item.status >= 4 ? \'执行中\': item.statusName"></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="ihcSearch.data.data.length<=$index"><td ng-repeat="n in [].constructor(11) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">共<span ng-bind=ihcSearch.data.total></span>条结果</div><uib-pagination class=pull-right boundary-links=true items-per-page=ihcSearch.filterData.length max-size=10 total-items=ihcSearch.data.total ng-model=ihcSearch.filterData.page ng-change=ihcSearch.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/grossing/status/status.html",'<div id=gStatus><toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class={active:gStatus.activeMenu[0]} ng-click=gStatus.choseMenu(0) id=subRoute0>{{\'正在使用的脱水篮\'|translate}}</li><li ng-class={active:gStatus.activeMenu[1]} ng-click=gStatus.choseMenu(1) id=subRoute1>{{\'脱水机状态\'|translate}}</li></ul></toolbar><!--正在使用的脱水篮  --><div ng-show="gStatus.showPart===0" class=container><ul class="list-unstyled clearfix basket-list"><li ng-repeat="item in gStatus.usingBasketList"><div class="li-number yellow-label">{{item.basketNumber}}</div><div class="li-text middle-box"><div class=middle-inner><p>{{\'包埋盒数\'|translate}}：{{item.blockCount}}</p><p>{{\'取材记录员\'|translate}}：{{item.recorder}}</p></div></div></li></ul></div><!--脱水机状态--><div ng-show="gStatus.showPart===1" class=container><ul class="list-unstyled clearfix basket-list"><li ng-repeat="item in gStatus.dehydratorList"><div class=li-number ng-class="{\'red-label\':item.status&&!item.disabled,\'blue-label\':!item.status&&!item.disabled,\'grey-label\':item.disabled}">{{item.name}}</div><div class="li-text middle-box clearfix"><div class="left-inner col-xs-6"><p class=title>{{\'状态\'|translate}}：{{item.status | dehydratorStatus:item.disabled}}</p><a href ng-click=gStatus.showError(item.instrumentId,item.disabled)>{{\'查看报警信息\'|translate}}</a></div><p class=title>{{\'包埋盒数\'|translate}}:{{item.usedBlock}}</p><a href ng-click=gStatus.showBlocks(item)>{{\'查看包埋盒信息\'|translate}}</a><!--<p ng-show="item.errMsg">报警信息：{{item.errMsg}}  {{item.latestErrTime | date:"yyyy-MM-dd HH:mm"}}</p>--></div><!--<div class="middle-inner">--><!--<p>状态：{{item.status | dehydratorStatus:item.disabled}}  包埋盒数：{{item.usedBlock}}</p>--><!--<p ng-show="item.errMsg">报警信息：{{item.errMsg}}  {{item.latestErrTime | date:"yyyy-MM-dd HH:mm"}}</p>--><!--</div>--><!--</div>--></li></ul></div></div>'),t.put("app/site/ihc/print/ihcPrint.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class=pull-left model=ihcPrint.searchStr get-data=ihcPrint.search() placeholder=输入病理号查询></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=ihcPrint.defaultTime start-time=ihcPrint.startTime end-time=ihcPrint.endTime></date-seletor><select class="form-control input-sm" ng-model="ihcPrint.dyeCategory " ng-options="status.code as status.name for status in [{name:\'免疫组化\',code:1},{name:\'特殊染色\',code:2}]"></select><!--<select class="form-control input-sm" ng-model="ihcPrint.filterData.status" ng-options="status.code as status.name for status in [{name:\'待包埋\',code:14},{name:\'待切片\',code:15}]">--><!--<option value="">蜡块状态</option>--><!--</select>--><select class="form-control input-sm" ng-model=ihcPrint.filterData.count ng-options="status.code as status.name for status in [{name:\'0\',code:0},{name:\'大于0\',code:1}]"><option value="">打印次数</option></select><button ng-click=ihcPrint.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>筛选</button><div class=pull-right><button style="width: 70px" ng-click=ihcPrint.print() class="btn btn-sm btn-primary">打印玻片</button></div></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th style="width: 40px"><input id=checkboxAll style="width: 15px" type=checkbox ng-model=ihcPrint.allChecked ng-click=ihcPrint.checkAll()></th><th ng-repeat="item in ihcPrint.tableHeaders" class="{{item.class}} cursor-pointer" ng-style=item.style>{{::item.name}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in ihcPrint.data.data track by $index"><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.check name=checkboxItem ng-click=ihcPrint.checkItem($index,item)></td><td ng-bind=item.number></td><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.specialDyeDesc></td><td ng-bind=item.marker></td><td ng-bind=item.applyDoctor></td><!--<td ng-bind="item.updateTime| date : \'yyyy-MM-dd HH:mm\' "></td>--><td style=max-width:200px title={{item.note}} ng-bind="item.note "></td><td ng-bind=item.count></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="ihcPrint.data.data.length<=$index"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">共<span ng-bind=ihcPrint.data.total></span>条结果</div><uib-pagination class=pull-right boundary-links=true items-per-page=ihcPrint.filterData.length max-size=10 total-items=ihcPrint.data.total ng-model=ihcPrint.filterData.page ng-change=ihcPrint.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/reagent/modal/adjust.html","<div id=adjust><div class=\"modal-header blue-label\"><button type=button class=close data-dismiss=modal ng-click=adjust.cancel()><span aria-hidden=true class=\"glyphicon glyphicon-remove\"></span> <span class=sr-only>Close</span></button><h4 class=\"modal-title ok-color\">{{'库存调整'|translate}}</h4></div><div class=\"modal-body clearfix\"><div class=col-lg-12><div class=col-lg-4>{{'名称'|translate}}:{{adjust.data.reagentName}}</div><div class=col-lg-4>{{'生产批号'|translate}}:{{adjust.data.batchNumber}}</div><div class=col-lg-4>{{'订单号'|translate}}:{{adjust.data.orderNumber}}</div></div><div class=col-lg-12><div class=col-lg-4>{{'库存余量'|translate}}:{{adjust.data.totalCapacity-adjust.data.usedCapacity}}{{adjust.data.category==1?ml:''}}</div><div class=col-lg-8>{{'调整量'|translate}}: <input type=text ng-model=adjust.adjust>{{adjust.data.category==1?ml:''}}</div><div class=col-lg-3></div></div><div class=col-lg-12 style=margin-left:14px>备注：</div><div class=col-lg-12 style=margin-left:14px><textarea name=\"\" cols=75 rows=10 ng-model=adjust.note></textarea></div></div><div class=modal-footer><button class=\"btn btn-warning no-border\" type=button ng-click=adjust.cancel()>{{'取消'|translate}}</button> <button class=\"btn btn-default no-border\" type=button ng-click=adjust.ok()>{{'确定'|translate}}</button></div></div>"),t.put("app/site/reagent/modal/amendReagent.html",'<div id=amend><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=amend.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'编辑试剂信息\'|translate}}</h4></div><div class="modal-body clearfix"><div class=content><form id=borrow-archive-form class="form-inline text-center reagentType" novalidate name=reagent_amend><div class=form-group><label>{{"试剂类型"|translate}}：</label><select class="form-control input-sm" ng-model=amend.reagent.type ng-options="item.code as item.name for item in amend.type"><option value="">{{\'常规试剂\'|translate}}</option></select></div><div class=form-group ng-class="{\'has-success\':nameOk = reagent_amend.name.$dirty && reagent_amend.name.$valid && amend.checkButton,\n                \'has-error\':nameErr = reagent_amend.name.$dirty  && !amend.checkButton && reagent_amend.name.$valid}" style="position: relative"><label>{{"试剂名称"|translate}} <span class=required>*</span>：</label><input type=text ng-model=amend.reagent.name name=name class="form-control input-sm" required maxlength=30> <span ng-show="nameOk && amend.checkButton" class="glyphicon glyphicon-ok form-control-feedback"></span></div><div class=form-group><label>{{"克隆号"|translate}}：</label><input type=text ng-model=amend.reagent.cloneNumber class="form-control input-sm" maxlength=30></div><div class=form-group><label>{{"预处理"|translate}}：</label><select class="form-control input-sm" ng-model=amend.reagent.preProcess ng-options="item.code as item.name for item in amend.preProcess"><option value="">{{\'无需修复\'|translate}}</option></select></div><div class=form-group><label>{{"阳性部位"|translate}}：</label><input type=text ng-model=amend.reagent.positivePosition class="form-control input-sm" maxlength=50></div><div class=form-group><label>{{"鉴别诊断"|translate}}：</label><textarea name="" cols=30 rows=5 class="form-control input-sm" ng-model=amend.reagent.diagnose maxlength=1024></textarea></div></form></div></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=amend.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=amend.ok() ng-disabled=!amend.checkButton>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/reagent/modal/consume.html",'<div id=consume><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=consume.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'信息修改\'|translate}}</h4></div><div class="modal-body clearfix"><form class="form-horizontal row clearfix" name=consume_form role=consume_form><fieldset style="margin-bottom: 50px"><div class=col-sm-4><h4>{{\'基本信息\'|translate}}</h4><!--名称--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'耗材名称\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=name id=name required ng-model=consume.data.reagentName readonly onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--类别--><div class="form-group has-feedback"><label for=category class="col-sm-4 control-label">{{\'耗材类别\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><select class=form-control name=category id=category required ng-model=consume.data.reagentType ng-disabled=true ng-options="item.code as item.name for item in consume.categoryList">></select></div></div><!--数量--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'数量\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4 style=padding-left:0><input type=text class=form-control name=specification ng-model=consume.data.count onkeydown="if(event.keyCode==32) return false" maxlength=20></div><div class=col-sm-5><select class=form-control name=category required ng-model=consume.data.countUnit ng-options="item.code as item.name for item in consume.countType"></select></div></div><!--规格--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'规格\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4 style=padding-left:0><input type=text class=form-control name=specification id=specification ng-model=consume.data.specification style=padding-right:0 onkeydown="if(event.keyCode==32) return false" required maxlength=20></div><label class="col-sm-2 control-label" style=padding-left:0>/盒</label></div></div><div class=col-sm-4><h4>{{\'厂商信息\'|translate}}</h4><!--订单号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'订单号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=orderNumber id=orderNumber ng-model=consume.data.orderNumber required onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--产品编号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'产品编号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=productNumber id=productNumber ng-model=consume.data.productNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--制造商--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'制造商\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=manufacturer id=manufacturer ng-model=consume.data.manufacturer onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--货号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'货号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=articleNumber id=articleNumber ng-model=consume.data.articleNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产批号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'生产批号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=batchNumber id=batchNumber required ng-model=consume.data.batchNumber onkeydown="if(event.keyCode==32) return false" maxlength=30></div></div><!--生产日期--><div class="form-group has-feedback"><label for=productionDate class="col-sm-4 control-label">{{\'生产日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="productionDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=productionDate class=form-control id=productionDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions1 ng-click="productionDate=!productionDate" ng-model=consume.data.produceTime is-open=productionDate> <span class=form-control-feedback ng-click="productionDate=!productionDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--失效日期--><div class="form-group has-feedback"><label for=expiryDate class="col-sm-4 control-label">{{\'失效日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="openExpiryDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=expiryDate class=form-control id=expiryDate uib-datepicker-popup ng-click="openExpiryDate=!openExpiryDate" datepicker-options=dateOptions2 ng-model=consume.data.expiryTime is-open=openExpiryDate> <span class=form-control-feedback ng-click="openExpiryDate=!openExpiryDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--产商电话--><div class="form-group has-feedback" ng-class="{\'has-success\':preparationPhoneOk = consume_form.preparationPhone.$dirty && consume_form.preparationPhone.$valid&&consume.data.manufacturerPhone!==\'\',\n                \'has-error\':preparationPhoneErr = consume_form.preparationPhone.$dirty && consume_form.preparationPhone.$invalid}"><label for=preparationPhone class=col-sm-4>{{\'厂商电话\'|translate}}：</label><div class=col-sm-8><input type=tel class=form-control id=preparationPhone name=preparationPhone maxlength=20 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ng-model=consume.data.manufacturerPhone> <span ng-show=preparationPhoneOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div></div></fieldset></form></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=consume.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=consume.ok() ng-disabled=consume_form.$invalid||!consume.data.produceTime||!consume.data.expiryTime>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/reagent/modal/editHistory.html",'<div id=edit><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=edit.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'信息修改\'|translate}}</h4></div><div class="modal-body clearfix"><form class="form-horizontal row clearfix" name=edit_form role=edit_form><fieldset style="margin-bottom: 50px"><div class=col-sm-4><h4>{{\'基本信息\'|translate}}</h4><!--名称--><div class="form-group has-feedback"><label class=col-sm-4>{{\'试剂名称\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=name id=name ng-model=edit.data.reagentName readonly onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--类别--><div class="form-group has-feedback"><label for=category class="col-sm-4 control-label">{{\'试剂类别\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=category ng-model="edit.basic.typeDesc " readonly></div></div><!--克隆号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'克隆号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=edit.basic.cloneNumber readonly></div></div><!--预处理--><div class="form-group has-feedback"><label for=category class="col-sm-4 control-label">{{\'预处理\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=preProcess ng-model=edit.basic.preProcessDesc readonly></div></div><!--阳性部位--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'阳性部位\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=edit.basic.positivePosition readonly></div></div><!--鉴别诊断--><div class="form-group has-feedback"><label for=name class=col-sm-12>{{\'鉴别诊断\'|translate}}：</label><div class=col-sm-12><textarea name="" class=form-control ng-model=edit.basic.diagnose cols=10 rows=6 readonly></textarea></div></div><!--规格--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'规格\'|translate}}<span class=required>*</span>：</label><div class=col-sm-3 style=padding-right:5px><input type=text class=form-control name=specification id=specification ng-model=edit.data.specification style=padding-right:0 onkeydown="if(event.keyCode==32) return false" required maxlength=20></div><div class="col-sm-1 control-label" style="padding-left: 0">ml</div><div class=col-sm-5><select class=form-control name=category ng-model=edit.data.liquidType style="padding-left: 0;padding-right:0" ng-options="item.code as item.name for item in edit.liquidType">><option value="">{{\'工作液\'|translate}}</option></select></div></div><!--稀释比例--><div ng-show="edit.data.liquidType==2" class="form-group has-feedback dilutionRate"><label for=name class="col-sm-3 control-label">{{\'稀释比例\'|translate}}：</label><div class=col-sm-1><input type=text class=form-control ng-model=edit.data.dilutionRateFront onkeydown="if(event.keyCode==32) return false" maxlength=5></div><label for=name class="col-sm-1 control-label">:</label><div class=col-sm-1><input type=text class=form-control ng-model=edit.data.dilutionRateRear onkeydown="if(event.keyCode==32) return false" maxlength=5></div><label class="col-sm-2 control-label" for=name>{{\'工作液\'|translate}}:</label><div class=col-sm-2><input class=form-control type=text ng-model=edit.data.realCapacity onkeydown="if(event.keyCode==32) return false" maxlength=5></div><div class="col-sm-1 control-label">ml</div></div><!--数量--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'数量\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4><input type=text class=form-control name=specification ng-model=edit.data.count required maxlength=20></div><div class=col-sm-5><select class=form-control name=category ng-model=edit.data.countUnit ng-options="item.code as item.name for item in edit.countType"><option value="">{{\'瓶\'|translate}}</option></select></div></div></div><div class=col-sm-4><h4>{{\'厂商信息\'|translate}}</h4><!--订单号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'订单号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=orderNumber id=orderNumber required ng-model=edit.data.orderNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--产品编号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'产品编号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=edit.data.productNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--制造商--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'制造商\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=manufacturer id=manufacturer ng-model=edit.data.manufacturer onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--货号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'货号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=articleNumber id=articleNumber ng-model=edit.data.articleNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产批号--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'生产批号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=batchNumber id=batchNumber required ng-model=edit.data.batchNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产日期--><div class="form-group has-feedback"><label for=productionDate class="col-sm-4 control-label">{{\'生产日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="productionDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=productionDate class=form-control id=productionDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions1 ng-click="productionDate=!productionDate" required ng-model=edit.data.produceTime readonly style=background:none is-open=productionDate> <span class=form-control-feedback ng-click="productionDate=!productionDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--失效日期--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'失效日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="openExpiryDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=expiryDate class=form-control id=expiryDate uib-datepicker-popup datepicker-options=dateOptions2 ng-click="openExpiryDate=!openExpiryDate" required ng-model=edit.data.expiryTime readonly style=background:none is-open=openExpiryDate> <span class=form-control-feedback ng-click="openExpiryDate=!openExpiryDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--产商电话--><div class="form-group has-feedback" ng-class="{\'has-success\':preparationPhoneOk = edit_form.preparationPhone.$dirty && edit_form.preparationPhone.$valid&&edit.data.manufacturerPhone!==\'\',\n                \'has-error\':preparationPhoneErr = edit_form.preparationPhone.$dirty && edit_form.preparationPhone.$invalid}"><label for=preparationPhone class=col-sm-4>{{\'厂商电话\'|translate}}：</label><div class=col-sm-8><input type=tel class=form-control id=preparationPhone name=preparationPhone maxlength=20 ng-model=edit.data.manufacturerPhone ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ > <span ng-show="preparationPhoneOk&&edit.data.manufacturerPhone!==\'\'" class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--说明书--><div class="form-group has-feedback"><label for=name class="col-sm-4 control-label">{{\'说明书\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=spec id=spec ng-model=edit.data.spec onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div></div><div class=col-sm-4><h4>{{\'其他信息\'|translate}}</h4><!--接收状态--><div class="form-group has-feedback"><label for=category class="col-sm-4 control-label">{{\'接收状态\'|translate}}：</label><div class=col-sm-8><select class=form-control name=status id=status ng-model=edit.data.receiveStatus ng-options="item.code as item.name for item in edit.statusList">></select></div></div><!--制备人--><div class="form-group has-feedback"><label for=preparation class="col-sm-4 control-label">{{\'制备人\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=preparation id=preparation ng-model=edit.data.preparation onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=preparationOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--制备日期--><div class="form-group has-feedback"><label for=preparationDate class="col-sm-4 control-label">{{\'制备日期\'|translate}}：</label><div class=col-sm-8 ng-init="preparationDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=preparationDate class=form-control id=preparationDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions3 ng-click="preparationDate=!preparationDate" readonly ng-model=edit.data.preparationTime style=background:none is-open=preparationDate> <span class=form-control-feedback ng-click="preparationDate=!preparationDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--预实验人--><div class="form-group has-feedback"><label for=preparation class="col-sm-4 control-label">{{\'预实验人\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=preparation ng-model=edit.data.preExperiment onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--实验日期--><div class="form-group has-feedback"><label for=experimentDate class="col-sm-4 control-label">{{\'实验日期\'|translate}}：</label><div class=col-sm-8 ng-init="experimentDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=experimentDate class=form-control id=experimentDate uib-datepicker-popup datepicker-options=dateOptions4 ng-click="experimentDate=!experimentDate" readonly style=background:none ng-model=edit.data.preExperimentTime is-open=experimentDate> <span class=form-control-feedback ng-click="experimentDate=!experimentDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--预实验结果记录--><div class="form-group has-feedback"><label for=name class=col-sm-12>{{\'预实验结果记录\'|translate}}：</label><div class=col-sm-12><textarea name="" class=form-control cols=6 rows=6 ng-model=edit.data.preExperimentResult></textarea></div></div></div></fieldset></form></div><div class=modal-footer><button class="btn btn-warning no-border" type=button ng-click=edit.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default no-border" type=button ng-click=edit.ok() ng-disabled="edit_form.orderNumber.$invalid||edit_form.batchNumber.$invalid||\n            edit_form.specification.$invalid||!edit.data.produceTime||edit_form.count.$invalid||!edit.data.expiryTime">{{\'确定\'|translate}}</button></div></div>'),
t.put("app/site/reagent/modal/view.html",'<div id=view><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=view.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'使用记录\'|translate}}</h4></div><div class="modal-body clearfix" style=min-height:300px><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th ng-repeat="item in view.tableHeaders" class="cursor-pointer text-center">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in  view.list track by $index"><ng-form name=inner_form><td>{{item.updateOperator}}</td><td>{{item.updateTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.dosage}}</td><td>{{item.note}}</td></ng-form></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!view.list||view.list.length<=$index"><td ng-repeat="n in [].constructor(4) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=view.total||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=view.filter.length total-items=view.total ng-model=view.filter.page ng-change=view.getData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/reagent/type/reagentType.html",'<div id=reagent><toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right search-input-lg" model=reagent.filterStr get-data=reagent.getReagentInfo() clear=true placeholder="{{\'输入试剂名称查询\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><div class=col-lg-4><div class=title><h4 class=ng-binding>{{"新增试剂"|translate}}</h4></div><div class=content><form id=borrow-archive-form class="form-inline text-center reagentType" name=reagent_form novalidate><div class=form-group><label>{{"试剂类型"|translate}}：</label><select class="form-control input-sm" ng-model=reagent.addReagent.type ng-options="item.code as item.name for item in reagent.type"><option value="">{{\'常规试剂\'|translate}}</option></select></div><div class=form-group ng-class="{\'has-success\':nameOk = reagent_form.name.$dirty && reagent_form.name.$valid && reagent.checkButton,\n                \'has-error\':nameErr = reagent_form.name.$dirty  && !reagent.checkButton && reagent_form.name.$valid}" style="position: relative"><label>{{"试剂名称"|translate}} <span class=required>*</span>：</label><input type=text ng-model=reagent.addReagent.name name=name class="form-control input-sm" maxlength=30 required> <span ng-show="nameOk && reagent.checkButton" class="glyphicon glyphicon-ok form-control-feedback"></span></div><div class=form-group><label>{{"克隆号"|translate}}：</label><input type=text ng-model=reagent.addReagent.cloneNumber class="form-control input-sm" maxlength=30></div><div class=form-group><label>{{"预处理"|translate}}：</label><select class="form-control input-sm" ng-model=reagent.addReagent.preProcess ng-options="item.code as item.name for item in reagent.preProcess"><option value="">{{\'无需修复\'|translate}}</option></select></div><div class=form-group><label>{{"阳性部位"|translate}}：</label><input type=text ng-model=reagent.addReagent.positivePosition class="form-control input-sm" maxlength=50></div><div class=form-group><label>{{"鉴别诊断"|translate}}：</label><textarea name="" cols=30 rows=5 class="form-control input-sm" ng-model=reagent.addReagent.diagnose maxlength=1024></textarea></div><div class=text-center><button class="btn btn-primary" ng-click=reagent.add() ng-disabled="reagent_form.$invalid || !reagent.checkButton">{{"添加"|translate}}</button></div></form></div></div><div class=col-lg-8 style=margin-top:10px><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th ng-repeat="item in reagent.reagentTitle">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in reagent.list track by $index"><td>{{item.typeDesc}}</td><td>{{item.name}}</td><td>{{item.cloneNumber}}</td><td>{{item.preProcessDesc}}</td><td>{{item.positivePosition}}</td><td class=long-note title={{item.diagnose}}>{{item.diagnose}}</td><td ng-click=reagent.amend(item)><a href="">{{\'编辑\'|translate}}</a></td></tr><tr ng-repeat="n in [].constructor(15) track by $index" ng-show="reagent.list.length<=$index||reagent.list==null"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class="pull-left reagentPage">共{{reagent.totalItems}}条结果</div><uib-pagination class="pull-right reagentPage" boundary-links=true items-per-page=reagent.filter.length max-size=10 total-items=reagent.totalItems ng-model=reagent.filter.page ng-change=reagent.getReagentList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/reagent/store/index.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:reagent.activeMenu===1}" ng-click=reagent.choseMenu(1)>{{\'试剂入库\'|translate}}</li><li ng-class="{active:reagent.activeMenu===2}" ng-click=reagent.choseMenu(2)>{{\'耗材入库\'|translate}}</li></ul></toolbar><div id=reagent><div class=container ng-if="reagent.activeMenu===1" ng-include="\'app/site/reagent/store/storeCreate.html\'"></div><div class=container ng-if="reagent.activeMenu===2" ng-include="\'app/site/reagent/store/storeConsumables.html\'"></div></div>'),t.put("app/site/reagent/store/storeConsumables.html",'<div ng-controller="reagentStoreConsumablesController as reagent" id=storeConsumables><div class=container><form class="form-horizontal row clearfix" name=reagent_form role=reagent_form><fieldset style="margin-bottom: 50px"><div class=col-sm-4><h4>{{\'基本信息\'|translate}}</h4><!--名称--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'耗材名称\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=name id=name required ng-model=reagent.basic.name ng-blur=reagent.getReagentName() onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=nameOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--类别--><div class="form-group has-feedback"><label for=category class="col-sm-3 control-label">{{\'耗材类别\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><select class=form-control name=category id=category required ng-model=reagent.basic.type ng-disabled=reagent.nameCheck ng-options="item.code as item.name for item in reagent.categoryList">></select></div></div><!--数量--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'数量\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4 style=padding-left:0><input type=text class=form-control name=specification ng-model=reagent.data.count onkeydown="if(event.keyCode==32) return false" required maxlength=20></div><div class=col-sm-4><select class=form-control name=category ng-model=reagent.data.countType ng-options="item.code as item.name for item in reagent.countType"><option value="">{{\'盒\'|translate}}</option></select></div></div><!--规格--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'规格\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4 style=padding-left:0><input type=text class=form-control name=specification id=specification ng-model=reagent.data.specification style=padding-right:0 required onkeydown="if(event.keyCode==32) return false" maxlength=20></div><label class="col-sm-2 control-label" style=padding-left:0>/盒</label></div></div><div class=col-sm-4><h4>{{\'厂商信息\'|translate}}</h4><!--订单号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'订单号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=orderNumber id=orderNumber ng-model=reagent.data.orderNumber required onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=orderNumberOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--产品编号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'产品编号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=serialNumber id=serialNumber ng-model=reagent.data.productNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--制造商--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'制造商\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=manufacturer id=manufacturer ng-model=reagent.data.manufacturer onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--货号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'货号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=articleNumber id=articleNumber ng-model=reagent.data.articleNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产批号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'生产批号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=batchNumber id=batchNumber required ng-model=reagent.data.batchNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产日期--><div class="form-group has-feedback"><label for=productionDate class="col-sm-3 control-label">{{\'生产日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="productionDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=productionDate class=form-control id=productionDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions1 ng-click="productionDate=!productionDate" style=background:none ng-model=reagent.data.produceTime readonly required is-open=productionDate> <span class=form-control-feedback ng-click="productionDate=!productionDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--失效日期--><div class="form-group has-feedback"><label for=expiryDate class="col-sm-3 control-label">{{\'失效日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="openExpiryDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=expiryDate class=form-control id=expiryDate uib-datepicker-popup datepicker-options=dateOptions2 ng-click="openExpiryDate=!openExpiryDate" style=background:none ng-model=reagent.data.expiryTime readonly required is-open=openExpiryDate> <span class=form-control-feedback ng-click="openExpiryDate=!openExpiryDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--产商电话--><div class="form-group has-feedback" ng-class="{\'has-success\':preparationPhoneOk = reagent_form.manufacturerPhone.$dirty && reagent_form.manufacturerPhone.$valid&&reagent.data.manufacturerPhone!==\'\',\n                \'has-error\':preparationPhoneErr = reagent_form.manufacturerPhone.$dirty && reagent_form.manufacturerPhone.$invalid}"><label for=manufacturerPhone class="col-sm-3 control-label">{{\'厂商电话\'|translate}}：</label><div class=col-sm-8><input type=tel class=form-control id=manufacturerPhone name=manufacturerPhone maxlength=20 ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ng-model=reagent.data.manufacturerPhone> <span ng-show=preparationPhoneOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div></div></fieldset></form><div class=modal-footer><button class="btn btn-primary pull-left" ng-click=reagent.clear();>{{\'清空\'|translate}}</button> <button class="btn btn-default pull-left" ng-click=reagent.submit() ng-disabled=reagent_form.$invalid>{{\'保存\'|translate}}</button></div></div></div>'),t.put("app/site/reagent/store/storeCreate.html",'<div ng-controller="reagentStoreCreateController as reagent" id=storeCreate><div class=container><form class="form-horizontal row clearfix" name=reagent_form role=reagent_form><fieldset style="margin-bottom: 50px"><div class=col-sm-4><h4>{{\'基本信息\'|translate}}</h4><!--名称--><div class="form-group has-feedback" ng-class="{\'has-success\':nameOk = reagent_form.name.$dirty && reagent_form.name.$valid && reagent.nameCheck,\n                \'has-error\':nameErr = reagent_form.name.$dirty && reagent_form.name.$invalid}"><label class=col-sm-3>{{\'试剂名称\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=name id=name required ng-model=reagent.basic.name ng-blur=reagent.getReagentBasic() onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=nameOk&&reagent.nameCheck class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--类别--><div class="form-group has-feedback"><label for=category class="col-sm-3 control-label">{{\'试剂类别\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=category required ng-model="reagent.basic.typeDesc " readonly></div></div><!--克隆号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'克隆号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=reagent.basic.cloneNumber readonly></div></div><!--预处理--><div class="form-group has-feedback"><label for=category class="col-sm-3 control-label">{{\'预处理\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=preProcess ng-model=reagent.basic.preProcessDesc readonly></div></div><!--阳性部位--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'阳性部位\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=reagent.basic.positivePosition readonly></div></div><!--鉴别诊断--><div class="form-group has-feedback"><label for=name class=col-sm-12>{{\'鉴别诊断\'|translate}}：</label><div class=col-sm-12><textarea name="" class=form-control ng-model=reagent.basic.diagnose cols=10 rows=6 readonly></textarea></div></div><!--规格--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'规格\'|translate}}<span class=required>*</span>：</label><div class=col-sm-3 style=padding-right:5px><input type=text class=form-control name=specification id=specification ng-model=reagent.data.specification style=padding-right:0 required onkeydown="if(event.keyCode==32) return false" maxlength=20></div><div class="col-sm-1 control-label" style="padding-left: 0">ml</div><div class=col-sm-5><select class=form-control name=category ng-model=reagent.data.type ng-options="item.code as item.name for item in reagent.liquidType">><option value="">{{\'工作液\'|translate}}</option></select></div></div><!--稀释比例--><div ng-if="reagent.data.type==2" class="form-group has-feedback dilutionRate"><label for=name class="col-sm-3 control-label">{{\'稀释比例\'|translate}}<span class=required>*</span>：</label><div class=col-sm-1><input type=text class=form-control ng-model=reagent.data.dilutionRateFront required onkeydown="if(event.keyCode==32) return false" maxlength=5></div><label for=name class="col-sm-1 control-label">:</label><div class=col-sm-1><input type=text class=form-control ng-model=reagent.data.dilutionRateRear required onkeydown="if(event.keyCode==32) return false" maxlength=5></div><label class="col-sm-2 control-label" for=name>{{\'工作液\'|translate}}<span class=required>*</span>：</label><div class=col-sm-2><input class=form-control type=text ng-model=reagent.data.realCapacity onkeydown="if(event.keyCode==32) return false" readonly maxlength=5></div><div class="col-sm-1 control-label">ml</div></div><!--数量--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'数量\'|translate}}<span class=required>*</span>：</label><div class=col-sm-4><input type=text class=form-control name=specification ng-model=reagent.data.count required onkeydown="if(event.keyCode==32) return false" maxlength=20></div><div class=col-sm-5><select class=form-control name=category required ng-model=reagent.data.countUnit ng-options="item.code as item.name for item in reagent.countType"><option value="">{{\'瓶\'|translate}}</option></select></div></div></div><div class=col-sm-4><h4>{{\'厂商信息\'|translate}}</h4><!--订单号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'订单号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=orderNumber id=orderNumber required ng-model=reagent.data.orderNumber onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=orderNumberOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--产品编号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'产品编号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control ng-model=reagent.data.productNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--制造商--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'制造商\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=manufacturer id=manufacturer ng-model=reagent.data.manufacturer onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--货号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'货号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=articleNumber id=articleNumber ng-model=reagent.data.articleNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产批号--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'生产批号\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=batchNumber id=batchNumber required ng-model=reagent.data.batchNumber onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--生产日期--><div class="form-group has-feedback"><label for=productionDate class="col-sm-3 control-label">{{\'生产日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="productionDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=productionDate class=form-control id=productionDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions1 ng-click="productionDate=!productionDate" required readonly style=background:none ng-model=reagent.data.produceTime is-open=productionDate> <span class=form-control-feedback ng-click="productionDate=!productionDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--失效日期--><div class="form-group has-feedback"><label for=expiryDate class="col-sm-3 control-label">{{\'失效日期\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8 ng-init="openExpiryDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=expiryDate class=form-control id=expiryDate uib-datepicker-popup datepicker-options=dateOptions2 ng-click="openExpiryDate=!openExpiryDate" required readonly ng-model=reagent.data.expiryTime style=background:none is-open=openExpiryDate> <span class=form-control-feedback ng-click="openExpiryDate=!openExpiryDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--产商电话--><div class="form-group has-feedback" ng-class="{\'has-success\':preparationPhoneOk = reagent_form.preparationPhone.$dirty && reagent_form.preparationPhone.$valid&&reagent.data.manufacturerPhone!==\'\',\n                \'has-error\':preparationPhoneErr = reagent_form.preparationPhone.$dirty && reagent_form.preparationPhone.$invalid}"><label for=preparationPhone class=col-sm-3>{{\'厂商电话\'|translate}}：</label><div class=col-sm-8><input type=tel class=form-control id=preparationPhone name=preparationPhone maxlength=20 ng-model=reagent.data.manufacturerPhone ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ > <span ng-show="preparationPhoneOk&&reagent.data.manufacturerPhone!==\'\'" class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--说明书--><!--<div  class="form-group has-feedback">--><!--<label for="name" class="col-sm-3 control-label">{{\'说明书\'|translate}}：</label>--><!--<div class="col-sm-5" style="padding-left:0">--><!--<input class="form-control" type="text"  name="spec" id="spec"--><!--ng-model="reagent.data.spec"--><!--onkeydown="if(event.keyCode==32) return false"--><!--maxlength="20"--><!--&gt;--><!--</div>--><!--<div class="btn btn-success fileInput-button" style="background:none;border-color:#EEEEEE;">--><!--<input type="file" name="" id=""  ng-model="reagent.data.spec">--><!--<span style="color:#000000">上传</span>--><!--</div>--><!--</div>--><div class="form-group has-feedback"><label for=name class="col-sm-3 control-label">{{\'说明书\'|translate}}：</label><div class=col-sm-8><input class=form-control type=text name=spec id=spec ng-model=reagent.data.spec onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div></div><div class=col-sm-4><h4>{{\'其他信息\'|translate}}</h4><!--接收状态--><div class="form-group has-feedback"><label for=category class="col-sm-3 control-label">{{\'接收状态\'|translate}}：</label><div class=col-sm-8><select class=form-control name=status id=status ng-model=reagent.data.receiveStatus ng-options="item.code as item.name for item in reagent.statusList">></select></div></div><!--制备人--><div class="form-group has-feedback"><label for=preparation class="col-sm-3 control-label">{{\'制备人\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=preparation id=preparation ng-model=reagent.data.preparation onkeydown="if(event.keyCode==32) return false" maxlength=20> <span ng-show=preparationOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--制备日期--><div class="form-group has-feedback"><label for=preparationDate class="col-sm-3 control-label">{{\'制备日期\'|translate}}：</label><div class=col-sm-8 ng-init="preparationDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=preparationDate class=form-control id=preparationDate uib-datepicker-popup min=minStartDate max=maxStartDate datepicker-options=dateOptions3 ng-click="preparationDate=!preparationDate" readonly ng-model=reagent.data.preparationTime style=background:none is-open=preparationDate> <span class=form-control-feedback ng-click="preparationDate=!preparationDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--预实验人--><div class="form-group has-feedback"><label for=preparation class="col-sm-3 control-label">{{\'预实验人\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control name=preparation ng-model=reagent.data.preExperiment onkeydown="if(event.keyCode==32) return false" maxlength=20></div></div><!--实验日期--><div class="form-group has-feedback"><label for=experimentDate class="col-sm-3 control-label">{{\'实验日期\'|translate}}：</label><div class=col-sm-8 ng-init="experimentDate = false"><input type=text clear-text=清除 close-text=确定 current-text=今天 name=experimentDate class=form-control id=experimentDate uib-datepicker-popup datepicker-options=dateOptions4 ng-click="experimentDate=!experimentDate" ng-model=reagent.data.preExperimentTime readonly style=background:none is-open=experimentDate> <span class=form-control-feedback ng-click="experimentDate=!experimentDate"><i class="glyphicon glyphicon-calendar"></i></span></div></div><!--预实验结果记录--><div class="form-group has-feedback"><label for=name class=col-sm-12>{{\'预实验结果记录\'|translate}}：</label><div class=col-sm-12><textarea name="" class=form-control cols=6 rows=6 ng-model=reagent.data.preExperimentResult></textarea></div></div></div></fieldset></form><div class=modal-footer><button class="btn btn-primary pull-left" ng-click=reagent.clear();>{{\'清空\'|translate}}</button> <button class="btn btn-default pull-left" ng-click=reagent.submit() ng-disabled=reagent_form.$invalid>{{\'保存\'|translate}}</button></div></div></div>'),t.put("app/site/reagent/state/createHistory.html",'<div ng-controller="ReagentStateHistoryController as reagent"><div class="container distributed-div"><div class="form-inline toolbar" style="background: none;padding-top: 10px"><year-selector year=reagent.filter.year></year-selector><select class="form-control input-sm" ng-model=reagent.filter.type ng-options="item.code as item.name for item in reagent.typeList"><option value="">{{\'类别\'|translate}}</option></select><select class="form-control input-sm" ng-model=reagent.filter.status ng-options="status.code as status.name for status in reagent.statusList"><option value="">{{\'状态\'|translate}}</option></select><button ng-click=reagent.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button><search-input class=pull-right style="width: 300px" model=reagent.searchStr get-data=reagent.search() placeholder="{{\'输入名称查询\'|translate}}"></search-input></div><div><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th ng-repeat="item in reagent.tableHeaders" ng-click=reagent.getSortList(item) class="{{item.class}} cursor-pointer">{{item.name|translate}}</th><th>{{\'操作\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in reagent.distributedData track by $index"><ng-form name=inner_form><td>{{item.reagentName}}</td><td>{{item.reagentTypeDesc}}</td><td>{{item.productNumber}}</td><td>{{item.manufacturer}}</td><td>{{item.articleNumber}}</td><td>{{item.specification}}</td><td>{{item.batchNumber}}</td><td>{{item.orderNumber}}</td><td>{{item.produceTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.expiryTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.updateTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.totalCapacity-item.usedCapacity}}</td><td>{{item.statusDesc}}</td><td ng-click=reagent.edit(item)><a href="">{{\'编辑\'|translate}}</a></td></ng-form></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!reagent.distributedData||reagent.distributedData.length<=$index"><td ng-repeat="n in [].constructor(14) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=reagent.total||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=reagent.filter.length total-items=reagent.total ng-model=reagent.filter.page ng-change=reagent.getDistributed() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div>'),t.put("app/site/reagent/state/index.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:reagent.activeMenu===0}" ng-click=reagent.choseMenu(0)>{{\'库存记录\'|translate}}</li></ul></toolbar><div id=reagent><div class=container ng-if="reagent.activeMenu===0" ng-include="\'app/site/reagent/state/createHistory.html\'"></div></div>'),t.put("app/site/reagent/use/index.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:reagent.activeMenu===1}" ng-click=reagent.choseMenu(1)>{{\'使用记录\'|translate}}</li></ul></toolbar><div id=reagent><div class=container ng-if="reagent.activeMenu===1" ng-include="\'app/site/reagent/use/useHistory.html\'"></div></div>'),t.put("app/site/reagent/use/useHistory.html",'<div id=history ng-controller="ReagentUseHistoryController as history"><div class="container distributed-div"><div class="form-inline toolbar" style="background: none;padding-top: 10px"><date-seletor dateset=history.defaultTime start-time=history.timeStart end-time=history.timeEnd></date-seletor><select class="form-control input-sm" ng-model=history.filter.type ng-options="item.code as item.name for item in history.typeList"><option value="">{{\'类别\'|translate}}</option></select><button ng-click=history.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button><search-input class=pull-right style="width: 300px" model=history.searchStr get-data=history.search() placeholder="{{\'输入试剂耗材名称查询\'|translate}}"></search-input></div><div><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th ng-repeat="item in history.tableHeaders" ng-click=history.getSortList(item) class="cursor-pointer text-center">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in history.distributedData track by $index"><ng-form name=inner_form><td>{{item.reagentName}}</td><td>{{item.reagentTypeDesc}}</td><td>{{item.productNumber}}</td><td>{{item.orderNumber}}</td><td>{{item.manufacturer}}</td><td>{{item.batchNumber}}</td><td>{{item.produceTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.expiryTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.usedCapacity==0?\'\':item.updateTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.usedCapacity}}</td><td>{{item.totalCapacity-item.usedCapacity}}</td><td ng-click=history.view(item)><a href="">{{\'查看\'|translate}}</a></td><td ng-click=history.adjust(item)><a href="">{{\'调整\'|translate}}</a></td></ng-form></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!history.distributedData||history.distributedData.length<=$index"><td ng-repeat="n in [].constructor(13) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=history.total||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=history.filter.length total-items=history.total ng-model=history.filter.page ng-change=history.getData() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div>'),t.put("app/site/product/distribution/createDistribution.html",'<div id=createDistribution ng-controller="createDistributionController as createDistribution"><!--待派片tab--><div class="container distribute-div"><div class=row><!--待派片列表--><div class=col-md-8><div class=pull-left><h4>{{\'待派片列表\'|translate}}</h4></div><div class="toolbar-sm form-inline pull-right clearfix"><select class="form-control input-sm" ng-model=createDistribution.getCondition.operator ng-options="item.id as item.firstName for item in createDistribution.grossingUserList"><option value="">{{\'取材医生\'|translate}}</option></select><select style="max-width: 120px" class="form-control input-sm" ng-model=createDistribution.getCondition.departments ng-options="status.code as status.name for status in createDistribution.departmentList"><option value="">{{\'送检科室\'|translate}}</option></select><button id=query ng-click=createDistribution.getDistribute() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div><br><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input id=checkboxAll style="width: 15px" type=checkbox ng-model=createDistribution.allChecked ng-click=createDistribution.checkAll() ng-disabled=!createDistribution.getDistributeData></th><th>{{\'病理号\'|translate}}</th><th>{{\'玻片数\'|translate}}</th><th>{{\'取材医生\'|translate}}</th><th>{{\'送检科室\'|translate}}</th><th>{{\'制片确认时间\'|translate}}</th><th>{{\'制片确认人\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in createDistribution.getDistributeData track by $index"><ng-form name=inner_form><td style="width: 40px"><input style="width: 15px" type=checkbox ng-model=item.check name=checkboxItem ng-click=createDistribution.checkItem($index,item)></td><td>{{item.serialNumber}}</td><td>{{item.slideTotal}}</td><td>{{item.grossingOperatorName}}</td><td>{{item.departments | department}}</td><td>{{item.confirmTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.confirmOperatorName}}</td></ng-form></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!createDistribution.getDistributeData||createDistribution.getDistributeData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><uib-pagination class=pull-right boundary-links=true items-per-page=createDistribution.getCondition.length max-size=10 total-items=createDistribution.getDistributeLength ng-model=createDistribution.getCondition.page ng-change=createDistribution.getDistribute() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div><!--派片--><div class=col-md-4><h4>{{\'派片\'|translate}}</h4><br><div class=distribute-right><div class=common-height>{{\'已选玻片\'|translate}}: <span>{{createDistribution.checkedSlideLength}}</span></div><div class="common-height distribute-box form-inline"><sapn>{{\'收片医生\'|translate}}:</sapn><select name="" class="form-control input-sm" ng-model=createDistribution.doctor ng-options="item as item.firstName for item in createDistribution.diagnosisUserList"><option value="">请选择</option></select><!--<span class="distribute-input">\n              <input id="doctor" type="text" class="form-control common-height" ng-model="createDistribution.doCondition.distributeDoctor">\n              <span class="btn-down cursor-pointer" ng-click="createDistribution.openList()"><i class="glyphicon glyphicon-triangle-bottom"></i></span>\n              &lt;!&ndash;下拉部分&ndash;&gt;\n              <div ng-show="createDistribution.showList" class="distribute-list form-control">\n              <p class="chose-item" ng-repeat="item in createDistribution.diagnosisUserList" ng-click="createDistribution.chooseItem(item.firstName)">{{item.firstName}}</p>\n            </div>\n            </span>--></div><div class=common-height><button id=submit class="btn btn-info special-height" ng-click=createDistribution.doDistribute() ng-disabled="!createDistribution.doctor ||!createDistribution.checkedSlideLength">{{\'派片\'|translate}}</button><!--<button ng-click="createDistribution.doDistribute()">测试</button>--></div></div></div></div></div></div>'),
t.put("app/site/product/distribution/distribution.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li id=subRoute0 ng-class="{active:proDistribution.activeMenu===1}" ng-click=proDistribution.choseMenu(1)>{{\'派片\'|translate}}</li><li id=subRoute1 ng-class="{active:proDistribution.activeMenu===2}" ng-click=proDistribution.choseMenu(2)>{{\'派片记录\'|translate}}</li></ul></toolbar><div id=proDistribution><div class=container ng-if="proDistribution.activeMenu===1" ng-include="\'app/site/product/distribution/createDistribution.html\'"></div><div class=container ng-if="proDistribution.activeMenu===2" ng-include="\'app/site/product/distribution/searchDistribution.html\'"></div></div>'),t.put("app/site/product/distribution/searchDistribution.html",'<div id=searchDistribution ng-controller="searchDistributionController as searchDistribution"><!--已派片tab--><div class="container distributed-div"><div class="form-inline toolbar" style="background: none;padding-top: 10px"><date-seletor dateset=searchDistribution.defaultTime start-time=searchDistribution.timeStart end-time=searchDistribution.timeEnd></date-seletor><select class="form-control input-sm" ng-model=searchDistribution.filter.operator ng-options="item.id as item.firstName for item in searchDistribution.grossingUserList"><option value="">{{\'取材医生\'|translate}}</option></select><select class="form-control input-sm" ng-model=searchDistribution.filter.departments ng-options="status.code as status.name for status in searchDistribution.departmentList"><option value="">{{\'送检科室\'|translate}}</option></select><button id=query ng-click=searchDistribution.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button><search-input class=pull-right style="width: 300px" model=searchDistribution.searchStr get-data=searchDistribution.search() placeholder="{{\'输入病理号查询，号段用“-”隔开\'|translate}}"></search-input></div><!--派片记录--><div><div class=table-min><table class="table-hover table-bordered"><thead><tr class=text-center><th ng-repeat="item in searchDistribution.tableHeaders" ng-click=searchDistribution.getSortList(item) class="{{item.class}} cursor-pointer">{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in searchDistribution.distributedData track by $index"><ng-form name=inner_form><!--ng-model="item.checked"--><td>{{item.serialNumber}}</td><td>{{item.blockSubId}}</td><td>{{item.slideSubId}}</td><td>{{item.grossingOperatorName}}</td><td>{{item.departments | department}}</td><td>{{item.confirmOperatorName}}</td><td>{{item.confirmTime | date:"yyyy-MM-dd HH:mm"}}</td><td>{{item.receiver}}</td><td>{{item.distributeTime | date:"yyyy-MM-dd HH:mm"}}</td></ng-form></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="!searchDistribution.distributedData||searchDistribution.distributedData.length<=$index"><!-- {{$index}} 当前行的下标--><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=searchDistribution.total||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=searchDistribution.filter.length total-items=searchDistribution.total ng-model=searchDistribution.filter.page ng-change=searchDistribution.getDistributed() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div>'),t.put("app/site/product/confirmation/confirmation.html",'<div id=proConfirmation><toolbar class=clearfix><div class="search clearfix"><!--<div class="toolbar-info pull-right">{{\'扫描仪已连接\'|translate}}</div>--></div></toolbar><div class=container><div class=col-xs-6><div class=pic-container><img ng-src={{proConfirmation.scanPic}} width=100% height=300px></div><div class=img-scroll><div>{{\'未识别玻片\'|translate}}</div><slider-container><div></div></slider-container></div><div class="add-btn-group clearfix"><div><label for=pathology>{{\'病理号\'|translate}}<span class=required>*</span></label><input id=pathology name=pathology ng-model=proConfirmation.data.pathologySerialNumber auto-focus=true ng-keyup=proConfirmation.getFilterList($event)> <button id=add class=add-btn ng-click=proConfirmation.getProductionDataByPathology()>{{\'添加\'|translate}}</button> <button id=cancel class=add-btn ng-click=proConfirmation.undo()>{{\'撤回\'|translate}}</button></div><!--<div>--><!--<label for="blockSerial">蜡块号</label>--><!--<input id="blockSerial" name="blockSerial" ng-model="proConfirmation.data.subId">--><!--</div>--><!--<div>--><!--<button class="add-btn" ng-click="proConfirmation.getProductionDataByPathology()">添加</button>--><!--<button class="add-btn" ng-click="proConfirmation.undo()">撤回</button>--><!--</div>--><div style="padding: 3px 0 0 5px">{{\'提示：可输入 病理号-蜡块号-玻片号 查找\'|translate}}</div></div><div class="bottom-btn text-center"><button class=add-btn ng-click=proConfirmation.changeScanStatus()><span class=glyphicon ng-class="{\'glyphicon-play\':!proConfirmation.start,\'glyphicon-stop\':proConfirmation.start}"></span> {{proConfirmation.start?"停止扫描":"开始扫描"|translate}}</button></div></div><div class=col-xs-6><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in proConfirmation.tableHeaders">{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in proConfirmation.productionList track by $index"><td ng-bind=item.pathNo></td><td ng-bind=item.blockSubId></td><td ng-bind=item.subId></td><td ng-bind=item.applyTypeDesc></td><td ng-bind=item.marker||item.specialDyeDesc></td><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.statusDesc></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="proConfirmation.productionList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><!--<tr><td class="text-center" colspan="12" ng-show="!proConfirmation.grossingData.length">暂无数据</td></tr>--></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination"><button id=submit class="btn btn-sm btn-default" ng-click=proConfirmation.submit()>{{\'制片确认\'|translate}}</button> {{\'共\'|translate}} <span ng-bind=proConfirmation.searchData.total||0></span>{{\'个玻片\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=proConfirmation.searchData.length max-size=10 total-items=proConfirmation.searchData.total ng-model=proConfirmation.searchData.page ng-change=proConfirmation.changePage(proConfirmation.searchData.page) previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div></div>'),t.put("app/site/product/modal/loseProduct.html",'<div id=loseProduct><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=loseProduct.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title>玻片丢失</h4></div><div class="modal-body clearfix"><div class=info-container><!--<div class="flex-box" style="justify-content: space-between">--><!--<div>病理号：{{item.pathNo}}</div>--><!--<div>玻片总数：{{item.slidePrepareConfirmCount}}</div>--><!--<div>缺失玻片数：{{item.lostSlideCount}}</div>--><!--</div>--><div class=table-container><div class=title>缺失玻片信息：</div><table class="table table-bordered"><thead><tr><th>病理号</th><th>蜡块号</th><th>玻片号</th><th>状态</th><th>最后操作人</th><th>最后操作时间</th><th>处理方式</th><th>备注</th></tr></thead><tbody ng-repeat="item in loseProduct.loseData track by item.pathNo"><tr ng-repeat="subItem in item.lostSlides"><td>{{item.pathNo}}</td><td>{{subItem.blockSubId}}</td><td>{{subItem.subId}}</td><td>{{item.reGrossing && item.status === 10 && !(subItem.subId || subItem.blockSubId)? "待重补取":subItem.statusDesc}}</td><td>{{subItem.lastOperator.firstName}}</td><td>{{subItem.lastOperateTime | date:\'yyyy-MM-dd HH:mm\'}}</td><td><select class=form-control name=handelType ng-init="subItem.handelType = \'0\'" ng-model=subItem.handelType><option value=0>不处理</option><option ng-show="subItem.blockSubId && !subItem.specialApply" value=1>申请重补取</option><option ng-show="subItem.blockSubId && subItem.subId && !subItem.specialApply" value=2>申请重切</option><option ng-show=subItem.blockSubId value=3>异常终止</option></select></td><td><input ng-model=subItem.note></td></tr></tbody></table></div><!--<div class="clearfix control-container">--><!--<label for="handelType">处理方式：</label>--><!--<div class="control">--><!--<select class="form-control" name="handelType" id="handelType" ng-model="loseProduct.handelType">--><!--<option value="0">不处理</option>--><!--<option value="1">申请重补取</option>--><!--<option value="2">申请重切</option>--><!--<option value="3">异常终止</option>--><!--</select>--><!--</div>--><!--</div>--><!--<div class="clearfix control-container">--><!--<label for="remark">备注：</label>--><!--<div class="control">--><!--<textarea id="remark" class="form-control" ng-model="loseProduct.remark"></textarea>--><!--</div>--><!--</div>--><div>*提交处理后，玻片不全的病理号将从制片确认列表移除，请找到缺失玻片后重新扫描。玻片齐全的病理号将被制片确认。</div></div></div><div class=modal-footer style="text-align: center"><button class="btn btn-warning" type=button ng-click=loseProduct.cancel()>返回</button> <button class="btn btn-default" type=button ng-click=loseProduct.ok()>提交处理</button></div></div>'),t.put("app/site/product/qualityGrade/qualityGrade.html",'<div id=proQualityGrade><toolbar class=clearfix><div class="form-control-static form-inline clearfix"><search-input id=search class=pull-left style="width: 350px" model=proQualityGrade.searchStr get-data=proQualityGrade.search() placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><div class="col-lg-5 gradeType"><div class="row clearfix settingType" style="border-bottom: 1px solid #000000"><div class=col-sm-4>{{\'病理号\'||translate}}：{{proQualityGrade.pathologyNumber}}</div><div class=col-sm-4>{{\'蜡块号\'||translate}}：{{proQualityGrade.blockSubId}}</div><div class=col-sm-4>{{\'玻片号\'||translate}}：{{proQualityGrade.slideSubId}}</div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'取材\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.grossing max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'脱水\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.dehydrate max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'包埋\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.embedding max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'切片\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.sectioning max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'染色\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.staining max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix settingType"><div class=col-sm-2>{{\'封片\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=proQualityGrade.scoreData.sealing max=proQualityGrade.max read-only=proQualityGrade.isReadonly on-hover=proQualityGrade.hoveringOver(value) on-leave="proQualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-3></div></div><div class="row clearfix gradeSetting"><div class=col-sm-4><label class=radio-inline><input type=radio name=setting ng-model=proQualityGrade.setting value=0 ng-checked=true> {{\'无需处理\'||translate}}</label></div><div class=col-sm-4><label class=radio-inline><input type=radio name=setting ng-model=proQualityGrade.setting value=1> {{\'申请重取\'||translate}}</label></div><div class=col-sm-4><label class=radio-inline><input type=radio name=setting ng-model=proQualityGrade.setting value=2> {{\'申请重切\'||translate}}</label></div></div><button class="btn btn-sm btn-default" ng-disabled=!proQualityGrade.slideInfo ng-click=proQualityGrade.submit()>提交</button></div><div class=col-lg-7><h4>{{\'评分细则\'||translate}}:</h4><div class=table><table class="table table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in proQualityGrade.tableHeaders" cursor-pointer ng-style=item.style>{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in proQualityGrade.gradeData track by $index"><td ng-bind=item.workstationName></td><td ng-bind=item.oneScore></td><td ng-bind=item.twoScore></td><td ng-bind=item.threeScore></td><td ng-bind=item.fourScore></td><td ng-bind=item.fiveScore></td><td>{{item.qualified}}分</td></tr></tbody></table></div></div></div></div>'),t.put("app/site/specialDye/modal/specialDyeBlocks.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=specialDyeBlocks.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>{{\'批量添加\'|translate}}</h4></div><div id=specialDyeBlocks ng-show=specialDyeBlocks.firstStep><div class=modal-body><!--搜索部分--><div class=clearfix><h4>1.{{\'选择蜡块\'|translate}}</h4><div class="form-inline clearfix from-group pull-right">{{\'申请日期\'|translate}}：<date-seletor dateset=specialDyeBlocks.defaultTime change=specialDyeBlocks.select() start-time=specialDyeBlocks.startTime end-time=specialDyeBlocks.endTime></date-seletor></div></div><br><div class=clearfix><!--<form name="dye_form">--><table class="table-min table-hover table-bordered"><thead><tr class=text-center><th style="width: 40px"><input style="width: 15px" type=checkbox ng-model=specialDyeBlocks.allChecked ng-click=specialDyeBlocks.chkAll()></th><th>{{\'病理号\'|translate}}</th><th>{{\'蜡块号\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'取材标识\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材备注\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in specialDyeBlocks.BlockList track by $index"><td><input style="width: 15px" type=checkbox ng-model=item.check ng-click=specialDyeBlocks.check(item)></td><td ng-bind=item.pathologySerialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.bodyPart></td><td ng-bind=item.biaoshiDesc></td><td>{{item.count}}&nbsp;{{item.unitDesc}}</td><td ng-bind=item.grossingRemark></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!specialDyeBlocks.BlockList.length||specialDyeBlocks.BlockList.length<=$index"><td ng-repeat="n in [].constructor(7) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=specialDyeBlocks.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=specialDyeBlocks.length max-size=10 total-items=specialDyeBlocks.total ng-model=specialDyeBlocks.page ng-change=specialDyeBlocks.getBlocks() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div><!--</form>--></div></div><!--modal-body--></div><!--染色类别 下一步--><div class=specialDyeType ng-hide=specialDyeBlocks.firstStep><div class=modal-body style="min-height: 480px"><div class=clearfix><h4>2.{{\'选择染色类别\'|translate}}</h4></div><br><div class=clearfix><form name=dyeType_form><!--添加蜡块染色类别--><div class="specialDye-create-table table-min mini"><table class=table-bordered><thead><tr><th>{{\'染色类别\'|translate}}</th><th style="width: 250px">{{\'试剂/抗体名称\'|translate}}<span class=required>*</span></th><th>{{\'备注\'|translate}}</th><th>{{\'操作\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in specialDyeBlocks.specialDyeTypeArry"><td><select ng-model=item.specialDye ng-change=specialDyeBlocks.specialDyeSelect(item) ng-options="item.code as item.name for item in specialDyeBlocks.specialDyeList" type=text></select></td><td style="width: 150px"><input style="background: none" ng-disabled="!(item.specialDye===1||item.specialDye===-1)" ng-model=item.ihcMarker type=text placeholder="{{\'不同标记物请用；隔开\'|translate}}" required></td><td><input ng-model=item.note type=text></td><td><a href="" ng-click=specialDyeBlocks.delete($index)><i class="glyphicon glyphicon-trash"></i>&nbsp;{{\'删除\'|translate}}</a></td></tr><tr><td colspan=3></td><!--<td></td>\n              <td></td>\n              <td></td>\n              <td></td>                --><td><a href="" ng-click=specialDyeBlocks.add()><i class="glyphicon glyphicon-plus"></i>&nbsp;{{\'添加\'|translate}}</a></td></tr></tbody></table></div></form></div></div></div><div class=modal-footer><button ng-show=specialDyeBlocks.firstStep class="btn btn-warning" type=button ng-click=specialDyeBlocks.cancel()>{{\'取消\'|translate}}</button> <button ng-show=specialDyeBlocks.firstStep class="btn btn-default" type=submit ng-click=specialDyeBlocks.switch()>{{\'下一步\'|translate}}</button> <button ng-hide=specialDyeBlocks.firstStep class="btn btn-warning" type=submit ng-click=specialDyeBlocks.switch()>{{\'上一步\'|translate}}</button> <button ng-hide=specialDyeBlocks.firstStep class="btn btn-default" type=submit ng-click=specialDyeBlocks.addBlock() ng-disabled=dyeType_form.$invalid>{{\'确认\'|translate}}</button></div>'),t.put("app/site/specialDye/specialDyeCreate/specialDyeCreate.html",'<div class=container><div class="specialDye-main block-center"><div class=specialDye-create-header><h3 class="text-center specialDye-header">{{\'染色申请表\'|translate}}</h3></div><!--特检申请表--><div id="specialDye-form table-min table"><form name=specialDyeApplyForm id=specialDyeApplyForm class=specialDye-apply-form><table class="table table-bordered"><tr class=text-center><td>{{\'申请人\'|translate}}<span class=required>*</span></td><td><input ng-model=specialDyeCreate.applyData.applyUser type=text required></td><td>{{\'联系电话\'|translate}}<span class=required>*</span></td><td><input ng-class="{\'error\':specialDyeApplyForm.phone.$invalid} " name=phone ng-model=specialDyeCreate.applyData.applyTel type=text maxlength=18 required ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ></td><td>{{\'送检科室\'|translate}}<span class=required>*</span></td><td style="position: relative;width: 190px"><!--<select-search class="department-selecter" require="true"   text="specialDyeCreate.departmentsDesc" value="specialDyeCreate.applyData.departments" get-data="specialDyeCreate.getDepartments(filter)" datas="specialDyeCreate.departmentList"></select-search>--><department-select ng-if=specialDyeCreate.userId class=department-selecter text="specialDyeCreate.departments | department" value=specialDyeCreate.applyData.departments></department-select></td></tr></table><!--错误提示--><!--<p class="error" ng-show="specialDyeApplyForm.phone.$dirty&&specialDyeApplyForm.phone.$invalid">手机号码错误</p>        --><br><!--添加蜡块--><div class="specialDye-create-table table-min mini"><table class=table-bordered><thead><tr><th>{{\'病理号\'|translate}}<span class=required>*</span></th><th style="width: 60px">{{\'蜡块号\'|translate}}<span class=required>*</span></th><th>{{\'染色类别\'|translate}}</th><th style="width: 250px">{{\'试剂/抗体名称\'|translate}}<span class=required>*</span></th><th>{{\'备注\'|translate}}</th><th>{{\'操作\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in specialDyeCreate.applyData.ihcBlocks"><td style="width: 100px"><input ng-model=item.serialNumber type=text required></td><td><input ng-model=item.subId type=text required></td><td><select ng-model=item.specialDye ng-change=specialDyeCreate.specialDyeSelect(item) ng-options="item.code as item.name for item in specialDyeCreate.specialDyeList" type=text></select></td><td style="width: 150px"><input style="background: none" ng-disabled="!(item.specialDye===-1||item.specialDye===1)" ng-model=item.ihcMarker type=text placeholder="{{\'不同标记物请用；隔开\'|translate}}" required></td><td><input ng-model=item.note type=text></td><td><a href="" ng-click=specialDyeCreate.deleteBlock($index)><i class="glyphicon glyphicon-trash"></i>&nbsp;{{\'删除\'|translate}}</a></td></tr><tr><td colspan=5></td><!--<td></td>\n                <td></td>\n                <td></td>\n                <td></td>                --><td><a href="" ng-click=specialDyeCreate.addBlock()><i class="glyphicon glyphicon-plus"></i>&nbsp;{{\'添加\'|translate}}</a></td></tr></tbody></table></div></form><div><!--查看--><br><p><a ng-click=specialDyeCreate.myBlocks() href="">{{\'批量添加\'|translate}}</a> <span class=pull-right>*{{\'染色类别是白片时，试剂/抗体名称不必填写，多张白片用“；”隔开\'|translate}}</span></p><!--提交--><div class=text-center><button name=submit id=submit class="btn btn-lg btn-default" ng-disabled=!specialDyeCreate.applyData.departments||specialDyeApplyForm.$invalid ng-click=specialDyeCreate.apply()>{{\'提交申请\'|translate}}</button></div></div></div></div></div>'),t.put("app/site/specialDye/specialDyeSearch/specialDyeSearch.html",'<toolbar class=clearfix><!--搜索部分--><div class="form-inline clearfix"><search-input class="pull-right search-input-lg" model=specialDyeSearch.searchStr get-data=specialDyeSearch.search() placeholder="{{\'输入姓名/病理号查询\'|translate}}"></search-input></div></toolbar><div class="container clearfix"><!--筛选部分--><div class="form-inline toolbar" style="background: none"><date-seletor dateset=specialDyeSearch.defaultTime start-time=specialDyeSearch.startTime end-time=specialDyeSearch.endTime></date-seletor><select class="form-control input-sm" ng-model=specialDyeSearch.dyeType ng-options="status.code as status.name for status in specialDyeSearch.dyeTypeList"><option value="">{{\'染色类别\'|translate}}</option></select><button ng-click=specialDyeSearch.query() id=query class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><!--<th>{{\'病理号\'|translate}}</th>--><!--<th>{{\'蜡块号\'|translate}}</th>--><!--<th>{{\'染色类别\'|translate}}</th>--><!--<th style="width: 200px">{{\'试剂/抗体名称\'|translate}}</th>--><!--<th style="width: 200px">{{\'备注\'|translate}}</th>--><!--<th>{{\'申请人\'|translate}}</th>--><!--<th>{{\'联系电话\'|translate}}</th>--><!--<th>{{\'申请时间\'|translate}}</th>--><!--<th>{{\'状态\'|translate}}</th>--><!--<th>{{\'操作\'|translate}}</th>--><th ng-repeat="item in specialDyeSearch.tableHeaders" ng-click=specialDyeSearch.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><!--item.ihcMarkers.join(\';\')--><tbody><tr ng-repeat="item in specialDyeSearch.data.data track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.subId></td><td ng-bind=item.dyeCategoryName></td><td>{{specialDyeSearch.filterMarker(item)}}</td><td ng-bind=item.note></td><td ng-bind=item.applyUser></td><td ng-bind=item.phone></td><td ng-bind="item.applyTime | date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.statusName></td><td><a href="" ng-class="{disabled:item.status!=1}" ng-disabled="item.status!=1" ng-click=specialDyeSearch.cancel(item.id)>{{\'撤销\'|translate}}</a></td><!--<td style="width: 260px;"><div title="{{item.other}}" style="max-width: 260px;overflow: hidden;text-overflow:ellipsis">{{item.note}} &nbsp; {{item.other}}</div></td>--></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="specialDyeSearch.data.data.length<=$index"><td ng-repeat="n in [].constructor(10) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=specialDyeSearch.data.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=specialDyeSearch.filterData.length max-size=10 total-items=specialDyeSearch.data.total ng-model=specialDyeSearch.filterData.page ng-change=specialDyeSearch.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/section/modal/printSlide.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=printModal.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>选择需要打印的玻片</h4></div><div class="modal-body clearfix"><h5 class=text-right>共{{printModal.total}}张，已选{{printModal.checkedSlides.length}}张</h5><div class="table table-min table-responsive"><table class="table table-hover table-bordered"><thead><tr class=text-center><th>玻片号</th><th>染色类别</th><th>试剂/抗体名称</th><th>选择</th></tr></thead><tbody><tr ng-repeat="item in printModal.slideList track by $index" ng-click=printModal.check(item)><td>{{item.subId}}</td><td>{{item.specialDyeDesc}}</td><td>{{item.marker||item.specialDyeDesc}}</td><td><span ng-show=item.check class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span></td></tr><tr ng-repeat="n in [].constructor(5) track by $index" ng-show="printModal.slideList.length<=$index"><td style="height: 35px" ng-repeat="n in [].constructor(4) track by $index"></td></tr></tbody></table></div><div class=table-footer><div class="pull-left form-control-static pagination"><button class="btn btn-warning" ng-click=printModal.checkAll()>全选</button> <button class="btn btn-warning" ng-click=printModal.cancelAll()>全部取消</button><!--<button class="btn btn-warning" ng-click="printModal.checkOther()">反选</button>--></div><uib-pagination class=pull-right boundary-links=true items-per-page=printModal.params.length max-size=4 total-items=printModal.total ng-model=printModal.params.page ng-change=printModal.getSlidesInfo() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div><!--modal-body--><div class=modal-footer><button ng-show=printModal.firstStep class="btn btn-warning" type=button ng-click=printModal.cancel()>取消</button> <button ng-hide=printModal.firstStep class="btn btn-default" type=submit ng-click=printModal.ok()>确认</button></div>'),t.put("app/site/sampleRegistration/consultationApply/apply.html",'<div ng-controller="consultApplyTabController as consult"><div class=row><div class=col-sm-8><h4>会诊申请表信息</h4></div><div class=col-sm-4><h4>原始蜡块/玻片信息</h4></div></div><consult-form show-operation=true readonly data=consult.submitData colspan=2></consult-form><!--<button ng-click="consult.submit()">提交测试</button>--></div>'),t.put("app/site/sampleRegistration/consultationApply/index.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:consultation.activeMenu===0}" ng-click=consultation.choseMenu(0) id=subRoute0>{{\'会诊登记\'|translate}}</li></ul></toolbar><div id=consultation><div class=container ng-if="consultation.activeMenu===0" ng-include="\'app/site/sampleRegistration/consultationApply/apply.html\'"></div></div>'),t.put("app/site/sampleRegistration/modal/printModal.html",'<div id=printModal><div class=modal-header><h4 class="modal-title text-center" id=modal-title ng-bind=printModal.Title>打印测试</h4></div><div class=modal-body><div id=printContent style="background-color: #00cc99"><!--<img src="./assets/images/heart.png" alt="heart"/>--><div class=clearfix><img class=pull-left ng-src={{printModal.qrImg}} ng-show=printModal.qrImg><div class=pull-right style="vertical-align: middle"><div>病理申请号:</div><div>160826134408</div></div></div></div></div><qrcode id=qrcode data=printModal.resistData ng-hide=printModal.qrImg></qrcode><button ng-click=printModal.prn1_preview()>预览</button> <button ng-click="printModal.printQrCodeLabel(\'1231242412\')">打印</button> <button ng-click=printModal.prn1_printA()>选择打印机</button><div class=modal-footer><button class="btn btn-warning" type=button ng-click=printModal.cancel()>取消</button> <button class="btn btn-default" type=submit ng-click=printModal.ok()>确定</button></div></div>'),t.put("app/site/sampleRegistration/modal/textareaModal.html",'<div id=textarea><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=textMod.cancel()><span aria-hidden=true class=icon-remove-sign></span><span class=sr-only>Close</span></button><h4 class=modal-title ng-bind=textMod.modalTitle></h4></div><div class=modal-body><h4 ng-bind=textMod.selectTitle></h4><select class=form-control name=rejiecereason ng-model=textMod.rejectReason.reasonType ng-options="item.name as item.name for item in textMod.rejectReasonLIst"><option value="">请选择拒收原因</option></select><h4 ng-bind=textMod.textareaTtitle></h4><textarea class=textLarge ng-model=textMod.rejectReason.rejectReason></textarea></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=textMod.cancel()>取消</button> <button class="btn btn-default" type=button ng-disabled=!textMod.rejectReason.reasonType&&!textMod.rejectReason.rejectReason ng-click=textMod.ok()>确定</button></div></div>'),t.put("app/site/report/modal/printSignQuery.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=vm.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>{{\'打印记录\'|translate}}</h4></div><div class="modal-body clearfix" id=signTable><div class=text-center><h3>{{\'病理报告签收回执表\'|translate}}</h3></div><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><tr><th>{{\'病理号\'|translate}}</th><th>{{\'病人姓名\'|translate}}</th><th>{{\'送检医生\'|translate}}</th><th>{{\'送检科室\'|translate}}</th><th>{{\'送检医生签字\'|translate}}</th></tr></thead><!--item.ihcMarkers.join(\';\')--><tbody><tr ng-repeat="item in vm.data track by $index "><td ng-bind="item.serialNumber "></td><td ng-bind="item.name "></td><td ng-bind="item.doctor "></td><td ng-bind="item.departments | department "></td><td></td></tr></tbody></table></div><div class=text-right><h5>{{vm.today | date:"yyyy-MM-dd "}}</h5></div></div><!--modal-body--><div class=modal-footer><button ng-show="vm.firstStep " class="btn btn-warning" type="button " ng-click="vm.cancel() ">{{\'取消\'|translate}}</button> <button ng-hide="vm.firstStep " class="btn btn-default" type="submit " ng-click="vm.ok() ">{{\'确认\'|translate}}</button></div>'),t.put("app/site/report/modal/printSlide.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=printModal.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>{{\'打印记录\'|translate}}</h4></div><div class="modal-body clearfix"><div class="row text-center" style="padding-bottom: 9px; margin-bottom: 10px; border-bottom: 1px solid #5e5e5e"><div class=col-xs-6>{{\'打印时间\'|translate}}</div><div class=col-xs-6>{{\'打印人员\'|translate}}</div></div><div class="row text-center" ng-repeat="item in printModal.list"><p class=col-xs-6>{{item.printTime|date:"yyyy-MM-dd HH:mm"}}</p><p class=col-xs-6>{{item.printUserName}}</p></div></div><!--modal-body--><div class=modal-footer><button ng-show=printModal.firstStep class="btn btn-warning" type=button ng-click=printModal.cancel()>{{\'取消\'|translate}}</button> <button ng-hide=printModal.firstStep class="btn btn-default" type=submit ng-click=printModal.ok()>{{\'确认\'|translate}}</button></div>'),
t.put("app/site/statisticalReport/allStatistic/allStatistic.html",'<div id=allStatistic><div class="container no-padding"><div class=row style=margin-bottom:10px><div class=col-sm-6><merge-chart chart-title="{{\'制片质量\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getSlideData></merge-chart></div><div class=col-sm-3><percent-chart chart-title="{{\'异常样本\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getErrorData></percent-chart></div><div class=col-sm-3><percent-chart chart-title="{{\'重切率\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getSectionData></percent-chart></div></div><div class=row style=margin-bottom:10px><div class=col-sm-6><div style=margin-bottom:10px><pillar-chart line-style=allStatistic.waitStyle chart-title="{{\'平均等待时间\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getWaitTimeData()></pillar-chart></div></div><div class=col-sm-3><percent-chart chart-title="{{\'重补取率\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getGrossingData></percent-chart></div><div class=col-sm-3></div></div><div class=row><div class=col-sm-6><div style=margin-bottom:10px><fold-chart chart-title="{{\'病例数\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getSpecialDyeData()></fold-chart></div><div><pillar-chart line-style=allStatistic.typeStyle chart-title="{{\'检查类别\'|translate}}" line-config=allStatistic.lineConfig get-data-fun=allStatistic.getInspectCategoryData()></pillar-chart></div></div><div class=col-sm-3><table-chart get-data-fun=allStatistic.getWorkLoadData></table-chart></div><div class=col-sm-3><score-table get-data-fun=allStatistic.getScoreData></score-table></div></div></div></div>'),t.put("app/site/statisticalReport/feeStatistic/feeStatistic.html",'<toolbar class=clearfix><div class="search clearfix"><search-input class=pull-left style="width: 245px" placeholder=输入病理号、姓名快速搜索 auto-focus={{autoFocus}}></search-input><span class=pull-right style=height:35px;line-height:35px;color:#169bd5>导出结果</span></div></toolbar><div id=feeStatistic><div class="container no-padding"><div class=row></div></div></div>'),t.put("app/site/statisticalReport/workStatistic/workStatistic.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:workStatistic.activeMenu==0}" ng-click=workStatistic.choseMenu(0)>{{\'按月统计\'|translate}}</li><li ng-class="{active:workStatistic.activeMenu==1}" ng-click=workStatistic.choseMenu(1)>{{\'按人统计\'|translate}}</li><li ng-class="{active:workStatistic.activeMenu==2}" ng-click=workStatistic.choseMenu(2)>{{\'按组统计\'|translate}}</li><!--<li ng-class="{active:workStatistic.activeMenu==3}" ng-click="workStatistic.choseMenu(3)">按项目统计</li>--></ul></toolbar><div id=workStatistic><div class=container ng-show="workStatistic.activeMenu==0" ng-include="\'app/site/statisticalReport/workStatistic/monthStatistic/monthStatistic.html\'">这里不管写什么都不会展示,完全被ng-include取代</div><div class=container ng-show="workStatistic.activeMenu==1" ng-include="\'app/site/statisticalReport/workStatistic/peopleStatistic/peopleStatistic.html\'"></div><div class=container ng-show="workStatistic.activeMenu==2" ng-include="\'app/site/statisticalReport/workStatistic/groupStatistic/groupStatistic.html\'"></div><!--<div class="container" ng-show="workStatistic.activeMenu==3" ng-include="\'app/site/statisticalReport/workStatistic/projectStatistic/projectStatistic.html\'"></div>--></div>'),t.put("app/site/statisticalReport/freezeStatistic/freezeStatistic.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:fStatistic.activeMenu==0}" ng-click=fStatistic.choseMenu(0)>{{\'冰冻切片机\'|translate}}</li><li ng-class="{active:fStatistic.activeMenu==1}" ng-click=fStatistic.choseMenu(1)>{{\'显微镜\'|translate}}</li><li ng-class="{active:fStatistic.activeMenu==2}" ng-click=fStatistic.choseMenu(2)>{{\'染色机\'|translate}}</li><li ng-class="{active:fStatistic.activeMenu==3}" ng-click=fStatistic.choseMenu(3)>{{\'封片机\'|translate}}</li><!--<li>冰冻预约</li>--></ul></toolbar><div><div class=container ng-show="fStatistic.activeMenu==0" ng-include="\'app/site/statisticalReport/freezeStatistic/appointment/appointment.html\'"></div><div class=container ng-show="fStatistic.activeMenu==1" ng-include="\'app/site/statisticalReport/freezeStatistic/microscope/microscope.html\'"></div><div class=container ng-show="fStatistic.activeMenu==2" ng-include="\'app/site/statisticalReport/freezeStatistic/dye/dye.html\'"></div><div class=container ng-show="fStatistic.activeMenu==3" ng-include="\'app/site/statisticalReport/freezeStatistic/sealing/sealing.html\'"></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/scoreStatistic.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:scoreStatistic.activeMenu==0}" ng-click=scoreStatistic.choseMenu(0)>{{\'按人统计\'|translate}}</li><li ng-class="{active:scoreStatistic.activeMenu==1}" ng-click=scoreStatistic.choseMenu(1)>{{\'优良率\'|translate}}</li><li ng-class="{active:scoreStatistic.activeMenu==2}" ng-click=scoreStatistic.choseMenu(2)>{{\'及时率\'|translate}}</li><li ng-class="{active:scoreStatistic.activeMenu==3}" ng-click=scoreStatistic.choseMenu(3)>{{\'符合率\'|translate}}</li><!--<li ng-class="{active:scoreStatistic.activeMenu==1}" ng-click="scoreStatistic.choseMenu(1)">{{\'按月统计\'|translate}}</li>--></ul></toolbar><div><div class=container ng-show="scoreStatistic.activeMenu==0" ng-include="\'app/site/statisticalReport/gradeStatistic/peopleStatistic/peopleStatistic.html\'"></div><div class=container ng-show="scoreStatistic.activeMenu==1" ng-include="\'app/site/statisticalReport/gradeStatistic/excellentRate/excellentRate.html\'"></div><div class=container ng-show="scoreStatistic.activeMenu==2" ng-include="\'app/site/statisticalReport/gradeStatistic/reportIntime/reportIntime.html\'"></div><div class=container ng-show="scoreStatistic.activeMenu==3" ng-include="\'app/site/statisticalReport/gradeStatistic/coincidence/coincidence.html\'"></div><!--<div class="container" ng-show="scoreStatistic.activeMenu==1" ng-include="\'app/site/statisticalReport/gradeStatistic/monthStatistic/monthStatistic.html\'">这里不管写什么都不会展示,完全被ng-include取代</div>--></div>'),t.put("app/site/userManage/gradeModule/gradeModule.html",'<toolbar class=clearfix><div class=clearfix><button class="pull-right btn btn-default" ng-click=gradeModule.addGrade()>新建标准</button></div></toolbar><div class=container id=gradeModule><h4>{{\'评分标准\'|translate}}</h4><div class=table><table class="table table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in gradeModule.tableHeaders" cursor-pointer ng-style=item.style>{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in gradeModule.gradeData track by $index"><td ng-bind=item.workstationName></td><td ng-bind=item.oneScore></td><td ng-bind=item.twoScore></td><td ng-bind=item.threeScore></td><td ng-bind=item.fourScore></td><td ng-bind=item.fiveScore></td><td>{{item.qualified}}分</td><td class="text-center cursor-pointer"><a class=table-edit ng-click=gradeModule.updateGrade(item)><i class="glyphicon glyphicon-edit"></i></a> <a class=table-edit ng-click=gradeModule.deleteGrade(item.code)><i class="glyphicon glyphicon-trash"></i></a></td></tr></tbody></table></div></div>'),t.put("app/site/userManage/systemSetting/systemSetting.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:systemModule.activeMenu==0}" ng-click=systemModule.choseMenu(0)>{{\'时间\'|translate}}</li><li ng-class="{active:systemModule.activeMenu==1}" ng-click=systemModule.choseMenu(1)>{{\'科室\'|translate}}</li><li ng-class="{active:systemModule.activeMenu==2}" ng-click=systemModule.choseMenu(2)>{{\'工作站\'|translate}}</li><li ng-class="{active:systemModule.activeMenu==3}" ng-click=systemModule.choseMenu(3)>{{\'检查类别\'|translate}}</li><li ng-class="{active:systemModule.activeMenu==4}" ng-click=systemModule.choseMenu(4)>{{\'样本类别\'|translate}}</li><li ng-class="{active:systemModule.activeMenu==5}" ng-click=systemModule.choseMenu(5)>{{\'通用\'|translate}}</li></ul></toolbar><div id=systemSetting><div class=container ng-show="systemModule.activeMenu==0" ng-include="\'app/site/userManage/systemSetting/timeSetting/index.html\'"></div><div class=container ng-show="systemModule.activeMenu==1" ng-include="\'app/site/userManage/systemSetting/departmentsSetting/index.html\'"></div><div class=container ng-show="systemModule.activeMenu==2" ng-include="\'app/site/userManage/systemSetting/stationSetting/station.html\'"></div><div class=container ng-show="systemModule.activeMenu==3" ng-include="\'app/site/userManage/systemSetting/inspectCategory/index.html\'"></div><div class=container ng-show="systemModule.activeMenu==4" ng-include="\'app/site/userManage/systemSetting/sampleCategory/index.html\'"></div><div class=container ng-show="systemModule.activeMenu==5" ng-include="\'app/site/userManage/systemSetting/generalSetting/index.html\'"></div></div>'),t.put("app/site/userManage/modal/addGrade.html",'<div id=addGrade><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=addGrade.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title ng-bind=addGrade.Title></h4></div><div class=modal-body id=modal-body><form name=addFrm><div class=row><div class=col-sm-6 style=padding:0><span>工位选择:<span style=color:red>*</span></span><select ng-model=addGrade.data.workstation ng-options="station.value as station.name for station in addGrade.stationList" required><option value="">请选择</option></select></div><div class=col-sm-6 style=padding:0;text-align:right><span>合格标准:<span style=color:red>*</span></span><select ng-model=addGrade.data.qualified ng-options="valid.value as valid.name for valid in addGrade.validList" required><option value="">请选择</option></select>分</div></div><div class=row><p>1 分：</p><textarea placeholder=打分标准 ng-model=addGrade.data.oneScore></textarea></div><div class=row><p>2 分：</p><textarea placeholder=打分标准 ng-model=addGrade.data.twoScore></textarea></div><div class=row><p>3 分：</p><textarea placeholder=打分标准 ng-model=addGrade.data.threeScore></textarea></div><div class=row><p>4 分：</p><textarea placeholder=打分标准 ng-model=addGrade.data.fourScore></textarea></div><div class=row><p>5 分：</p><textarea placeholder=打分标准 ng-model=addGrade.data.fiveScore></textarea></div></form></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=addGrade.cancel()>取消</button> <button class="btn btn-default" type=button ng-click=addGrade.ok() ng-disabled=addFrm.$invalid>确定</button></div></div>'),t.put("app/site/userManage/modal/authorize.html",'<div id=authorize><div class=modal-header><h4 class=modal-title>权限设置</h4></div><div class="modal-body clearfix"><div class="col-xs-6 pad-30"><div class=list-title>角色名称</div><div class=list-container><ul class=list-unstyled><li ng-class="{\'active\':item.active}" ng-repeat="item in authorize.roleList track by item.id" ng-click=authorize.chooseRole(item)>{{item.name}}<i class="icon-remove-sign pull-right" ng-click=authorize.delRole($index)></i></li></ul></div><div class=list-bottom><div class=row><div class="col-xs-10 col-md-11"><input class=form-control ng-model=authorize.roleName></div><i class="icon-plus-sign-alt add-icon" ng-click=authorize.addRole(authorize.roleName)></i></div><div></div></div></div><div class="col-xs-6 pad-30"><div class=list-title>角色权限</div><div class=list-container><ul class=list-unstyled><li ng-repeat="item in authorize.authList track by item.id">{{item.name}} <i class="icon-remove-sign pull-right" ng-click=authorize.delPerission(item.id)></i></li></ul></div><div class=list-bottom><div class=row><div class="col-xs-10 col-md-11"><!--<input class="form-control" ng-model="authorize.authName">--><select class=form-control ng-model=authorize.chosePerission ng-options="item as item.name for item in authorize.permissionsList"><option value="">请选择</option></select></div><i class="icon-plus-sign-alt add-icon" ng-disabled=!authorize.chosedRole ng-click=authorize.addAuth(authorize.chosePerission)></i></div><div></div></div></div></div><div class=modal-footer style="text-align: center"><button class="btn btn-warning" type=button ng-click=authorize.cancel()>取消</button> <button class="btn btn-default" type=button ng-click=authorize.ok()>确定</button></div></div>'),t.put("app/site/userManage/modal/changePwd.html",'<div id=changPwd><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=changePassword.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title ng-bind=changePassword.Title></h4></div><div class=modal-body><div class=form-container><form role=form class=form-horizontal name=changePwd_form novalidate ng-submit=changePassword.ok()><div class=form-group><label for=oldPassword class="control-label col-sm-4">{{\'旧密码\'|translate}}:</label><div class=col-sm-6><input ng-model=changePassword.data.oldPassword class=form-control name=oldPassword id=oldPassword type=password placeholder=请输入旧密码 required><uib-alert type=warning ng-show=changePassword.Err close="changePassword.Err=\'\'">{{changePassword.Err}}</uib-alert></div></div><div class="form-group has-feedback" ng-class="{\'has-error\':changePassword.checkpasswordErr || changePwd_form.newPassword.$dirty && changePwd_form.newPassword.$invalid}"><label for=newPassword class="control-label col-sm-4">{{\'新密码\'|translate}}:</label><div class=col-sm-6><input ng-model=changePassword.data.newPassword class=form-control name=newPassword id=newPassword type=password placeholder=密码长度4-18位 required ng-minlength=4 ng-maxlength=18 onkeydown="if(event.keyCode==32) return false" ng-change=changePassword.checkPassword()></div></div><div class=form-group><label for=password2 class="control-label col-sm-4">{{\'确认密码\'|translate}}:</label><div class=col-sm-6><input ng-model=changePassword.check.password2 class=form-control name=password2 id=password2 type=password placeholder=再次输入新密码 required ng-change=changePassword.checkPassword()><uib-alert type=warning ng-show=changePassword.checkpasswordErr>{{changePassword.checkpasswordErr}}</uib-alert></div></div></form></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=changePassword.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=submit ng-click=changePassword.ok() ng-disabled=changePwd_form.$invalid||changePassword.checkpasswordErr||changePassword.Err>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/userManage/modal/permission.html",'<div id=permission><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=permission.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class=modal-title>{{\'新建角色\'|translate}}</h4></div><div class="modal-body clearfix"><div class=form-container><form role=form class=form-horizontal name=permission_form novalidate ng-submit=permission.ok()><div class=form-group ng-class={}><label for=name class="control-label col-sm-3">{{\'角色名\'|translate}}<span class=required>*</span>:</label><div class="col-sm-8 has-feedback"><input class=form-control name=name id=name type=text placeholder="{{\'请输入角色名\'|translate}}" ng-model=permission.data.name ng-maxlength=20 required><uib-alert type=danger ng-show=permission_form.name.$error.maxlength>{{\'角色名不要超过20位\'|translate}}</uib-alert></div></div><div class="form-group has-feedback"><label for=description class="control-label col-sm-3">{{\'描述\'|translate}}:</label><div class=col-sm-8><input class=form-control name=description id=description type=text placeholder="{{\'请输入角色描述\'|translate}}" ng-model=permission.data.description></div></div><div class="form-group has-feedback"><label class="control-label col-sm-3">{{\'权限\'|translate}}:</label><div class=col-sm-8><label style="font-weight: normal;padding-left: 0" class=col-sm-4 class=checkbox-inline ng-repeat="item in permission.permissionList"><input type=checkbox ng-model=item.checked> {{item.name|translate}}</label><!--<div class="col-sm-4" ng-repeat="item in permission.permissionList">--><!--<input type="checkbox" ng-model="item.checked">--><!--</div>--><!--永华：样式二--><!--<div class="inline pull-left" ng-repeat="item in permission.permissionList" ng-click="item.checked=!item.checked">--><!--&lt;!&ndash;<input type="checkbox" ng-model="item.checked">&ndash;&gt;--><!--<a class="checkbox" ng-class="{\'active\':item.checked}">--><!--{{item.name}}--><!--<i class="glyphicon glyphicon-remove pull-right" style="padding: 2px" ng-show="item.checked"></i>--><!--</a>--><!--</div>--></div></div></form></div></div><div class=modal-footer style="text-align: center"><button class="btn btn-warning" type=button ng-click=permission.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-disabled=permission_form.$invalid ng-click=permission.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/userManage/modal/updateGrade.html",'<div id=updateGrade><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=updateGrade.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title ng-bind=updateGrade.Title></h4></div><div class=modal-body id=modal-body><form name=updateFrm><div class=row><div class=col-sm-6 style=padding:0><span>工位选择:<span style=color:red>*</span></span><select class="station-select cursor-disabled" ng-model=updateGrade.data.workstation ng-options="station.value as station.name for station in updateGrade.stationList" required disabled><option value="">请选择</option></select></div><div class=col-sm-6 style=padding:0;text-align:right><span>合格标准:<span style=color:red>*</span></span><select ng-model=updateGrade.data.qualified ng-options="valid.value as valid.name for valid in updateGrade.validList" required><option value="">请选择</option></select>分</div></div><div class=row><p>1 分：</p><input type=text placeholder=打分标准 ng-model=updateGrade.data.oneScore></div><div class=row><p>2 分：</p><input type=text placeholder=打分标准 ng-model=updateGrade.data.twoScore></div><div class=row><p>3 分</p><input type=text placeholder=打分标准 ng-model=updateGrade.data.threeScore></div><div class=row><p>4 分：</p><input type=text placeholder=打分标准 ng-model=updateGrade.data.fourScore></div><div class=row><p>5 分：</p><input type=text placeholder=打分标准 ng-model=updateGrade.data.fiveScore></div></form></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=updateGrade.cancel()>取消</button> <button class="btn btn-default" type=button ng-click=updateGrade.ok() ng-disabled=updateFrm.$invalid>确定</button></div></div>'),t.put("app/site/userManage/modal/user.html",'<div id=userModal><div class=modal-header><button type=button class=close data-dismiss=modal ng-click=userMod.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-center" id=modal-title ng-bind=userMod.Title></h4></div><div class=modal-body style="overflow-y: inherit" id=modal-body><div class=center-block><form class="form-horizontal clearfix" name=userMod_form role=form><fieldset class=col-sm-6><div class="form-group has-feedback" ng-class="{\'has-success\':userNameOk = userMod_form.accountName.$dirty && userMod_form.accountName.$valid && !userMod.check.nameErr,\n                \'has-error\':userNameErr = userMod_form.accountName.$dirty && userMod_form.accountName.$invalid||userMod.check.nameErr}"><label for=accountName class="col-sm-4 control-label">{{\'用户名\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=accountName id=accountName required ng-disabled="userMod.method===\'put\'||userMod.method===\'get\' " ng-model=userMod.data.userName ng-blur=userMod.checkFn(userMod.data.userName) onkeydown="if(event.keyCode==32) return false" ng-pattern=/^[a-zA-Z0-9_-]{4,30}$/ ng-maxlength=30 maxlength=30 placeholder=4位以上字母数字减号下划线组成><!--oninput="if(/^[a-zA-Z0-9_-]{4,16}$/.test(value)) return"--><!--oninput="if(/^[\\u4E00-\\u9FA5\\uF900-\\uFA2D\\u0020]*$/.test(value)) return"--><!--oninput="if(!/^[u4E00-u9FA5]+$/.test(value)) return"--> <span ng-show=userNameOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=userMod.check.nameErr close="userMod.check.nameErr=\'\' ">{{userMod.check.nameErr}}</div><div uib-alert class=warning ng-show=userMod_form.accountName.$error.maxlength close="userNameErr=\'\' ">用户名最长30位</div></div></div><div ng-if="userMod.method!==\'get\'" class="form-group has-feedback" ng-class="{\'has-success\':passwordOk = userMod_form.password.$dirty && userMod_form.password.$valid,\n                \'has-error\':passwordErr = userMod_form.password.$dirty && userMod_form.password.$invalid}"><label for=Password class="col-sm-4 control-label">{{\'密码\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=password style="position: absolute;top:-1000px;left: -1000px;z-index: -10000"><!--防止表单自动填充--> <input type=password class=form-control name=password id=Password required ng-model=userMod.data.password ng-minlength=4 ng-maxlength=18 ng-focus="this.type=\'password\' " onkeydown="if(event.keyCode==32) return false" ng-disabled=userMod.formDisabled placeholder={{userMod.placeholder}}> <span ng-show=passwordOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=userMod_form.password.$error.maxlength||userMod_form.password.$error.minlength||passwordErr>密码长度4到18位</div><!--<div uib-alert class="warning" ng-show="passwordErr">密码长度4到18位</div>--></div></div><!--<div ng-if="userMod.method===\'post\' "  class="form-group has-feedback"  ng-class="{\'has-success\':checkPasswordOk = userMod_form.checkPassword.$dirty && userMod_form.checkPassword.$valid && !userMod.check.passwordErr,--><!--\'has-error\':checkPasswordErr = userMod_form.checkPassword.$dirty && userMod_form.checkPassword.$invalid || userMod.check.passwordErr}">--><!--<label for="password_checked" class="col-sm-4 control-label">确认密码&nbsp;*</label>--><!--<div class="col-sm-8">--><!--<input type="password" class="form-control" id="password_checked" name="checkPassword" placeholder="Password" required--><!--ng-model="userMod.check.password"--><!--ng-minlength="6" ng-maxlength="20"--><!--ng-change="userMod.checkPassword()"--><!--ng-disabled="userMod.formDisabled"--><!--&gt;--><!--<span ng-show="checkPasswordOk" class="glyphicon glyphicon-ok form-control-feedback"></span>--><!--&lt;!&ndash;<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>&ndash;&gt;--><!--<div uib-alert class="warning" ng-show="userMod.check.passwordErr" close="userMod.check.passwordErr=\'\' ">{{userMod.check.passwordErr}}</div>--><!--</div>--><!--</div>--><div class="form-group has-feedback" ng-class="{\'has-success\':firstNameOk = userMod_form.firstName.$dirty && userMod_form.firstName.$valid,\n                \'has-error\':firstNameErr =userMod_form.firstName.$dirty && userMod_form.firstName.$invalid}"><label for=firstName class="col-sm-4 control-label">{{\'真实姓名\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><input type=text class=form-control name=firstName id=firstName ng-model=userMod.data.firstName ng-maxlength=20 required ng-disabled="userMod.method===\'get\' " onkeydown="if(event.keyCode==32) return false"> <span ng-show=firstNameOk class="glyphicon glyphicon-ok form-control-feedback"></span><div uib-alert class=warning ng-show=userMod_form.firstName.$error.maxlength>姓名长度过长</div><div uib-alert class=warning ng-show="userMod.method===\'put\'&&userMod_form.firstName.$error.required||userMod_form.firstName.$dirty&&userMod_form.firstName.$error.required">姓名必填</div><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--></div></div><div class="form-group has-feedback" ng-class="{\'has-success\':phoneOk = userMod_form.phone.$dirty && userMod_form.phone.$valid,\n                \'has-error\':phoneErr = userMod_form.phone.$dirty && userMod_form.phone.$invalid}"><label for=phone class="col-sm-4 control-label">{{\'联系电话\'|translate}}&nbsp;&nbsp;<span class=required>*</span>：</label><div class=col-sm-8><input type=tel class=form-control name=phone id=phone ng-model=userMod.data.phone onkeydown="if(event.keyCode==32) return false" ng-pattern=/^((\\d{11})|^((\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})|(\\d{4}|\\d{3})-(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1})|(\\d{7,8})-(\\d{4}|\\d{3}|\\d{2}|\\d{1}))$)$/ ng-disabled=userMod.formDisabled required> <span ng-show=phoneOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=userMod_form.phone.$error.pattern>电话格式错误</div></div></div><!--电子邮箱--><div class="form-group has-feedback" ng-class="{\'has-success\':emailOk = userMod_form.email.$dirty && userMod_form.email.$valid,\n                \'has-error\':emailErr = userMod_form.email.$dirty && userMod_form.email.$invalid}"><label for=email class="col-sm-4 control-label">{{\'电子邮箱\'|translate}}：</label><div class=col-sm-8><input type=email class=form-control id=email name=email ng-model=userMod.data.email ng-disabled=userMod.formDisabled onkeydown="if(event.keyCode==32) return false" ng-pattern="/[\\w!#$%&\'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&\'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/"> <span ng-show=emailOk class="glyphicon glyphicon-ok form-control-feedback"></span><!--<span ng-show="passwordErr" class="glyphicon glyphicon-remove form-control-feedback"></span>--><div uib-alert class=warning ng-show=userMod_form.email.$error.pattern>邮箱格式错误</div></div></div><!--单位：--><div class="form-group has-feedback" ng-class="{\'has-success\':unitOk = userMod_form.unit.$dirty && userMod_form.unit.$valid,\n                \'has-error\':unitErr = userMod_form.unit.$dirty && userMod_form.unit.$invalid}"><label for=unit class="col-sm-4 control-label">{{\'单位\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=unit name=unit ng-model=userMod.data.unit onkeydown="if(event.keyCode==32) return false"> <span ng-show=unitOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--科室：departments--><div class=form-group ng-class="{\'has-success\':departmentsOk = userMod_form.departments.$dirty && userMod_form.departments.$valid,\n                \'has-error\':departmentsErr = userMod_form.departments.$invalid && userMod_form.departments.$dirty}"><label class="col-sm-4 control-label">{{\'科室\'|translate}}<span class=required>*</span>：</label><div class=col-sm-8><select-search ng-hide=readonly required text="userMod.data.departments | department" require=true value=userMod.data.departments get-data=userMod.getDepartments(filter) datas=userMod.departmentList></select-search></div></div><!--职工号： wno--><div class="form-group has-feedback" ng-class="{\'has-success\':wnoOk = userMod_form.wno.$dirty && userMod_form.wno.$valid,\n                \'has-error\':wnoErr = userMod_form.wno.$dirty && userMod_form.wno.$invalid}"><label for=wno class="col-sm-4 control-label">{{\'职工号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=wno name=wno ng-model=userMod.data.wno onkeydown="if(event.keyCode==32) return false"> <span ng-show=wnoOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--用户角色--><div ng-if="userMod.method!==\'get\'" class=form-group><label class="col-sm-4 control-label">{{\'用户角色\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><div class="form-inline clearfix"><select style="width: 100%" class=form-control required ng-model=userMod.data.roleId ng-options="role.id as role.name for role in userMod.rolesList" ng-disabled=userMod.formDisabled><option value="">{{\'选择角色\'|translate}}</option></select></div></div></div><!--禁用--><div ng-if="userMod.method!==\'get\'" class=form-group ng-show="userMod.permission===0"><label class="col-sm-4 control-label">{{\'用户状态\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><div class=radio><label class=col-xs-offset-2><input type=radio ng-value=true ng-model=userMod.data.status ng-disabled=userMod.formDisabled required>{{\'正常\'|translate}}</label><label class=col-xs-offset-2><input type=radio ng-value=false ng-model=userMod.data.status ng-disabled=userMod.formDisabled required>{{\'禁用\'|translate}}</label></div><!--<div uib-alert class="warning" ng-show="userMod.messageErr" close="userMod.messageErr=\'\' ">{{userMod.messageErr}}</div>--></div></div><!--锁定--><div ng-if="userMod.method==\'put\'" class=form-group ng-show="userMod.permission===0"><label class="col-sm-4 control-label">{{\'锁定\'|translate}}<span class=text-error>*</span>：</label><div class=col-sm-8><div class=radio><label class=col-xs-offset-2><input type=radio ng-value=false ng-model=userMod.data.lockStatus ng-disabled=userMod.formDisabled required>{{\'正常\'|translate}}</label><label class=col-xs-offset-2><input type=radio ng-value=true ng-model=userMod.data.lockStatus ng-disabled=userMod.formDisabled required>{{\'锁定\'|translate}}</label></div></div></div></fieldset><fieldset class=col-sm-6><!--身份：identity--><div class="form-group has-feedback" ng-class="{\'has-success\':identityOk = userMod_form.identity.$dirty && userMod_form.identity.$valid,\n                \'has-error\':identityErr = userMod_form.identity.$dirty && userMod_form.identity.$invalid}"><label for=identity class="col-sm-4 control-label">{{\'身份\'|translate}}：</label><div class=col-sm-8><select id=identity class=form-control ng-model=userMod.data.identity ng-options="item.value as item.name for item in userMod.identityList"><option value="">{{\'请选择\'|translate}}</option></select></div></div><!--导师：tutor--><div class="form-group has-feedback" ng-class="{\'has-success\':tutorOk = userMod_form.tutor.$dirty && userMod_form.tutor.$valid,\n                \'has-error\':tutorErr = userMod_form.tutor.$dirty && userMod_form.tutor.$invalid}"><label for=tutor class="col-sm-4 control-label">{{\'导师\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=tutor name=tutor ng-model=userMod.data.tutor onkeydown="if(event.keyCode==32) return false"> <span ng-show=tutorOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--院系：faculty--><div class="form-group has-feedback" ng-class="{\'has-success\':facultyOk = userMod_form.faculty.$dirty && userMod_form.faculty.$valid,\n                \'has-error\':facultyErr = userMod_form.faculty.$dirty && userMod_form.faculty.$invalid}"><label for=faculty class="col-sm-4 control-label">{{\'院系\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=faculty name=faculty ng-model=userMod.data.faculty onkeydown="if(event.keyCode==32) return false"> <span ng-show=facultyOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--专业：specialty--><div class="form-group has-feedback" ng-class="{\'has-success\':specialtyOk = userMod_form.specialty.$dirty && userMod_form.specialty.$valid,\n                \'has-error\':specialtyErr = userMod_form.specialty.$dirty && userMod_form.specialty.$invalid}"><label for=specialty class="col-sm-4 control-label">{{\'专业\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=specialty name=specialty ng-model=userMod.data.specialty onkeydown="if(event.keyCode==32) return false"> <span ng-show=specialtyOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--学号：studentNumber--><div class="form-group has-feedback" ng-class="{\'has-success\':studentNumberOk = userMod_form.studentNumber.$dirty && userMod_form.studentNumber.$valid,\n                \'has-error\':studentNumberErr = userMod_form.studentNumber.$dirty && userMod_form.studentNumber.$invalid}"><label for=studentNumber class="col-sm-4 control-label">{{\'学号\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=studentNumber name=studentNumber ng-model=userMod.data.studentNumber onkeydown="if(event.keyCode==32) return false"> <span ng-show=studentNumberOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--课题名称：taskName--><div class="form-group has-feedback" ng-class="{\'has-success\':taskNameOk = userMod_form.taskName.$dirty && userMod_form.taskName.$valid,\n                \'has-error\':taskNameErr = userMod_form.taskName.$dirty && userMod_form.taskName.$invalid}"><label for=taskName class="col-sm-4 control-label">{{\'课题名称\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=taskName name=taskName ng-model=userMod.data.taskName onkeydown="if(event.keyCode==32) return false"> <span ng-show=taskNameOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div><!--课题类型：taskType--><div class="form-group has-feedback" ng-class="{\'has-success\':taskTypeOk = userMod_form.taskType.$dirty && userMod_form.taskType.$valid,\n                \'has-error\':taskTypeErr = userMod_form.taskType.$dirty && userMod_form.taskType.$invalid}"><label for=taskType class="col-sm-4 control-label">{{\'课题类型\'|translate}}：</label><div class=col-sm-8><select id=taskType class=form-control ng-model=userMod.data.taskType ng-options="item.value as item.name for item in userMod.taskTypeList"><option value="">{{\'请选择\'|translate}}</option></select></div></div><!--项目代码：projectCode--><div class="form-group has-feedback" ng-class="{\'has-success\':projectCodeOk = userMod_form.projectCode.$dirty && userMod_form.projectCode.$valid,\n                \'has-error\':projectCodeErr = userMod_form.projectCode.$dirty && userMod_form.projectCode.$invalid}"><label for=projectCode class="col-sm-4 control-label">{{\'项目代码\'|translate}}：</label><div class=col-sm-8><input type=text class=form-control id=projectCode name=projectCode ng-model=userMod.data.projectCode onkeydown="if(event.keyCode==32) return false"> <span ng-show=projectCodeOk class="glyphicon glyphicon-ok form-control-feedback"></span></div></div></fieldset></form></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=userMod.cancel()>{{\'取消\'|translate}}</button> <button ng-show=userMod.formDisabled class="btn btn-primary" ng-click=userMod.edit()>{{\'编辑\'|translate}}</button> <button ng-hide="userMod.formDisabled " class="btn btn-default" type=button ng-click=userMod.ok() ng-disabled=userMod_form.$invalid>{{\'确定\'|translate}}</button></div></div>'),
t.put("app/site/userManage/userManage/userManage.html",'<toolbar class=clearfix><ul class="list-unstyled menu-list"><li ng-class="{active:userManage.activeMenu==0}" ng-click=userManage.choseMenu(0)>{{\'用户\'|translate}}</li><li ng-class="{active:userManage.activeMenu==1}" ng-click=userManage.choseMenu(1)>{{\'权限设置\'|translate}}</li></ul></toolbar><div id=userManage><div class=container ng-if="userManage.activeMenu==0" ng-include="\'app/site/userManage/userManage/userModule/userModule.html\'"></div><div class=container ng-if="userManage.activeMenu==1" ng-include="\'app/site/userManage/userManage/permissionModule/permissionModule.html\'"></div></div>'),t.put("app/site/archive/queryArchive/querySlide/querySlide.html",'<div ng-controller="QuerySlideController as querySlide"><!--搜索部分--><!-- <div class="form-inline clearfix" style="background: none">\n    <search-input class="pull-right search-input-sm" ng-class="{\'input-long\':lang===\'en\'}" model="querySlide.filterData.filter" get-data="querySlide.getDataList()"  placeholder="{{\'输入病理号查询\'|translate}}"></search-input>\n  </div>--><!--筛选部分--><div class="form-inline toolbar clearfix" style="background: none"><!--<date-seletor dateset="querySlide.defaultTime"  start-time="querySlide.startTime" end-time="querySlide.endTime"></date-seletor>--><select class="form-control input-sm" ng-model=querySlide.filterData.type ng-options="status.code as status.name for status in [{name:\'临床\',code:1},{name:\'科研\',code:2}]"><option value="">{{"样本类别"|translate}}</option></select><select class="form-control input-sm" ng-model=querySlide.filterData.status ng-options="status.code as status.name for status in [{name:\'借出\',code:2},{name:\'存档\',code:1},{name:\'晾片\',code:0},{name:\'逾期\',code:3}]"><option value="">{{"玻片状态"|translate}}</option></select><button ng-click=querySlide.query() class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-filter"></span>筛选</button><search-input class="pull-right search-input-sm" ng-class="{\'input-long\':lang===\'en\'}" model=querySlide.filterData.filter get-data=querySlide.getDataList() placeholder="{{\'输入病理号查询\'|translate}}"></search-input></div><!--表格显示部分--><div class=table-min><table class="table-hover table-bordered"><thead class=primary-table-head><th ng-repeat="item in querySlide.tableHeaders" ng-click=querySlide.getSortList(item) class="{{item.class}} cursor-pointer">{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></thead><tbody><tr ng-repeat="item in querySlide.data.data track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.ihcMarker></td><td ng-bind=item.patientName></td><td ng-bind=item.dryingBox></td><td ng-bind=item.dryingCreateByDesc></td><td ng-bind="item.dryingCreateTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.archiveBox></td><td ng-bind=item.archiveCreateByDesc></td><td ng-bind="item.archiveCreateTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.statusDesc></td><td><a ng-show="item.status == 2" href="" ng-click=querySlide.history(item)>{{"查看"|translate}}</a></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="querySlide.data.data.length<=$index"><td ng-repeat="n in [].constructor(13) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{"共"|translate}}<span ng-bind=querySlide.data.total></span>{{"条结果"|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=querySlide.filterData.length max-size=10 total-items=querySlide.data.total ng-model=querySlide.filterData.page ng-change=querySlide.getDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/caseQuery/queryResearch/tabs/applicationInfo.html",'<div class=pathology-report ng-controller="QueryResearchApplicationController as QueryA"><div class=clearfix><div class=col-sm-2-><ul class="nav nav-pills nav-stacked-" ng-init="application=1"><li style="margin:0 10px 10px 0" ng-class="{active:application === 1}" class="btn btn-sm nav-item" ng-click="application = 1">{{\'病理申请表\'|translate}}</li><li style="margin:0 10px 10px 0" ng-class="{active:application === 2}" class="btn btn-sm nav-item" ng-click="application = 2">{{\'特检申请表\'|translate}}</li></ul></div><div class=col-sm-12><div ng-show="application === 1" class="row pathology"><div class=pathology-content><application-research></application-research><!--<ihc-form></ihc-form>--></div></div><div ng-show="application === 2" class="row special"><!--特检申请表--><div class=sample><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'蜡块号\'|translate}}</th><th>{{\'染色类别\'|translate}}</th><th>{{\'试剂/抗体名称\'|translate}}</th><th>{{\'备注\'|translate}}</th><th>{{\'申请人\'|translate}}</th><th>{{\'联系电话\'|translate}}</th><th>{{\'申请时间\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in QueryA.specialDyeApplyInfo track by $index"><td ng-bind=item.subId></td><td ng-bind=item.specialDyeDesc></td><td ng-bind="item.ihcMarker.join(\';\')"></td><td ng-bind=item.note></td><td ng-bind=item.applyUser></td><td ng-bind=item.phone></td><td ng-bind="item.createTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td></tr><tr ng-repeat="n in [].constructor(5) track by $index" ng-show="!QueryA.specialDyeApplyInfo.length||QueryA.specialDyeApplyInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div></div></div>'),t.put("app/site/caseQuery/queryResearch/tabs/diagnosisInfo.html",'<div class=pathology-report><div class=clearfix><div class=col-sm-2><ul class="nav nav-stacked" ng-init="operation = 10"><li ng-class="{active:operation === 10}" class="btn btn-sm nav-item" ng-click="operation = 10">{{\'一级诊断\'|translate}}</li><li ng-class="{active:operation === 11}" class="btn btn-sm nav-item" ng-click="operation = 11">{{\'二级诊断\'|translate}}</li><li ng-class="{active:operation === 12}" class="btn btn-sm nav-item" ng-click="operation = 12">{{\'三级诊断\'|translate}}</li><li ng-class="{active:operation === 21}" class="btn btn-sm nav-item" ng-click="operation = 21">{{\'专家会诊\'|translate}}</li></ul></div><div class=col-sm-10><div ng-repeat="item in researchQuery.diagnosisInfo " ng-show="item.operation===operation"><div ng-bind-html=item.diagnoseResult class="row pathology"><!--{{item}}--></div></div></div></div></div>'),t.put("app/site/caseQuery/queryResearch/tabs/otherInfo.html",'<!--<div class="pathology-report">\n\n  <div class="clearfix">\n\n    <a class="pull-right" href="">打印</a>\n  </div>\n  <div class="clearfix">\n    <div class="col-sm-2">\n      <ul class="nav nav-stacked" ng-init="application=1">\n        <li ng-class="{active:application === 1}" class="btn btn-sm nav-item" ng-click="application = 1">病理申请表</li>\n        <li ng-class="{active:application === 2}" class="btn btn-sm nav-item" ng-click="application = 2">特检申请表</li>\n      </ul>\n    </div>\n    <div class="col-sm-10">\n\n      <div ng-if="application === 1" class="row pathology">\n        <div class="pathology-content">\n\n        </div>\n      </div>\n      <div ng-if="application === 2" class="row special">\n        特染申请\n      </div>\n\n\n    </div>\n  </div>\n\n\n</div>-->'),t.put("app/site/caseQuery/queryResearch/tabs/sampleInfo.html",'<div class=pathology-report><!--<div class="clearfix">\n\n    <a class="pull-right" href="">打印</a>\n  </div>--><div class=clearfix><div class=col-sm-2><ul class="nav nav-stacked"><li ng-class="{active:sample === 1}" class="btn btn-sm nav-item" ng-click=researchQuery.sampleTab()>{{\'基本信息\'|translate}}</li><li ng-class="{active:sample === 2}" class="btn btn-sm nav-item" ng-click=researchQuery.sampleMaterialInfo()>{{\'取材信息\'|translate}}</li><li ng-class="{active:sample === 3}" class="btn btn-sm nav-item" ng-click=researchQuery.sampleConfirmInfo()>{{\'制片信息\'|translate}}</li><li ng-class="{active:sample === 4}" class="btn btn-sm nav-item" ng-click="">{{\'存档信息\'|translate}}</li></ul></div><div class=col-sm-10><!--基本信息--><div ng-if="sample === 1" class="row sample"><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'样本编号\'|translate}}</th><th>{{\'样本名称\'|translate}}</th><th>{{\'样本类别\'|translate}}</th><th>{{\'添加时间\'|translate}}</th><th>{{\'添加人\'|translate}}</th><th>{{\'删除时间\'|translate}}</th><th>{{\'删除人\'|translate}}</th><th>{{\'登记日期\'|translate}}</th><th>{{\'登记员\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in researchQuery.basicInfo track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.name></td><td ng-bind=item.categoryName></td><td ng-bind="item.createTime| date : \'yyyy-MM-dd\' "></td><td ng-bind=item.createBy.firstName></td><td ng-bind="item.delete ? (item.updateTime| date : \'yyyy-MM-dd\') :\'\'"></td><td ng-bind="item.delete ? item.updateBy.firstName :\'\'"></td><td ng-bind="item.registerTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td><td ng-bind=item.registerUser.firstName></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.basicInfo.length||researchQuery.basicInfo.length<=$index"><td ng-repeat="n in [].constructor(9) track by $index"></td></tr></tbody></table></div></div><!--取材信息--><div ng-if="sample === 2" class="row sample"><div class=pathology-content><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'取材标识\'|translate}}</th><th>{{\'蜡块号\'|translate}}</th><th>{{\'取材部位\'|translate}}</th><th>{{\'组织数\'|translate}}</th><th>{{\'取材备注\'|translate}}</th><th>{{\'取材医生\'|translate}}</th><th>{{\'记录员\'|translate}}</th><th>{{\'取材时间\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in researchQuery.materialInfo.grossingInfo track by $index" ng-class="{\'required\':item.stop}"><td ng-bind=item.biaoshiDesc></td><td ng-bind=item.subId></td><td ng-bind=item.bodypart></td><td ng-bind=item.count></td><td ng-bind=item.note></td><td ng-bind=item.operatorName></td><td ng-bind=item.secOperatorName></td><td ng-bind="item.grossingTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.materialInfo.grossingInfo.length||researchQuery.materialInfo.grossingInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><p>*{{\'红色为异常终止蜡块\'|translate}}</p><div><p>{{\'大体图像\'|translate}}</p><img width=100 height=60 ng-src={{item.url}} ng-repeat="item in researchQuery.materialInfo.microFiles" alt=""><br></div><div><p>{{\'取材确认图像\'|translate}}</p><img width=100 height=60 ng-src={{item.url}} ng-repeat="item in researchQuery.materialInfo.grossingConfirmFile" alt=""><br></div></div></div><!--制片信息--><div ng-if="sample === 3" class="row sample"><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'蜡块号\'|translate}}</th><th>{{\'玻片号\'|translate}}</th><th>{{\'事件名称\'|translate}}</th><th>{{\'操作人\'|translate}}</th><th>{{\'操作时间\'|translate}}</th><th>{{\'等待时间\'|translate}}</th><th>{{\'备注\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in researchQuery.confirmInfo track by $index" ng-class="{\'required\':item.operation===16}"><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.operationDesc></td><td ng-bind=item.operator.firstName></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td><td>{{(item.waitTime|formatTime)||""}}</td><td>{{item.noteType}}<span ng-show=item.noteType>&nbsp;</span>{{item.note}}</td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.confirmInfo.length||researchQuery.confirmInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div><div ng-if="sample === 4" class="row sample"><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'样本编号\'|translate}}</th><th>{{\'样本名称\'|translate}}</th><th>{{\'样本类别\'|translate}}</th><th>{{\'登记日期\'|translate}}</th><th>{{\'登记员\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in researchQuery.basicInfo track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.name></td><td ng-bind=item.categoryName></td><td ng-bind="item.registerTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td><td ng-bind=item.registerUser.firsName></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.basicInfo.length||researchQuery.basicInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div></div>'),t.put("app/site/caseQuery/queryResearch/tabs/specialDye.html",'<div class=pathology-report><div class=clearfix><div class=col-sm-2><ul class="nav nav-stacked"><li ng-class="{active:researchQuery.specialDyeIndex === $index}" class="btn btn-primary btn-sm nav-item" ng-click=researchQuery.specialDyeSelect(item.code,$index) ng-repeat="item in researchQuery.specialDyeList">{{item.name|translate}}</li></ul></div><div class=col-sm-10><!--基本信息--><div class="row sample"><div class="table-min mini"><table class="table-hover table-bordered"><thead><tr><th>{{\'蜡块号\'|translate}}</th><th>{{\'玻片号\'|translate}}</th><th>{{\'试剂/抗体名称\'|translate}}</th><th>{{\'事件名称\'|translate}}</th><th>{{\'操作人\'|translate}}</th><th>{{\'操作时间\'|translate}}</th><th>{{\'等待时间\'|translate}}</th><th>{{\'备注\'|translate}}</th></tr></thead><tbody><tr ng-repeat="item in researchQuery.specialDyeInfo track by $index"><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.marker></td><td ng-bind=item.operationDesc></td><td ng-bind=item.operator.firstName></td><td ng-bind="item.operationTime| date : \'yyyy-MM-dd HH:mm:ss\'"></td><td ng-bind=item.waitTime|formatTime></td><td ng-bind=item.note></td></tr><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!researchQuery.specialDyeInfo.length||researchQuery.specialDyeInfo.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div></div></div></div></div>'),t.put("app/site/archive/queryArchive/modal/slideHistory.html",'<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=slideHistory.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title text-left" id=modal-title>{{\'玻片借阅历史\'|translate}}</h4></div><div id=slideHistory><div class=modal-body><div>{{\'病理号\'|translate}}：{{slideHistory.slideData.serialNumber}} | {{\'蜡块号\'|translate}}：{{slideHistory.slideData.blockSubId}} | {{\'玻片号\'|translate}}：{{slideHistory.slideData.slideSubId}} | {{\'试剂/抗体\'|translate}}：{{slideHistory.slideData.ihcMarker}}</div><br><div class=clearfix style="min-height: 300px"><table class=table><thead><tr class=tr-center><th>{{\'借阅人\'|translate}}</th><th>{{\'单位\'|translate}}</th><th>{{\'联系方式\'|translate}}</th><th>{{\'借阅日期\'|translate}}</th><th>{{\'计划归还\'|translate}}</th><th>{{\'实际归还\'|translate}}</th><th>{{\'逾期天数\'|translate}}</th></tr></thead><tbody class=text-center><tr ng-repeat="item in slideHistory.slideList track by $index"><td ng-bind=item.borrowName></td><td ng-bind=item.unit></td><td ng-bind=item.borrowPhone></td><td ng-bind="item.createTime| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind="item.planBack| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind="item.realBack| date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.overdue></td></tr><tr ng-repeat="n in [].constructor(1) track by $index" ng-show="slideHistory.productionList.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><!--<tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!slideHistory.slideList.length||slideHistory.slideList.length<=$index">--><!--<td ng-repeat="n in [].constructor(6) track by $index"></td>--><!--</tr>--></tbody></table><!--<div class="table-footer">--><!--<div class="pull-left form-control-static pagination">共<span ng-bind="slideHistory.total"></span>条结果</div>--><!--<uib-pagination class="pull-right" boundary-links="true" items-per-page="slideHistory.length" max-size="10"--><!--total-items="slideHistory.total"--><!--ng-model="slideHistory.page"--><!--ng-change="slideHistory.getBlocks()"--><!--previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>--><!--</div>--></div></div><!--modal-body--></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=slideHistory.cancel()>{{\'关闭\'|translate}}</button></div>'),t.put("app/site/archive/returnArchive/returnSlide/returnSlide.html",'<div class=returnSlide ng-controller="ReturnSlideController as returnSlide"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><div class=form-control-static>{{"玻片号"|translate}}<span class=required>*</span>：</div><input class="form-control input-sm" ng-class="{\'input-long\':lang===\'en\'}" type=text ng-model=returnSlide.slideFilter.serialNumber placeholder="{{\'病理号-蜡块号-玻片号\'|translate}}"> <button ng-click=returnSlide.getSlideData() ng-disabled=!returnSlide.slideFilter.serialNumber class="btn btn-sm btn-info">{{"添加"|translate}}</button> <button class="btn btn-sm btn-primary pull-right" ng-click=returnSlide.confirm() ng-disabled=!returnSlide.productionList.length>{{"确认归还"|translate}}</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in returnSlide.tableHeaders" cursor-pointer>{{item.name|translate}}</th><!--<th>病理号|translate</th>\n        <th>蜡块号</th>\n        <th>玻片号</th>\n        <th>特染标记</th>\n        <th>病人姓名</th>\n        <th>晾片架编号</th>\n        <th>抽屉编号</th>\n        <th>借阅人</th>\n        <th>借阅日期</th>\n        <th>预计归还日期</th>\n        <th>逾期天数</th>\n        <th>删除</th>--></tr></thead><tbody><tr ng-repeat="item in returnSlide.productionList track by $index"><td ng-bind=item.serialNumber></td><td ng-bind=item.blockSubId></td><td ng-bind=item.slideSubId></td><td ng-bind=item.ihcMarker></td><td ng-bind=item.patientName></td><td ng-bind="item.archiveStatus == 0 ? item.archiveBox : \'\'"></td><td ng-bind="item.archiveStatus == 1 ? item.archiveBox : \'\'"></td><td ng-bind=item.borrowName></td><td ng-bind="item.createTime | date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind="item.planBack | date : \'yyyy-MM-dd HH:mm\'"></td><td ng-bind=item.overdue></td><td ng-click=returnSlide.productionList.splice($index,1)><a href><i class="glyphicon glyphicon-trash"></i></a></td></tr><tr ng-repeat="n in [].constructor(1) track by $index" ng-show="returnSlide.productionList.length<=$index||!returnSlide.productionList.length"><td ng-repeat="n in [].constructor(12) track by $index"></td></tr></tbody></table></div></div>'),t.put("app/site/diagnosis/modal/againMaterial/againMaterial.html",'<!--申请重补取弹窗--><div id=againMaterial><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=againMaterial.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'申请重补取\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class=col-sm-1></div><div class=col-sm-5>{{\'病理号\'|translate}}：<span ng-bind=againMaterial.serialNumber></span></div><div class=col-sm-5>{{\'病人姓名\'|translate}}：<span ng-bind=againMaterial.patientName></span></div><div class=col-sm-1></div></div><div class="form-group clearfix"><div class=col-sm-1></div><div class=col-sm-10><p class=form-control-static>{{\'重补取备注\'|translate}}：</p></div><div class=col-sm-1></div></div><div class="form-group clearfix"><div class=col-sm-1></div><div class=col-sm-10><textarea ng-model=againMaterial.note class=form-control rows=10></textarea></div><div class=col-sm-1></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=againMaterial.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=againMaterial.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/createDiagnosis/tab/diagnosisHistory.html",'<!--查看历史诊断--><div id="viewHistory clearfix"><!--<div class="clearfix">\n    <div class="form-group clearfix">--><!--诊断时间--><div class=col-sm-3 style=padding-left:0><div ng-repeat="item in createDiagnosis.diagnosisHistoryData track by $index"><button class="btn btn-block" style="margin-bottom: 5px" ng-class="{\'btn-warning\':createDiagnosis.activeHistoryTab===$index}" ng-click="createDiagnosis.activeHistoryTab=$index;">{{item.operationTime|date:\'yyyy-MM-dd\'}}</button></div></div><!--诊断内容--><div class="col-sm-9 no-padding"><div ng-show="createDiagnosis.activeHistoryTab===$index" ng-repeat="item in createDiagnosis.diagnosisHistoryData track by $index" class="form-control diagnosis-div" style=height:160px;overflow:auto><div class="col-xs-6 no-padding">{{\'诊断医生\'|translate}}：{{item.operator.firstName}}</div><div class="col-xs-6 no-padding">{{\'诊断类别\'|translate}}：{{item.operationDesc}}</div><div>{{\'诊断内容\'|translate}}：</div><div ng-bind-html=item.diagnoseResult></div></div></div><!--</div>\n  </div>--></div>'),t.put("app/site/diagnosis/modal/applySpecial/applySpecial.html",'<!--申请特染弹窗--><div id=applySpecial><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=applySpecial.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'申请特检\'|translate}}</h4></div><!--特染部分--><div class="modal-body clearfix" ng-hide=applySpecial.showMarkerPart><div class="form-group col-sm-12 space-between"><div class=item>{{\'病理号\'|translate}}：<span ng-bind=applySpecial.serialNumber></span></div><div class=item>{{\'蜡块号\'|translate}}：<select ng-model=applySpecial.selectedBlock ng-change=applySpecial.selectBlock() ng-options="block as block.subId for block in applySpecial.blockData"><!--<option value="" disabled></option>--></select></div><div class=item>{{\'特染类别\'|translate}}：<!--ng-options="item.code as item.name for item in applySpecial.specialDyeList"--><select style="max-width: 200px" ng-model=applySpecial.applyData.ihcBlocks[0].specialDye ng-change=applySpecial.specialDyeSelect(applySpecial.applyData.ihcBlocks[0].specialDye) ng-disabled=!applySpecial.selectedBlock><option ng-repeat="item in applySpecial.specialDyeList" ng-hide="item.code<1 || (item.code > 1 && !applySpecial.canApplySpecialDye) || (item.code == 1 && !applySpecial.canApplyIhc)" ng-value=item.code>{{item.name}}</option></select></div></div><div class="form-group clearfix"><div class=col-sm-12><p class=col-sm-5 style="padding-left: 0">{{\'试剂/抗体名称\'|translate}}：</p><!--<div class="col-sm-7" style="position: relative" ng-show="applySpecial.applyData.ihcBlocks[0].specialDye==1">\n          <input autocomplete="off" id="departments"  name="departments" ng-required="require" type = "text"  ng-model="model"  ng-readonly=true\n          ng-click = "hidden = !hidden " value="{{value}}" placeholder="请点击此处选择标记物"/>\n          </input>\n          <div class="" ng-show="hidden" style="position: absolute;z-index: 100">\n            <input autocomplete="off"  ng-blur="blurJudge()" auto-focus="{{!hidden}}" name="departments" ng-required="require" type = "text" ng-change="changeData()" ng-model="models"\n             value="{{values}}"/></input>\n            <select id="selectSearch" class="form-control"  ng-model="x" multiple="1" size="10">\n              <option   ng-value="data.code" ng-repeat="data in datas">{{data.name}}</option>\n                 </select>\n            </div>\n        </div>--></div><div class=col-sm-10><div class="marker-container form-control" ng-click="applySpecial.focusMarker = true" ng-init="applySpecial.markerList = []" style="height: 100px; width: 100%; overflow-y: auto"><div style="display: inline-block; max-width: 400px" class="marker-item text-ellipsis" ng-repeat="item in applySpecial.markerList track by $index">{{item}} <span ng-if="applySpecial.applyData.ihcBlocks[0].specialDye==1" class=delete ng-click="applySpecial.markerList.splice($index, 1)"><icon class=icon>x</icon></span></div><span><input ng-model=applySpecial.marker type=text style="border: none; outline: none" ng-if="applySpecial.applyData.ihcBlocks[0].specialDye == 1" ng-blur="applySpecial.focusMarker = false" auto-focus={{applySpecial.focusMarker}} ng-keydown=applySpecial.handleKeyDown($event)></span></div><!--<textarea ng-hide="applySpecial.applyData.ihcBlocks[0].specialDye == 1" ng-disabled="true || !(applySpecial.applyData.ihcBlocks[0].specialDye == 1||applySpecial.applyData.ihcBlocks[0].specialDye == -1)"--><!--ng-model="applySpecial.applyData.ihcBlocks[0].ihcMarker" class="form-control"--><!--placeholder="{{\'不同抗体用‘；’分隔\'|translate}}">--><!--</textarea>--></div><div class=col-sm-2><button class="form-control btn-lg" id=kangti ng-disabled="applySpecial.applyData.ihcBlocks[0].specialDye!=1" ng-click=applySpecial.showMarker()>{{\'抗体\'|translate}}</button></div></div><div class="form-group clearfix"><div class=col-sm-10><p>{{\'备注\'|translate}}：</p></div><div class=col-sm-12><input ng-model=applySpecial.applyData.ihcBlocks[0].note class=form-control></div></div><div class="form-group clearfix"><div class=col-sm-10><p>{{\'历史记录\'|translate}}：</p></div><div class=col-sm-12><div class=form-control style="height: auto; min-height: 34px"><div ng-repeat="item in applySpecial.specialHistoryResult track by $index"><div>申请日期：{{item.createTime | date:\'yyyy-MM-dd\'}}</div><p>特检结果：<span ng-bind-html=item.specialResult></span></p></div></div></div></div></div><!--选择抗体部分 点击抗体的下一步操作--><div class="modal-body clearfix" ng-show=applySpecial.showMarkerPart><div class="form-group clearfix"><div class=col-sm-6><select class="form-control input-sm" ng-model=applySpecial.department ng-options="item.code as item.name for item in applySpecial.departmentList" ng-change=applySpecial.selectDepartment(applySpecial.department)><option value="">送检科室</option></select></div><div class=col-sm-6><select class="form-control input-sm" ng-disabled=!applySpecial.department ng-model=applySpecial.illnessType ng-options="item.id as item.name for item in applySpecial.illnessTypeList" ng-change=applySpecial.selectIllnessType(applySpecial.illnessType)><option value="">疾病类别</option></select></div></div><!--标记物选择CheckBox--><div class="form-group clearfix"><div class=row><div class=col-sm-3 ng-repeat="item in applySpecial.illnessList track by $index"><label class=radio-inline><input type=checkbox ng-model=item.checked ng-click=applySpecial.checkIhcMarker(item) ng-checked=item.checked> {{item.name}}</label></div></div></div></div><div class=modal-footer><div ng-hide=applySpecial.showMarkerPart><button class="btn btn-warning" type=button ng-click=applySpecial.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" ng-disabled=!applySpecial.markerList.length type=button ng-click=applySpecial.apply()>{{\'确定\'|translate}}</button></div><div ng-show=applySpecial.showMarkerPart><button class="btn btn-warning" type=button ng-click="applySpecial.showMarkerPart = false">{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=applySpecial.next()>{{\'下一步\'|translate}}</button></div></div></div>'),t.put("app/site/diagnosis/modal/collect/collect.html",'<!--申请重补取弹窗--><div id=collectModal><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=collectModal.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'病例收藏\'|translate}}</h4></div><div class="modal-body clearfix"><form name=collect_from><div class="form-group clearfix"><div class="col-sm-10 col-sm-push-1"><p>{{\'收藏标签\'|translate}}：</p><div class=time-item><label class=checkbox-inline ng-repeat="item in collectModal.typeList" ng-click=collectModal.selectTag()><input type=checkbox name=collect ng-model=item.checked ng-checked=item.checked> {{item.name}}</label></div></div></div><div class="form-group clearfix"><div class="col-sm-10 col-sm-push-1"><p>{{\'查看权限\'|translate}}：</p><div class=time-item><label class=radio-inline ng-repeat="item in collectModal.statusList" ng-click=collectModal.settingPermission(item.code)><input type=radio id={{item.code}} value={{item.code}} ng-model=collectModal.permission ng-checked="collectModal.permission===item.code" required> {{item.name}}</label></div></div></div><div class="form-group clearfix"><div class="col-sm-10 col-sm-push-1"><p class=form-control-stastic>{{\'收藏备注\'|translate}}：</p></div><div class="col-sm-10 col-sm-push-1"><textarea ng-model=collectModal.note class=form-control rows=5></textarea></div></div></form></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=collectModal.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=collectModal.ok() ng-disabled=collect_from.$invalid>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/consultApply/consult.html",'<!--申请申请深切弹窗--><div id=diagnose><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=diagnose.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'提交外院会诊申请\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class=col-sm-12><p class=form-control-static>{{\'请求会诊目的和要求\'|translate}}：</p></div></div><div class="form-group clearfix"><div class=col-sm-12><textarea ng-model=diagnose.note class=form-control rows=10></textarea></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=diagnose.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-disabled=!diagnose.note ng-click=diagnose.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/diagnosisType/diagnosisType.html",'<div class=diagnosisType><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=diagnosisType.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'提交上级诊断\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class=col-sm-1></div><div class="col-sm-3 form-control-static">{{\'诊断医生\'|translate}}：</div><div class=col-sm-7><select class=form-control ng-model=diagnosisType.data.userId ng-options="item.id as item.firstName for item in diagnosisType.superDiagnosisUserList"><option value="">{{\'选择诊断医生\'|translate}}</option></select></div><div class=col-sm-1></div></div><div class="form-group clearfix"><div class=col-sm-1></div><div class="col-sm-3 form-control-static">{{\'备注\'|translate}}：</div><div class=col-sm-7><textarea ng-model=diagnosisType.data.note style=width:100% rows=5></textarea></div><div class=col-sm-1></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=diagnosisType.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=diagnosisType.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/cutPic/cutPic.html",'<!--图片裁剪弹窗--><div id=cutPic><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=cutPic.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'图片裁剪\'|translate}}</h4></div><div class="modal-body clearfix"><div id=cutHeadPic><div class=pop-content><div class=image-editor><div class=cropit-preview><div class=cropit-preview-image-container><img class=cropit-preview-image alt=""></div></div><div class=slider-wrapper><span class=rotate-cw-btn><i class="fa fa-rotate-right" aria-hidden=true></i> </span><span><input type=range class="cropit-image-zoom-input custom" min=0 max=1 step=0.01 value=0.6></span></div></div></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=cutPic.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=cutPic.ok()>{{\'确定\'|translate}}</button></div></div>'),
t.put("app/site/diagnosis/modal/editTemplate/editTemplate.html",'<!--申请申请深切弹窗--><div><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=EditDiagnosisTpl.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'诊断模板\'|translate}}</h4></div><div class="modal-body clearfix"><div class=template-conent><div class="project-name col-sm-5"><p class=title>{{\'项目名称\'|translate}}</p><div class="content list-container"><div class=name-list ng-repeat="item in EditDiagnosisTpl.templateContent track by $index" ng-class="{active:EditDiagnosisTpl.activeProject.index===$index}" ng-click=EditDiagnosisTpl.choseTemplate(item,$index)><input type=checkbox ng-model=item.projectNameCheck> <input type=text class="input-sm form-control" ng-model=item.projectName ng-disabled=!item.focus ng-blur=EditDiagnosisTpl.saveName(item) auto-focus={{item.focus}}><div class=pull-right><a href="" class=icon ng-click="item.focus=true"><i class="glyphicon glyphicon-edit"></i></a> <a href="" class=icon ng-click=EditDiagnosisTpl.deleteProjectName($index)><i class="glyphicon glyphicon-trash"></i></a></div></div><button class=add-btn ng-click=EditDiagnosisTpl.addProjectName()>+</button></div><div>{{\'选中复选框表示该项目必填\'|translate}}</div></div></div><div class="project-content col-sm-7"><div class=clearfix><p class="title pull-left">{{\'项目内容\'|translate}}</p><div class="slideThree pull-right"><input type=checkbox value=None id=slideThree name=check checked ng-model=EditDiagnosisTpl.projectContent.projectContentCheck><label for=slideThree></label></div></div><!--<code>{{EditDiagnosisTpl.templateContent}}</code>--><div class="content list-container"><div class=content-list ng-repeat="item in EditDiagnosisTpl.projectContent.projectContentVO  track by $index"><input type=text class=form-control ng-model=item.name ng-disabled=!item.check ng-blur=EditDiagnosisTpl.saveContent(item) auto-focus={{item.check}}><div class=pull-right><a href="" class=icon ng-click="item.check=true"><i class="glyphicon glyphicon-edit"></i></a> <a href="" class=icon ng-click=EditDiagnosisTpl.deleteProjectContent($index)><i class="glyphicon glyphicon-trash"></i></a></div></div><button class=add-btn ng-disabled=!EditDiagnosisTpl.templateContent||!EditDiagnosisTpl.templateContent.length ng-click=EditDiagnosisTpl.addProjectContent()>+</button></div></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=EditDiagnosisTpl.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=EditDiagnosisTpl.ok()>{{\'确定\'|translate}}</button></div>'),t.put("app/site/diagnosis/modal/heavySection/heavySection.html",'<!--申请申请深切弹窗--><div id=heavySection><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=heavySection.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'申请深切\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class=col-sm-4>{{\'病理号\'|translate}}：<span ng-bind=heavySection.serialNumber></span></div><div class=col-sm-4>{{\'蜡块号\'|translate}}：<select ng-model=heavySection.blockId ng-options="block.value as block.name for block in heavySection.blockData"><option value="">{{\'请选择\'|translate}}</option></select></div><div class=col-sm-4>{{\'病人姓名\'|translate}}：<span ng-bind=heavySection.patientName></span></div></div><div class="form-group clearfix"><div class=col-sm-12><p class=form-control-static>{{\'深切备注\'|translate}}：</p></div></div><div class="form-group clearfix"><div class=col-sm-12><textarea ng-model=heavySection.note class=form-control rows=10></textarea></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=heavySection.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=heavySection.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/drawPhoto/drawPhoto.html",'<!--插入显微图像弹窗--><div id=drawPhoto><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=drawPhoto.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'插入显微图像\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class="col-sm-12 canvas-container"><canvas id=canvas></canvas><div id=text-input class=text-input ng-model=drawPhoto.text contenteditable=true></div><div class=canvas-toolbar><div class="type flex-content"><i class="fa fa-minus tool" data=line></i> <i class="fa fa-square-o tool" data=rect></i> <i class="fa fa-circle-o tool" data=circle></i> <i class="fa fa-pencil tool" data=pen></i> <i class="fa fa-font tool" data=text></i> <i class="fa fa-trash clear shezhi" data=delete></i> <i class="fa fa-undo back shezhi" data=undo></i> <i class="fa fa-save save shezhi" data=save></i></div></div></div></div><div class="form-group clearfix"><div class=col-sm-12><div id=img-container class=clearfix><slider-container scroll-width=drawPhoto.containerWidth per-item-num=drawPhoto.perItemNum total-num=drawPhoto.imgList.length><div class=clearfix><img ng-repeat="item in drawPhoto.imgList track by $index" ng-style=drawPhoto.imgStyle ng-src={{drawPhoto.imgUrlHeader+item.url}} ng-click=drawPhoto.changeBg($index)></div></slider-container></div></div></div></div><div class=modal-footer><!--<button class="btn btn-warning" type="button" ng-click="drawPhoto.cancel()">取消</button>--> <button class="btn btn-default" type=button ng-click=drawPhoto.ok()>{{\'关闭\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/insertPhoto/insertPhoto.html",'<!--插入显微图像弹窗--><div id=insertPhoto><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=insertPhoto.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'插入显微图像\'|translate}}</h4></div><div class="modal-body clearfix"><div class="form-group clearfix"><div class="col-sm-6 text-left">{{\'选择图像\'|translate}}</div><div class="col-sm-6 text-right editorBtn" ng-click=insertPhoto.openDrawModal()>{{\'编辑图像\'|translate}}</div></div><div class="form-group clearfix"><div class=col-sm-12><div id=img-container class=clearfix><slider-container scroll-width=insertPhoto.containerWidth per-item-num=insertPhoto.perItemNum total-num=insertPhoto.imgList.length><div class=clearfix><div class=img-item ng-repeat="item in insertPhoto.imgList track by item.id" ng-click="item.checked = !item.checked"><span ng-show=item.checked class="active active-icon"><i class="glyphicon glyphicon-ok"></i></span> <img crossorigin=anonymous ng-style=insertPhoto.imgStyle ng-src={{insertPhoto.imgUrlHeader+item.url}}></div></div></slider-container></div></div></div><div class="form-group clearfix"><div class=col-sm-3><p class=form-control-static>{{\'图像描述\'|translate}}：</p></div><div class=col-sm-9><textarea class="form-control form-control-static" ng-model=insertPhoto.data.imageDesc rows=10></textarea></div></div><!--<div class="form-group clearfix">\n      <div class="col-sm-3"><p class="form-control-static">插入位置：</p></div>\n      <div class="col-sm-9">\n        <select class="form-control form-control-static" name="" ng-model="insertPhoto.data.position">\n          <option value="1">诊断内容前</option>\n          <option value="2">诊断内容后</option>\n        </select>\n      </div>\n    </div>--></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=insertPhoto.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=insertPhoto.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/reportResult/reportResult.html",'<!--查看报告弹窗--><div id=reportResult style="width: 900px"><div style="height: auto;min-height: 700px" class="modal-body clearfix"><style>.report-logo{\n          position: absolute;top: 5px;left: 5px;height: 70px;\n        }\n        .reportBigName{\n          margin: 1px 0;font-size: 18px;\n        }\n        .report-subheading{\n          margin: 2px 0;font-size: 18px;\n        }\n        .reportSmallName{\n          font-size: 16px; font-weight: 700;\n        }\n        .report-line{\n          border-bottom: 1px solid;\n          margin-bottom: 5px;\n        }\n        .report-line-2{\n          border-top: 1px solid;\n          padding-top: 4px;\n          margin-top: 4px;\n          margin-bottom:10px;\n        }\n        .report-margin-bottom{\n          margin-bottom: 5px;\n        }\n        .diagnose-content{\n          min-height:600px;\n        }</style><div class=report-template><fieldset id=logo-container><img class=report-logo alt=logo ng-src={{reportTemplate.reportTemplateVO.imageURL}}><div class="text-center reportBigName" ng-bind=reportTemplate.reportTemplateVO.reportBigName>{{\'大标题\'|translate}}</div><div class="text-center report-subheading" ng-bind=reportTemplate.reportTemplateVO.subheading>{{\'小标题\'|translate}}</div><p class="text-center reportSmallName" ng-bind=reportTemplate.reportTemplateVO.reportSmallName>{{\'病理检查报告单\'|translate}}</p></fieldset><div class="clearfix report-margin-bottom report-line"><!--病理号--><div class=pull-right>{{reportTemplate.reportTemplateVO.patientInformation[5].name|translate}}：{{reportResult.reportData.pathNo}}</div></div><div class="template-content clearfix"><!--姓名--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[0].check>{{reportTemplate.reportTemplateVO.patientInformation[0].name|translate}}： {{reportResult.reportData.patientName}}</div><!--年龄--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[1].check>{{reportTemplate.reportTemplateVO.patientInformation[1].name|translate}}： {{reportResult.reportData.age}}</div><!--性别--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[2].check>{{reportTemplate.reportTemplateVO.patientInformation[2].name|translate}}： {{reportResult.reportData.sex | sex}}</div><!--病人ID--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[3].check>{{reportTemplate.reportTemplateVO.patientInformation[3].name|translate}}： {{reportResult.reportData.patientNo}}</div><!--住院号--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[4].check>{{reportTemplate.reportTemplateVO.patientInformation[4].name|translate}}： {{reportResult.reportData.admissionNo}}</div><!--病理号 5 --><!--门诊号--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[6].check>{{reportTemplate.reportTemplateVO.patientInformation[6].name|translate}}： {{reportResult.reportData.patientNo}}</div><!--病区--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[7].check>{{reportTemplate.reportTemplateVO.patientInformation[7].name|translate}}：<!--{{reportResult.reportData.admissionNo}}--></div><!--床号--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[8].check>{{reportTemplate.reportTemplateVO.patientInformation[8].name|translate}}： {{reportResult.reportData.bedNo}}</div><!--送检医院--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[9].check>{{reportTemplate.reportTemplateVO.patientInformation[9].name|translate}}： {{reportResult.reportData.hospital | hospital}}</div><!--送检日期--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[10].check>{{reportTemplate.reportTemplateVO.patientInformation[10].name|translate}}： {{reportResult.reportData.receiveTime | date : \'yyyy-MM-dd HH:mm\'}}</div><!--送检科室--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[11].check>{{reportTemplate.reportTemplateVO.patientInformation[11].name|translate}}： {{reportResult.reportData.departments | department}}</div><!--送检医生--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[12].check>{{reportTemplate.reportTemplateVO.patientInformation[12].name|translate}}： {{reportResult.reportData.doctor}}</div><!--检查部位--><div class=info-item ng-if=reportTemplate.reportTemplateVO.patientInformation[13].check>{{reportTemplate.reportTemplateVO.patientInformation[13].name|translate}}： {{reportResult.reportData.inspectionItem}}</div></div><!--临床诊断--><div class=report-margin-bottom ng-if=reportTemplate.reportTemplateVO.patientInformation[14].check>{{reportTemplate.reportTemplateVO.patientInformation[14].name|translate}}： {{reportResult.reportData.clinicalDiagnosis}}</div><div class=report-line></div><!--诊断内容--><div class=diagnose-content><!--巨检所见：--><div ng-if=reportTemplate.reportTemplateVO.diagnosticContent[0].check><div class=content-name>{{reportTemplate.reportTemplateVO.diagnosticContent[0].name|translate}}:</div><div class=userSeeHtml ng-model=reportInfo.userSeeHtml contenteditable=false></div></div><!--镜下所见：--><div ng-if=reportTemplate.reportTemplateVO.diagnosticContent[1].check><div class=content-name>{{reportTemplate.reportTemplateVO.diagnosticContent[1].name|translate}}:</div><div class=micro-img><img ng-repeat="item in reportInfo.checkPhotos track by $index" ng-src={{item}} width=300px;margin-right:10px alt=""></div></div><!--病理诊断：--><div ng-if=reportTemplate.reportTemplateVO.diagnosticContent[2].check&&reportInfo.diagnosis><div class=content-name>{{reportTemplate.reportTemplateVO.diagnosticContent[2].name|translate}}:</div><div class=diagnosis ng-model=reportInfo.diagnosis.resultDom contenteditable=false></div></div><!--会诊内容：--><div ng-if="reportInfo.diagnosis.specialResult || reportInfo.diagnosis.outConsultResult"><div class=content-name>会诊意见:</div><!--会诊内容--><div class=diagnosis ng-model=reportInfo.diagnosis.specialResult contenteditable=false></div><!--外院会诊的内容--><div class=diagnosis ng-bind-html=reportInfo.diagnosis.outConsultResult></div></div></div><div id=report-footer><fieldset class="clearfix report-line-2"><!--诊断医师--><div class="col-sm-4 no-padding" ng-if=reportTemplate.reportTemplateVO.diagnosticInformation[0].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[0].name|translate}} ：{{user.firstName}}<!--：{{reportResult.reportData.diagnoseDoctor.firstName}}--></div><!--诊断时间--><div class="col-sm-4 no-padding" ng-if=reportTemplate.reportTemplateVO.diagnosticInformation[1].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[1].name|translate}} ：{{reportResult.reportData.diagnoseTime | date : \'yyyy-MM-dd HH:mm\'}}</div><!--审核医师--><div class="col-sm-4 no-padding" ng-if=reportTemplate.reportTemplateVO.diagnosticInformation[2].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[2].name|translate}} ：{{user.firstName}}</div><!--报告打印者--><div class="col-sm-4 no-padding" ng-if=reportTemplate.reportTemplateVO.diagnosticInformation[3].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[3].name|translate}} ：{{user.firstName}}</div><!--报告时间--><div class="col-sm-4 no-padding" ng-if=reportTemplate.reportTemplateVO.diagnosticInformation[4].check>{{reportTemplate.reportTemplateVO.diagnosticInformation[4].name|translate}} ：{{ reportResult.reportData.reportTime | date : \'yyyy-MM-dd HH:mm\'}}</div></fieldset><fieldset class=clearfix><pre class="hospital-info col-sm-7 no-padding">{{reportTemplate.reportTemplateVO.hospitalInformation}}</pre></fieldset><div class="text-right no-padding">{{reportTemplate.reportTemplateVO.specialTip}}</div></div></div></div><div class=modal-footer><!--<button class="btn btn-warning" type="button" ng-click="reportResult.demo()">{{\'demo\'|translate}}</button>--> <button class="btn btn-warning" type=button ng-click=reportResult.cancel()>{{\'取消\'|translate}}</button> <button style=width:100px class="btn btn-default" type=button ng-disabled=reportResult.disableBtn ng-click=reportResult.ok()>{{\'审核并派发\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/qualityGrade/qualityGrade.html",'<!--质控评分弹窗--><div id=qualityGrade><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=qualityGrade.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'质控评分\'|translate}}</h4></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===1"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'取材\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.grossing max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(2) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'脱水\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.dehydrate max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(3) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'包埋\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.embedding max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(4) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'切片\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.sectioning max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(5) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'染色\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.staining max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(6) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-2>{{\'封片\'|translate}}：</div><div class=col-sm-6><uib-rating ng-model=qualityGrade.scoreData.sealing max=qualityGrade.max read-only=qualityGrade.isReadonly on-hover=qualityGrade.hoveringOver(value) on-leave="qualityGrade.overStar = null" aria-labelledby=default-rating></uib-rating></div><div class=col-sm-2><a ng-click=qualityGrade.changeTabFlag(7) href>{{\'评分细则\'|translate}}</a></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><p class=form-control-static>{{\'制片评价\'|translate}}：</p></div><div class=col-sm-1></div></div><div class="row clearfix"><div class=col-sm-2></div><div class=col-sm-9><textarea ng-model=qualityGrade.scoreData.note class=form-control rows=5></textarea></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===2"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'取材标准\'|translate}}： {{qualityGrade.materialStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===3"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'脱水标准\'|translate}}： {{qualityGrade.grossingStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===4"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'包埋标准\'|translate}}： {{qualityGrade.embedStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===5"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'切片标准\'|translate}}： {{qualityGrade.sectionStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===6"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'染色标准\'|translate}}： {{qualityGrade.stainingStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class="modal-body clearfix" ng-show="qualityGrade.tabFlag===7"><div class="row clearfix"><div class=col-sm-1></div><div class=col-sm-10><div>{{\'封片标准\'|translate}}： {{qualityGrade.sealingStr}}</div><a ng-click=qualityGrade.changeTabFlag(1) href>{{\'返回\'|translate}}</a></div><div class=col-sm-1></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=qualityGrade.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=qualityGrade.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/templateInfo/templateInfo.html",'<!--诊断模板内容弹窗--><div id=templateInfo><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=templateInfo.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'诊断模板\'|translate}}</h4></div><div class="modal-body clearfix"><div class="project-div clearfix" ng-repeat="item in templateInfo.content track by $index" ng-init="outerIndex=$index"><div class="pull-left project-title">{{item.projectName}} <span class=required-sign ng-show=item.projectNameCheck>*</span> :</div><div class="pull-left project-content" ng-if=item.projectContentCheck><select ng-model=item.projectContentValue ng-options="p.name as p.name for p in item.projectContentVO" ng-disabled=item.other><option value="">{{\'请选择\'|translate}}</option></select></div><div class="pull-left project-other" ng-if=item.projectContentCheck><label>{{\'其他\'|translate}}：<input type=text ng-model=item.other ng-disabled=item.projectContentValue></label></div><div class=pull-left ng-class="{\'multi-project-content\':!item.projectContentCheck}" ng-if=!item.projectContentCheck><div class=checkbox><label class=check-item ng-repeat="cItem in item.projectContentVO"><input type=checkbox ng-model=cItem.check ng-disabled=item.other ng-click=templateInfo.checkString(cItem,item,outerIndex)> {{cItem.name}}</label></div><div><label>其他：<input type=text ng-model=item.other ng-disabled=item.projectContentValue></label></div></div></div></div><div class=modal-footer><button class="btn btn-warning" type=button ng-click=templateInfo.cancel()>{{\'取消\'|translate}}</button> <button class="btn btn-default" type=button ng-click=templateInfo.ok()>{{\'确定\'|translate}}</button></div></div>'),t.put("app/site/diagnosis/modal/viewHistory/viewHistory.html",'<!--\n&lt;!&ndash;查看历史诊断弹窗&ndash;&gt;\n<div id="viewHistory">\n  <div class="modal-header blue-label">\n    <button type="button" class="close" data-dismiss="modal" ng-click="viewHistory.cancel()">\n      <span aria-hidden="true" class="glyphicon glyphicon-remove"></span>\n      <span class="sr-only">Close</span>\n    </button>\n    <h4 class="modal-title ok-color">查看历史诊断</h4>\n  </div>\n  <div class="modal-body clearfix" >\n    <div class="form-group clearfix">\n      <div class="col-sm-3">\n        <div><button class="btn  btn-block" ng-class="{\'btn-default\':viewHistory.activeBtn===1,\'btn-pure\':viewHistory.activeBtn!==1}" ng-click="viewHistory.changeTab(1)">诊断记录</button></div>\n        <div><button class="btn  btn-block" ng-class="{\'btn-default\':viewHistory.activeBtn===2,\'btn-pure\':viewHistory.activeBtn!==2}"  ng-click="viewHistory.changeTab(2)">历史报告</button></div>\n      </div>\n      <div class="col-sm-9" ng-if="viewHistory.activeBtn===1">\n        <div class="form-control diagnosis-div" ng-bind-html="viewHistory.diagnosisData" style="height:300px;overflow:auto;">\n\n        </div>\n      </div>\n      <div class="col-sm-9" ng-if="viewHistory.activeBtn===2">\n        <div class="form-control history-div" ng-bind-html="viewHistory.historyData||\'暂无\'" style="height:300px;overflow:auto;">\n          222\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    &lt;!&ndash;<button class="btn btn-warning" type="button" ng-click="viewHistory.cancel()">取消</button>&ndash;&gt;\n    <button class="btn btn-default" type="button" ng-click="viewHistory.ok()">关闭</button>\n  </div>\n</div>\n-->'),t.put("app/site/statisticalReport/workStatistic/monthStatistic/monthStatistic.html",'<div id=monthStatistic ng-controller="MonthStatisticController as mStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=selectYear ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.station ng-options="station.value as station.name for station in mStatistic.stationList"></select><button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=mStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" ng-click=mStatistic.getSortList(item) cursor-pointer>{{item.name|translate}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.inspectCategoryName|translate></td><td ng-bind=item.january></td><td ng-bind=item.february></td><td ng-bind=item.march></td><td ng-bind=item.april></td><td ng-bind=item.may></td><td ng-bind=item.june></td><td ng-bind=item.july></td><td ng-bind=item.august></td><td ng-bind=item.september></td><td ng-bind=item.october></td><td ng-bind=item.november></td><td ng-bind=item.december></td><td ng-bind=item.total></td></tr><tr ng-repeat="n in [].constructor(12) track by $index" ng-show="mStatistic.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><!--<div class="table-footer">--><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="mStatistic.totalItems||0"></span>条结果--><!--</div>--><!--<uib-pagination class="pull-right" boundary-links="true" max-size="10"--><!--items-per-page="mStatistic.searchData.length"--><!--total-items="mStatistic.totalItems"--><!--ng-model="mStatistic.searchData.page"--><!--ng-change="mStatistic.getGrossingDataList()"--><!--previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">--><!--</uib-pagination>--><!--</div>--></div></div></div>'),t.put("app/site/statisticalReport/workStatistic/groupStatistic/groupStatistic.html",'<div id=groupStatistic ng-controller="GroupStatisticController as gStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=selectYear ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model="gStatistic.searchData.filter " ng-options="specialDye.value as specialDye.name for specialDye in gStatistic.specialDyeList"></select><button ng-click=gStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=gStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class=table-bordered><thead><tr><th ng-repeat="item in gStatistic.tableHeaders" ng-click=gStatistic.getSortList(item) cursor-pointer>{{item.name|translate}}</th></tr></thead><tbody ng-repeat="item in gStatistic.workData track by $index"><tr><td rowspan=2 ng-bind=item.inspectCategoryName|translate></td><td>{{\'例数\'|translate}}</td><td ng-bind=item.january.pathNum></td><td ng-bind=item.february.pathNum></td><td ng-bind=item.march.pathNum></td><td ng-bind=item.april.pathNum></td><td ng-bind=item.may.pathNum></td><td ng-bind=item.june.pathNum></td><td ng-bind=item.july.pathNum></td><td ng-bind=item.august.pathNum></td><td ng-bind=item.september.pathNum></td><td ng-bind=item.october.pathNum></td><td ng-bind=item.november.pathNum></td><td ng-bind=item.december.pathNum></td><td ng-bind=item.pathologyTotal></td></tr><tr><td>{{\'片数\'|translate}}</td><td ng-bind=item.january.blockNum></td><td ng-bind=item.february.blockNum></td><td ng-bind=item.march.blockNum></td><td ng-bind=item.april.blockNum></td><td ng-bind=item.may.blockNum></td><td ng-bind=item.june.blockNum></td><td ng-bind=item.july.blockNum></td><td ng-bind=item.august.blockNum></td><td ng-bind=item.september.blockNum></td><td ng-bind=item.october.blockNum></td><td ng-bind=item.november.blockNum></td><td ng-bind=item.december.blockNum></td><td ng-bind=item.blockTotal></td></tr><!--<tr ng-repeat="n in [].constructor(12) track by $index" ng-show="gStatistic.workData.length<=$index">--><!--<td></td><td></td><td></td><td></td><td></td><td></td><td></td>--><!--<td></td><td></td><td></td><td></td><td></td><td></td><td></td>--><!--</tr>--></tbody></table><!--<div class="table-footer">--><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="gStatistic.totalItems||0"></span>条结果--><!--</div>--><!--<uib-pagination class="pull-right" boundary-links="true" max-size="10"--><!--items-per-page="gStatistic.searchData.length"--><!--total-items="gStatistic.totalItems"--><!--ng-model="gStatistic.searchData.page"--><!--ng-change="gStatistic.getGrossingDataList()"--><!--previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">--><!--</uib-pagination>--><!--</div>--></div></div></div>'),t.put("app/site/statisticalReport/workStatistic/peopleStatistic/peopleStatistic.html",'<div id=peopleStatistic ng-controller="PeopleStatisticController as pStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><!--<select class="form-control input-sm clam-select" ng-model="pStatistic.searchData.createTimeStart"--><!--ng-options="date.date as date.name for date in pStatistic.dateList" >--><!--</select>--><select class="form-control input-sm clam-select" ng-model=selectYear ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=selectMonth ng-options="month as month+\'月\' for month in monthArr"></select><select class="form-control input-sm clam-select" ng-model=pStatistic.searchData.station ng-options="station.value as station.name for station in pStatistic.stationList"><option value="">{{\'工位选择\'|translate}}</option></select><button ng-click=pStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=pStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in pStatistic.tableHeaders" ng-click=pStatistic.getSortList(item) class="{{item.class}} cursor-pointer">{{item.typeDesc|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in pStatistic.workData track by $index"><td ng-bind=item.userName></td><td ng-bind=item.firstName></td><td ng-bind=item.station></td><td ng-repeat="item in item.items track by $index" ng-bind=item.num></td><td ng-bind=item.total2></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="pStatistic.workData.length<=$index"><td ng-repeat="n in [].constructor(pStatistic.tableHeaders.length) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=pStatistic.totalItems||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=pStatistic.searchData.length total-items=pStatistic.totalItems ng-model=pStatistic.searchData.page ng-change=pStatistic.getWorkDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),
t.put("app/site/statisticalReport/freezeStatistic/appointment/appointment.html",'<div id=freezeStatistic ng-controller="FreezeAppointmentController as appointment"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><!--<select class="form-control input-sm clam-select" ng-model="appointment.searchData.createTimeStart"--><!--ng-options="date.date as date.name for date in appointment.dateList" >--><!--</select>--><select class="form-control input-sm clam-select" ng-model=appointment.searchData.year ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=appointment.searchData.month ng-options="month as month+\'月\' for month in monthArr"></select><select class="form-control input-sm clam-select" ng-model=appointment.searchData.instrumentId ng-options="item.code as item.name for item in appointment.instrumentList"></select><button ng-click=appointment.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=appointment.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th>{{\'日期\'|translate}}</th><th width=100 colspan=2 ng-repeat="item in appointment.tableHeaders">{{::item}}</th></tr></thead><tbody><tr ng-repeat="item in appointment.workData track by $index"><td ng-bind="item.date | date:\'yyyy-MM-dd\'"></td><td ng-repeat="book in item.bookingDto" ng-class={booked:book.booked}><div ng-if=book.booked style="height: 100%" tooltip-class=freeze-tip uib-tooltip-html="\'<p>{{\'预约人\'|translate}}：{{book.bookingPerson.bookingName}}</p><p>{{\'联系电话\'|translate}}：{{book.bookingPerson.phone}}</p>\'"></div></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="appointment.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><!--<div class="table-footer">\n      <div class="pull-left form-control-static pagination">\n      共<span ng-bind="appointment.total||0"></span>条结果\n      </div>\n      <uib-pagination class="pull-right" boundary-links="true" max-size="10"\n      items-per-page="appointment.searchData.length"\n      total-items="appointment.total"\n      ng-model="appointment.searchData.page"\n      ng-change="appointment.getWorkDataList()"\n      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">\n      </uib-pagination>\n      </div>--></div></div></div>'),t.put("app/site/statisticalReport/freezeStatistic/dye/dye.html",'<div id=freezeStatistic ng-controller="DyeUseHistoryController as microcope"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><year-selector year=microcope.searchData.year></year-selector><month-selector month=microcope.searchData.month></month-selector><select class="form-control input-sm clam-select" ng-model=microcope.searchData.status ng-options="item.code as item.name for item in microcope.status"></select><button ng-click=microcope.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=microcope.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in microcope.tableHeaders">{{::item}}</th></tr></thead><tbody><tr ng-repeat="item in microcope.workData track by $index"><td>{{item.instrumentName}}</td><td>{{item.operatorName}}</td><td>{{item.operatorTime | date:\'yyyy-MM-dd HH:mm\'}}</td><td>{{item.statusDesc}}</td><td>{{item.description}}</td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="microcope.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="microcope.total||0"></span>条结果--><!--</div>--><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=microcope.searchData.length total-items=microcope.total ng-model=microcope.searchData.page ng-change=microcope.getWorkDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/statisticalReport/workStatistic/projectStatistic/projectStatistic.html",'<div id=projectStatistic ng-controller="ProjectStatisticController as prStatistic"><div class=form-inline><div class="input-group pull-right"><input style="width: 275px;border: none;outline: none" class=form-control type=text ng-model=mStatistic.searchData.filter ng-keyup=mStatistic.getQueryData($event) placeholder=输入病理号、姓名快速搜索 auto-focus=true> <span class=input-group-btn><button class="btn btn-default" type=button ng-click=mStatistic.getWorkDataList(1)><span class="glyphicon glyphicon-search"></span></button></span></div></div><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.createTimeStart ng-options="date.date as date.name for date in mStatistic.dateList"></select><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.station ng-options="station.value as station.name for station in mStatistic.stationList"><option value="">工位</option></select><button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;筛选&nbsp;</button> <button class="btn btn-sm btn-second pull-right">&nbsp;打印&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" ng-click=mStatistic.getSortList(item) cursor-pointer>{{::item.name}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.userName></td><td ng-bind=item.firstName></td><td ng-bind=item.station></td><td ng-bind=item.normalCount></td><td ng-bind=item.iceCount></td><td ng-bind=item.count></td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="mStatistic.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><!--<div class="table-footer">--><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="mStatistic.totalItems||0"></span>条结果--><!--</div>--><!--<uib-pagination class="pull-right" boundary-links="true" max-size="10"--><!--items-per-page="mStatistic.searchData.length"--><!--total-items="mStatistic.totalItems"--><!--ng-model="mStatistic.searchData.page"--><!--ng-change="mStatistic.getGrossingDataList()"--><!--previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">--><!--</uib-pagination>--><!--</div>--></div></div></div>'),t.put("app/site/statisticalReport/freezeStatistic/sealing/sealing.html",'<div id=freezeStatistic ng-controller="SealingUseHistoryController as microcope"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><year-selector year=microcope.searchData.year></year-selector><month-selector month=microcope.searchData.month></month-selector><select class="form-control input-sm clam-select" ng-model=microcope.searchData.status ng-options="item.code as item.name for item in microcope.status"></select><button ng-click=microcope.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=microcope.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in microcope.tableHeaders">{{::item|translate}}</th></tr></thead><tbody><tr ng-repeat="item in microcope.workData track by $index"><td>{{item.instrumentName}}</td><td>{{item.operatorName}}</td><td>{{item.operatorTime | date:\'yyyy-MM-dd HH:mm\'}}</td><td>{{item.statusDesc}}</td><td>{{item.description}}</td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="microcope.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="microcope.total||0"></span>条结果--><!--</div>--><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=microcope.searchData.length total-items=microcope.total ng-model=microcope.searchData.page ng-change=microcope.getWorkDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/statisticalReport/freezeStatistic/microscope/microscope.html",'<div id=freezeStatistic ng-controller="microscopeUseHistoryController as microcope"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><!--<select class="form-control input-sm clam-select" ng-model="microcope.searchData.createTimeStart"--><!--ng-options="date.date as date.name for date in microcope.dateList" >--><!--</select>--><select class="form-control input-sm clam-select" ng-model=microcope.searchData.year ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=microcope.searchData.month ng-options="month as month+\'月\' for month in monthArr"></select><select class="form-control input-sm clam-select" ng-model=microcope.searchData.instrumentId ng-options="item.code as item.name for item in microcope.instrumentList"></select><button ng-click=microcope.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=microcope.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in microcope.tableHeaders">{{::item}}</th></tr></thead><tbody><tr ng-repeat="item in microcope.workData track by $index"><td>{{item.firstName}}</td><td>{{item.wno}}</td><td>{{item.phone}}</td><td>{{item.departments | department}}</td><td>{{item.startTime | date:\'yyyy-MM-dd HH:mm\'}}</td><td>{{item.endTime | date:\'yyyy-MM-dd HH:mm\'}}</td></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="microcope.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><!--<div class="pull-left form-control-static pagination">--><!--共<span ng-bind="microcope.total||0"></span>条结果--><!--</div>--><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=microcope.searchData.length total-items=microcope.total ng-model=microcope.searchData.page ng-change=microcope.getWorkDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/excellentRate/excellentRate.html",'<div id=monthStatistic ng-controller="ExcellentStatisticController as mStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.year ng-options="year as year for year in yearArr"></select><!--<select class="form-control input-sm clam-select" ng-model="mStatistic.searchData.specialDye"--><!--ng-options="specialDye.value as specialDye.name for specialDye in mStatistic.specialDyeList">--><!--</select>--> <button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=mStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered" id=excellent-table><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" cursor-pointer>{{item.name}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.pathologyMonth></td><td ng-bind=item.slideTotal></td><td ng-bind=item.blockTotal></td><td ng-bind=item.reGrossingTotal></td><td ng-if=item.blockTotal>{{100*item.reGrossingTotal/item.blockTotal | number:2}}%</td><td ng-if=!item.blockTotal>0.00%</td><td ng-bind=item.reSectionTotal></td><td ng-if=item.blockTotal>{{100*item.reSectionTotal/item.blockTotal | number:2}}%</td><td ng-if=!item.blockTotal>0.00%</td><td ng-bind=item.goodScoreTotal></td><td ng-if=item.blockTotal>{{100*item.goodScoreTotal/item.slideTotal | number:2}}%</td><td ng-if=!item.blockTotal>0.00%</td></tr><tr ng-repeat="n in [].constructor(12) track by $index" ng-show="mStatistic.workData.length<=$index"><!--需要计算出列数动态的生成 td--><td ng-repeat="n in [].constructor(mStatistic.tableHeaders.length) track by $index"></td></tr></tbody></table></div></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/coincidence/coincidence.html",'<div id=monthStatistic ng-controller="CoincidenceStatisticController as mStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.year ng-options="year as year for year in yearArr"></select><!--<select class="form-control input-sm clam-select" ng-model="mStatistic.searchData.specialDye"--><!--ng-options="specialDye.value as specialDye.name for specialDye in mStatistic.specialDyeList">--><!--</select>--> <button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=mStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table id=coincidence-table class="table-hover table-bordered" id=report-table><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" ng-click=mStatistic.getSortList(item) cursor-pointer>{{item.name}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.pathologyMonth></td><td ng-bind=item.pathologyTotal></td><td ng-bind=item.coincidenceTotal></td><td><span ng-if=item.pathologyTotal>{{100*(item.coincidenceTotal)/item.pathologyTotal | number:2}}%</span></td></tr><tr ng-repeat="n in [].constructor(5) track by $index" ng-show="mStatistic.workData.length<=$index"><!--需要计算出列数动态的生成 td--><td ng-repeat="n in [].constructor(mStatistic.tableHeaders.length) track by $index"></td></tr></tbody></table></div></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/peopleStatistic/peopleStatistic.html",'<div id=peopleStatistic ng-controller="ScorePeopleStatisticController as pStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><!--<select class="form-control input-sm clam-select" ng-model="pStatistic.searchData.createTimeStart"--><!--ng-options="date.date as date.name for date in pStatistic.dateList" >--><!--</select>--><select class="form-control input-sm clam-select" ng-model=pStatistic.searchData.year ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=pStatistic.searchData.month ng-options="month as month+\'月\' for month in monthArr"></select><select class="form-control input-sm clam-select" ng-model=pStatistic.searchData.station ng-options="station.value as station.name for station in pStatistic.stationList"><option value="">{{\'工位选择\'|translate}}</option></select><select class="form-control input-sm clam-select" ng-model=pStatistic.searchData.specialDye ng-options="specialDye.value as specialDye.name for specialDye in pStatistic.specialDyeList"></select><button ng-click=pStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=pStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in pStatistic.tableHeaders" ng-click=pStatistic.getSortList(item) class="{{item.class}} cursor-pointer">{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in pStatistic.workData track by $index"><td ng-bind=item.userName></td><td ng-bind=item.firstName></td><td ng-bind=item.operationName></td><td ng-bind=item.blockTotal></td><td ng-bind=item.scoreTotal></td><td ng-bind=item.reGrossingTotal></td><td ng-show=item.reGrossingTotal>{{100*item.reGrossingTotal/item.blockTotal | number:2}}%</td><td ng-hide=item.reGrossingTotal&&item.blockTotal>0.00%</td><td ng-bind=item.reSectionTotal></td><td ng-show=item.reSectionTotal>{{100*item.reSectionTotal/item.blockTotal | number:2}}%</td><td ng-hide=item.reSectionTotal&&item.blockTotal>0.00%</td><td ng-bind=item.lowScoreTotal></td><td ng-show=item.blockTotal>{{100*item.lowScoreTotal/item.scoreTotal | number:2}}%</td><td ng-hide=item.blockTotal>0.00%</td><td ng-show=item.scoreTotal>{{item.score/item.scoreTotal | number:2}}</td><td ng-hide=item.scoreTotal>0</td><!--<td ng-bind="item.socre/item.scoreTotal"></td>--></tr><tr ng-repeat="n in [].constructor(20) track by $index" ng-show="pStatistic.workData.length<=$index"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=pStatistic.total||0></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true max-size=10 items-per-page=pStatistic.searchData.length total-items=pStatistic.total ng-model=pStatistic.searchData.page ng-change=pStatistic.getWorkDataList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/monthStatistic/monthStatistic.html",'<div id=monthStatistic ng-controller="ScoreMonthStatisticController as mStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.year ng-options="year as year for year in yearArr"></select><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.specialDye ng-options="specialDye.value as specialDye.name for specialDye in mStatistic.specialDyeList"></select><button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=mStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered"><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" ng-click=mStatistic.getSortList(item) cursor-pointer>{{item.name}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.pathologyMonth></td><td ng-bind=item.blockTotal></td><td ng-bind=item.reGrossingTotal></td><td ng-show=item.blockTotal>{{100*item.reGrossingTotal/item.blockTotal | number:2}}%</td><td ng-hide=item.blockTotal>0.00%</td><td ng-bind=item.reSectionTotal></td><td ng-show=item.blockTotal>{{100*item.reSectionTotal/item.blockTotal | number:2}}%</td><td ng-hide=item.blockTotal>0.00%</td><td ng-bind=item.lowScoreTotal></td><td ng-show=item.blockTotal>{{100*item.lowScoreTotal/item.blockTotal | number:2}}%</td><td ng-hide=item.blockTotal>0.00%</td></tr><tr ng-repeat="n in [].constructor(12) track by $index" ng-show="mStatistic.workData.length<=$index"><!--需要计算出列数动态的生成 td--><td ng-repeat="n in [].constructor(mStatistic.tableHeaders.length) track by $index"></td></tr></tbody></table></div></div></div>'),t.put("app/site/statisticalReport/gradeStatistic/reportIntime/reportIntime.html",'<div id=monthStatistic ng-controller="ReportStatisticController as mStatistic"><div class="container clearfix"><!--筛选条件--><div class="table-header form-control-static form-inline clearfix"><select class="form-control input-sm clam-select" ng-model=mStatistic.searchData.year ng-options="year as year for year in yearArr"></select><!--<select class="form-control input-sm clam-select" ng-model="mStatistic.searchData.specialDye"--><!--ng-options="specialDye.value as specialDye.name for specialDye in mStatistic.specialDyeList">--><!--</select>--> <button ng-click=mStatistic.getWorkDataList() class="btn btn-sm btn-default">&nbsp;{{\'筛选\'|translate}}&nbsp;</button> <button ng-click=mStatistic.export() class="btn btn-sm btn-second pull-right">&nbsp;{{\'导出\'|translate}}&nbsp;</button></div><!--筛选结果--><div class=table-min><table class="table-hover table-bordered" id=report-table><thead><tr><th ng-repeat="item in mStatistic.tableHeaders" ng-click=mStatistic.getSortList(item) cursor-pointer>{{item.name}}</th></tr></thead><tbody><tr ng-repeat="item in mStatistic.workData track by $index"><td ng-bind=item.pathologyMonth></td><td ng-bind=item.pathologyTotal></td><td ng-bind="item.pathologyTotal - item.delayTotal"></td><td ng-bind=item.delayTotal></td><td><span ng-if=item.pathologyTotal>{{100*(item.pathologyTotal - item.delayTotal)/item.pathologyTotal | number:2}}%</span></td></tr><tr ng-repeat="n in [].constructor(5) track by $index" ng-show="mStatistic.workData.length<=$index"><!--需要计算出列数动态的生成 td--><td ng-repeat="n in [].constructor(mStatistic.tableHeaders.length) track by $index"></td></tr></tbody></table></div></div></div>'),t.put("app/site/userManage/systemSetting/departmentsSetting/index.html",'<div class=diagnosisTemplate ng-controller="DepartmentsTemplateController as DepartmentsTpl"><div class="container no-padding"><div class=template-container><div class=col-sm-3><div class=title><h4>{{\'科室类别\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in DepartmentsTpl.departmentTypeList track by $index" ng-class="{active:DepartmentsTpl.activeType.index===$index}" ng-click=DepartmentsTpl.choseType(item,$index)><input type=text ng-model=item.departmentCategory auto-focus={{item.focus}} ng-blur=DepartmentsTpl.saveType(item) ng-disabled=!item.focus><div class="pull-right i-container"><i class=glyphicon ng-show="DepartmentsTpl.activeType.index===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button ng-click=DepartmentsTpl.addType()><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button ng-click="DepartmentsTpl.departmentTypeList[DepartmentsTpl.activeType.index].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button> <button ng-click=DepartmentsTpl.deleteType()><icon class=icon><img height=14 src=assets/images/delete.png alt=""></icon>{{\'删除\'|translate}}</button></div></div></div></div><div class=col-sm-3><div class=title><h4>{{\'科室名称\'|translate}}</h4></div><div class=content><div class=list-container><ul class=list-unstyled><li ng-repeat="item in DepartmentsTpl.departments track by $index" ng-class="{active:DepartmentsTpl.activeDepartment.index===$index}" ng-click=DepartmentsTpl.choseDdepartment(item,$index)><!--<span ng-show="!item.focus">{{item.name}}</span>--><!--{{DepartmentsTpl.activeTemplate}}=={{$index}}--> <input ng-model=item.name id=template_{{$index}} auto-focus={{item.focus}} ng-disabled=!item.focus ng-blur="item.focus=false;DepartmentsTpl.saveDdepartment(item,$index)"><div class="pull-right i-container"><i ng-show="DepartmentsTpl.activeDepartment.index===$index"><img src=assets/images/icon-caret-right.png alt=""></i></div></li></ul></div><div class=list-toolbar><div class=flex-box><button ng-click=DepartmentsTpl.addDdepartment()><icon class=icon>+</icon>{{\'添加\'|translate}}</button> <button ng-click="DepartmentsTpl.departments[DepartmentsTpl.activeDepartment.index].focus=true"><icon class=icon><img height=14 src=assets/images/edit.png alt=""></icon>{{\'重命名\'|translate}}</button><!--<button ng-click="DepartmentsTpl.deleteTemplate()">删除</button>--></div></div></div></div></div></div></div>'),t.put("app/site/userManage/systemSetting/inspectCategory/index.html",'<div id=embedSetting ng-controller="InspectCategoryController as sampleSetting"><!--检查类别--><div class="container clearfix"><div class="remark-add form-horizontal form-inline"><div class=header-group>{{\'检查类别\'|translate}}： <input type=text class=form-control ng-model=sampleSetting.inspectCategory.typeDesc> <span ng-show=sampleSetting.showLetter>{{\'字母标识\'|translate}}：<select class=form-control ng-model=sampleSetting.inspectCategory.letter><option value="">{{\'请选择\'|translate}}</option><option ng-repeat="item in sampleSetting.letterList track by $index" ng-value=item>{{item}}</option></select></span><button class="btn btn-default" style="width: 78px" ng-disabled=!sampleSetting.inspectCategory.typeDesc ng-click=sampleSetting.addInspectCategory()>{{\'添加\'|translate}}</button></div></div><div class="remark-list row clearfix"><div class=col-sm-6 ng-repeat="item in sampleSetting.inspectCategoryList"><div class=remark-item><button type=button class=close ng-click=sampleSetting.deleteInspectCategory(item.code)><i class="fa fa-times-circle" aria-hidden=true></i> <span class=sr-only>Close</span></button><div>{{item.typeDesc}}&nbsp;{{item.letter}}</div></div></div></div></div></div>'),t.put("app/site/userManage/systemSetting/sampleCategory/index.html",'<div id=embedSetting ng-controller="SampleCategoryController as sampleType"><!--检查类别--><div class="container clearfix"><div class="remark-add form-horizontal form-inline"><div class=header-group>{{\'样本类别\'|translate}}： <input type=text class=form-control ng-model=sampleType.sampleCategory> <button class="btn btn-default" style="width: 78px" ng-disabled=!sampleType.sampleCategory ng-click=sampleType.addSampleCategory()>{{\'添加\'|translate}}</button></div></div><div class="remark-list row clearfix"><div class=col-sm-6 ng-repeat="item in sampleType.sampleCategoryList"><div class=remark-item><button type=button class=close ng-click=sampleType.deleteSampleCategory(item.code)><i class="fa fa-times-circle" aria-hidden=true></i> <span class=sr-only>Close</span></button><div>{{item.name}}</div></div></div></div></div></div>'),t.put("app/site/userManage/systemSetting/generalSetting/index.html",'<div ng-controller="GeneralTemplateController as GeneralTpl"><span style="margin-right: 20px">{{\'免疫组化试剂每次使用量\'|translate}}:</span> <input type=text ng-model=GeneralTpl.model ng-blur=GeneralTpl.changeData() style=width:40px> ml</div>'),t.put("app/site/userManage/systemSetting/stationSetting/station.html",'<div class=station-setting ng-controller="StationSettingController as Station"><h4>追踪工作站</h4><br><div><p>常规染色：</p><!--<p><code>{{Station.trackingList}}</code></p>--><div class=time-item><label class=radio-inline ng-repeat="item in Station.trackingList" ng-click=Station.putTimeRange(item.code)><input type=checkbox id={{item.code}} value={{item.code}} ng-model=item.checked ng-checked=item.checked ng-click=Station.change(item.code)> {{item.name}}</label></div></div><div><p>冰冻切片：</p><div class=time-item><label class=radio-inline ng-repeat="item in Station.freezeTrackingList" ng-click=Station.changeFreeze()><input type=checkbox value={{item.code}} ng-model=item.checked ng-checked=item.checked> {{item.name}}</label></div></div><br><h4>取材工作站</h4><br><div class="row form-inline clearfix"><div class="col-sm-3 col-md-2 form-control-static">{{\'是否打印冰冻号\'|translate}}：</div><div class=col-sm-8><div class=count-type-container><select class="form-control input-sm" ng-change=Station.changeFrozenPrint(Station.printFrozen) ng-model=Station.printFrozen><option value=0>{{\'不打印\'|translate}}</option><option value=1>{{\'打印\'|translate}}</option></select></div></div></div><div class="row form-inline clearfix"><div class="col-sm-3 col-md-2 form-control-static">{{\'是否使用冰冻取材工作站\'|translate}}：</div><div class=col-sm-8><div class=count-type-container><select class="form-control input-sm" ng-change=Station.changeUsingFrozen(Station.usingFrozen) ng-model=Station.usingFrozen><option value=0>{{\'不使用\'|translate}}</option><option value=1>{{\'使用\'|translate}}</option></select></div></div></div><div class="row form-inline clearfix"><div class="col-sm-3 col-md-2 form-control-static">{{\'是否打印免疫组化编号\'|translate}}：</div><div class=col-sm-8><div class=count-type-container><select class="form-control input-sm" ng-change=Station.changeIhcPrint(Station.printSpecialNumber) ng-model=Station.printSpecialNumber><option value=0>{{\'不打印\'|translate}}</option><option value=1>{{\'打印\'|translate}}</option></select></div></div></div></div>'),t.put("app/site/userManage/systemSetting/timeSetting/index.html","<div class=timeTemplate ng-controller=\"TimeTemplateController as TimeTpl\"><div><h4>{{'默认信息查询时间范围'|translate}}</h4><div class=time-item><label class=radio-inline ng-repeat=\"item in TimeTpl.timeRangeList\" ng-click=TimeTpl.putTimeRange(item.code)><input type=radio id={{item.code}} value={{item.code}} ng-model=TimeTpl.checkedTime ng-checked=\"TimeTpl.checkedTime===item.code\"> {{item.name}}</label></div></div><h4>{{'超过等待时间系统报警'|translate}}</h4><div class=alarm-item ng-repeat=\"item in TimeTpl.operatioinList\"><div class=alarm-label>{{item.label|translate}}</div><input ng-init=item.init(item.url) type=text ng-model=item.model ng-blur=item.put(item.url,item.model)> {{'小时'|translate}}</div><h4>{{'正常报告时间'|translate}}</h4><div class=alarm-item ng-repeat=\"item in TimeTpl.reportOperatioinList\"><div class=alarm-label>{{item.label|translate}}</div><input ng-init=item.init(item.url) type=text ng-model=item.model ng-blur=item.put(item.url,item.model)> {{'天'|translate}}</div></div>"),t.put("app/site/userManage/userManage/permissionModule/permissionModule.html",'<div id=permissionModule class=container ng-controller="permissionModuleController as permissionModule"><div class="table-header form-control-static form-inline clearfix"><div class=pull-left><button class="btn btn-default" ng-click=permissionModule.openPermissionModal()>+ {{\'新建角色\'|translate}}</button></div></div><div class=table><table class="table table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in permissionModule.tableHeaders" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-click=permissionModule.getSortList(item) ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in permissionModule.permissionModuleList"><td>{{::item.name}}</td><td>{{::item.description}}</td><td style="width: 600px"><div><span style="padding-right: 5px" ng-repeat="subItem in item.permissions">{{::subItem.name}}</span></div></td><td style="width: 100px">{{::item.createTime | date : \'yyyy-MM-dd\'}}</td><td class="text-center cursor-pointer" style="width: 124px"><a class=table-edit ng-hide="item.id==1" ng-click=permissionModule.openPermissionModal(item)><i class="glyphicon glyphicon-edit"></i>{{\'编辑\'|translate}} </a><a class=table-edit ng-hide="item.id==1" ng-click=permissionModule.remove(item.id)><i class="glyphicon glyphicon-trash"></i>{{\'删除\'|translate}}</a><div ng-if="item.id==1">{{\'不可修改\'|translate}}</div></td></tr><tr ng-show="!permissionModule.permissionModuleList||permissionModule.permissionModuleList.length===0"><td colspan=5 class=text-center>{{\'暂无数据\'|translate}}</td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-bind=permissionModule.totalItems></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=permissionModule.searchData.length max-size=9 total-items=permissionModule.totalItems ng-model=permissionModule.searchData.page ng-change=permissionModule.getUserList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),
t.put("app/site/userManage/userManage/userModule/userModule.html",'<div id=userModule ng-controller="userModuleController as userModule"><!--搜索部分--><div class="search clearfix table-header"><div class=pull-left><button class="btn btn-default" ng-click=userModule.addUser()>+ {{\'新建用户\'|translate}}</button></div><search-input class="pull-right search-input-sm" model=userModule.searchStr get-data=userModule.search() placeholder="{{\'输入用户名/姓名查询\'|translate}}"></search-input></div><div class=container><div class="row table-header form-control-static form-inline clearfix"><div class=pull-left><select class="form-control input-sm select-10" ng-model=userModule.searchData.roleId ng-options="role.id as role.name for role in userModule.rolesList"><option value="">{{\'选择角色\'|translate}}</option></select><select class="form-control input-sm" ng-model=userModule.searchData.permissionId ng-options="permissions.id as permissions.name for permissions in userModule.authList"><option value="">{{\'选择权限\'|translate}}</option></select><select class="form-control input-sm" ng-model=userModule.searchData.status ng-options="statu.value as statu.name for statu in userModule.status"><option value="">{{\'选择状态\'|translate}}</option></select><button ng-click=userModule.query() class="btn btn-sm btn-default"><span class="glyphicon glyphicon-filter"></span>{{\'筛选\'|translate}}</button></div></div></div><div class="table table-min"><table class="table table-hover table-bordered"><thead class=primary-table-head><tr><th ng-repeat="item in userModule.tableHeaders" ng-click=userModule.getSortList(item) class="{{item.class}} cursor-pointer" ng-style=item.style>{{item.name|translate}} <i class="cursor-pointer glyphicon glyphicon-chevron-down arrow" ng-hide=!item.order ng-class="{\'rotate-180\':item.sort===\'asc\',\'rotate-0\':item.sort===\'desc\'||!item.sort}"></th></tr></thead><tbody><tr ng-repeat="item in userModule.usersList track by $index"><td ng-bind=item.userName></td><td ng-bind=item.firstName></td><td ng-bind=item.phone></td><td ng-bind=item.email>{{::item.email}}</td><!--<td ng-bind="item.roleName"></td>--><td><a href tooltip-class=customClass tooltip-placement=bottom uib-tooltip="用户权限：{{userModule.filterAuth(item.permissions).join(\'，\')}}" style=color:#69bcd0>{{item.roleName}}</a></td><td ng-bind="item.createTime | date : \'yyyy-MM-dd\' "></td><td ng-bind=item.statusName></td><td class="text-center cursor-pointer"><a class=table-edit ng-click=userModule.editUser(item) style=color:#69bcd0><i class="glyphicon glyphicon-edit"></i></a></td></tr><!--<tr><td class="text-center" colspan="8" ng-show="!userModule.usersList.length">{{\'暂无数据\'|translate}}</td></tr>--><tr ng-repeat="n in [].constructor(10) track by $index" ng-show="!userModule.usersList.length||userModule.usersList.length<=$index"><td ng-repeat="n in [].constructor(8) track by $index"></td></tr></tbody></table><div class=table-footer><div class="pull-left form-control-static pagination">{{\'共\'|translate}}<span ng-hide=!userModule.usersList.length ng-bind=userModule.total></span>{{\'条结果\'|translate}}</div><uib-pagination class=pull-right boundary-links=true items-per-page=userModule.searchData.length max-size=9 total-items=userModule.total ng-model=userModule.searchData.page ng-change=userModule.getUserList() previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></uib-pagination></div></div></div>'),t.put("app/site/diagnosis/modal/reportResult/modal/coincidenceRate.html",'<!--申请申请深切弹窗--><div id=CoincidenceMod><div class="modal-header blue-label"><button type=button class=close data-dismiss=modal ng-click=CoincidenceMod.cancel()><span aria-hidden=true class="glyphicon glyphicon-remove"></span> <span class=sr-only>Close</span></button><h4 class="modal-title ok-color">{{\'诊断结果符合度\'|translate}}</h4></div><div class="modal-body clearfix" style="max-height: none"><div class="form-group clearfix"><div class=row><div class=col-sm-6><h3>当前诊断结果：</h3><div ng-bind-html=CoincidenceMod.diagnoseResult class=form-control style="min-height: 300px"></div></div><div class=col-sm-6><h3>冰冻诊断结果：</h3><div ng-bind-html=CoincidenceMod.frozenResult class=form-control style="min-height: 300px"></div></div></div></div><div class="form-group clearfix"><h3>{{\'结果符合度：\'|translate}}</h3><div><label class=radio-inline ng-click="CoincidenceMod.rate = 1"><input type=radio ng-model=CoincidenceMod.rate ng-checked="CoincidenceMod.rate===1">符合</label><label class=radio-inline ng-click="CoincidenceMod.rate = 2"><input type=radio ng-model=CoincidenceMod.rate ng-checked="CoincidenceMod.rate===2">不完全符合</label><label class=radio-inline ng-click="CoincidenceMod.rate = 3"><input type=radio ng-model=CoincidenceMod.rate ng-checked="CoincidenceMod.rate===3">不符合</label></div></div></div><div class=modal-footer><!--<button class="btn btn-warning" type="button" ng-click="CoincidenceMod.cancel()">{{\'取消\'|translate}}</button>--> <button class="btn btn-default" type=button ng-click=CoincidenceMod.ok()>{{\'确定\'|translate}}</button></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-5eb4c75097.js.map
